/*! For license information please see main.ef9d4bd3.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),a=n(7498),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),a=n(4052),s=n(2761);e.exports=function(e){return"string"==typeof e||!a(e)&&s(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+a+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[s,i,o].join("|")+")"+c+l+")*"),u="(?:"+[s+r+"?",r,i,o,n].join("|")+")",m=RegExp(a+"(?="+a+")|"+u+d,"g");e.exports=function(e){return e.match(m)||[]}},755:(e,t,n)=>{var r=n(8895),a=n(7116);e.exports=function e(t,n,s,i,o){var l=-1,c=t.length;for(s||(s=a),o||(o=[]);++l<c;){var d=t[l];n>0&&s(d)?n>1?e(d,n-1,s,i,o):r(o,d):i||(o[o.length]=d)}return o}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),a=n(6686),s=n(9841),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),a=n(6571),s=n(9194),i=n(6686);e.exports=function(e,t,n){if(!i(n))return!1;var o=typeof t;return!!("number"==o?a(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),a=n(4416);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),a=n(7574),s=n(6832),i=s&&s.isTypedArray,o=i?a(i):r;e.exports=o},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),a=n(6686);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),a=n(4664),s=n(9096);e.exports=function(e,t){var n={};return t=s(t,3),a(e,function(e,a,s){r(n,a,t(e,a,s))}),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2154:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}},2322:(e,t,n)=>{var r=n(6913),a=n(5990),s=n(2761),i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},2520:(e,t,n)=>{var r=n(5816),a=n(9096),s=n(9140),i=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:s(n);return l<0&&(l=i(o+l,0)),r(e,a(t,3),l)}},2536:(e,t,n)=>{var r=n(149),a=n(2969),s=n(9096),i=n(8883),o=n(320),l=n(7574),c=n(5893),d=n(3279),u=n(4052);e.exports=function(e,t,n){t=t.length?r(t,function(e){return u(e)?function(t){return a(t,1===e.length?e[0]:e)}:e}):[d];var m=-1;t=r(t,l(s));var p=i(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++m,value:e}});return o(p,function(e,t){return c(e,t,n)})}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),a=n(9841),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||(i.test(e)||!s.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function f(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var F,R=Object.assign;function L(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function z(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function Se(e){if(e=va(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=ja(t),we(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ce(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Oe(e,t){return e(t)}function Ae(){}var Pe=!1;function Ee(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Oe(e,t,n)}finally{Pe=!1,(null!==Ne||null!==ke)&&(Ae(),Ce())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=ja(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Me=!1}function De(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Fe=!1,Re=null,Le=!1,Be=null,Ue={onError:function(e){Fe=!0,Re=e}};function ze(e,t,n,r,a,s,i,o,l){Fe=!1,Re=null,De.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(qe(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ye=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Je=a.unstable_requestPaint,Qe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=ut(o):0!==(s&=i)&&(r=ut(s))}else 0!==(i=n&~a)?r=ut(i):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,St,_t=!1,Ct=[],Ot=null,At=null,Pt=null,Et=new Map,Tt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Et.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Ft(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Rt(e){var t=ya(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Ot&&Lt(Ot)&&(Ot=null),null!==At&&Lt(At)&&(At=null),null!==Pt&&Lt(Pt)&&(Pt=null),Et.forEach(Bt),Tt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&zt(Ot,e),null!==At&&zt(At,e),null!==Pt&&zt(Pt,e),Et.forEach(t),Tt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Mt.shift()}var Wt=b.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=1,Kt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Gt(e,t,n,r){var a=vt,s=Wt.transition;Wt.transition=null;try{vt=4,Kt(e,t,n,r)}finally{vt=a,Wt.transition=s}}function Kt(e,t,n,r){if(Vt){var a=Xt(e,t,n,r);if(null===a)Vr(e,t,r,Yt,n),Dt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ot=Ft(Ot,e,t,n,r,a),!0;case"dragenter":return At=Ft(At,e,t,n,r,a),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Et.set(s,Ft(Et.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Tt.set(s,Ft(Tt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&jt(s),null===(s=Xt(e,t,n,r))&&Vr(e,t,r,Yt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Yt=null;function Xt(e,t,n,r){if(Yt=null,null!==(e=ya(e=je(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=R({},cn,{view:0,detail:0}),mn=an(un),pn=R({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=an(pn),fn=an(R({},pn,{dataTransfer:0})),xn=an(R({},un,{relatedTarget:0})),gn=an(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(yn),bn=an(R({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return kn}var _n=R({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),On=an(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(R({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=an(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),En=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(En),Mn=[9,13,27,32],In=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Dn,Rn=d&&(!In||Dn&&8<Dn&&11>=Dn),Ln=String.fromCharCode(32),Bn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){_e(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Yn(e){Lr(e,0)}function Xn(e){if(K(ba(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Zn;if(d){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Xn(Kn)){var t=[];Hn(t,Kn,e,je(e)),Ee(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Kn)}function sr(e,t){if("click"===e)return Xn(t)}function ir(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(n,s);var i=dr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,xr=null,gr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==xr||xr!==Y(r)||("selectionStart"in(r=xr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Nr={},kr={};function Sr(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var _r=Sr("animationend"),Cr=Sr("animationiteration"),Or=Sr("animationstart"),Ar=Sr("transitionend"),Pr=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Er.length;Mr++){var Ir=Er[Mr];Tr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Tr(_r,"onAnimationEnd"),Tr(Cr,"onAnimationIteration"),Tr(Or,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(ze.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var d=Re;Fe=!1,Re=null,Le||(Le=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Rr(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Rr(a,o,c),s=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Br(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[zr]){e[zr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Fr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Jt(t)){case 1:var a=Ht;break;case 4:a=Gt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ya(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Ee(function(){var r=s,a=je(n),i=[];e:{var o=Pr.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=xn;break;case"focusout":c="blur",l=xn;break;case"beforeblur":case"afterblur":l=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case _r:case Cr:case Or:l=gn;break;case Ar:l=Pn;break;case"scroll":l=mn;break;case"wheel":l=Tn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==o?o+"Capture":null:o;d=[];for(var p,h=r;null!==h;){var f=(p=h).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==m&&(null!=(f=Te(h,m))&&d.push(Hr(h,f,p)))),u)break;h=h.return}0<d.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[ha])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(u=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=hn,f="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=On,f="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==l?o:ba(l),p=null==c?o:ba(c),(o=new d(f,h+"leave",l,n,a)).target=u,o.relatedTarget=p,f=null,ya(a)===r&&((d=new d(m,h+"enter",c,n,a)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(m=c,h=0,p=d=l;p;p=Kr(p))h++;for(p=0,f=m;f;f=Kr(f))p++;for(;0<h-p;)d=Kr(d),h--;for(;0<p-h;)m=Kr(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Kr(d),m=Kr(m)}d=null}else d=null;null!==l&&Yr(i,o,l,d,!1),null!==c&&null!==u&&Yr(i,u,c,d,!0)}if("select"===(l=(o=r?ba(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Jn;else if(Vn(o))if(Qn)x=ir;else{x=ar;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=sr);switch(x&&(x=x(e,r))?Hn(i,x,n,a):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?ba(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(xr=g,gr=r,yr=null);break;case"focusout":yr=gr=xr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(i,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(i,n,a)}var y;if(In)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else qn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Rn&&"ko"!==n.locale&&(qn||"onCompositionStart"!==v?"onCompositionEnd"===v&&qn&&(y=en()):(Zt="value"in(Qt=a)?Qt.value:Qt.textContent,qn=!0)),0<(g=Gr(r,v)).length&&(v=new bn(v,e,null,n,a),i.push({event:v,listeners:g}),y?v.data=y:null!==(y=zn(n))&&(v.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!In&&Un(e,t)?(e=en(),$t=Zt=Qt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}Lr(i,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Te(e,n))&&r.unshift(Hr(e,s,a)),null!=(s=Te(e,t))&&r.push(Hr(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Te(n,s))&&i.unshift(Hr(n,l,o)):a||null!=(l=Te(n,s))&&i.push(Hr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Xr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function $r(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);qt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+ua,pa="__reactProps$"+ua,ha="__reactContainer$"+ua,fa="__reactEvents$"+ua,xa="__reactListeners$"+ua,ga="__reactHandles$"+ua;function ya(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ma])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[ma]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ja(e){return e[pa]||null}var wa=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=wa[Na],wa[Na]=null,Na--)}function _a(e,t){Na++,wa[Na]=e.current,e.current=t}var Ca={},Oa=ka(Ca),Aa=ka(!1),Pa=Ca;function Ea(e,t){var n=e.type.contextTypes;if(!n)return Ca;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ta(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ma(){Sa(Aa),Sa(Oa)}function Ia(e,t,n){if(Oa.current!==Ca)throw Error(s(168));_a(Oa,t),_a(Aa,n)}function Da(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return R({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ca,Pa=Oa.current,_a(Oa,e),_a(Aa,Aa.current),!0}function Ra(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Da(e,t,Pa),r.__reactInternalMemoizedMergedChildContext=e,Sa(Aa),Sa(Oa),_a(Oa,e)):Sa(Aa),_a(Aa,n)}var La=null,Ba=!1,Ua=!1;function za(e){null===La?La=[e]:La.push(e)}function qa(){if(!Ua&&null!==La){Ua=!0;var e=0,t=vt;try{var n=La;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Ba=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),Ke($e,qa),a}finally{vt=t,Ua=!1}}return null}var Wa=[],Va=0,Ha=null,Ga=0,Ka=[],Ya=0,Xa=null,Ja=1,Qa="";function Za(e,t){Wa[Va++]=Ga,Wa[Va++]=Ha,Ha=e,Ga=t}function $a(e,t,n){Ka[Ya++]=Ja,Ka[Ya++]=Qa,Ka[Ya++]=Xa,Xa=e;var r=Ja;e=Qa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ja=1<<32-it(t)+a|n<<a|r,Qa=s+e}else Ja=1<<s|n<<a|r,Qa=e}function es(e){null!==e.return&&(Za(e,1),$a(e,1,0))}function ts(e){for(;e===Ha;)Ha=Wa[--Va],Wa[Va]=null,Ga=Wa[--Va],Wa[Va]=null;for(;e===Xa;)Xa=Ka[--Ya],Ka[Ya]=null,Qa=Ka[--Ya],Ka[Ya]=null,Ja=Ka[--Ya],Ka[Ya]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Ec(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:Ja,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ec(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=rs;e;)e=ca(e.nextSibling)}function ps(){rs=ns=null,as=!1}function hs(e){null===ss?ss=[e]:ss.push(e)}var fs=b.ReactCurrentBatchConfig;function xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&ys(s)===t.type)?((r=a(t,n.props)).ref=xs(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=xs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=xs(e,null,t),n.return=e,n;case w:return(t=Lc(t,e.mode,n)).return=e,t;case T:return m(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?d(e,t,n,r):null;case T:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:u(e,t,n,r,null);gs(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return u(t,e=e.get(n)||null,r,a,null);gs(t,r)}return null}function f(a,s,o,l){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=p(a,u,o[f],l);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===o.length)return n(a,u),as&&Za(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=m(a,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return as&&Za(a,f),c}for(u=r(a,u);f<o.length;f++)null!==(x=h(u,a,f,o[f],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=i(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),as&&Za(a,f),c}function x(a,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var u=d=null,f=o,x=o=0,g=null,y=l.next();null!==f&&!y.done;x++,y=l.next()){f.index>x?(g=f,f=null):g=f.sibling;var v=p(a,f,y.value,c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(a,f),o=i(v,o,x),null===u?d=v:u.sibling=v,u=v,f=g}if(y.done)return n(a,f),as&&Za(a,x),d;if(null===f){for(;!y.done;x++,y=l.next())null!==(y=m(a,y.value,c))&&(o=i(y,o,x),null===u?d=y:u.sibling=y,u=y);return as&&Za(a,x),d}for(f=r(a,f);!y.done;x++,y=l.next())null!==(y=h(f,a,x,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?x:y.key),o=i(y,o,x),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(a,e)}),as&&Za(a,x),d}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){n(r,d.sibling),(s=a(d,i.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&ys(c)===d.type){n(r,d.sibling),(s=a(d,i.props)).ref=xs(r,d,i),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===N?((s=Dc(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Ic(i.type,i.key,i.props,null,r.mode,l)).ref=xs(r,s,i),l.return=r,r=l)}return o(r);case w:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Lc(i,r.mode,l)).return=r,r=s}return o(r);case T:return e(r,s,(d=i._init)(i._payload),l)}if(te(i))return f(r,s,i,l);if(D(i))return x(r,s,i,l);gs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Rc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=vs(!0),js=vs(!1),ws=ka(null),Ns=null,ks=null,Ss=null;function _s(){Ss=ks=Ns=null}function Cs(e){var t=ws.current;Sa(ws),e._currentValue=t}function Os(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Es=null;function Ts(e){null===Es?Es=[e]:Es.push(e)}function Ms(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ts(t)):(n.next=a.next,a.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Fs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Is(e,n)}return null===(a=r.interleaved)?(t.next=t,Ts(r)):(t.next=a.next,a.next=t),r.interleaved=t,Is(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function qs(e,t,n,r){var a=e.updateQueue;Ds=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var u=a.baseState;for(i=0,d=c=l=null,o=s;;){var m=o.lane,p=o.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var h=e,f=o;switch(m=t,p=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=f.payload)?h.call(p,u,m):h)||void 0===m)break e;u=R({},u,m);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[o]:m.push(o))}else p={eventTime:p,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,i|=m;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(m=o).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Fl|=i,e.lanes=i,e.memoizedState=u}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Vs={},Hs=ka(Vs),Gs=ka(Vs),Ks=ka(Vs);function Ys(e){if(e===Vs)throw Error(s(174));return e}function Xs(e,t){switch(_a(Ks,t),_a(Gs,e),_a(Hs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Hs),_a(Hs,t)}function Js(){Sa(Hs),Sa(Gs),Sa(Ks)}function Qs(e){Ys(Ks.current);var t=Ys(Hs.current),n=le(t,e.type);t!==n&&(_a(Gs,e),_a(Hs,n))}function Zs(e){Gs.current===e&&(Sa(Hs),Sa(Gs))}var $s=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=b.ReactCurrentDispatcher,ai=b.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,mi=0;function pi(){throw Error(s(321))}function hi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function fi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Zi:$i,e=n(r,a),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(di)}if(ri.current=Qi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function xi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function yi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=yi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,o=r):c=c.next=m,ii.lanes|=u,Fl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Fl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=yi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wi(){}function Ni(e,t){var n=ii,r=yi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,vo=!0),r=r.queue,Di(_i.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Pi(9,Si.bind(null,n,r,a,t),void 0,null),null===Al)throw Error(s(349));0!==(30&si)||ki(n,t,a)}return a}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,Ci(t)&&Oi(e)}function _i(e,t,n){return n(function(){Ci(t)&&Oi(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Oi(e){var t=Is(e,1);null!==t&&nc(t,e,1,-1)}function Ai(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ei(){return yi().memoizedState}function Ti(e,t,n,r){var a=gi();ii.flags|=e,a.memoizedState=Pi(1|t,n,void 0,void 0===r?null:r)}function Mi(e,t,n,r){var a=yi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&hi(r,i.deps))return void(a.memoizedState=Pi(t,n,s,r))}ii.flags|=e,a.memoizedState=Pi(1|t,n,s,r)}function Ii(e,t){return Ti(8390656,8,e,t)}function Di(e,t){return Mi(2048,8,e,t)}function Fi(e,t){return Mi(4,2,e,t)}function Ri(e,t){return Mi(4,4,e,t)}function Li(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4,4,Li.bind(null,t,e),n)}function Ui(){}function zi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=n):(or(n,t)||(n=ft(),ii.lanes|=n,Fl|=n,e.baseState=!0),t)}function Vi(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{vt=n,ai.transition=r}}function Hi(){return yi().memoizedState}function Gi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e))Xi(t,n);else if(null!==(n=Ms(e,t,n,r))){nc(n,e,r,ec()),Ji(n,t,r)}}function Ki(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))Xi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ts(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ms(e,t,a,r))&&(nc(n,e,r,a=ec()),Ji(n,t,r))}}function Yi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Xi(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qi={readContext:Ps,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Zi={readContext:Ps,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4194308,4,Li.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Ai,useDebugValue:Ui,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Ai(!1),t=e[0];return e=Vi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=gi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&si)||ki(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ii(_i.bind(null,r,i,e),[e]),r.flags|=2048,Pi(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Al.identifierPrefix;if(as){var n=Qa;t=":"+t+"R"+(n=(Ja&~(1<<32-it(Ja)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$i={readContext:Ps,useCallback:zi,useContext:Ps,useEffect:Di,useImperativeHandle:Bi,useInsertionEffect:Fi,useLayoutEffect:Ri,useMemo:qi,useReducer:bi,useRef:Ei,useState:function(){return bi(vi)},useDebugValue:Ui,useDeferredValue:function(e){return Wi(yi(),oi.memoizedState,e)},useTransition:function(){return[bi(vi)[0],yi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Ps,useCallback:zi,useContext:Ps,useEffect:Di,useImperativeHandle:Bi,useInsertionEffect:Fi,useLayoutEffect:Ri,useMemo:qi,useReducer:ji,useRef:Ei,useState:function(){return ji(vi)},useDebugValue:Ui,useDeferredValue:function(e){var t=yi();return null===oi?t.memoizedState=e:Wi(t,oi.memoizedState,e)},useTransition:function(){return[ji(vi)[0],yi().memoizedState]},useMutableSource:wi,useSyncExternalStore:Ni,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ls(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=Ls(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=Ls(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Bs(e,a,r))&&(nc(t,e,r,n),Us(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=Ca,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(a=Ta(t)?Pa:Oa.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ea(e,a):Ca),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Fs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ps(s):(s=Ta(t)?Pa:Oa.current,a.context=Ea(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),qs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ls(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Hl=r),uo(0,t)},n}function ho(e,t,n){(n=Ls(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mo;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function xo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ls(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yo=b.ReactCurrentOwner,vo=!1;function bo(e,t,n,r){t.child=null===e?js(t,null,n,r):bs(t,e.child,n,r)}function jo(e,t,n,r,a){n=n.render;var s=t.ref;return As(t,a),r=fi(e,t,n,r,s,a),n=xi(),null===e||vo?(as&&n&&es(t),t.flags|=1,bo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function wo(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Tc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,No(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vo(e,t,a)}return t.flags|=1,(e=Mc(s,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Vo(e,t,a);0!==(131072&e.flags)&&(vo=!0)}}return _o(e,t,n,r,a)}function ko(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Ml,Tl),Tl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Ml,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_a(Ml,Tl),Tl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_a(Ml,Tl),Tl|=r;return bo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _o(e,t,n,r,a){var s=Ta(n)?Pa:Oa.current;return s=Ea(t,s),As(t,a),n=fi(e,t,n,r,s,a),r=xi(),null===e||vo?(as&&r&&es(t),t.flags|=1,bo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vo(e,t,a))}function Co(e,t,n,r,a){if(Ta(n)){var s=!0;Fa(t)}else s=!1;if(As(t,a),null===t.stateNode)Wo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=Ea(t,c=Ta(n)?Pa:Oa.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Ds=!1;var m=t.memoizedState;i.state=m,qs(t,r,i,a),l=t.memoizedState,o!==r||m!==l||Aa.current||Ds?("function"===typeof d&&(no(t,n,d,r),l=t.memoizedState),(o=Ds||ao(t,n,o,r,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Rs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=Ea(t,l=Ta(n)?Pa:Oa.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||m!==l)&&io(t,i,r,l),Ds=!1,m=t.memoizedState,i.state=m,qs(t,r,i,a);var h=t.memoizedState;o!==u||m!==h||Aa.current||Ds?("function"===typeof p&&(no(t,n,p,r),h=t.memoizedState),(c=Ds||ao(t,n,c,r,m,h,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Oo(e,t,n,r,s,a)}function Oo(e,t,n,r,a,s){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ra(t,n,!1),Vo(e,t,s);r=t.stateNode,yo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,a&&Ra(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Xs(e,t.containerInfo)}function Po(e,t,n,r,a){return ps(),hs(a),t.flags|=256,bo(e,t,n,r),t.child}var Eo,To,Mo,Io,Do={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ro(e,t,n){var r,a=t.pendingProps,i=$s.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_a($s,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,a,0,null),e=Dc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Do,e):Lo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Fc({mode:"visible",children:r.children},a,0,null),(i=Dc(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Do,i);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Bo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Al)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Is(e,a),nc(r,e,a,-1))}return fc(),Bo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[Ya++]=Ja,Ka[Ya++]=Qa,Ka[Ya++]=Xa,Ja=e.id,Qa=e.overflow,Xa=t),t=Lo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Mc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Mc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,a}return e=(o=e.child).sibling,a=Mc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Lo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,r){return null!==r&&hs(r),bs(t,e.child,null,n),(e=Lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Os(e.return,t,n)}function zo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function qo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=$s.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a($s,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Ta(t.type)&&Ma(),Go(t),null;case 3:return r=t.stateNode,Js(),Sa(Aa),Sa(Oa),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),To(e,t),Go(t),null;case 5:Zs(t);var a=Ys(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=Ys(Hs.current),us(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ma]=t,r[pa]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Dr.length;a++)Br(Dr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":J(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var l in ye(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),$(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=$r)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ma]=t,e[pa]=r,Eo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Dr.length;a++)Br(Dr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":J(e,r),a=X(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=R({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in ye(n,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Br("scroll",e):null!=d&&v(e,i,d,l))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ys(Ks.current),Ys(Hs.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Go(t),null;case 13:if(Sa($s),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,i=!1;else if(i=us(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ma]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Il&&(Il=3):fc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Js(),To(e,t),null===e&&qr(t.stateNode.containerInfo),Go(t),null;case 10:return Cs(t.type._context),Go(t),null;case 19:if(Sa($s),null===(i=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Ho(i,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Ho(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a($s,1&$s.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>ql&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Go(t),null}else 2*Qe()-i.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ho(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=$s.current,_a($s,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Ta(t.type)&&Ma(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Sa(Aa),Sa(Oa),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Sa($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa($s),null;case 4:return Js(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Eo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},To=function(){},Mo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ys(Hs.current);var s,i=null;switch(n){case"input":a=X(e,a),r=X(e,r),i=[];break;case"select":a=R({},a,{value:void 0}),r=R({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(d in ye(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xo=!1,Jo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[pa],delete t[fa],delete t[xa],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function ml(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Jo||$o(n,t);case 6:var r=dl,a=ul;dl=null,ml(e,t,n),ul=a,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),qt(e)):la(dl,n.stateNode));break;case 4:r=dl,a=ul,dl=n.stateNode.containerInfo,ul=!0,ml(e,t,n),dl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&el(n,t,i),a=a.next}while(a!==r)}ml(e,t,n);break;case 1:if(!Jo&&($o(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}ml(e,t,n);break;case 21:ml(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,ml(e,t,n),Jo=r):ml(e,t,n);break;default:ml(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(i,o,a),dl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xl(t,e),t=t.sibling}function xl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(x){kc(e,e.return,x)}try{nl(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:fl(t,e),gl(e),512&r&&null!==n&&$o(n,n.return);break;case 5:if(fl(t,e),gl(e),512&r&&null!==n&&$o(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(x){kc(e,e.return,x)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(a,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];"style"===u?xe(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):v(a,u,m,d)}switch(l){case"input":Z(a,i);break;case"textarea":se(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(x){kc(e,e.return,x)}}break;case 6:if(fl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){kc(e,e.return,x)}}break;case 3:if(fl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:fl(t,e),gl(e);break;case 13:fl(t,e),gl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(zl=Qe())),4&r&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||u,fl(t,e),Jo=d):fl(t,e),gl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(m=Zo=u;null!==Zo;){switch(h=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$o(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){r=p,n=p.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){kc(r,n,x)}}break;case 5:$o(p,p.return);break;case 22:if(null!==p.memoizedState){jl(m);continue}}null!==h?(h.return=p,Zo=h):jl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,o=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fl(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zo=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var a=Zo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Xo;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Xo;var c=Jo;if(Xo=i,(Jo=l)&&!c)for(Zo=a;null!==Zo;)l=(i=Zo).child,22===i.tag&&null!==i.memoizedState?wl(a):null!==l?(l.return=i,Zo=l):wl(a);for(;null!==s;)Zo=s,vl(s,t,n),s=s.sibling;Zo=a,Xo=o,Jo=c}bl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Zo=s):bl(e)}}function bl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ws(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&qt(m)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&al(t)}catch(p){kc(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function jl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){kc(t,a,l)}}var s=t.return;try{al(t)}catch(l){kc(t,s,l)}break;case 5:var i=t.return;try{al(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Nl,kl=Math.ceil,Sl=b.ReactCurrentDispatcher,_l=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Ol=0,Al=null,Pl=null,El=0,Tl=0,Ml=ka(0),Il=0,Dl=null,Fl=0,Rl=0,Ll=0,Bl=null,Ul=null,zl=0,ql=1/0,Wl=null,Vl=!1,Hl=null,Gl=null,Kl=!1,Yl=null,Xl=0,Jl=0,Ql=null,Zl=-1,$l=0;function ec(){return 0!==(6&Ol)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==El?El&-El:null!==fs.transition?(0===$l&&($l=ft()),$l):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Ql=null,Error(s(185));gt(e,n,r),0!==(2&Ol)&&e===Al||(e===Al&&(0===(2&Ol)&&(Rl|=n),4===Il&&oc(e,El)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(ql=Qe()+500,Ba&&qa()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=mt(e,e===Al?El:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ba=!0,za(e)}(lc.bind(null,e)):za(lc.bind(null,e)),ia(function(){0===(6&Ol)&&qa()}),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zl=-1,$l=0,0!==(6&Ol))throw Error(s(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=mt(e,e===Al?El:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var a=Ol;Ol|=2;var i=hc();for(Al===e&&El===t||(Wl=null,ql=Qe()+500,mc(e,t));;)try{yc();break}catch(l){pc(e,l)}_s(),Sl.current=i,Ol=a,null!==Pl?t=0:(Al=null,El=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=sc(e,a))),1===t)throw n=Dl,mc(e,0),oc(e,r),rc(e,Qe()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,r))&&(0!==(i=ht(e))&&(r=i,t=sc(e,i))),1===t))throw n=Dl,mc(e,0),oc(e,r),rc(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Ul,Wl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=zl+500-Qe())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(jc.bind(null,e,Ul,Wl),t);break}jc(e,Ul,Wl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ra(jc.bind(null,e,Ul,Wl),r);break}jc(e,Ul,Wl);break;default:throw Error(s(329))}}}return rc(e,Qe()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Ul,Ul=n,null!==t&&ic(t)),e}function ic(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Ll,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Dl,mc(e,0),oc(e,t),rc(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Ul,Wl),rc(e,Qe()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(ql=Qe()+500,Ba&&qa())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Ol)&&wc();var t=Ol;Ol|=1;var n=Cl.transition,r=vt;try{if(Cl.transition=null,vt=1,e)return e()}finally{vt=r,Cl.transition=n,0===(6&(Ol=t))&&qa()}}function uc(){Tl=Ml.current,Sa(Ml)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ma();break;case 3:Js(),Sa(Aa),Sa(Oa),ni();break;case 5:Zs(r);break;case 4:Js();break;case 13:case 19:Sa($s);break;case 10:Cs(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Al=e,Pl=e=Mc(e.current,null),El=Tl=t,Il=0,Dl=null,Ll=Rl=Fl=0,Ul=Bl=null,null!==Es){for(t=0;t<Es.length;t++)if(null!==(r=(n=Es[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Es=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(_s(),ri.current=Qi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,di=!1,ui=0,_l.current=null,null===n||null===n.return){Il=1,Dl=t,Pl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=xo(o);if(null!==h){h.flags&=-257,go(h,o,l,0,t),1&h.mode&&fo(i,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){fo(i,d,t),fc();break e}c=Error(s(426))}else if(as&&1&l.mode){var g=xo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),hs(lo(c,l));break e}}i=c=lo(c,l),4!==Il&&(Il=2),null===Bl?Bl=[i]:Bl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,zs(i,po(0,c,t));break e;case 1:l=c;var y=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Gl||!Gl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,zs(i,ho(i,l,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function hc(){var e=Sl.current;return Sl.current=Qi,null===e?Qi:e}function fc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Al||0===(268435455&Fl)&&0===(268435455&Rl)||oc(Al,El)}function xc(e,t){var n=Ol;Ol|=2;var r=hc();for(Al===e&&El===t||(Wl=null,mc(e,t));;)try{gc();break}catch(a){pc(e,a)}if(_s(),Ol=n,Sl.current=r,null!==Pl)throw Error(s(261));return Al=null,El=0,Il}function gc(){for(;null!==Pl;)vc(Pl)}function yc(){for(;null!==Pl&&!Xe();)vc(Pl)}function vc(e){var t=Nl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?bc(e):Pl=t,_l.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Tl)))return void(Pl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function jc(e,t,n){var r=vt,a=Cl.transition;try{Cl.transition=null,vt=1,function(e,t,n,r){do{wc()}while(null!==Yl);if(0!==(6&Ol))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Al&&(Pl=Al=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ac(tt,function(){return wc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=vt;vt=1;var l=Ol;Ol|=4,_l.current=null,function(e,t){if(ea=Vt,pr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(j){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==n||0!==a&&3!==m.nodeType||(l=o+a),m!==i||0!==r&&3!==m.nodeType||(c=o+r),3===m.nodeType&&(o+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++u===r&&(c=o),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:to(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}f=tl,tl=!1}(e,n),xl(n,e),hr(ta),Vt=!!ea,ta=ea=null,e.current=n,yl(n,e,a),Je(),Ol=l,vt=o,Cl.transition=i}else e.current=n;if(Kl&&(Kl=!1,Yl=e,Xl=a),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,qa()}(e,t,n,r)}finally{Cl.transition=a,vt=r}return null}function wc(){if(null!==Yl){var e=bt(Xl),t=Cl.transition,n=vt;try{if(Cl.transition=null,vt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&Ol))throw Error(s(331));var a=Ol;for(Ol|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Zo=m;else for(;null!==Zo;){var p=(u=Zo).sibling,h=u.return;if(sl(u),u===d){Zo=null;break}if(null!==p){p.return=h,Zo=p;break}Zo=h}}}var f=i.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Zo=y;break e}Zo=i.return}}var v=e.current;for(Zo=v;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=v;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){kc(l,l.return,w)}if(l===o){Zo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Zo=j;break e}Zo=l.return}}if(Ol=a,qa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{vt=n,Cl.transition=t}}return!1}function Nc(e,t,n){e=Bs(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Bs(t,e=ho(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(El&n)===n&&(4===Il||3===Il&&(130023424&El)===El&&500>Qe()-zl?mc(e,0):Ll|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Is(e,t))&&(gt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_c(e,n)}function Ac(e,t){return Ke(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,n,r){return new Pc(e,t,n,r)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Dc(n.children,a,i,t);case k:o=8,a|=8;break;case S:return(e=Ec(12,n,t,2|a)).elementType=S,e.lanes=i,e;case A:return(e=Ec(13,n,t,a)).elementType=A,e.lanes=i,e;case P:return(e=Ec(19,n,t,a)).elementType=P,e.lanes=i,e;case M:return Fc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case C:o=9;break e;case O:o=11;break e;case E:o=14;break e;case T:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ec(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Dc(e,t,n,r){return(e=Ec(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Ec(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Ec(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,s,i,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ec(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fs(s),e}function zc(e){if(!e)return Ca;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ta(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ta(n))return Da(e,n,t)}return t}function qc(e,t,n,r,a,s,i,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Ls(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ls(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(a,t,i))&&(nc(e,a,i,s),Us(e,a,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Aa.current)vo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),ps();break;case 5:Qs(t);break;case 1:Ta(t.type)&&Fa(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(ws,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ro(e,t,n):(_a($s,1&$s.current),null!==(e=Vo(e,t,n))?e.sibling:null);_a($s,1&$s.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a($s,$s.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Vo(e,t,n)}(e,t,n);vo=0!==(131072&e.flags)}else vo=!1,as&&0!==(1048576&t.flags)&&$a(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Ea(t,Oa.current);As(t,n),a=fi(null,t,r,e,a,n);var i=xi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ta(r)?(i=!0,Fa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Fs(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=Oo(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),bo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===E)return 14}return 2}(r),e=to(r,e),a){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=jo(null,t,r,e,n);break e;case 14:t=wo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_o(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Co(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Rs(e,t),qs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Po(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=Po(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===a){t=Vo(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ro(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,jo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,_a(ws,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Aa.current){t=Vo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ls(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Os(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Os(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}bo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,As(t,n),r=r(a=Ps(a)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),wo(e,t,r,a=to(r.type,a),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Ta(r)?(e=!0,Fa(t)):e=!1,As(t,n),so(t,r,a),oo(t,r,a,n),Oo(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=Vc(i);o.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Vc(i);s.call(e)}}var i=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[ha]=i.current,qr(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=Vc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[ha]=l.current,qr(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return Vc(i)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[ha]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Qe()),0===(6&Ol)&&(ql=Qe()+500,qa()))}break;case 13:dc(function(){var t=Is(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},wt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Is(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ja(r);if(!a)throw Error(s(90));K(r),Z(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,Ae=dc;var ed={usingClientEntryPoint:!1,Events:[va,ba,ja,_e,Ce,cc]},td={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{at=rd.inject(nd),st=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(s(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,a,0,i,o),e[ha]=t.current,qr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(s(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[ha]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),a=n(2761),s=Object.prototype,i=s.hasOwnProperty,o=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),a=n(914);e.exports=function(e,t){for(var n=0,s=(t=r(t,e)).length;null!=e&&n<s;)e=e[a(t[n++])];return n&&n==s?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},3204:(e,t,n)=>{var r=n(3343),a=n(2777),s=n(4052),i=n(4543),o=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),d=!n&&a(e),u=!n&&!d&&i(e),m=!n&&!d&&!u&&l(e),p=n||d||u||m,h=p?r(e.length,String):[],f=h.length;for(var x in e)!t&&!c.call(e,x)||p&&("length"==x||u&&("offset"==x||"parent"==x)||m&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||o(x,f))||h.push(x);return h}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),a=n(929),s=n(7303);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&a(t,n,i)&&(n=i=void 0),t=s(t),void 0===n?(n=t,t=0):n=s(n),i=void 0===i?t<n?1:-1:s(i),r(t,n,i,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),a=n(9057);e.exports=function(e,t){return null!=e&&a(e,t,r)}},3411:(e,t,n)=>{var r=n(149),a=n(9096),s=n(8883),i=n(4052);e.exports=function(e,t){return(i(e)?r:s)(e,a(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),a=n(3411);e.exports=function(e,t){return r(a(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),a=n(2587),s=n(8114);e.exports=function(e,t,n,i,o,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var m=l.get(e),p=l.get(t);if(m&&p)return m==t&&p==e;var h=-1,f=!0,x=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<d;){var g=e[h],y=t[h];if(i)var v=c?i(y,g,h,t,e,l):i(g,y,h,e,t,l);if(void 0!==v){if(v)continue;f=!1;break}if(x){if(!a(t,function(e,t){if(!s(x,t)&&(g===e||o(g,e,n,i,l)))return x.push(t)})){f=!1;break}}else if(g!==y&&!o(g,y,n,i,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},3713:(e,t,n)=>{var r=n(6140),a=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),a=n(8673);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var s=t[n],i=e[s];t[n]=[s,i,r(i)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),a=n(2866),s=n(2597),i=n(914);e.exports=function(e){return s(e)?r(i(e)):a(e)}},3950:(e,t,n)=>{var r=n(6686),a=n(4757),s=n(801),i=Math.max,o=Math.min;e.exports=function(e,t,n){var l,c,d,u,m,p,h=0,f=!1,x=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,h=t,u=e.apply(r,n)}function v(e){var n=e-p;return void 0===p||n>=t||n<0||x&&e-h>=d}function b(){var e=a();if(v(e))return j(e);m=setTimeout(b,function(e){var n=t-(e-p);return x?o(n,d-(e-h)):n}(e))}function j(e){return m=void 0,g&&l?y(e):(l=c=void 0,u)}function w(){var e=a(),n=v(e);if(l=arguments,c=this,p=e,n){if(void 0===m)return function(e){return h=e,m=setTimeout(b,t),f?y(e):u}(p);if(x)return clearTimeout(m),m=setTimeout(b,t),y(p)}return void 0===m&&(m=setTimeout(b,t)),u}return t=s(t)||0,r(n)&&(f=!!n.leading,d=(x="maxWait"in n)?i(s(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==m&&clearTimeout(m),h=0,l=p=c=m=void 0},w.flush=function(){return void 0===m?u:j(a())},w}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(s,"$1"):n||e)}),t});e.exports=i},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,f(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+O(l,0):s,j(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),A(i,t,a,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+O(o=e[c],c);l+=A(o,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,a,d=s+O(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",function(e){return t.call(n,e,a++)}),r}function E(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},M={transition:null},I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:M,ReactCurrentOwner:N};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:E}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),a=n(4052);e.exports=function(e,t,n){var s=t(e);return a(e)?s:r(s,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),a=n(5866),s=n(1558),i=n(8114),o=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,d=a,u=e.length,m=!0,p=[],h=p;if(n)m=!1,d=s;else if(u>=200){var f=t?null:o(e);if(f)return l(f);m=!1,d=i,h=new r}else h=t?[]:p;e:for(;++c<u;){var x=e[c],g=t?t(x):x;if(x=n||0!==x?x:0,m&&g===g){for(var y=h.length;y--;)if(h[y]===g)continue e;t&&h.push(g),p.push(x)}else d(h,g,n)||(h!==p&&h.push(g),p.push(x))}return p}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),a=n(14),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,o=i&&i.exports===s?r.Buffer:void 0,l=(o?o.isBuffer:void 0)||a;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),a=Object.prototype,s=a.hasOwnProperty,i=a.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var a=i.call(e);return r&&(t?e[o]=n:delete e[o]),a}},4597:(e,t,n)=>{var r=n(2587),a=n(9096),s=n(2165),i=n(4052),o=n(929);e.exports=function(e,t,n){var l=i(e)?r:s;return n&&o(e,t,n)&&(t=void 0),l(e,a(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),a=n(8673);e.exports=function(e,t){return e&&r(e,t,a)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,function(e,r,a){return n=!!t(e,r,a)}),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),a=n(7159),s=n(438),i=n(9394),o=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},5029:(e,t,n)=>{var r=n(6989),a=n(3097),s=n(3366),i=n(2597),o=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return i(e)&&o(t)?l(c(e),t):function(n){var i=a(n,e);return void 0===i&&i===t?s(n,e):r(t,i,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),a=n(2597),s=n(4079),i=n(1069);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:s(i(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),a=n(6173),s=n(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&a(e.length)&&!!i[r(e)]}},5538:(e,t,n)=>{var r=n(7160),a=n(4545),s=n(793),i=n(7760),o=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=s,c.prototype.get=i,c.prototype.has=o,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,o=a(s.length-t,0),l=Array(o);++i<o;)l[i]=s[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=s[i];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),a=n(5636),s=n(6350);e.exports=function(e,t){return s(a(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),a=n(6516)(r);e.exports=a},5654:(e,t,n)=>{var r=n(7937),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,i,o){var l=1&n,c=r(e),d=c.length;if(d!=r(t).length&&!l)return!1;for(var u=d;u--;){var m=c[u];if(!(l?m in t:a.call(t,m)))return!1}var p=o.get(e),h=o.get(t);if(p&&h)return p==t&&h==e;var f=!0;o.set(e,t),o.set(t,e);for(var x=l;++u<d;){var g=e[m=c[u]],y=t[m];if(s)var v=l?s(y,g,m,t,e,o):s(g,y,m,e,t,o);if(!(void 0===v?g===y||i(g,y,n,s,o):v)){f=!1;break}x||(x="constructor"==m)}if(f&&!x){var b=e.constructor,j=t.constructor;b==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof j&&j instanceof j||(f=!1)}return o.delete(e),o.delete(t),f}},5797:(e,t,n)=>{var r=n(4816);function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var i=e.apply(this,r);return n.cache=s.set(a,i)||s,i};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},5816:e=>{e.exports=function(e,t,n,r){for(var a=e.length,s=n+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=n.length;++a<o;){var c=r(s[a],i[a]);if(c)return a>=l?c:c*("desc"==n[a]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var a=-1,s=Object(t),i=r(t),o=i.length;o--;){var l=i[e?o:++a];if(!1===n(s[l],l,s))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),a=n(6578)(r);e.exports=a},6361:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return!0===e||!1===e||a(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case s:case o:case i:case m:case p:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case h:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return g(e)===s}},6399:(e,t,n)=>{var r=n(5538),a=n(3668),s=n(9987),i=n(5752),o=n(6924),l=n(4052),c=n(4543),d=n(1268),u="[object Arguments]",m="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,x,g){var y=l(e),v=l(t),b=y?m:o(e),j=v?m:o(t),w=(b=b==u?p:b)==p,N=(j=j==u?p:j)==p,k=b==j;if(k&&c(e)){if(!c(t))return!1;y=!0,w=!1}if(k&&!w)return g||(g=new r),y||d(e)?a(e,t,n,f,x,g):s(e,t,b,n,f,x,g);if(!(1&n)){var S=w&&h.call(e,"__wrapped__"),_=N&&h.call(t,"__wrapped__");if(S||_){var C=S?e.value():e,O=_?t.value():t;return g||(g=new r),x(C,O,n,f,g)}}return!!k&&(g||(g=new r),i(e,t,n,f,x,g))}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var s=n.length,i=t?s:-1,o=Object(n);(t?i--:++i<s)&&!1!==a(o[i],i,o););return n}}},6532:(e,t,n)=>{var r=n(5538),a=n(6989);e.exports=function(e,t,n,s){var i=n.length,o=i,l=!s;if(null==e)return!o;for(e=Object(e);i--;){var c=n[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<o;){var d=(c=n[i])[0],u=e[d],m=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var p=new r;if(s)var h=s(u,m,d,e,t,p);if(!(void 0===h?a(m,u,3,s,p):h))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),a="object"==typeof self&&self&&self.Object===Object&&self,s=r||a||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),a=n(6173);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var a=t(),s=16-(a-r);if(r=a,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,s=e===e,i=r(e),o=void 0!==t,l=null===t,c=t===t,d=r(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||a&&o&&c||!n&&c||!s)return 1;if(!a&&!i&&!d&&e<t||d&&n&&s&&!a&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),a=n(61),s=n(3279);e.exports=function(e){return e&&e.length?r(e,s,a):void 0}},6788:(e,t,n)=>{var r=n(7160),a=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(i)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,i=s&&s.exports===a&&r.process,o=function(){try{var e=s&&s.require&&s.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=o},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},6913:(e,t,n)=>{var r=n(9812),a=n(4552),s=n(6095),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),a=n(5204),s=n(5387),i=n(2070),o=n(6600),l=n(6913),c=n(6996),d="[object Map]",u="[object Promise]",m="[object Set]",p="[object WeakMap]",h="[object DataView]",f=c(r),x=c(a),g=c(s),y=c(i),v=c(o),b=l;(r&&b(new r(new ArrayBuffer(1)))!=h||a&&b(new a)!=d||s&&b(s.resolve())!=u||i&&b(new i)!=m||o&&b(new o)!=p)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return h;case x:return d;case g:return u;case y:return m;case v:return p}return t}),e.exports=b},6954:(e,t,n)=>{var r=n(1629),a=n(7857),s=n(6686),i=n(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||a(e))&&(r(e)?m:o).test(i(e))}},6989:(e,t,n)=>{var r=n(6399),a=n(2761);e.exports=function e(t,n,s,i,o){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,s,i,e,o))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),a=n(4746),s=n(9096),i=n(4052),o=n(929);e.exports=function(e,t,n){var l=i(e)?r:a;return n&&o(e,t,n)&&(t=void 0),l(e,s(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),a=n(2777),s=n(4052),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||a(e)||!!(i&&e&&e[i])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),a=n(9935),s=n(4190),i=n(1946),o=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<a&&0>s(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(x=!1,b(e),!f)if(null!==r(c))f=!0,M(w);else{var t=r(d);null!==t&&I(j,t.startTime-e)}}function w(e,n){f=!1,x&&(x=!1,y(_),_=-1),h=!0;var s=p;try{for(b(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!A());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var o=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?m.callback=o:m===r(c)&&a(c),b(n)}else a(c);m=r(c)}if(null!==m)var l=!0;else{var u=r(d);null!==u&&I(j,u.startTime-n),l=!1}return l}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,C=5,O=-1;function A(){return!(t.unstable_now()-O<C)}function P(){if(null!==S){var e=t.unstable_now();O=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(P)};else if("undefined"!==typeof MessageChannel){var E=new MessageChannel,T=E.port2;E.port1.onmessage=P,N=function(){T.postMessage(null)}}else N=function(){g(P,0)};function M(e){S=e,k||(k=!0,N())}function I(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(y(_),_=-1):x=!0,I(j,s-i))):(e.sortIndex=o,n(c,e),f||h||(f=!0,M(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7251:(e,t,n)=>{var r=n(8724),a=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||a),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new a(r,s||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,a=[];if(0===this._eventsCount)return a;for(r in e=this._events)t.call(e,r)&&a.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(e)):a},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var a=0,s=r.length,i=new Array(s);a<s;a++)i[a]=r[a].fn;return i},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,a,s,i){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,a),!0;case 5:return d.fn.call(d.context,t,r,a,s),!0;case 6:return d.fn.call(d.context,t,r,a,s,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,a);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,a){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||a&&!o.once||r&&o.context!==r||i(this,s);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||a&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:i(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},7303:(e,t,n)=>{var r=n(801),a=1/0;e.exports=function(e){return e?(e=r(e))===a||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),a=n(2536),s=n(5647),i=n(929),o=s(function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=o},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,s=[];++n<r;){var i=e[n];t(i,n,e)&&(s[a++]=i)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),a=n(6311),s=n(9115),i=n(1069);e.exports=function(e){return function(t){t=i(t);var n=a(t)?s(t):void 0,o=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return o[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),a=n(4657);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),a=n(5713),s=n(2074),i=r&&1/s(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=i},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var a,s=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",d=l+"Exponent out of range: ",u=Math.floor,m=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,f=9007199254740991,x=u(1286742750677284.5),g={};function y(e,t){var n,r,a,s,i,l,c,d,u=e.constructor,m=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),o?O(t,m):t;if(c=e.d,d=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a){for(s<0?(r=c,s=-s,l=d.length):(r=d,a=i,l=c.length),s>(l=(i=Math.ceil(m/7))>l?i+1:l+1)&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for((l=c.length)-(s=d.length)<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/h|0,c[s]%=h;for(n&&(c.unshift(n),++a),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=a,o?O(t,m):t}function v(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)(n=7-(r=e[t]+"").length)&&(s+=S(n)),s+=r;(n=7-(r=(i=e[t])+"").length)&&(s+=S(n))}else if(0===i)return"0";for(;i%10===0;)i/=10;return s+i}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(t=0,n=(r=s.d.length)<(a=e.d.length)?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return j(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return O(j(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return N(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(a))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(a)?new r(0):(o=!1,t=j(_(n,i),_(e,i),i),o=!0,O(t,s))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A(t,e):y(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(o=!1,t=j(n,e,0,1).times(e),o=!0,n.minus(t)):O(new r(n),a)},g.naturalExponential=g.exp=function(){return w(this)},g.naturalLogarithm=g.ln=function(){return _(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):A(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,a=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=N(a)+1,n=7*(r=a.d.length-1)+1,r=a.d[r]){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,a,s,i,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(l+"NaN")}for(e=N(c),o=!1,0==(a=Math.sqrt(+c))||a==1/0?(((t=b(c.d)).length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=u((e+1)/2)-(e<0||e%2),r=new d(t=a==1/0?"5e"+e:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new d(a.toString()),a=i=(n=d.precision)+3;;)if(r=(s=r).plus(j(c,s,i+2)).times(.5),b(s.d).slice(0,i)===(t=b(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&"4999"==t){if(O(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if("9999"!=t)break;i+=4}return o=!0,O(r,n)},g.times=g.mul=function(e){var t,n,r,a,s,i,l,c,d,u=this,m=u.constructor,p=u.d,f=(e=new m(e)).d;if(!u.s||!e.s)return new m(0);for(e.s*=u.s,n=u.e+e.e,(c=p.length)<(d=f.length)&&(s=p,p=f,f=s,i=c,c=d,d=i),s=[],r=i=c+d;r--;)s.push(0);for(r=d;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+f[r]*p[a-r-1]+t,s[a--]=l%h|0,t=l/h|0;s[a]=(s[a]+t)%h|0}for(;!s[--i];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,o?O(e,m.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(v(e,0,s),void 0===t?t=r.rounding:v(t,0,8),O(n,e+N(n)+1,t))},g.toExponential=function(e,t){var n,r=this,a=r.constructor;return void 0===e?n=P(r,!0):(v(e,0,s),void 0===t?t=a.rounding:v(t,0,8),n=P(r=O(new a(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?P(a):(v(e,0,s),void 0===t?t=i.rounding:v(t,0,8),n=P((r=O(new i(a),e+N(a)+1,t)).abs(),!1,e+N(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return O(new t(e),N(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,s,i,c,d=this,m=d.constructor,p=+(e=new m(e));if(!e.s)return new m(a);if(!(d=new m(d)).s){if(e.s<1)throw Error(l+"Infinity");return d}if(d.eq(a))return d;if(r=m.precision,e.eq(a))return O(d,r);if(c=(t=e.e)>=(n=e.d.length-1),i=d.s,c){if((n=p<0?-p:p)<=f){for(s=new m(a),t=Math.ceil(r/7+4),o=!1;n%2&&E((s=s.times(d)).d,t),0!==(n=u(n/2));)E((d=d.times(d)).d,t);return o=!0,e.s<0?new m(a).div(s):O(s,r)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,d.s=1,o=!1,s=e.times(_(d,r+12)),o=!0,(s=w(s)).s=i,s},g.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return void 0===e?r=P(a,(n=N(a))<=i.toExpNeg||n>=i.toExpPos):(v(e,1,s),void 0===t?t=i.rounding:v(t,0,8),r=P(a=O(new i(a),e,t),e<=(n=N(a))||n<=i.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(v(e,1,s),void 0===t?t=n.rounding:v(t,0,8)),O(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=N(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var j=function(){function e(e,t){var n,r=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+r,e[a]=n%h|0,r=n/h|0;return r&&e.unshift(r),e}function t(e,t,n,r){var a,s;if(n!=r)s=n>r?1:-1;else for(a=s=0;a<n;a++)if(e[a]!=t[a]){s=e[a]>t[a]?1:-1;break}return s}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*h+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,a,s,i){var o,c,d,u,m,p,f,x,g,y,v,b,j,w,k,S,_,C,A=r.constructor,P=r.s==a.s?1:-1,E=r.d,T=a.d;if(!r.s)return new A(r);if(!a.s)throw Error(l+"Division by zero");for(c=r.e-a.e,_=T.length,k=E.length,x=(f=new A(P)).d=[],d=0;T[d]==(E[d]||0);)++d;if(T[d]>(E[d]||0)&&--c,(b=null==s?s=A.precision:i?s+(N(r)-N(a))+1:s)<0)return new A(0);if(b=b/7+2|0,d=0,1==_)for(u=0,T=T[0],b++;(d<k||u)&&b--;d++)j=u*h+(E[d]||0),x[d]=j/T|0,u=j%T|0;else{for((u=h/(T[0]+1)|0)>1&&(T=e(T,u),E=e(E,u),_=T.length,k=E.length),w=_,y=(g=E.slice(0,_)).length;y<_;)g[y++]=0;(C=T.slice()).unshift(0),S=T[0],T[1]>=h/2&&++S;do{u=0,(o=t(T,g,_,y))<0?(v=g[0],_!=y&&(v=v*h+(g[1]||0)),(u=v/S|0)>1?(u>=h&&(u=h-1),1==(o=t(m=e(T,u),g,p=m.length,y=g.length))&&(u--,n(m,_<p?C:T,p))):(0==u&&(o=u=1),m=T.slice()),(p=m.length)<y&&m.unshift(0),n(g,m,y),-1==o&&(o=t(T,g,_,y=g.length))<1&&(u++,n(g,_<y?C:T,y)),y=g.length):0===o&&(u++,g=[0]),x[d++]=u,o&&g[0]?g[y++]=E[w]||0:(g=[E[w]],y=1)}while((w++<k||void 0!==g[0])&&b--)}return x[0]||x.shift(),f.e=c,O(f,i?s+N(f)+1:s)}}();function w(e,t){var n,r,s,i,l,c=0,u=0,p=e.constructor,h=p.precision;if(N(e)>16)throw Error(d+N(e));if(!e.s)return new p(a);for(null==t?(o=!1,l=h):l=t,i=new p(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(l+=Math.log(m(2,u))/Math.LN10*2+5|0,n=r=s=new p(a),p.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),b((i=s.plus(j(r,n,l))).d).slice(0,l)===b(s.d).slice(0,l)){for(;u--;)s=O(s.times(s),l);return p.precision=h,null==t?(o=!0,O(s,h)):s}s=i}}function N(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw o=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function _(e,t){var n,r,s,i,c,d,u,m,p,h=1,f=e,x=f.d,g=f.constructor,y=g.precision;if(f.s<1)throw Error(l+(f.s?"NaN":"-Infinity"));if(f.eq(a))return new g(0);if(null==t?(o=!1,m=y):m=t,f.eq(10))return null==t&&(o=!0),k(g,m);if(m+=10,g.precision=m,r=(n=b(x)).charAt(0),i=N(f),!(Math.abs(i)<15e14))return u=k(g,m+2,y).times(i+""),f=_(new g(r+"."+n.slice(1)),m-10).plus(u),g.precision=y,null==t?(o=!0,O(f,y)):f;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((f=f.times(e)).d)).charAt(0),h++;for(i=N(f),r>1?(f=new g("0."+n),i++):f=new g(r+"."+n.slice(1)),d=c=f=j(f.minus(a),f.plus(a),m),p=O(f.times(f),m),s=3;;){if(c=O(c.times(p),m),b((u=d.plus(j(c,new g(s),m))).d).slice(0,m)===b(d.d).slice(0,m))return d=d.times(2),0!==i&&(d=d.plus(k(g,m+2,y).times(i+""))),d=j(d,new g(h),m),g.precision=y,null==t?(o=!0,O(d,y)):d;d=u,s+=2}}function C(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(a=t.length;48===t.charCodeAt(a-1);)--a;if(t=t.slice(r,a)){if(a-=r,n=n-r-1,e.e=u(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=7;r<a;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>x||e.e<-x))throw Error(d+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,a,s,i,l,c,p,f,g=e.d;for(i=1,s=g[0];s>=10;s/=10)i++;if((r=t-i)<0)r+=7,a=t,p=g[f=0];else{if((f=Math.ceil((r+1)/7))>=(s=g.length))return e;for(p=s=g[f],i=1;s>=10;s/=10)i++;a=(r%=7)-7+i}if(void 0!==n&&(l=p/(s=m(10,i-a-1))%10|0,c=t<0||void 0!==g[f+1]||p%s,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?a>0?p/m(10,i-a):0:g[f-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(s=N(e),g.length=1,t=t-s-1,g[0]=m(10,(7-t%7)%7),e.e=u(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=f,s=1,f--):(g.length=f+1,s=m(10,7-r),g[f]=a>0?(p/m(10,i-a)%m(10,a)|0)*s:0),c)for(;;){if(0==f){(g[0]+=s)==h&&(g[0]=1,++e.e);break}if(g[f]+=s,g[f]!=h)break;g[f--]=0,s=1}for(r=g.length;0===g[--r];)g.pop();if(o&&(e.e>x||e.e<-x))throw Error(d+N(e));return e}function A(e,t){var n,r,a,s,i,l,c,d,u,m,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),o?O(t,f):t;if(c=e.d,m=t.d,r=t.e,d=e.e,c=c.slice(),i=d-r){for((u=i<0)?(n=c,i=-i,l=m.length):(n=m,r=d,l=c.length),i>(a=Math.max(Math.ceil(f/7),l)+2)&&(i=a,n.length=1),n.reverse(),a=i;a--;)n.push(0);n.reverse()}else{for((u=(a=c.length)<(l=m.length))&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}i=0}for(u&&(n=c,c=m,m=n,t.s=-t.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>i;){if(c[--a]<m[a]){for(s=a;s&&0===c[--s];)c[s]=h-1;--c[s],c[a]+=h}c[a]-=m[a]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,o?O(t,f):t):new p(0)}function P(e,t,n){var r,a=N(e),s=b(e.d),i=s.length;return t?(n&&(r=n-i)>0?s=s.charAt(0)+"."+s.slice(1)+S(r):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+S(-a-1)+s,n&&(r=n-i)>0&&(s+=S(r))):a>=i?(s+=S(a+1-i),n&&(r=n-a-1)>0&&(s=s+"."+S(r))):((r=a+1)<i&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-i)>0&&(a+1===i&&(s+="."),s+=S(r))),e.s<0?"-"+s:s}function E(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,a=["precision",1,s,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if(void 0!==(r=e[n=a[t]])){if(!(u(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}i=function e(t){var n,r,a;function s(e){var t=this;if(!(t instanceof s))return new s(e);if(t.constructor=s,e instanceof s)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);C(t,e)}if(s.prototype=g,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=e,s.config=s.set=T,void 0===t&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<a.length;)t.hasOwnProperty(r=a[n++])||(t[r]=this[r]);return s.config(t),s}(i),i.default=i.Decimal=i,a=new i(1),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),a=n(5654),s=n(3279),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=i},8468:(e,t,n)=>{var r=n(5816),a=n(644),s=n(4020);e.exports=function(e,t,n){return t===t?s(e,t,n):r(e,a,n)}},8541:(e,t,n)=>{var r=n(9812),a=n(149),s=n(4052),i=n(9841),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return a(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),a=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):a(e)}},8724:(e,t,n)=>{var r=n(7615),a=n(5051),s=n(2154),i=n(8734),o=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},8734:(e,t,n)=>{var r=n(5575),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),a=n(6571);e.exports=function(e,t){var n=-1,s=a(e)?Array(e.length):[];return r(e,function(e,r,a){s[++n]=t(e,r,a)}),s}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),a=n(6179),s=n(6704);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=s,e.exports=i},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),a=n(2777),s=n(4052),i=n(9194),o=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,d=(t=r(t,e)).length,u=!1;++c<d;){var m=l(t[c]);if(!(u=null!=e&&n(e,m)))break;e=e[m]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&o(d)&&i(m,d)&&(s(e)||a(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),a=n(5029),s=n(3279),i=n(4052),o=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?i(e)?a(e[0],e[1]):r(e):o(e)}},9115:(e,t,n)=>{var r=n(5967),a=n(6311),s=n(715);e.exports=function(e){return a(e)?s(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),a=n(3781),s=n(1310);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),a=n(9621),s=n(8673);e.exports=function(e){return r(e,s,a)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),a=n(7828),s=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return s.call(e,t)}))}:a;e.exports=o},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,a,s){for(var i=-1,o=n(t((r-e)/(a||1)),0),l=Array(o);o--;)l[s?o:++i]=e,e+=a;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(null!=o&&(void 0===l?o===o&&!r(o):n(o,l)))var l=o,c=i}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),a=n(2761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),a=n(6686);e.exports=function(e,t,n){var s=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:s,maxWait:t,trailing:i})}},9935:(e,t,n)=>{var r=n(1340),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),a=n(2929),s=n(3211),i=n(3668),o=n(4160),l=n(2074),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,m){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=o;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var f=m.get(e);if(f)return f==t;r|=2,m.set(e,t);var x=i(p(e),p(t),r,c,u,m);return m.delete(e),x;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),a=n(6571),s=n(8673);e.exports=function(e){return function(t,n,i){var o=Object(t);if(!a(t)){var l=r(n,3);t=s(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,i);return c>-1?o[l?t[c]:c]:void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/aiva/",(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>dr,hasStandardBrowserEnv:()=>mr,hasStandardBrowserWebWorkerEnv:()=>pr,navigator:()=>ur,origin:()=>hr});var t={};n.r(t),n.d(t,{scaleBand:()=>ep,scaleDiverging:()=>Ty,scaleDivergingLog:()=>My,scaleDivergingPow:()=>Dy,scaleDivergingSqrt:()=>Fy,scaleDivergingSymlog:()=>Iy,scaleIdentity:()=>_f,scaleImplicit:()=>Zm,scaleLinear:()=>Sf,scaleLog:()=>Df,scaleOrdinal:()=>$m,scalePoint:()=>np,scalePow:()=>Vf,scaleQuantile:()=>nx,scaleQuantize:()=>rx,scaleRadial:()=>Kf,scaleSequential:()=>Sy,scaleSequentialLog:()=>_y,scaleSequentialPow:()=>Oy,scaleSequentialQuantile:()=>Py,scaleSequentialSqrt:()=>Ay,scaleSequentialSymlog:()=>Cy,scaleSqrt:()=>Hf,scaleSymlog:()=>Bf,scaleThreshold:()=>ax,scaleTime:()=>jy,scaleUtc:()=>wy,tickFormat:()=>Nf});var r,a=n(5043),s=n.t(a,2),i=n(4391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(We){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,d=s.history,h=r.Pop,f=null,x=g();function g(){return(d.state||{idx:null}).idx}function y(){h=r.Pop;let e=g(),t=null==e?null:e-x;x=e,f&&f({action:h,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,d.replaceState(o({},d.state,{idx:x}),""));let b={get action(){return h},get location(){return e(s,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),f=e,()=>{s.removeEventListener(l,y),f=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=r.Push;let a=m(b.location,e,t);n&&n(a,e),x=g()+1;let o=u(a,x),l=b.createHref(a);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}i&&f&&f({action:h,location:b.location,delta:1})},replace:function(e,t){h=r.Replace;let a=m(b.location,e,t);n&&n(a,e),x=g();let s=u(a,x),o=b.createHref(a);d.replaceState(s,"",o),i&&f&&f({action:h,location:b.location,delta:0})},go:e=>d.go(e)};return b}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let a=T(("string"===typeof t?h(t):t).pathname||"/",n);if(null==a)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let o=0;null==i&&o<s.length;++o){let e=E(a);i=A(s[o],e,r)}return i}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let o=R([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))a(e,t,r);else a(e,t)}),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=b(r.join("/")),o=[];return o.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,w=3,N=2,k=1,S=10,_=-2,C=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=_),t&&(r+=N),n.filter(e=>!C(e)).reduce((e,t)=>e+(j.test(t)?w:""===t?k:S),r)}function A(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:R([s,d.pathname]),pathnameBase:L(R([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=R([s,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),o=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=o[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:s,pathnameBase:i,pattern:e}}function E(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function M(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=h(e):(a=o({},e),c(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),c(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),c(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let s,i=""===e||""===a.pathname,l=i?"/":a.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:U(a)}}(a,s),u=l&&"/"!==l&&l.endsWith("/"),m=(i||"."===l)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const H=a.createContext(null);const G=a.createContext(null);const K=a.createContext(null);const Y=a.createContext(null);const X=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function Q(){return null!=a.useContext(Y)}function Z(){return Q()||c(!1),a.useContext(Y).location}function $(e){a.useContext(K).static||a.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=a.useContext(X);return e?function(){let{router:e}=me(de.UseNavigateStable),t=he(ue.UseNavigateStable),n=a.useRef(!1);return $(()=>{n.current=!0}),a.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,V({fromRouteId:t},a)))},[e,t])}():function(){Q()||c(!1);let e=a.useContext(H),{basename:t,future:n,navigator:r}=a.useContext(K),{matches:s}=a.useContext(X),{pathname:i}=Z(),o=JSON.stringify(D(s,n.v7_relativeSplatPath)),l=a.useRef(!1);$(()=>{l.current=!0});let d=a.useCallback(function(n,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=F(n,JSON.parse(o),i,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:R([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,o,i,e]);return d}()}const te=a.createContext(null);function ne(){let{matches:e}=a.useContext(X),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext(K),{matches:s}=a.useContext(X),{pathname:i}=Z(),o=JSON.stringify(D(s,r.v7_relativeSplatPath));return a.useMemo(()=>F(e,JSON.parse(o),i,"path"===n),[e,o,i,n])}function ae(e,t,n,s){Q()||c(!1);let{navigator:i}=a.useContext(K),{matches:o}=a.useContext(X),l=o[o.length-1],d=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let m,p=Z();if(t){var f;let e="string"===typeof t?h(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),m=e}else m=p;let x=m.pathname||"/",y=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(e,{pathname:y});let b=ce(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,s);return t&&b?a.createElement(Y.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:r.Pop}},b):b}function se(){let e=function(){var e;let t=a.useContext(J),n=pe(ue.UseRouteError),r=he(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:s},n):null,null)}const ie=a.createElement(se,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(X.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=a.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(X.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,s)=>{let i,c=!1,m=null,p=null;var h;n&&(i=l&&r.route.id?l[r.route.id]:void 0,m=r.route.errorElement||ie,d&&(u<0&&0===s?(h="route-fallback",!1||fe[h]||(fe[h]=!0),c=!0,p=null):u===s&&(c=!0,p=r.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),x=()=>{let t;return t=i?m:c?p:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(le,{match:r,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?a.createElement(oe,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function me(e){let t=a.useContext(H);return t||c(!1),t}function pe(e){let t=a.useContext(G);return t||c(!1),t}function he(e){let t=function(){let e=a.useContext(X);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const fe={};function xe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ge(e){let{to:t,replace:n,state:r,relative:s}=e;Q()||c(!1);let{future:i,static:o}=a.useContext(K),{matches:l}=a.useContext(X),{pathname:d}=Z(),u=ee(),m=F(t,D(l,i.v7_relativeSplatPath),d,"path"===s),p=JSON.stringify(m);return a.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function ye(e){return function(e){let t=a.useContext(X).outlet;return t?a.createElement(te.Provider,{value:e},t):t}(e.context)}function ve(e){c(!1)}function be(e){let{basename:t="/",children:n=null,location:s,navigationType:i=r.Pop,navigator:o,static:l=!1,future:d}=e;Q()&&c(!1);let u=t.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:u,navigator:o,static:l,future:V({v7_relativeSplatPath:!1},d)}),[u,d,o,l]);"string"===typeof s&&(s=h(s));let{pathname:p="/",search:f="",hash:x="",state:g=null,key:y="default"}=s,v=a.useMemo(()=>{let e=T(p,u);return null==e?null:{location:{pathname:e,search:f,hash:x,state:g,key:y},navigationType:i}},[u,p,f,x,g,y,i]);return null==v?null:a.createElement(K.Provider,{value:m},a.createElement(Y.Provider,{children:n,value:v}))}function je(e){let{children:t,location:n}=e;return ae(we(t),n)}new Promise(()=>{});a.Component;function we(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,r)=>{if(!a.isValidElement(e))return;let s=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,we(e.props.children,s));e.type!==ve&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=we(e.props.children,s)),n.push(i)}),n}var Ne=n(7950),ke=n.t(Ne,2);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Ce(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Oe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(We){}new Map;const Ae=s.startTransition;ke.flushSync,s.useId;function Pe(e){let{basename:t,children:n,future:r,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),f(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return m("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},h=a.useCallback(e=>{u&&Ae?Ae(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>xe(r),[r]),a.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=a.forwardRef(function(e,t){let n,{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:d,to:u,preventScrollReset:m,viewTransition:h}=e,f=_e(e,Oe),{basename:x}=a.useContext(K),g=!1;if("string"===typeof u&&Te.test(u)&&(n=u,Ee))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=T(t.pathname,x);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(We){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||c(!1);let{basename:r,navigator:s}=a.useContext(K),{hash:i,pathname:o,search:l}=re(e,{relative:n}),d=o;return"/"!==r&&(d="/"===o?r:R([r,o])),s.createHref({pathname:d,search:l,hash:i})}(u,{relative:s}),v=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),d=Z(),u=re(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(d)===p(u);c(e,{replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,s,n,e,i,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:m,relative:s,viewTransition:h});return a.createElement("a",Se({},f,{href:n||y,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:d}))});var Ie,De;function Fe(e){let t=a.useRef(Ce(e)),n=a.useRef(!1),r=Z(),s=a.useMemo(()=>function(e,t){let n=Ce(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}(r.search,n.current?null:t.current),[r.search]),i=ee(),o=a.useCallback((e,t)=>{const r=Ce("function"===typeof e?e(s):e);n.current=!0,i("?"+r,t)},[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ie||(Ie={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Re(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Be(e){var t=function(e,t){if("object"!=Le(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Le(t)?t:t+""}function Ue(e,t,n){return(t=Be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach(function(t){Ue(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let We={data:""},Ve=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||We},He=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ge=/\/\*[^]*?\*\/|  +/g,Ke=/\n+/g,Ye=(e,t)=>{let n="",r="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":r+="f"==s[1]?Ye(i,s):s+"{"+Ye(i,"k"==s[1]?"":t)+"}":"object"==typeof i?r+=Ye(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ye.p?Ye.p(s,i):s+":"+i+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Xe={},Je=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Je(e[n]);return t}return e},Qe=(e,t,n,r,a)=>{let s=Je(e),i=Xe[s]||(Xe[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Xe[i]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=He.exec(e.replace(Ge,""));)t[4]?r.shift():t[3]?(n=t[3].replace(Ke," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(Ke," ").trim();return r[0]})(e);Xe[i]=Ye(a?{["@keyframes "+i]:t}:t,n?"":"."+i)}let o=n&&Xe.g?Xe.g:null;return n&&(Xe.g=Xe[i]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Xe[i],t,r,o),i};function Ze(e){let t=this||{},n=e.call?e(t.p):e;return Qe(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Ye(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Ve(t.target),t.g,t.o,t.k)}Ze.bind({g:1});let $e,et,tt,nt=Ze.bind({k:1});function rt(e,t){let n=this||{};return function(){let r=arguments;function a(s,i){let o=Object.assign({},s),l=o.className||a.className;n.p=Object.assign({theme:et&&et()},o),n.o=/ *go\d+/.test(l),o.className=Ze.apply(n,r)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),tt&&c[0]&&tt(o),$e(c,o)}return t?t(a):a}}var at,st,it,ot,lt,ct,dt,ut,mt,pt,ht,ft,xt,gt,yt,vt,bt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,jt=(()=>{let e=0;return()=>(++e).toString()})(),wt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Nt="default",kt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return qe(qe({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return qe(qe({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?qe(qe({},e),t.toast):e)});case 2:let{toast:r}=t;return kt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return qe(qe({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?qe(qe({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?qe(qe({},e),{},{toasts:[]}):qe(qe({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return qe(qe({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return qe(qe({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>qe(qe({},e),{},{pauseDuration:e.pauseDuration+s}))})}},St=[],_t={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},Ct={},Ot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt;Ct[t]=kt(Ct[t]||_t,e),St.forEach(e=>{let[n,r]=e;n===t&&r(Ct[t])})},At=e=>Object.keys(Ct).forEach(t=>Ot(e,t)),Pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt;return t=>{Ot(t,e)}},Et={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Tt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return qe(qe({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||jt()})}(t,e,n);return Pt(r.toasterId||(e=>Object.keys(Ct).find(t=>Ct[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Mt=(e,t)=>Tt("blank")(e,t);Mt.error=Tt("error"),Mt.success=Tt("success"),Mt.loading=Tt("loading"),Mt.custom=Tt("custom"),Mt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Pt(t)(n):At(n)},Mt.dismissAll=e=>Mt.dismiss(void 0,e),Mt.remove=(e,t)=>{let n={type:4,toastId:e};t?Pt(t)(n):At(n)},Mt.removeAll=e=>Mt.remove(void 0,e),Mt.promise=(e,t,n)=>{let r=Mt.loading(t.loading,qe(qe({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?bt(t.success,e):void 0;return a?Mt.success(a,qe(qe({id:r},n),null==n?void 0:n.success)):Mt.dismiss(r),e}).catch(e=>{let a=t.error?bt(t.error,e):void 0;a?Mt.error(a,qe(qe({id:r},n),null==n?void 0:n.error)):Mt.dismiss(r)}),e};var It=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nt,[n,r]=(0,a.useState)(Ct[t]||_t),s=(0,a.useRef)(Ct[t]);(0,a.useEffect)(()=>(s.current!==Ct[t]&&r(Ct[t]),St.push([t,r]),()=>{let e=St.findIndex(e=>{let[n]=e;return n===t});e>-1&&St.splice(e,1)}),[t]);let i=n.toasts.map(t=>{var n,r,a;return qe(qe(qe(qe({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Et[t.type],style:qe(qe(qe({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return qe(qe({},n),{},{toasts:i})}(e,t),s=(0,a.useRef)(new Map).current,i=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(s.has(e))return;let n=setTimeout(()=>{s.delete(e),o({type:4,toastId:e})},t);s.set(e,n)},[]);(0,a.useEffect)(()=>{if(r)return;let e=Date.now(),a=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Mt.dismiss(n.id,t),r);n.visible&&Mt.dismiss(n.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let o=(0,a.useCallback)(Pt(t),[t]),l=(0,a.useCallback)(()=>{o({type:5,time:Date.now()})},[o]),c=(0,a.useCallback)((e,t)=>{o({type:1,toast:{id:e,height:t}})},[o]),d=(0,a.useCallback)(()=>{r&&o({type:6,time:Date.now()})},[r,o]),u=(0,a.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:s}=t||{},i=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),o=i.findIndex(t=>t.id===e.id),l=i.filter((e,t)=>t<o&&e.visible).length;return i.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+a,0)},[n]);return(0,a.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=s.get(e.id);t&&(clearTimeout(t),s.delete(e.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},Dt=nt(at||(at=Re(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ft=nt(st||(st=Re(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Rt=nt(it||(it=Re(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Lt=rt("div")(ot||(ot=Re(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Dt,Ft,e=>e.secondary||"#fff",Rt),Bt=nt(lt||(lt=Re(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Ut=rt("div")(ct||(ct=Re(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Bt),zt=nt(dt||(dt=Re(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),qt=nt(ut||(ut=Re(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Wt=rt("div")(mt||(mt=Re(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",zt,qt,e=>e.secondary||"#fff"),Vt=rt("div")(pt||(pt=Re(["\n  position: absolute;\n"]))),Ht=rt("div")(ht||(ht=Re(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Gt=nt(ft||(ft=Re(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Kt=rt("div")(xt||(xt=Re(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Gt),Yt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:s}=t;return void 0!==n?"string"==typeof n?a.createElement(Kt,null,n):n:"blank"===r?null:a.createElement(Ht,null,a.createElement(Ut,qe({},s)),"loading"!==r&&a.createElement(Vt,null,"error"===r?a.createElement(Lt,qe({},s)):a.createElement(Wt,qe({},s))))},Xt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Jt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Qt=rt("div")(gt||(gt=Re(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Zt=rt("div")(yt||(yt=Re(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),$t=a.memo(e=>{let{toast:t,position:n,style:r,children:s}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=wt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Xt(n),Jt(n)];return{animation:t?"".concat(nt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(nt(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},o=a.createElement(Yt,{toast:t}),l=a.createElement(Zt,qe({},t.ariaProps),bt(t.message,t));return a.createElement(Qt,{className:t.className,style:qe(qe(qe({},i),r),t.style)},"function"==typeof s?s({icon:o,message:l}):a.createElement(a.Fragment,null,o,l))});!function(e,t,n,r){Ye.p=t,$e=e,et=n,tt=r}(a.createElement);var en=e=>{let{id:t,className:n,style:r,onHeightUpdate:s,children:i}=e,o=a.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return a.createElement("div",{ref:o,className:n,style:r},i)},tn=Ze(vt||(vt=Re(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),nn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:s,children:i,toasterId:o,containerStyle:l,containerClassName:c}=e,{toasts:d,handlers:u}=It(r,o);return a.createElement("div",{"data-rht-toaster":o||"",style:qe({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return qe(qe({left:0,right:0,display:"flex",position:"absolute",transition:wt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:n}));return a.createElement(en,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?tn:"",style:o},"custom"===e.type?bt(e.message,e):i?i(e):a.createElement($t,{toast:e,position:r}))}))},rn=Mt;function an(e,t){return function(){return e.apply(t,arguments)}}const{toString:sn}=Object.prototype,{getPrototypeOf:on}=Object,{iterator:ln,toStringTag:cn}=Symbol,dn=(un=Object.create(null),e=>{const t=sn.call(e);return un[t]||(un[t]=t.slice(8,-1).toLowerCase())});var un;const mn=e=>(e=e.toLowerCase(),t=>dn(t)===e),pn=e=>t=>typeof t===e,{isArray:hn}=Array,fn=pn("undefined");function xn(e){return null!==e&&!fn(e)&&null!==e.constructor&&!fn(e.constructor)&&vn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gn=mn("ArrayBuffer");const yn=pn("string"),vn=pn("function"),bn=pn("number"),jn=e=>null!==e&&"object"===typeof e,wn=e=>{if("object"!==dn(e))return!1;const t=on(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(cn in e)&&!(ln in e)},Nn=mn("Date"),kn=mn("File"),Sn=mn("Blob"),_n=mn("FileList"),Cn=mn("URLSearchParams"),[On,An,Pn,En]=["ReadableStream","Request","Response","Headers"].map(mn);function Tn(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),hn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(xn(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(n=0;n<s;n++)i=r[n],t.call(null,e[i],i,e)}}function Mn(e,t){if(xn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const In="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Dn=e=>!fn(e)&&e!==In;const Fn=(Rn="undefined"!==typeof Uint8Array&&on(Uint8Array),e=>Rn&&e instanceof Rn);var Rn;const Ln=mn("HTMLFormElement"),Bn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Un=mn("RegExp"),zn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Tn(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const qn=mn("AsyncFunction"),Wn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],In.addEventListener("message",e=>{let{source:t,data:a}=e;t===In&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),In.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,vn(In.postMessage)),Vn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(In):"undefined"!==typeof process&&process.nextTick||Wn,Hn={isArray:hn,isArrayBuffer:gn,isBuffer:xn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||vn(e.append)&&("formdata"===(t=dn(e))||"object"===t&&vn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&gn(e.buffer),t},isString:yn,isNumber:bn,isBoolean:e=>!0===e||!1===e,isObject:jn,isPlainObject:wn,isEmptyObject:e=>{if(!jn(e)||xn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(We){return!1}},isReadableStream:On,isRequest:An,isResponse:Pn,isHeaders:En,isUndefined:fn,isDate:Nn,isFile:kn,isBlob:Sn,isRegExp:Un,isFunction:vn,isStream:e=>jn(e)&&vn(e.pipe),isURLSearchParams:Cn,isTypedArray:Fn,isFileList:_n,forEach:Tn,merge:function e(){const{caseless:t,skipUndefined:n}=Dn(this)&&this||{},r={},a=(a,s)=>{const i=t&&Mn(r,s)||s;wn(r[i])&&wn(a)?r[i]=e(r[i],a):wn(a)?r[i]=e({},a):hn(a)?r[i]=a.slice():n&&fn(a)||(r[i]=a)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Tn(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Tn(t,(t,r)=>{n&&vn(t)?e[r]=an(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,i;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&on(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:dn,kindOfTest:mn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(hn(e))return e;let t=e.length;if(!bn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[ln]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ln,hasOwnProperty:Bn,hasOwnProp:Bn,reduceDescriptors:zn,freezeMethods:e=>{zn(e,(t,n)=>{if(vn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];vn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return hn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Mn,global:In,isContextDefined:Dn,isSpecCompliantForm:function(e){return!!(e&&vn(e.append)&&"FormData"===e[cn]&&e[ln])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(jn(e)){if(t.indexOf(e)>=0)return;if(xn(e))return e;if(!("toJSON"in e)){t[r]=e;const a=hn(e)?[]:{};return Tn(e,(e,t)=>{const s=n(e,r+1);!fn(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:qn,isThenable:e=>e&&(jn(e)||vn(e))&&vn(e.then)&&vn(e.catch),setImmediate:Wn,asap:Vn,isIterable:e=>null!=e&&vn(e[ln])};function Gn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Hn.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Hn.toJSONObject(this.config),code:this.code,status:this.status}}});const Kn=Gn.prototype,Yn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Yn[e]={value:e}}),Object.defineProperties(Gn,Yn),Object.defineProperty(Kn,"isAxiosError",{value:!0}),Gn.from=(e,t,n,r,a,s)=>{const i=Object.create(Kn);Hn.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Gn.call(i,o,l,n,r,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",s&&Object.assign(i,s),i};const Xn=Gn;function Jn(e){return Hn.isPlainObject(e)||Hn.isArray(e)}function Qn(e){return Hn.endsWith(e,"[]")?e.slice(0,-2):e}function Zn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Qn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const $n=Hn.toFlatObject(Hn,{},null,function(e){return/^is[A-Z]/.test(e)});const er=function(e,t,n){if(!Hn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Hn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Hn.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Hn.isSpecCompliantForm(t);if(!Hn.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Hn.isDate(e))return e.toISOString();if(Hn.isBoolean(e))return e.toString();if(!o&&Hn.isBlob(e))throw new Xn("Blob is not supported. Use a Buffer instead.");return Hn.isArrayBuffer(e)||Hn.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let o=e;if(e&&!a&&"object"===typeof e)if(Hn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Hn.isArray(e)&&function(e){return Hn.isArray(e)&&!e.some(Jn)}(e)||(Hn.isFileList(e)||Hn.endsWith(n,"[]"))&&(o=Hn.toArray(e)))return n=Qn(n),o.forEach(function(e,r){!Hn.isUndefined(e)&&null!==e&&t.append(!0===i?Zn([n],r,s):null===i?n:n+"[]",l(e))}),!1;return!!Jn(e)||(t.append(Zn(a,n,s),l(e)),!1)}const d=[],u=Object.assign($n,{defaultVisitor:c,convertValue:l,isVisitable:Jn});if(!Hn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Hn.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Hn.forEach(n,function(n,s){!0===(!(Hn.isUndefined(n)||null===n)&&a.call(t,n,Hn.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function tr(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function nr(e,t){this._pairs=[],e&&er(e,this,t)}const rr=nr.prototype;rr.append=function(e,t){this._pairs.push([e,t])},rr.toString=function(e){const t=e?function(t){return e.call(this,t,tr)}:tr;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ar=nr;function sr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ir(e,t,n){if(!t)return e;const r=n&&n.encode||sr;Hn.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):Hn.isURLSearchParams(t)?t.toString():new ar(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const or=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Hn.forEach(this.handlers,function(t){null!==t&&e(t)})}},lr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cr={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ar,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},dr="undefined"!==typeof window&&"undefined"!==typeof document,ur="object"===typeof navigator&&navigator||void 0,mr=dr&&(!ur||["ReactNative","NativeScript","NS"].indexOf(ur.product)<0),pr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,hr=dr&&window.location.href||"http://localhost",fr=qe(qe({},e),cr);const xr=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=a>=e.length;if(s=!s&&Hn.isArray(r)?r.length:s,o)return Hn.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&Hn.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&Hn.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(Hn.isFormData(e)&&Hn.isFunction(e.entries)){const n={};return Hn.forEachEntry(e,(e,r)=>{t(function(e){return Hn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const gr={transitional:lr,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Hn.isObject(e);a&&Hn.isHTMLForm(e)&&(e=new FormData(e));if(Hn.isFormData(e))return r?JSON.stringify(xr(e)):e;if(Hn.isArrayBuffer(e)||Hn.isBuffer(e)||Hn.isStream(e)||Hn.isFile(e)||Hn.isBlob(e)||Hn.isReadableStream(e))return e;if(Hn.isArrayBufferView(e))return e.buffer;if(Hn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return er(e,new fr.classes.URLSearchParams,qe({visitor:function(e,t,n,r){return fr.isNode&&Hn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Hn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return er(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Hn.isString(e))try{return(t||JSON.parse)(e),Hn.trim(e)}catch(We){if("SyntaxError"!==We.name)throw We}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||gr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Hn.isResponse(e)||Hn.isReadableStream(e))return e;if(e&&Hn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(We){if(n){if("SyntaxError"===We.name)throw Xn.from(We,Xn.ERR_BAD_RESPONSE,this,null,this.response);throw We}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Hn.forEach(["delete","get","head","post","put","patch"],e=>{gr.headers[e]={}});const yr=gr,vr=Hn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),br=Symbol("internals");function jr(e){return e&&String(e).trim().toLowerCase()}function wr(e){return!1===e||null==e?e:Hn.isArray(e)?e.map(wr):String(e)}function Nr(e,t,n,r,a){return Hn.isFunction(r)?r.call(this,t,n):(a&&(t=n),Hn.isString(t)?Hn.isString(r)?-1!==t.indexOf(r):Hn.isRegExp(r)?r.test(t):void 0:void 0)}class kr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=jr(t);if(!a)throw new Error("header name must be a non-empty string");const s=Hn.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=wr(e))}const s=(e,t)=>Hn.forEach(e,(e,n)=>a(e,n,t));if(Hn.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Hn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&vr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Hn.isObject(e)&&Hn.isIterable(e)){let n,r,a={};for(const t of e){if(!Hn.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Hn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=jr(e)){const n=Hn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Hn.isFunction(t))return t.call(this,e,n);if(Hn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=jr(e)){const n=Hn.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=jr(e)){const a=Hn.findKey(n,e);!a||t&&!Nr(0,n[a],a,t)||(delete n[a],r=!0)}}return Hn.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Nr(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Hn.forEach(this,(r,a)=>{const s=Hn.findKey(n,a);if(s)return t[s]=wr(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=wr(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Hn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Hn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[br]=this[br]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=jr(e);t[r]||(!function(e,t){const n=Hn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Hn.isArray(e)?e.forEach(r):r(e),this}}kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Hn.reduceDescriptors(kr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Hn.freezeMethods(kr);const Sr=kr;function _r(e,t){const n=this||yr,r=t||n,a=Sr.from(r.headers);let s=r.data;return Hn.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Cr(e){return!(!e||!e.__CANCEL__)}function Or(e,t,n){Xn.call(this,null==e?"canceled":e,Xn.ERR_CANCELED,t,n),this.name="CanceledError"}Hn.inherits(Or,Xn,{__CANCEL__:!0});const Ar=Or;function Pr(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Xn("Request failed with status code "+n.status,[Xn.ERR_BAD_REQUEST,Xn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Er=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];a||(a=l),n[s]=o,r[s]=l;let d=i,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),l-a<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const Tr=function(e,t){let n,r,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=s?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},s-t)))},()=>n&&i(n)]},Mr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Er(50,250);return Tr(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,o=s-r,l=a(o);r=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&s<=i?(i-s)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Ir=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Dr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hn.asap(()=>e(...n))},Fr=fr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,fr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,Rr=fr.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const i=[e+"="+encodeURIComponent(t)];Hn.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Hn.isString(r)&&i.push("path="+r),Hn.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Lr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Br=e=>e instanceof Sr?qe({},e):e;function Ur(e,t){t=t||{};const n={};function r(e,t,n,r){return Hn.isPlainObject(e)&&Hn.isPlainObject(t)?Hn.merge.call({caseless:r},e,t):Hn.isPlainObject(t)?Hn.merge({},t):Hn.isArray(t)?t.slice():t}function a(e,t,n,a){return Hn.isUndefined(t)?Hn.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!Hn.isUndefined(t))return r(void 0,t)}function i(e,t){return Hn.isUndefined(t)?Hn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>a(Br(e),Br(t),0,!0)};return Hn.forEach(Object.keys(qe(qe({},e),t)),function(r){const s=l[r]||a,i=s(e[r],t[r],r);Hn.isUndefined(i)&&s!==o||(n[r]=i)}),n}const zr=e=>{const t=Ur({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:i,auth:o}=t;if(t.headers=i=Sr.from(i),t.url=ir(Lr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Hn.isFormData(n))if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Hn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(fr.hasStandardBrowserEnv&&(r&&Hn.isFunction(r)&&(r=r(t)),r||!1!==r&&Fr(t.url))){const e=a&&s&&Rr.read(s);e&&i.set(a,e)}return t},qr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=zr(e);let a=r.data;const s=Sr.from(r.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function x(){if(!f)return;const r=Sr.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Pr(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(n(new Xn("Request aborted",Xn.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Xn(r,Xn.ERR_NETWORK,e,f);a.event=t||null,n(a),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||lr;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Xn(t,a.clarifyTimeoutError?Xn.ETIMEDOUT:Xn.ECONNABORTED,e,f)),f=null},void 0===a&&s.setContentType(null),"setRequestHeader"in f&&Hn.forEach(s.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Hn.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),p&&([l,d]=Mr(p,!0),f.addEventListener("progress",l)),m&&f.upload&&([o,c]=Mr(m),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{f&&(n(!t||t.type?new Ar(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===fr.protocols.indexOf(g)?n(new Xn("Unsupported protocol "+g+":",Xn.ERR_BAD_REQUEST,e)):f.send(a||null)})},Wr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Xn?t:new Ar(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Xn("timeout ".concat(t," of ms exceeded"),Xn.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:o}=r;return o.unsubscribe=()=>Hn.asap(i),o}};function Vr(e,t){this.v=e,this.k=t}function Hr(e){return function(){return new Gr(e.apply(this,arguments))}}function Gr(e){var t,n;function r(t,n){try{var s=e[t](n),i=s.value,o=i instanceof Vr;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,i){var o={key:e,arg:a,resolve:s,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Kr(e){return new Vr(e,0)}function Yr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Vr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Xr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Jr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Jr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Jr=function(e){this.s=e,this.n=e.next},Jr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Jr(e)}Gr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Gr.prototype.next=function(e){return this._invoke("next",e)},Gr.prototype.throw=function(e){return this._invoke("throw",e)},Gr.prototype.return=function(e){return this._invoke("return",e)};const Qr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Zr=function(){var e=Hr(function*(e,t){var n,r=!1,a=!1;try{for(var s,i=Xr($r(e));r=!(s=yield Kr(i.next())).done;r=!1){const e=s.value;yield*Yr(Xr(Qr(e,t)))}}catch(o){a=!0,n=o}finally{try{r&&null!=i.return&&(yield Kr(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),$r=function(){var e=Hr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Yr(Xr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Kr(t.read());if(e)break;yield n}}finally{yield Kr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ea=(e,t,n,r)=>{const a=Zr(e,t);let s,i=0,o=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return o(),void e.close();let s=r.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),a.return())},{highWaterMark:2})},{isFunction:ta}=Hn,na=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Hn.global),{ReadableStream:ra,TextEncoder:aa}=Hn.global,sa=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(We){return!1}},ia=e=>{e=Hn.merge.call({skipUndefined:!0},na,e);const{fetch:t,Request:n,Response:r}=e,a=t?ta(t):"function"===typeof fetch,s=ta(n),i=ta(r);if(!a)return!1;const o=a&&ta(ra),l=a&&("function"===typeof aa?(c=new aa,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=s&&o&&sa(()=>{let e=!1;const t=new n(fr.origin,{body:new ra,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&sa(()=>Hn.isReadableStream(new r("").body)),m={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Xn("Response type '".concat(e,"' is not supported"),Xn.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=Hn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Hn.isBlob(e))return e.size;if(Hn.isSpecCompliantForm(e)){const t=new n(fr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Hn.isArrayBufferView(e)||Hn.isArrayBuffer(e)?e.byteLength:(Hn.isURLSearchParams(e)&&(e+=""),Hn.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:i,data:o,signal:l,cancelToken:c,timeout:h,onDownloadProgress:f,onUploadProgress:x,responseType:g,headers:y,withCredentials:v="same-origin",fetchOptions:b}=zr(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let w=Wr([l,c&&c.toAbortSignal()],h),N=null;const k=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let S;try{if(x&&d&&"get"!==i&&"head"!==i&&0!==(S=await p(y,o))){let e,t=new n(a,{method:"POST",body:o,duplex:"half"});if(Hn.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=Ir(S,Mr(Dr(x)));o=ea(t.body,65536,e,n)}}Hn.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in n.prototype,l=qe(qe({},b),{},{signal:w,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?v:void 0});N=s&&new n(a,l);let c=await(s?j(N,b):j(a,l));const h=u&&("stream"===g||"response"===g);if(u&&(f||h&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Hn.toFiniteNumber(c.headers.get("content-length")),[n,a]=f&&Ir(t,Mr(Dr(f),!0))||[];c=new r(ea(c.body,65536,n,()=>{a&&a(),k&&k()}),e)}g=g||"text";let _=await m[Hn.findKey(m,g)||"text"](c,e);return!h&&k&&k(),await new Promise((t,n)=>{Pr(t,n,{data:_,headers:Sr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(_){if(k&&k(),_&&"TypeError"===_.name&&/Load failed|fetch/i.test(_.message))throw Object.assign(new Xn("Network Error",Xn.ERR_NETWORK,e,N),{cause:_.cause||_});throw Xn.from(_,_&&_.code,e,N)}}},oa=new Map,la=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let i,o,l=s.length,c=oa;for(;l--;)i=s[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:ia(t)),c=o;return o},ca=(la(),{http:null,xhr:qr,fetch:{get:la}});Hn.forEach(ca,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(We){}Object.defineProperty(e,"adapterName",{value:t})}});const da=e=>"- ".concat(e),ua=e=>Hn.isFunction(e)||null===e||!1===e,ma=(e,t)=>{e=Hn.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let i=0;i<n;i++){let n;if(r=e[i],a=r,!ua(r)&&(a=ca[(n=String(r)).toLowerCase()],void 0===a))throw new Xn("Unknown adapter '".concat(n,"'"));if(a&&(Hn.isFunction(a)||(a=a.get(t))))break;s[n||"#"+i]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(da).join("\n"):" "+da(e[0]):"as no adapter specified";throw new Xn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function pa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ar(null,e)}function ha(e){pa(e),e.headers=Sr.from(e.headers),e.data=_r.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ma(e.adapter||yr.adapter,e)(e).then(function(t){return pa(e),t.data=_r.call(e,e.transformResponse,t),t.headers=Sr.from(t.headers),t},function(t){return Cr(t)||(pa(e),t&&t.response&&(t.response.data=_r.call(e,e.transformResponse,t.response),t.response.headers=Sr.from(t.response.headers))),Promise.reject(t)})}const fa="1.12.2",xa={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xa[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ga={};xa.transitional=function(e,t,n){function r(e,t){return"[Axios v"+fa+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Xn(r(a," has been removed"+(t?" in "+t:"")),Xn.ERR_DEPRECATED);return t&&!ga[a]&&(ga[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},xa.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ya={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Xn("options must be an object",Xn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new Xn("option "+s+" must be "+n,Xn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Xn("Unknown option "+s,Xn.ERR_BAD_OPTION)}},validators:xa},va=ya.validators;class ba{constructor(e){this.defaults=e||{},this.interceptors={request:new or,response:new or}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(We){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ur(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&ya.assertOptions(n,{silentJSONParsing:va.transitional(va.boolean),forcedJSONParsing:va.transitional(va.boolean),clarifyTimeoutError:va.transitional(va.boolean)},!1),null!=r&&(Hn.isFunction(r)?t.paramsSerializer={serialize:r}:ya.assertOptions(r,{encode:va.function,serialize:va.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ya.assertOptions(t,{baseUrl:va.spelling("baseURL"),withXsrfToken:va.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Hn.merge(a.common,a[t.method]);a&&Hn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Sr.concat(s,a);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[ha.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=ha.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return ir(Lr((e=Ur(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Hn.forEach(["delete","get","head","options"],function(e){ba.prototype[e]=function(t,n){return this.request(Ur(n||{},{method:e,url:t,data:(n||{}).data}))}}),Hn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Ur(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ba.prototype[e]=t(),ba.prototype[e+"Form"]=t(!0)});const ja=ba;class wa{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Ar(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new wa(function(t){e=t});return{token:t,cancel:e}}}const Na=wa;const ka={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ka).forEach(e=>{let[t,n]=e;ka[n]=t});const Sa=ka;const _a=function e(t){const n=new ja(t),r=an(ja.prototype.request,n);return Hn.extend(r,ja.prototype,n,{allOwnKeys:!0}),Hn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Ur(t,n))},r}(yr);_a.Axios=ja,_a.CanceledError=Ar,_a.CancelToken=Na,_a.isCancel=Cr,_a.VERSION=fa,_a.toFormData=er,_a.AxiosError=Xn,_a.Cancel=_a.CanceledError,_a.all=function(e){return Promise.all(e)},_a.spread=function(e){return function(t){return e.apply(null,t)}},_a.isAxiosError=function(e){return Hn.isObject(e)&&!0===e.isAxiosError},_a.mergeConfig=Ur,_a.AxiosHeaders=Sr,_a.formToJSON=e=>xr(Hn.isHTMLForm(e)?new FormData(e):e),_a.getAdapter=ma,_a.HttpStatusCode=Sa,_a.default=_a;const Ca=_a,Oa=Ca.create({baseURL:"/aiva/api",headers:{"Content-Type":"application/json"}});Oa.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t?e.headers.Authorization="Bearer ".concat(t):console.log("NO TOKEN FOUND"),e},e=>Promise.reject(e)),Oa.interceptors.response.use(e=>e,e=>{var t,n,r;return console.log("=== API ERROR DEBUG ==="),console.log("Status:",null===(t=e.response)||void 0===t?void 0:t.status),console.log("Error data:",null===(n=e.response)||void 0===n?void 0:n.data),401===(null===(r=e.response)||void 0===r?void 0:r.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)});const Aa=e=>Oa.get("/agents",{params:e}),Pa=e=>Oa.get("/agents/".concat(e)),Ea=(e,t)=>Oa.put("/agents/".concat(e),t),Ta=()=>Oa.get("/credits/balance"),Ma=Oa;var Ia=n(579);const Da=(0,a.createContext)(),Fa=()=>{const e=(0,a.useContext)(Da);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Ra=e=>{let{children:t}=e;const[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const e=JSON.parse(t);r(e),Oa.get("/auth/me").then(e=>{r(e.data.user),localStorage.setItem("user",JSON.stringify(e.data.user))}).catch(()=>{o()}).finally(()=>{i(!1)})}catch(n){o(),i(!1)}else i(!1)},[]);const o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return(0,Ia.jsx)(Da.Provider,{value:{user:n,login:async(e,t)=>{const n=await((e,t)=>Oa.post("/auth/login",{email:e,password:t}))(e,t),{token:a,user:s}=n.data;return localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),r(s),s},logout:o,loading:s},children:t})},La=n.p+"static/media/intellicon-logo.6628b3eecdda0677306b.png",Ba=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),{login:c}=Fa(),d=ee(),u=Z();return(0,Ia.jsxs)("div",{className:"intellicon-login-wrapper",children:[(0,Ia.jsx)("div",{className:"login-orb login-orb1"}),(0,Ia.jsx)("div",{className:"login-orb login-orb2"}),(0,Ia.jsx)("div",{className:"login-orb login-orb3"}),(0,Ia.jsx)("div",{className:"login-container",children:(0,Ia.jsxs)("div",{className:"login-card",children:[(0,Ia.jsxs)("div",{className:"visual-side",children:[(0,Ia.jsx)("div",{className:"cube-container",children:(0,Ia.jsxs)("div",{className:"cube",children:[(0,Ia.jsx)("div",{className:"cube-face face-front",children:(0,Ia.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAABrCAYAAAAVUo5zAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhDOTFGMzhBRjY4MzExRTU4RjZCRjBBNzM2QTdCOTFBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhDOTFGMzhCRjY4MzExRTU4RjZCRjBBNzM2QTdCOTFBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEM5MUYzODhGNjgzMTFFNThGNkJGMEE3MzZBN0I5MUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEM5MUYzODlGNjgzMTFFNThGNkJGMEE3MzZBN0I5MUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5V/ORdAAAesElEQVR42uxdC3RU1bnee58zSQghJBF5hCTlpWISxigIwxDQWgVEbNcFeQi1rlurXrVWELusy3tbe++laqtA9SJVbGtrqSDqui0SBK23SDKM+IrDJKBCwLwQhGQI4TVzzt73//99ZgIkkBHIS7OXmNeZmXO+/e/vf+5/c6UU6x7tO8zOfoMlO/Zn1YVlRnlNQ65kpqiqO5y1+2B4sFBSciZlSlJS4xUDkz+KKGZmJCXU5WX2LB8/NKOyMz8T72ySvvKDPZ5/VtRf7fusflxV6HgW3J2A/9xM2XC3BlwhmZA2k1w4T8AZPoMBP9oSfmQyoDhjqck9Gi7LTAxMGNJ3o3dIqq9wSHp1N+gnjGXFVVNWbKmZG/ziWL5kSrhYJN8G5GzDxYRtA64cwWQK8eeSQMYJ4HjrzmQouJ7DL2LX4cPRFMHrmRFI78HrJuf2XX9jfsbfp+QNKP9Ggv7X977w/uWjmltKPmvwMgGASduNEOH3gDsBZnObGQoBbQJWwO+ioMM3NCHRJ1DOz4z+zh3gLfi7w6I4YZIHvnVBj8o5V1y44mcTL1r5jQB95Xt7PL96s+Lhz0NHcjhzuVEyURo18ILkFCVYOLRB9MG1RGtAHVpR+jXRQa9jBv1eOPKOEs/pLXgMdPxZT45Rih8zd3TfFUtvyv/11xL0ovL63Af/Fny8MmTncFu5ubAJbBMk2WIaFAGgKRJUW/9MgJN0OhQD4HKmgSPacMEvAEChSNq5I+1RKddEYzggK/0afE/n/ej3SgQMblv3Txy6+OHrBv/lawP6lOWly3yffuk1mOGWAKJUmqNRGXKkEhJHDS5+FSilcA3+HaUWwUL4hILp4cDzCqaLN60KTTG2c62g6cOJEwh0lHJwQvD30VVDDCXoXuhn4P1ePUTDszNz75yS17e8y4K+7J3qKY++vfOhhsNWKgDrjnHxCfxL3C2Byw2ARABsNnyFiUD8ZQxIk7gZwcRrESzQAfr3MSUblWzgfRUBcA14D/g7TBCCitgS/Zzw2QonVYXhveBaYZBVZHMWmJLfp+ilWy97qMuBPvvPWx9fV75nMrOBt1HSuOXAkuAAqLnCAsF0KS2JtgMai9KBQyUgjQHNNwabMDTtHbhnQUrX4enPDxzLqa4/CualKRxAaYJJ6cLESJgonFD6m1An6QX6DIdycGXQ9AkeSEtkobV3jr4hPzO1sdODHqw5nHLXy8FlwT2H8+HHArKhAXCLaIFpChFNk6Af3nT4Fh5aGUF4eJmfmRIcNzij5PL+PT/MuiClunBo77js7E0VB3N8O7/0btx16KrNOw54gKZEdBI4AI8TEOVzwVWMdrS+0LQUpTyYkMDSWZfe8/0rBhR3WtDLahpSrl/+0brQ0XChUNqSII4VjgNDJCC0iUdmoEtLMiOpLM0f0Cs4Z1T2S3eNzyw6X/e0tnxv/pqy+qkvv1s1KyxcCS5m5UZpjr6edG8O76M1BcALbY4G5o7qv2LpzNxfdzrQi4L7c+9eXbas/og1AS0TBTzp3DRJjjRACdpcm4BNSo+8x7mXD1hx94SBz7TFUj5xLN9YM/Ep3+57a+sbM20lrlAGJx2iJZ/HbP4oHbEmyykw58p+K56ZkffrTgP62q1f5s/9y8cr4AbdKDkm3HQYlJ2AB1JCMpd0gYKSjiTZUekK3jJy4IvnU4K+imP28NodC+sPH89QwnAr22LCBFmXVswCIrojidFOmAKe//7I8yPx5wz61trG1CnL31t78DArRJMu5rAQd2ulZaCJJ6SWJjDNLuvfs3Th94Y/HC9PnzhkqDyZheszYBWBhW5aYMWYrN/Y2rO59wfXfnr37/5Zc6fJbLdNrG5REIJsf+R1tP9B93BlOgLDAnNG9l3xzKxzc6bOCfRAzaHU7z73/prQETmBkYMCN6dQUizgSE5KiZSUcD4DHJGHrhv06IPXDYnL/bar37xY1G3Nt/cVj1ehbcN5uCEVlJ0EO71QAjUICybSED4ytWXEdKVfXirTL/7E7uf1JQ6a7Y9LaGrqU+f8uXxFZSiSA/ob/AjbsaCE1knOJGjjibRP4KFv5zz64KShKzsE9MIl768oq22Yo30ax742IkArOljFwO4VBlksgbSkhNDrd+bdkD8w/cy8va8ky9712jRWVXS9itRngK0xWkUjiqByTRBsXDUUbSR7XlKEmiZZHgd7m773AS8L3scdMAZNf5VfcvuG1p7l+y98vHBt+YEpgEcBOWXcJqsqat6iZyxlAlhiEr8PvHhrwS035vYJtCvoN78QfPSN8n2TLSEKDCcSiEBItFoMu0lpKhUoyEor3XjfyFvP9H5WxcujRXDJfPtIdRaQUSHFTxR3AgQW+k7ouBDQaNsLsrUla1pEQAkw+8DRAI7FTADOZhRO8BuutJAafvtyM//+1850D4+/9dnshRuqHwZGz0cHCx0mHSpwuB0tMXK8GOudnFBc+chV49sN9GeKa6b8+5pPF9rKKoi64dLR/jqyJ52gqitYkNmj9J15nltO+2Zf+jLlB//5CxUKuGFFeGjVYHA8AvRBekD5LG6brrSCUpaSWSPTLt1uAJ+jJMOQaF2oo1VZrLF2oDpYniuP1WXA6z0uS4EyR8dLsYi+Rx9P7N1gXPSj5WLE6cFf8cGewh+vKntaS7ypQxIUrpBNATMJNGpYgcsGpJRunOe5tV1AH/Tz4o2ho0cnUGRQe4y0HCNgd5tR5wMo352ZHDgT4NZHP/+h3P7720CCvDhJ6JCgBIMVsUUlp4X4wOvXiQGT3hDZk7fHfXP1ZSlsr88b2f3yDFW/fTi8Z6FSehUKimgyv8gYETRHL57P0vNapLq/vF9beO/L25+WADzqI6ByeDZOE4jBOS1cgmjmZ9cOeRz01F/bFPQbngssLfnsy0JAx40aXkXj1EzHQ2gZAofnZSUHS+aNmXs6YGz/vMXy4DZ0VCiermzga6b8dsqg3eaIeb8Vg2f52bkO/JzPnv+RvXPlLKUM8By4V4oI3KOJkuIzAHhj6MwtLUr8+3sL71kVWGoJ060FSQfhyL3TnjNDfwSNg9Cvr7mszUBfU77ffcsfP3oRbVvu8DeZiejiY7DIBC6HpZfaw1Vc+cvx408HROQfN61WkdBkCSxiSlKPxaxnVrWRN3/x6UA41yGLb/u5rHxjEiher6lcTkZJ+tXQWavMMUuWtPSaH68qf2DFB7UgOKIApB6MBBAt2zghKorq2woUDk0vfv3fRt3TJqC7H9u8pvLAkakUMwGgUaNjmJWieVIrUzCygpvvGzM2b2BKs6Urd670RLb89DcgMoWaSijeUWxcctvvjSseeeGrgBjZ+uRNIrh4PkifBCAF7zfWb6SP2Gr3ueJDV/aNLVsVVeuHR96bv5gfO5QiuVWIFEFcP2jmKtOz6KmWXjJhif/FrbVH8m1uFwjlhA50sD8W5jC4KH39tvwbx118YfV5BX3Ve3s8d7y8/VmAya1DsNqUwrg2KVIOpqIUgd9879Kf3l6YtaG5U1OWYq2buB5e6OUYaUQFmJi0gY/57X1m1lfg7GhqLrBoWqTsN68airi16YGY4WOuXg0y57o3XaOfWtTSa8PrJi7nB4P5QDke9CVcwt5iD5q52uV5+omWrs9+ZOOmxiN2IUo72eq29vvQuqHQNKz2nD5JRcEHJ9wQz72LeB/yv97c+R+gLN1ot2L4m5IIBm9KIMCSHXtxhq8lwFV9ebIFlGIww4tJNcrmJyVtcF3z2vSzAdzJCiE5UXhBkh3tojiJLZjXshoms4rXptt/HVgi/ff/5NTXJly/4XY2eOYqkFsfhlhs2zVa7frf71nBRdNa+qyfXTv4cfhSirEkdIApTGDoyKgWepNV7Y9kFQXrcuO5d+ORRx5p9aKX3qvxrvxw32ypRH/GtQllOE4JGGbwNRF+bQVe+kHBnH69Eo43A33j3GfY4cqZuDwxfWa7UjaY17w6nWfkn3WAiwtRp5KzNrtScvx2Ymq5OFQFZob5ORBPjnbbVTbovWwe2t7L/uS5mSz1kvdE6tADsQfPmuyXR6tSWf0nQDUsB5Zejvhic7ZIy/Wz3hd9eeJnjc7p/ek7u+oKqg4cG2UInd3C2Y06TRQg4Krf/kZL3Tyq/7rzQi9XLfH/6eM9jT/QkUOdAkMnBPncCdMG5o7OWbF0xiXNYhLWu/PmWbtWz0DLAReWMHtsYN+Bn9PdDedbWarq9cNZTdGU8K5XpqOZB/rC2xQ7sfyu/AVP8hEPvHLS/ZX86y/55+sm29w12kCzNyG9KGlaWTOaKN55MGvqsx+shYd3cycOT6k+h9pQOYPTFii574pxrUVLW6UXjK8EahvdOobilD9QICuiA/6kVA3WEuBs7+ZMtnP1DJeUXrwWLAafMWbJ/LYAnCQoa9J20BGLEmfXjGNDZ6wGWHxo1iKYoEM8keBv70MhOPE15rg//kJdAI4XPoeExRI+mGZv+uHPm4U8hvauxvBuNMZEEk4xDp3ntTA0oSLuZcVVd8ct6Zsq6nNuXPbhGvoJTSO0CJlw1pDtRvNOu+ZkJtH3lM5lvBSW1EvPtBDytP4+ZpU8XD2T8vxK+hi44l/VSjknMzG0NVW+C9J9oCzX5syLwgH6xCc8S+aLITOaTNO68uTw+u/8w2SGB6tkAFefee3Ls1jfcSdZI5t21uVM/d1Ha4Db3bFcbXOiOMlywtI/xPHmkf1eWjYr77GTJH19cM9ETGuhZQgWmBuWTgGIByhO5m6qphLkFkdjzphtAeUlWgJcVazyAOBZBtERrJAUsMPbEXB6uLQRDeakDbfL7BvWCmZvUTK8hQ2ZteokwHFk5B7h+Q88GeG2X6cQhdf66Je/OPX9sEZy/LCMYjSPyYJrmZndJ/4DBipASnpj+95Jzejl/3Ye/rZyMuU0Q046i/45pRB65ljs9/jy/OykYIsuftn/3AP2jdeCZzC5WSw8T93HOmi4xj/3KzYEbPFhN790OnvcNWLBK2bS4N3RwB2GEOQ+oMdTA32wqkGflSop4zL+KNwN71l3yMr4eE9D2kmgb/uiMZdMP+HUR4F0Gpw1JY9PApvRdUAvwbu9OUubfdKuV0axQ59djNGORPhn9R+9RfQd8wXrwGGOeWoRuP1LznjRiHmLheQ+SyewC1XgyQWnXjJ35IBisNcFxzg76LVW+Vvq9Ah3GW7fZyFvDHTMoOOK0aUSsqkuBPmb62RELMzKdTYf84iwFqw5Vw70NU8+vH6jwRJG44QBR/owsse6wMAQBNIghjZMVGr7igtbum6Ku1+RkOGTyvpOz3FKV6mBL7lpd2h8DHTfzgNekEc3U8LJD+oaEQQ6VsAjdPw6Rj/wZrmZPVushLKq3rpWYWBJJTAGD3G2DlCHDOB8gMWnrbSEMNu+fOKpl0zNvWAtUkxcZixCDI4AejQf1zS6Y6BX1EWGUM0Hs516EIe/uc5x0gRIGSvMIdIBZ+zqIb03NpPyipUeDDRaFH8GKyd7yjrWhQYmOtAi5lQDGSmM1Lx5XUsUgwVPUrUu6ZjgQXbAkEFV/fGcGOi1ocYB5OzEytKa6gM1+FElajh2JnK6GfAM69M8/Lr/XQ+YZV6TuShtxgdPe411sYHx9tiK3repRYpJS04IoXPYap4XhRmTMSC0JrcsVKYEerC2Id+UFqyCBJJmSXlAMAllU6GQcGoGpVNbqFiEtZQjVPXbLqXIuNJlnxzMtq4Guurr2axzr5ieE1J+uSmnmc4dkBKIh9OpogCj3+Cg2VIUNByx6gn0+iNWBmZGKDYudbCe8p1UM67I8cIIm6IEcIQAj9V8nzqzdWW5jq3LRF+Pn3XBwS8cvQXdegMpRhhedmDb8FOvyR+YXMZUHFu20Ms1XJi6JENkW+0hTS8KJJyTA+TUb0dLy6Kvs3W2RDkrACkoOy2xxc1UhowkoDGJksLT88q6IugqqXdD2Ij4bRQujIjaobRTr0nt4WrgTMbBVZwS5VE/58tj8CusP+Qg4SjlVBkeTTAr4cRVeEyxYkrN5rr+e0h6UkWzSd33bn9pmpZ0uF+6ejV2RdCNC8dVm7ZpCeXkCup2DDv1mkFpSbtlHMFCnT9WzjYcHZc1645Zh2iDFJUNo8EvSWVS3TeCLHRxJRXlo9kopaYa0ZI7hkqAkQOAS5On5FSyLjqkAcSidOm06/iBC5olNnonxvVsFDIhfDHPCvSsSOq5Y4+bTU4RVa3aOnzLVcxup0onh4LAfTCbf4Ck6mPDKcTnKYMruiro0b1JZC4L02pGQUaCYLx1etG5ZO6EAzRTCF2Ab1DtdszFdySdLo7GXpzCfiV0QeVpFqZl0xYVXXhsH9/fp8uCjgYF1x45pYuagWnJ0xkTJ02OaqoKRnrArZpoRH4L3qCUqlSNJk806sJS8FZGtPlHN6A3Ugkd8WmWQnOxBGIvSqyEynO7LL3wKGinA1Y2XXTG2dMRWlz9+FYm1kqOH5ZWSXFzx/PUWwINvR0kuosNX+gkK840u7jelLJ9qLG1k2VI1mUHUKXUkVSeklV16l/9Ow56WByS7swcmd+Irc1MrQyFimBQBUsJ9I4zRtGvmHRLJZr27KAcw9fiivrmnlpfzxdR25S2JR7+PKcrwm3t9/dvknZJ8aNTrwkLkaC38MRLL+hgguYE1iDQbeESxOk2cyqXFFkoxO16c76OvShd2UTK9YxLC4xGrKg9WJ7XJU3G/WX58NQe+h6tjrQRzXIG5bWH88DEaZ1duBHbXmmDM5WXnaFBd/fvFZBU0A/mEToE0dgLgsxFLPnqEjovSOYj2EAlO+qymn1I37F+KmGG6+z6si7J6bIh4BZOKTbwsJ/1zG5mHlYdOJxFRkUc1ot2NrF23w6mJolsAj01xdUQ3fRqgfurnC3gWJ0d3aNJZqIUpFQZxVWMgsAXR93NllN/b4l0dj2bAL1dsza/y6GO5XeIBW6JdKWFeHrukVMvCexpcOMe1FYnMLpLG01okSCxGweBPmFQyibh5DJp7yWaiJbU9eC2VibS2cFMThPXezRLduwb10yZgqTD3/16+7nwiOq3r+lKeNs163ItqzFFUBWBYGYLoelNO0I5uGeVavFblXSDMkyCyggtGQvt5qQnVzr75CnDTzMjtJMknSJ7VKRILBp8XeW0cffhCS2AXqtcvUO2sChKaVW9MalLxV2q108UVKODtei2386+9q1TrynatncKiKQ7HtvFaf5AuGFSOwZ6fmbvIExEIFoQqhzJdrwEHWWU+m/OjFEgqPFIOGVrdWNqs0TAwEnrdUESrJpIKM3+pHn2pdPyecXqGWgq0jb5hLSQmXl9s+yYb2f9WFzpPE6TMWrB5Gb2LIuBPiKzZ0NaclJI8BOa12DWhxnOhicdWaSAvJPqYNrrLHim5PNmxTX8ktufZ9xVzLWt72WfYuF/FzAVg4unoX1OGwOZ9BuDMXV38ti6pyH145rDBTgr8ZTe8mjrFFAD4wdf0CTpOMYN6V1sI8hOYloXE+k67DP9W1te16wEjafnNfI+V25RzoYg2VCdFSl74qZOTy3bn78NuNxDkDMhW6rTWfH+3jnKUG6MpeNOvNbwiXbcQOPjhrw+wZNALxycVgKyW0ohXZJiU++ddyT9dP8OHY2kvPT+Hu+pN+dy//Q3EtN1FBxQXr79D51a2u3AkzdJK5SmY+QWluitb+m6le/X3kzeusFO2Pp4hn9ONw73wF6xLFsskHPXhJyig8eOp+pkBpMRbiQYKmyBLXrGihpw9C071lbiZO/U7DPWr/a968WHkOFDKXLr4mlixPxOmTOVnEtX3oInQZktdmHMKfuGZv0JULhCxyJpLqxdBHkcP+yCZ8YN7V3SSuAMjBwh3P17BpoimG3Y78Xe68u0356xGkxILymThNQNrumfdClr5sQxYmHxmsoGa6pB2+/t0jX/NvLGs+mCJ9ryJo1+3lrXwCnrAHA/hQUijSky2Pm5vaXx2Iads6sajuVweZxcnrEX9fWfbdtB0dY3yycs/2/aM4LhYFt52SfP3dkVQV9aXHMP8ISbmvYIHnj46pyFZ/teoj1u2JUzcxW41H4hTGYBt6t3F/ykKwE+98+lCxuPhVPQWOZCBcYPS3tn3EVp1Z0adD520VPgnUrdhc70RCpWzuoqgKPyXFu2fypYIFjyzFJ7GA1r7rji3nN5T9FeNy8vmr0KVLlfJ/KkUP6f/rizA45tVR76+85HQSe5TQxuGSLQYpXyVxXC9myGGX7tojeN8OFrpY0785SPtql04lGwsORvnx88+l0d2JIB70UZvnV3XH7Xub6vaM+HEBfftQzsYD+19cDH8P/k/s4K+IQlW17cHToyyFK60Co9WYTOB+DtLukk7auHr+d240TdyFIUJ9xcNb6jgC0q25cbqDmky5e5klPy+hflZ6Y00m7CmkMFuB3fVBb6p4GiO0beMG5YRnWXBJ19/ORN4fInFmCMQxnSLwfPWpU4esmSduXqPQ2pc/8UWFF54GiObRhuTJ87LQNLeyUbjYeO2CmMuwqwp5dkRvDZWRffefOoTN95Myw6oqt0+NVL1xnhQ5N1+Jf7XLOr243bg7WNKeOWlJQwZbr1/n7sipGoOxhhPkEAzNJ0tgCpwLJZuXfdPGqA73zeg+iIZS2yJq23mfJF21C1p5eKEi5UInXx4BSydsVayApsxSZ17y7QOKVLZ196z/kGvMNAx1YfikuhI7/Ca1W8Or1dOHzbvtzKunAOVR8bukdBbDOydLJk9LPNevVIapw7MrO4TYSuo5SY2WccSToV3x/ePUhhR6I2HqXVoBy5LECwsTYH+JwAx0ZvOgEf0eWDymQHjxxPRTv9awU6p23kLLp0PWzXK+1AMTpBQ+1SqFzwuG5uH+2+dkLHazBr5cFjka8X6NguCjvQYUk1daDb5xvb1p+Z3iM5xAwViG1AFi5qmUKFso5+ifUGZgmirQ4v6TDQcVgDxtJuB2rvVxds8/qYuwoHFmHrQm5IvYdK6pJwrGijzQ5COVaMjdtbgm0mcB0JunGhZzO138MTi5DfW9gWfr7H3VdlL7VtFaTiT+xqjeDDSsPmaGgy0s4J5Sp9bOolD34tQeeYeMdaQd3U0uvs5GjT8aupFz93eVb6hxp4i/ZR6Vofg+p8DMFKn545/N6z6QPcNUDvP9bPWaLeDEU1N6JdSqs33nflrQ9PGrRwYHpiEQayDMVL0RECN/93f7vj8u99/8r+xW363B16uNTezZnW29NqVLSy9ao/5LVU3NPWY1tNKPnSgWlH2s2I6EhJp708WD+CvXHRhNvffL9me4z2BLzj6QUjHVgozxOoutWId2dDFx+iYz9eCu5UC6PlEBaqG/S2HsrMqFPKKG6yZmyzG/S2/vD04cc4nYNg00ldnCWEvwmgd7hkcWUDxeD+yggzw/VpbUZk5HjR0Q7ibM/Q+JpwOnreLsumc4Y4i9Sub5OSO1X5xnD5j2mv2m//yx5sPyud3XPfWNDt7Inr8SZoh+Whyhy1/ffXnncp/2z57TZneLqXPtrB6NhGER1/8i46SCB92JhYt2qV1MlfGb0aKJvGWjMjBW4Xl5JZJjAHNicQ1PuW+vsDm4Q+drPI8SSuIoV4lKZKSHnDnF5+/Tea05FfVX+P3/jCj4BjP16P2l/uYfrUGOd0lzMtVX2Woz5+gcV6junthnpzLacDokws2PaZ+Que/Ibb6Xq4rnl1geqTVy7wvArdH4xJPH0ljh3J0tmKeeKjcDydi4JZjKwiSlwIAHzY9FeNS257q+ONh050mrq1Y5WHV66eYe/d7NEhV8zNtxYEcyySqNIUSuiWIRw93TBL6btPpuVvNS65/Xnc+dcZnrPTHWHf7Rx1j6+pIm2JpytWj1YVq2dIAY5TKw0nsaeeQX0p9Um9hkoIc3UsKWwY0pU6YqsY+YsXukGPx5lpBHt93+YHlKHovNBWlyq1t9L7XqOql5ocSvGE6Jb0OBUNJooFniaj+xHEMU1UqcWcw7+pnyImvLktuukl3tEzu5r3LVxErSDi0PNIMSJm5Qg6JQRpSfQesbVTClW39dIt6U02+35/fyFVHPQgyN3HpDae7KV/xSWnc5Z7HOuMvX47pyLd+sRNbOvi+RbXpzeeaRjUwwAPtzLJg9V9JbEiN4mZF45axK59ZUE36PGpRUTaKxh2UTJauRabRoiYJUOtrqi3VgSbm8nEbnqJ007nzpl41JYwrleA6rSZiV2enWoxat7GIp3y+TrnTV04ZouRd//0iNAc7aI9qPA/Qx9pTD3JFYYTDQvoW4SBUvCITX1OqJAmvM7GA8B7ZFd3xufrtl66Jf005PGPWY+Dx2mCyjQFTzwmpWXqbs0oNdp6YdwVVuposhj52IOY8O4G/RxHZO/Gq8HLHE2HpSinNyT12aLj5KnqVq9buMqqw2Msa7tBP8chqPzO2fBLLZqw0tfJFkknS6R0V38ueTe9nBfQMYqolA97yaLDBGrTsrktDGniEQfCxuJT1KtC9x0zOvnzdCvSDhj/L8AAOUrdLD6FiTAAAAAASUVORK5CYII=",alt:"Logo"})}),(0,Ia.jsx)("div",{className:"cube-face face-back",children:(0,Ia.jsx)("span",{className:"icon",children:"\ud83d\udcac"})}),(0,Ia.jsx)("div",{className:"cube-face face-right",children:(0,Ia.jsx)("span",{className:"icon",children:"\ud83d\udcde"})}),(0,Ia.jsx)("div",{className:"cube-face face-left",children:(0,Ia.jsx)("span",{className:"icon",children:"\ud83c\udf10"})}),(0,Ia.jsx)("div",{className:"cube-face face-top",children:(0,Ia.jsx)("span",{className:"icon",children:"\u26a1"})}),(0,Ia.jsx)("div",{className:"cube-face face-bottom",children:(0,Ia.jsx)("span",{className:"icon",children:"\ud83e\udd16"})})]})}),(0,Ia.jsxs)("div",{className:"visual-text",children:[(0,Ia.jsx)("h2",{className:"visual-title",children:"Intellicon AiVA Platform"}),(0,Ia.jsxs)("p",{className:"visual-subtitle",children:["Next-generation AI communication platform",(0,Ia.jsx)("br",{}),"powered by intelligent voice and chat technology"]})]}),(0,Ia.jsxs)("div",{className:"stats",children:[(0,Ia.jsxs)("div",{className:"stat-item",children:[(0,Ia.jsx)("span",{className:"stat-number",children:"99.9%"}),(0,Ia.jsx)("span",{className:"stat-label",children:"Uptime"})]}),(0,Ia.jsxs)("div",{className:"stat-item",children:[(0,Ia.jsx)("span",{className:"stat-number",children:"50K+"}),(0,Ia.jsx)("span",{className:"stat-label",children:"Users"})]}),(0,Ia.jsxs)("div",{className:"stat-item",children:[(0,Ia.jsx)("span",{className:"stat-number",children:"24/7"}),(0,Ia.jsx)("span",{className:"stat-label",children:"Support"})]})]})]}),(0,Ia.jsxs)("div",{className:"form-side",children:[(0,Ia.jsxs)("div",{className:"form-header",children:[(0,Ia.jsx)("div",{className:"login-logo",children:(0,Ia.jsx)("img",{src:La,alt:"Intellicon"})}),(0,Ia.jsx)("h1",{className:"form-title",children:"Welcome back"}),(0,Ia.jsx)("p",{className:"form-subtitle",children:"Sign in to your account to continue"})]}),(0,Ia.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0);try{var r,a;await c(e,n),rn.success("Welcome back!");const t=(null===(r=u.state)||void 0===r||null===(a=r.from)||void 0===a?void 0:a.pathname)||"/";d(t,{replace:!0})}catch(o){var s,i;rn.error((null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||"Login failed")}finally{l(!1)}},children:[(0,Ia.jsxs)("div",{className:"input-group",children:[(0,Ia.jsx)("label",{className:"input-label",children:"Email address"}),(0,Ia.jsxs)("div",{className:"input-wrapper",children:[(0,Ia.jsx)("span",{className:"input-icon",children:"\ud83d\udce7"}),(0,Ia.jsx)("input",{type:"email",placeholder:"name@company.com",value:e,onChange:e=>t(e.target.value),required:!0})]})]}),(0,Ia.jsxs)("div",{className:"input-group",children:[(0,Ia.jsx)("label",{className:"input-label",children:"Password"}),(0,Ia.jsxs)("div",{className:"input-wrapper",children:[(0,Ia.jsx)("span",{className:"input-icon",children:"\ud83d\udd12"}),(0,Ia.jsx)("input",{type:"password",placeholder:"Enter your password",value:n,onChange:e=>r(e.target.value),required:!0})]})]}),(0,Ia.jsxs)("div",{className:"form-options",children:[(0,Ia.jsxs)("label",{className:"checkbox-wrapper",children:[(0,Ia.jsx)("input",{type:"checkbox",checked:s,onChange:e=>i(e.target.checked)}),(0,Ia.jsx)("span",{className:"checkbox-label",children:"Remember me"})]}),(0,Ia.jsx)("a",{href:"#",className:"forgot-link",children:"Forgot password?"})]}),(0,Ia.jsx)("button",{type:"submit",className:"login-button",disabled:o,children:o?"Signing in...":"Sign in to AiVA"})]})]})]})})]})};function Ua(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var za={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qa=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Wa=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Va=(e,t)=>{const n=(0,a.forwardRef)((n,r)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d}=n,u=Ua(n,qa);return(0,a.createElement)("svg",qe(qe({ref:r},za),{},{width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat(Wa(e)),c].join(" ")},u),[...t.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(d)?d:[d]])});return n.displayName="".concat(e),n},Ha=Va("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ga=Va("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Ka=Va("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ya=Va("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Xa=()=>{const[e,t]=(0,a.useState)({balance:0,agents:0,calls:0,totalCost:0}),[n,r]=(0,a.useState)(!0);(0,a.useEffect)(()=>{s()},[]);const s=async()=>{try{const[n,r,a]=await Promise.all([Ta(),(e=30,Oa.get("/calls/stats/summary",{params:{days:e}})),Aa({is_active:!0})]);t({balance:n.data.balance,agents:a.data.agents.length,calls:r.data.total_calls,totalCost:r.data.total_cost})}catch(n){console.error("Failed to load dashboard:",n)}finally{r(!1)}var e},i=[{name:"Credit Balance",value:"$".concat(e.balance.toFixed(2)),icon:Ha,color:"bg-green-500",link:"/credits"},{name:"Active Agents",value:e.agents,icon:Ga,color:"bg-blue-500",link:"/agents"},{name:"Total Calls (30d)",value:e.calls,icon:Ka,color:"bg-purple-500",link:"/calls"},{name:"Total Cost (30d)",value:"$".concat(e.totalCost.toFixed(2)),icon:Ya,color:"bg-orange-500",link:"/calls"}];return n?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of your agent management system"})]}),(0,Ia.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:i.map(e=>{const t=e.icon;return(0,Ia.jsx)(Me,{to:e.link,className:"overflow-hidden bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:(0,Ia.jsx)("div",{className:"p-6",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 p-3 rounded-md ".concat(e.color),children:(0,Ia.jsx)(t,{className:"w-6 h-6 text-white"})}),(0,Ia.jsxs)("div",{className:"flex-1 ml-5",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,Ia.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:e.value})]})]})})},e.name)})}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,Ia.jsxs)(Me,{to:"/agents/new",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Ia.jsx)(Ga,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Ia.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Create New Agent"})]}),(0,Ia.jsxs)(Me,{to:"/credits",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Ia.jsx)(Ha,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Ia.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Manage Credits"})]}),(0,Ia.jsxs)(Me,{to:"/calls",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Ia.jsx)(Ka,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Ia.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"View Call Logs"})]})]})]})]})},Ja=Va("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qa=Va("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Za=Va("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),$a=Va("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),es=Va("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ts=Va("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ns=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)("all");(0,a.useEffect)(()=>{o()},[s]);const o=async()=>{try{const e="all"!==s?{is_active:"active"===s}:{},n=await Aa(e);t(n.data.agents)}catch(e){rn.error("Failed to load agents")}finally{r(!1)}},l=async e=>{var t;if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await(t=e.id,Oa.delete("/agents/".concat(t))),rn.success("Agent deleted"),o()}catch(n){rn.error("Failed to delete agent")}};return n?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agents"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your AI voice agents"})]}),(0,Ia.jsxs)(Me,{to:"/agents/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-5 h-5 mr-2"}),"New Agent"]})]}),(0,Ia.jsxs)("div",{className:"flex space-x-4",children:[(0,Ia.jsx)("button",{onClick:()=>i("all"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("all"===s?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"All"}),(0,Ia.jsx)("button",{onClick:()=>i("active"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("active"===s?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"Active"}),(0,Ia.jsx)("button",{onClick:()=>i("inactive"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("inactive"===s?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"Inactive"})]}),(0,Ia.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,Ia.jsx)("ul",{className:"divide-y divide-gray-200",children:0===e.length?(0,Ia.jsx)("li",{className:"p-8 text-center text-gray-500",children:"No agents found. Create your first agent to get started."}):e.map(e=>(0,Ia.jsx)("li",{className:"p-6 hover:bg-gray-50",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,Ia.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})]}),(0,Ia.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 space-x-4",children:[(0,Ia.jsxs)("span",{children:["Type: ",e.type]}),(0,Ia.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold ".concat("deepgram"===e.provider?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"deepgram"===e.provider?"Deepgram":"OpenAI"}),(0,Ia.jsxs)("span",{children:["Voice: ",e.voice||e.deepgram_voice||"N/A"]}),(0,Ia.jsxs)("span",{children:["Model: ",e.model||e.deepgram_model]})]}),(0,Ia.jsx)("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.instructions})]}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,Ia.jsx)("button",{onClick:()=>(async e=>{try{await Ea(e.id,{is_active:!e.is_active}),rn.success("Agent ".concat(e.is_active?"deactivated":"activated")),o()}catch(t){rn.error("Failed to update agent")}})(e),className:"p-2 text-gray-400 hover:text-gray-600",title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,Ia.jsx)(Qa,{className:"w-5 h-5"}):(0,Ia.jsx)(Za,{className:"w-5 h-5"})}),(0,Ia.jsx)(Me,{to:"/agents/".concat(e.id),className:"p-2 text-gray-400 hover:text-gray-600",title:"Edit",children:(0,Ia.jsx)($a,{className:"w-5 h-5"})}),(0,Ia.jsxs)(Me,{to:"/agents/".concat(e.id,"/chat-integration"),className:"inline-flex items-center px-3 py-1.5 border border-primary-300 shadow-sm text-xs font-medium rounded text-primary-700 bg-primary-50 hover:bg-primary-100",title:"Chat Integration",children:[(0,Ia.jsx)(es,{className:"w-3 h-3 mr-1"}),"Chat"]}),(0,Ia.jsxs)("button",{onClick:()=>l(e),className:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-xs font-medium rounded text-red-700 bg-red-50 hover:bg-red-100",children:[(0,Ia.jsx)(ts,{className:"w-3 h-3 mr-1"}),"Delete"]}),(0,Ia.jsx)("button",{onClick:()=>l(e),className:"p-2 text-red-400 hover:text-red-600",title:"Delete",children:(0,Ia.jsx)(ts,{className:"w-5 h-5"})})]})]})},e.id))})})]})},rs=Va("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),as=Va("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ss=Va("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),is=Va("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),os=e=>Ma.get("/knowledge",{params:e}),ls=e=>Ma.get("/knowledge/".concat(e)),cs=(e,t,n)=>Ma.post("/knowledge/".concat(e,"/documents"),t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n}),ds=e=>Ma.post("/knowledge/search",e),us=e=>Ma.get("/knowledge/".concat(e,"/stats")),ms=async(e,t,n)=>{try{const r={headers:{"Content-Type":"multipart/form-data"}};n&&(r.onUploadProgress=n);const a=await Ma.post("/knowledge/".concat(e,"/images/upload"),t,r);return a.data.data||a.data}catch(r){throw console.error("Upload image error:",r),r}},ps=()=>Ma.get("/conversation-strategy/presets"),hs=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cheap)",cost:"$0.15 / $0.60 per 1M tokens"},{value:"gpt-4o",label:"GPT-4o (Most Capable)",cost:"$2.50 / $10.00 per 1M tokens"},{value:"gpt-4-turbo",label:"GPT-4 Turbo",cost:"$10.00 / $30.00 per 1M tokens"},{value:"gpt-4",label:"GPT-4",cost:"$30.00 / $60.00 per 1M tokens"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo (Legacy)",cost:"$0.50 / $1.50 per 1M tokens"},{value:"o1-mini",label:"o1 Mini (Reasoning)",cost:"$3.00 / $12.00 per 1M tokens"},{value:"o1",label:"o1 (Advanced Reasoning)",cost:"$15.00 / $60.00 per 1M tokens"}],fs=()=>{var e,t,n,r,s,i,o,l,c,d,u,m,p,h,f,x,g,y,v,b,j,w,N,k,S,_,C,O,A,P,E,T,M;const{id:I}=ne(),D=ee(),[F,R]=(0,a.useState)(!1),[L,B]=(0,a.useState)(!1),[U,z]=(0,a.useState)(!1),[q,W]=(0,a.useState)([]),[V,H]=(0,a.useState)([]),[G,K]=(0,a.useState)(!1),[Y,X]=(0,a.useState)(!1),[J,Q]=(0,a.useState)({name:"",type:"sales",instructions:"",voice:"shimmer",language:"ur",model:"gpt-4o-mini-realtime-preview-2024-12-17",model:"gpt-4o-mini",provider:"openai",deepgram_model:"nova-2",deepgram_voice:"aura-asteria-en",deepgram_language:"en",temperature:.6,max_tokens:4096,vad_threshold:.5,silence_duration_ms:500,greeting:"",kb_id:null}),[Z,$]=(0,a.useState)([]),[te,re]=(0,a.useState)(!1),[ae,se]=(0,a.useState)(null),[ie,oe]=(0,a.useState)(!1),[le,ce]=(0,a.useState)(!1),[de,ue]=(0,a.useState)(""),[me,pe]=(0,a.useState)(!1),[he,fe]=(0,a.useState)(0),[xe,ge]=(0,a.useState)({name:"",description:"",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"json",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{},required:[]}}),[ye,ve]=(0,a.useState)({key:"",value:""}),[be,je]=(0,a.useState)(!1),[we,Ne]=(0,a.useState)([]),[ke,Se]=(0,a.useState)(""),[_e,Ce]=(0,a.useState)(!1),[Oe,Ae]=(0,a.useState)({key:"",value:"",type:"text"}),[Pe,Ee]=(0,a.useState)(""),[Te,Me]=(0,a.useState)(!1),[Ie,De]=(0,a.useState)({name:"",type:"string",description:"",required:!1,enum:"",properties:"",items:""}),[Fe,Re]=(0,a.useState)(!1);(0,a.useEffect)(()=>{Le()},[]);const Le=async()=>{try{K(!0);const e=await ps();e.success&&H(e.data)}catch(e){console.error("Error loading strategy presets:",e)}finally{K(!1)}},Ue=(e,t)=>{var n;Q(qe(qe({},J),{},{conversation_strategy:qe(qe({},J.conversation_strategy),{},{preference_collection:qe(qe({},(null===(n=J.conversation_strategy)||void 0===n?void 0:n.preference_collection)||{}),{},{[e]:t})})}))},ze=(e,t,n)=>{var r,a,s;const i=[...(null===(r=J.conversation_strategy)||void 0===r||null===(a=r.preference_collection)||void 0===a?void 0:a.preferences_to_collect)||[]];i[e]=qe(qe({},i[e]),{},{[t]:n}),Q(qe(qe({},J),{},{conversation_strategy:qe(qe({},J.conversation_strategy),{},{preference_collection:qe(qe({},null===(s=J.conversation_strategy)||void 0===s?void 0:s.preference_collection),{},{preferences_to_collect:i})})}))};(0,a.useEffect)(()=>{(async()=>{try{var e,t;const n=await os();W((null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.knowledge_bases)||[])}catch(n){console.error("Failed to load knowledge bases:",n),W([])}})()},[]),(0,a.useEffect)(()=>{I&&Ve()},[I]);const Ve=async()=>{try{R(!0);const t=(await Pa(I)).data.agent;"openai"===t.provider?Q(qe(qe({},t),{},{voice:t.voice||"shimmer",model:t.model||"gpt-4o-mini-realtime-preview-2024-12-17",chat_model:t.chat_model||"gpt-4o-mini",language:t.language||"en",kb_id:t.kb_id||null})):"deepgram"===t.provider?Q(qe(qe({},t),{},{deepgram_model:t.deepgram_model||"nova-2",deepgram_voice:t.deepgram_voice||"shimmer",deepgram_language:t.deepgram_language||"en",chat_model:t.chat_model||"gpt-4o-mini",kb_id:t.kb_id||null})):Q(qe(qe({},t),{},{provider:"openai",voice:t.voice||"shimmer",chat_model:t.chat_model||"gpt-4o-mini",model:t.model||"gpt-4o-mini-realtime-preview-2024-12-17",language:t.language||"en",kb_id:t.kb_id||null}));const n=await(e=I,Oa.get("/functions/agent/".concat(e)));$(n.data.functions||[])}catch(t){rn.error("Failed to load agent"),console.error(t)}finally{R(!1)}var e},He=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){se(e);let t=e.api_body_type||"json",n=[],r="";e.api_body&&("json"===t?r="string"===typeof e.api_body?e.api_body:JSON.stringify(e.api_body,null,2):"form-data"!==t&&"urlencoded"!==t||(n=Object.entries(e.api_body).map(e=>{let[t,n]=e;return{key:t,value:n,type:"text"}}))),ge({name:e.name,description:e.description,execution_mode:e.execution_mode,handler_type:e.handler_type,api_endpoint:e.api_endpoint||"",api_method:e.api_method||"POST",api_headers:Array.isArray(e.api_headers)?e.api_headers:e.api_headers?Object.entries(e.api_headers).map(e=>{let[t,n]=e;return{key:t,value:n}}):[],api_body_type:t,api_body:e.api_body,timeout_ms:e.timeout_ms,retries:e.retries,parameters:e.parameters}),Ne(n),Se(r),Ee(JSON.stringify(e.parameters,null,2))}else se(null),ge({name:"",description:"",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"json",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{},required:[]}}),Ne([]),Se(""),Ee(JSON.stringify({type:"object",properties:{},required:[]},null,2));re(!0)},Ge=async e=>{if(window.confirm("Delete this function?"))try{await(e=>Oa.delete("/functions/".concat(e)))(e),rn.success("Function deleted"),Ve()}catch(t){rn.error("Failed to delete function")}},Ke=e=>{const t=xe.api_headers.filter(e=>"content-type"!==e.key.toLowerCase());let n={key:"Content-Type",value:""};"json"===e?n.value="application/json":"urlencoded"===e?n.value="application/x-www-form-urlencoded":"form-data"===e&&(n.value="multipart/form-data"),n.value?ge(qe(qe({},xe),{},{api_body_type:e,api_headers:[...t,n]})):ge(qe(qe({},xe),{},{api_body_type:e}))},Ye=e=>{const t={checkBalance:{name:"check_balance",description:"Check customer account balance",execution_mode:"sync",handler_type:"api",api_endpoint:"https://api.example.com/balance/{{customer_id}}",api_method:"GET",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"}],api_body_type:"none",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{customer_id:{type:"string",description:"Customer unique identifier"}},required:["customer_id"]}},bookAppointment:{name:"book_appointment",description:"Book an appointment for the customer",execution_mode:"async",handler_type:"api",api_endpoint:"https://api.example.com/appointments",api_method:"POST",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"},{key:"Content-Type",value:"application/json"}],api_body_type:"json",api_body:{customer_id:"{{customer_id}}",date:"{{date}}",time:"{{time}}",service_type:"{{service_type}}"},timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{customer_id:{type:"string",description:"Customer unique identifier"},date:{type:"string",description:"Appointment date in YYYY-MM-DD format"},time:{type:"string",description:"Appointment time in HH:MM format"},service_type:{type:"string",description:"Type of service",enum:["consultation","followup","emergency"]}},required:["customer_id","date","time"]}},sendSMS:{name:"send_sms",description:"Send SMS to customer",execution_mode:"async",handler_type:"api",api_endpoint:"https://api.example.com/sms/send",api_method:"POST",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"},{key:"Content-Type",value:"application/x-www-form-urlencoded"}],api_body_type:"urlencoded",api_body:{to:"{{phone_number}}",message:"{{message}}",from:"YourCompany"},timeout_ms:15e3,retries:3,parameters:{type:"object",properties:{phone_number:{type:"string",description:"Customer phone number"},message:{type:"string",description:"SMS message content"}},required:["phone_number","message"]}},transferCall:{name:"transfer_call",description:"Transfer call to another department",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"none",api_body:null,timeout_ms:5e3,retries:1,parameters:{type:"object",properties:{department:{type:"string",description:"Department to transfer to",enum:["sales","support","billing","technical"]},reason:{type:"string",description:"Reason for transfer"}},required:["department"]}}}[e];t&&(ge(t),Ee(JSON.stringify(t.parameters,null,2)),"json"===t.api_body_type?(Se(JSON.stringify(t.api_body,null,2)),Ne([])):"form-data"===t.api_body_type||"urlencoded"===t.api_body_type?(Ne(Object.entries(t.api_body).map(e=>{let[t,n]=e;return{key:t,value:n,type:"text"}})),Se("")):(Se(""),Ne([])))};return F?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:I?"Edit Agent":"Create Agent"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your AI voice agent"})]}),(0,Ia.jsxs)("div",{className:"flex space-x-3",children:[(0,Ia.jsxs)("button",{onClick:()=>D("/agents"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(rs,{className:"w-5 h-5 mr-2"}),"Cancel"]}),(0,Ia.jsxs)("button",{onClick:async()=>{if(!J.name||!J.instructions)return void rn.error("Name and instructions are required");const e=qe(qe({},J),{},{conversation_strategy:J.conversation_strategy||{preference_collection:{strategy:"immediate_search",preferences_to_collect:[],min_preferences_before_search:0,max_questions:0},knowledge_search:{strategy:"auto",search_threshold:"medium",search_types:["text","image","product"]}}});B(!0);try{if(I)await Ea(I,e),rn.success("Agent updated");else{const t=await(e=>Oa.post("/agents",e))(e);rn.success("Agent created"),D("/agents/".concat(t.data.agent.id))}}catch(r){var t,n;rn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to save agent")}finally{B(!1)}},disabled:L,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Ia.jsx)(as,{className:"w-5 h-5 mr-2"}),L?"Saving...":"Save"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ia.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"})}),(0,Ia.jsxs)("div",{className:"px-6 py-5 space-y-6",children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Agent Name"}),(0,Ia.jsx)("input",{type:"text",value:J.name,onChange:e=>Q(qe(qe({},J),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Sales Assistant"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,Ia.jsxs)("select",{value:J.type,onChange:e=>Q(qe(qe({},J),{},{type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"sales",children:"Sales"}),(0,Ia.jsx)("option",{value:"support",children:"Support"}),(0,Ia.jsx)("option",{value:"banking",children:"Banking"}),(0,Ia.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Provider"}),(0,Ia.jsxs)("select",{value:J.provider||"openai",onChange:e=>{var t;"openai"===(t=e.target.value)?(Q(qe(qe({},J),{},{provider:"openai",voice:"shimmer",model:"gpt-4o-mini-realtime-preview-2024-12-17",language:"en",deepgram_model:null,deepgram_voice:null,deepgram_language:null})),rn.success("Switched to OpenAI - defaults applied")):"deepgram"===t&&(Q(qe(qe({},J),{},{provider:"deepgram",deepgram_model:"nova-2",deepgram_voice:"shimmer",deepgram_language:"en",voice:null,model:null})),rn.success("Switched to Deepgram - defaults applied"))},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"openai",children:"OpenAI Realtime API"}),(0,Ia.jsx)("option",{value:"deepgram",children:"Deepgram"})]}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"deepgram"===J.provider?"Deepgram provides more natural sounding voices":"OpenAI provides superior conversation handling and function calling"})]}),"openai"===J.provider?(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Voice"}),(0,Ia.jsxs)("select",{value:J.voice,onChange:e=>Q(qe(qe({},J),{},{voice:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"alloy",children:"Alloy"}),(0,Ia.jsx)("option",{value:"ash",children:"Ash"}),(0,Ia.jsx)("option",{value:"ballad",children:"Ballad"}),(0,Ia.jsx)("option",{value:"coral",children:"Coral"}),(0,Ia.jsx)("option",{value:"echo",children:"Echo"}),(0,Ia.jsx)("option",{value:"sage",children:"Sage"}),(0,Ia.jsx)("option",{value:"shimmer",children:"Shimmer"}),(0,Ia.jsx)("option",{value:"verse",children:"Verse"}),(0,Ia.jsx)("option",{value:"marin",children:"Marin"}),(0,Ia.jsx)("option",{value:"cedar",children:"Cedar"})]})]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Speech-to-Text (STT) Model"}),(0,Ia.jsxs)("select",{value:J.deepgram_model||"nova-2",onChange:e=>Q(qe(qe({},J),{},{deepgram_model:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsxs)("optgroup",{label:"Nova-3 (Recommended - Best Accuracy)",children:[(0,Ia.jsx)("option",{value:"nova-3",children:"Nova-3 General"}),(0,Ia.jsx)("option",{value:"nova-3-general",children:"Nova-3 General (Explicit)"}),(0,Ia.jsx)("option",{value:"nova-3-phonecall",children:"Nova-3 Phone Call"}),(0,Ia.jsx)("option",{value:"nova-3-medical",children:"Nova-3 Medical"}),(0,Ia.jsx)("option",{value:"nova-3-finance",children:"Nova-3 Finance"}),(0,Ia.jsx)("option",{value:"nova-3-conversationalai",children:"Nova-3 Conversational AI"}),(0,Ia.jsx)("option",{value:"nova-3-voicemail",children:"Nova-3 Voicemail"}),(0,Ia.jsx)("option",{value:"nova-3-video",children:"Nova-3 Video"}),(0,Ia.jsx)("option",{value:"nova-3-meeting",children:"Nova-3 Meeting"}),(0,Ia.jsx)("option",{value:"nova-3-drive_thru",children:"Nova-3 Drive-Thru"}),(0,Ia.jsx)("option",{value:"nova-3-automotive",children:"Nova-3 Automotive"})]}),(0,Ia.jsxs)("optgroup",{label:"Nova-2 (Good for Non-English)",children:[(0,Ia.jsx)("option",{value:"nova-2",children:"Nova-2 General"}),(0,Ia.jsx)("option",{value:"nova-2-general",children:"Nova-2 General (Explicit)"}),(0,Ia.jsx)("option",{value:"nova-2-phonecall",children:"Nova-2 Phone Call"}),(0,Ia.jsx)("option",{value:"nova-2-meeting",children:"Nova-2 Meeting"}),(0,Ia.jsx)("option",{value:"nova-2-voicemail",children:"Nova-2 Voicemail"}),(0,Ia.jsx)("option",{value:"nova-2-finance",children:"Nova-2 Finance"}),(0,Ia.jsx)("option",{value:"nova-2-conversationalai",children:"Nova-2 Conversational AI"}),(0,Ia.jsx)("option",{value:"nova-2-video",children:"Nova-2 Video"}),(0,Ia.jsx)("option",{value:"nova-2-medical",children:"Nova-2 Medical"}),(0,Ia.jsx)("option",{value:"nova-2-drivethru",children:"Nova-2 Drive-Thru"}),(0,Ia.jsx)("option",{value:"nova-2-automotive",children:"Nova-2 Automotive"})]}),(0,Ia.jsx)("optgroup",{label:"Flux (Voice Agents - NEW)",children:(0,Ia.jsx)("option",{value:"flux",children:"Flux (Conversational Flow)"})}),(0,Ia.jsxs)("optgroup",{label:"Legacy Models",children:[(0,Ia.jsx)("option",{value:"nova",children:"Nova-1"}),(0,Ia.jsx)("option",{value:"enhanced",children:"Enhanced General"}),(0,Ia.jsx)("option",{value:"enhanced-general",children:"Enhanced General (Explicit)"}),(0,Ia.jsx)("option",{value:"enhanced-phonecall",children:"Enhanced Phone Call"}),(0,Ia.jsx)("option",{value:"enhanced-meeting",children:"Enhanced Meeting"}),(0,Ia.jsx)("option",{value:"base",children:"Base General"}),(0,Ia.jsx)("option",{value:"base-general",children:"Base General (Explicit)"}),(0,Ia.jsx)("option",{value:"base-phonecall",children:"Base Phone Call"}),(0,Ia.jsx)("option",{value:"base-meeting",children:"Base Meeting"})]}),(0,Ia.jsxs)("optgroup",{label:"Whisper (Slower, Limited)",children:[(0,Ia.jsx)("option",{value:"whisper-tiny",children:"Whisper Tiny"}),(0,Ia.jsx)("option",{value:"whisper-base",children:"Whisper Base"}),(0,Ia.jsx)("option",{value:"whisper-small",children:"Whisper Small"}),(0,Ia.jsx)("option",{value:"whisper-medium",children:"Whisper Medium"}),(0,Ia.jsx)("option",{value:"whisper-large",children:"Whisper Large"})]})]}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Nova-3 offers best accuracy. Flux is optimized for voice agents with built-in turn detection."})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"STT Language"}),(0,Ia.jsxs)("select",{value:J.deepgram_language||"en",onChange:e=>Q(qe(qe({},J),{},{deepgram_language:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("optgroup",{label:"Multilingual (Nova-2 & Nova-3)",children:(0,Ia.jsx)("option",{value:"multi",children:"\ud83c\udf0d Multi (10 Languages - Code Switching)"})}),(0,Ia.jsxs)("optgroup",{label:"Common Languages",children:[(0,Ia.jsx)("option",{value:"en",children:"\ud83c\uddfa\ud83c\uddf8 English"}),(0,Ia.jsx)("option",{value:"en-US",children:"\ud83c\uddfa\ud83c\uddf8 English (US)"}),(0,Ia.jsx)("option",{value:"en-GB",children:"\ud83c\uddec\ud83c\udde7 English (UK)"}),(0,Ia.jsx)("option",{value:"en-AU",children:"\ud83c\udde6\ud83c\uddfa English (Australia)"}),(0,Ia.jsx)("option",{value:"en-NZ",children:"\ud83c\uddf3\ud83c\uddff English (New Zealand)"}),(0,Ia.jsx)("option",{value:"en-IN",children:"\ud83c\uddee\ud83c\uddf3 English (India)"}),(0,Ia.jsx)("option",{value:"es",children:"\ud83c\uddea\ud83c\uddf8 Spanish"}),(0,Ia.jsx)("option",{value:"es-419",children:"\ud83c\uddf2\ud83c\uddfd Spanish (Latin America)"}),(0,Ia.jsx)("option",{value:"fr",children:"\ud83c\uddeb\ud83c\uddf7 French"}),(0,Ia.jsx)("option",{value:"fr-CA",children:"\ud83c\udde8\ud83c\udde6 French (Canada)"}),(0,Ia.jsx)("option",{value:"de",children:"\ud83c\udde9\ud83c\uddea German"}),(0,Ia.jsx)("option",{value:"hi",children:"\ud83c\uddee\ud83c\uddf3 Hindi"}),(0,Ia.jsx)("option",{value:"pt",children:"\ud83c\uddf5\ud83c\uddf9 Portuguese"}),(0,Ia.jsx)("option",{value:"pt-BR",children:"\ud83c\udde7\ud83c\uddf7 Portuguese (Brazil)"}),(0,Ia.jsx)("option",{value:"ru",children:"\ud83c\uddf7\ud83c\uddfa Russian"}),(0,Ia.jsx)("option",{value:"ja",children:"\ud83c\uddef\ud83c\uddf5 Japanese"}),(0,Ia.jsx)("option",{value:"it",children:"\ud83c\uddee\ud83c\uddf9 Italian"}),(0,Ia.jsx)("option",{value:"nl",children:"\ud83c\uddf3\ud83c\uddf1 Dutch"}),(0,Ia.jsx)("option",{value:"zh",children:"\ud83c\udde8\ud83c\uddf3 Chinese (Simplified)"}),(0,Ia.jsx)("option",{value:"zh-CN",children:"\ud83c\udde8\ud83c\uddf3 Chinese (Mandarin)"}),(0,Ia.jsx)("option",{value:"zh-TW",children:"\ud83c\uddf9\ud83c\uddfc Chinese (Taiwan)"}),(0,Ia.jsx)("option",{value:"ko",children:"\ud83c\uddf0\ud83c\uddf7 Korean"}),(0,Ia.jsx)("option",{value:"tr",children:"\ud83c\uddf9\ud83c\uddf7 Turkish"}),(0,Ia.jsx)("option",{value:"ar",children:"\ud83c\uddf8\ud83c\udde6 Arabic"})]}),(0,Ia.jsxs)("optgroup",{label:"European Languages",children:[(0,Ia.jsx)("option",{value:"pl",children:"\ud83c\uddf5\ud83c\uddf1 Polish"}),(0,Ia.jsx)("option",{value:"uk",children:"\ud83c\uddfa\ud83c\udde6 Ukrainian"}),(0,Ia.jsx)("option",{value:"sv",children:"\ud83c\uddf8\ud83c\uddea Swedish"}),(0,Ia.jsx)("option",{value:"da",children:"\ud83c\udde9\ud83c\uddf0 Danish"}),(0,Ia.jsx)("option",{value:"no",children:"\ud83c\uddf3\ud83c\uddf4 Norwegian"}),(0,Ia.jsx)("option",{value:"fi",children:"\ud83c\uddeb\ud83c\uddee Finnish"}),(0,Ia.jsx)("option",{value:"el",children:"\ud83c\uddec\ud83c\uddf7 Greek"}),(0,Ia.jsx)("option",{value:"cs",children:"\ud83c\udde8\ud83c\uddff Czech"}),(0,Ia.jsx)("option",{value:"ro",children:"\ud83c\uddf7\ud83c\uddf4 Romanian"}),(0,Ia.jsx)("option",{value:"hu",children:"\ud83c\udded\ud83c\uddfa Hungarian"}),(0,Ia.jsx)("option",{value:"bg",children:"\ud83c\udde7\ud83c\uddec Bulgarian"})]}),(0,Ia.jsxs)("optgroup",{label:"Asian Languages",children:[(0,Ia.jsx)("option",{value:"th",children:"\ud83c\uddf9\ud83c\udded Thai"}),(0,Ia.jsx)("option",{value:"vi",children:"\ud83c\uddfb\ud83c\uddf3 Vietnamese"}),(0,Ia.jsx)("option",{value:"id",children:"\ud83c\uddee\ud83c\udde9 Indonesian"}),(0,Ia.jsx)("option",{value:"ms",children:"\ud83c\uddf2\ud83c\uddfe Malay"}),(0,Ia.jsx)("option",{value:"ta",children:"\ud83c\uddee\ud83c\uddf3 Tamil"})]}),(0,Ia.jsxs)("optgroup",{label:"Other Languages",children:[(0,Ia.jsx)("option",{value:"he",children:"\ud83c\uddee\ud83c\uddf1 Hebrew"}),(0,Ia.jsx)("option",{value:"ur",children:"\ud83c\uddf5\ud83c\uddf0 Urdu"})]})]}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"multi"===J.deepgram_language?"\ud83c\udf0d Multi supports: English, Spanish, French, German, Hindi, Russian, Portuguese, Japanese, Italian, Dutch":'Select language for speech recognition. Use "Multi" for code-switching conversations.'})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Text-to-Speech (TTS) Voice"}),(0,Ia.jsxs)("select",{value:J.deepgram_voice||"shimmer",onChange:e=>Q(qe(qe({},J),{},{deepgram_voice:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsxs)("optgroup",{label:"OpenAI Voices (Used with Deepgram STT)",children:[(0,Ia.jsx)("option",{value:"alloy",children:"Alloy (Neutral)"}),(0,Ia.jsx)("option",{value:"ash",children:"Ash (Warm Male)"}),(0,Ia.jsx)("option",{value:"ballad",children:"Ballad (Expressive)"}),(0,Ia.jsx)("option",{value:"coral",children:"Coral (Friendly Female)"}),(0,Ia.jsx)("option",{value:"echo",children:"Echo (Professional Male)"}),(0,Ia.jsx)("option",{value:"sage",children:"Sage (Calm Female)"}),(0,Ia.jsx)("option",{value:"shimmer",children:"Shimmer (Clear Female)"}),(0,Ia.jsx)("option",{value:"verse",children:"Verse (Conversational)"})]}),(0,Ia.jsxs)("optgroup",{label:"Deepgram Aura Voices (Alternative)",children:[(0,Ia.jsx)("option",{value:"aura-asteria-en",children:"Asteria (English - Female)"}),(0,Ia.jsx)("option",{value:"aura-luna-en",children:"Luna (English - Female)"}),(0,Ia.jsx)("option",{value:"aura-stella-en",children:"Stella (English - Female)"}),(0,Ia.jsx)("option",{value:"aura-athena-en",children:"Athena (English - Female)"}),(0,Ia.jsx)("option",{value:"aura-hera-en",children:"Hera (English - Female)"}),(0,Ia.jsx)("option",{value:"aura-orion-en",children:"Orion (English - Male)"}),(0,Ia.jsx)("option",{value:"aura-arcas-en",children:"Arcas (English - Male)"}),(0,Ia.jsx)("option",{value:"aura-perseus-en",children:"Perseus (English - Male)"}),(0,Ia.jsx)("option",{value:"aura-angus-en",children:"Angus (English - Irish Male)"}),(0,Ia.jsx)("option",{value:"aura-orpheus-en",children:"Orpheus (English - Male)"}),(0,Ia.jsx)("option",{value:"aura-helios-en",children:"Helios (English - Male)"}),(0,Ia.jsx)("option",{value:"aura-zeus-en",children:"Zeus (English - Male)"})]})]}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Currently using OpenAI TTS with Deepgram STT for best quality. Deepgram Aura voices coming soon."})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Language"}),(0,Ia.jsxs)("select",{value:J.language,onChange:e=>Q(qe(qe({},J),{},{language:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"ur",children:"Urdu/English"}),(0,Ia.jsx)("option",{value:"en",children:"English"}),(0,Ia.jsx)("option",{value:"es",children:"Spanish"}),(0,Ia.jsx)("option",{value:"fr",children:"French"})]})]})]}),(0,Ia.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Chat Model Configuration"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"This model is used for text-based chat conversations in the dashboard. Voice calls use the realtime model configured above."}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chat Model"}),(0,Ia.jsx)("select",{value:J.chat_model||"gpt-4o-mini",onChange:e=>Q(qe(qe({},J),{},{chat_model:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:hs.map(e=>(0,Ia.jsxs)("option",{value:e.value,children:[e.label," - ",e.cost]},e.value))}),(0,Ia.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["\ud83d\udca1 ",(0,Ia.jsx)("strong",{children:"Recommendation:"})," Use GPT-4o Mini for most cases - it's 99% cheaper than realtime models and perfect for text chat. Upgrade to GPT-4o for complex reasoning tasks."]})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Instructions"}),(0,Ia.jsx)("button",{type:"button",onClick:async()=>{if(J.name){pe(!0),ce(!0);try{const e=await(e=>Oa.post("/ai-assist/generate-instructions",e))({agent_name:J.name,agent_type:J.type,language:J.language,existing_instructions:J.instructions});ue(e.data.instructions),fe(e.data.cost),rn.success("Instructions generated! Cost: $".concat(e.data.cost.toFixed(6)))}catch(e){rn.error("Failed to generate instructions"),ce(!1)}finally{pe(!1)}}else rn.error("Please enter an agent name first")},disabled:!J.name||me,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:me?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,Ia.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ia.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ia.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"AI Generate"]})})]}),(0,Ia.jsx)("textarea",{value:J.instructions,onChange:e=>Q(qe(qe({},J),{},{instructions:e.target.value})),rows:10,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"You are a helpful sales assistant..."}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:'System instructions that define the agent\'s behavior. Click "AI Generate" for assistance.'})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Greeting"}),(0,Ia.jsx)("textarea",{value:J.greeting,onChange:e=>Q(qe(qe({},J),{},{greeting:e.target.value})),rows:2,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Hello! How can I help you today?"}),(0,Ia.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[(0,Ia.jsx)("strong",{children:"Inbound Call:"})," On an inbound call setting a greeting will automatically start playback when the call connects with AiVA",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Outbound Call:"})," Not recommended to set up greeting on an Outbound Call because the AiVA should respond once the Caller answers the call and Starts Speaking"]})]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base"}),(0,Ia.jsx)("div",{className:"space-y-4",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Knowledge Base"}),(0,Ia.jsxs)("select",{value:J.kb_id||"",onChange:e=>Q(qe(qe({},J),{},{kb_id:e.target.value||null})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"",children:"-- No Knowledge Base --"}),q.map(e=>{var t;return(0,Ia.jsxs)("option",{value:e.id,children:[e.name," (",(null===(t=e.stats)||void 0===t?void 0:t.document_count)||0," docs)"]},e.id)})]})]})})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Conversation Strategy"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Configure how your agent collects preferences before searching"})]})}),(0,Ia.jsxs)("div",{className:"mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Ia.jsx)(ss,{size:18,className:"text-blue-500"}),(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Quick Presets"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply a preset configuration based on your business type"}),(0,Ia.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:G?(0,Ia.jsx)("div",{className:"col-span-4 text-center py-4",children:(0,Ia.jsx)("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})}):V.map(e=>{const t={shirt:Shirt,laptop:Laptop,couch:Sofa,utensils:Utensils}[e.icon]||ss;return(0,Ia.jsxs)("button",{type:"button",onClick:()=>(async e=>{try{const t=V.find(t=>t.id===e);t&&(Q(qe(qe({},J),{},{conversation_strategy:t.strategy})),rn.success("".concat(t.name," preset applied")))}catch(t){console.error("Error applying preset:",t),rn.error("Failed to apply preset")}})(e.id),className:"p-3 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors text-left",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ia.jsx)(t,{size:20,className:"text-blue-600"}),(0,Ia.jsx)("span",{className:"font-semibold text-sm",children:e.name})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.description}),(0,Ia.jsx)("span",{className:"inline-block text-xs px-2 py-1 bg-gray-100 rounded",children:0===e.strategy.preference_collection.max_questions?"No questions":"".concat(e.strategy.preference_collection.max_questions," questions")})]},e.id)})})]}),(0,Ia.jsxs)("div",{className:"space-y-3",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Strategy"}),(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"conversation_strategy",value:"immediate_search",checked:"immediate_search"===(null===(e=J.conversation_strategy)||void 0===e||null===(t=e.preference_collection)||void 0===t?void 0:t.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-medium text-sm",children:"Immediate Search"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded",children:"Fast"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600",children:"Search as soon as user requests products. No questions asked."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Furniture, Food, Low-ticket items"})]})]}),(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"conversation_strategy",value:"ask_questions",checked:"ask_questions"===(null===(n=J.conversation_strategy)||void 0===n||null===(r=n.preference_collection)||void 0===r?void 0:r.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-medium text-sm",children:"Ask Questions First"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Personalized"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600",children:"Collect user preferences before searching for products."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Clothing, Fashion, High-value items"})]})]}),(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"conversation_strategy",value:"minimal_questions",checked:"minimal_questions"===(null===(s=J.conversation_strategy)||void 0===s||null===(i=s.preference_collection)||void 0===i?void 0:i.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-medium text-sm",children:"Minimal Questions (1-2)"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded",children:"Balanced"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600",children:"Ask only 1-2 critical questions before searching."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Electronics, Mid-range items"})]})]}),(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"conversation_strategy",value:"adaptive",checked:"adaptive"===(null===(o=J.conversation_strategy)||void 0===o||null===(l=o.preference_collection)||void 0===l?void 0:l.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-medium text-sm",children:"Adaptive (Smart)"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded",children:"Intelligent"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600",children:"AI decides based on product type, value, and context."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Multi-category stores"})]})]})]}),(null===(c=J.conversation_strategy)||void 0===c||null===(d=c.preference_collection)||void 0===d?void 0:d.strategy)&&(0,Ia.jsx)("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:(0,Ia.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Ia.jsx)(is,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h4",{className:"text-sm font-semibold text-green-900",children:"Current Strategy"}),(0,Ia.jsxs)("p",{className:"text-xs text-green-700 mt-1",children:["Using ",(0,Ia.jsx)("strong",{children:J.conversation_strategy.preference_collection.strategy.replace("_"," ")})," strategy.","immediate_search"===J.conversation_strategy.preference_collection.strategy&&" Products will be shown immediately.","ask_questions"===J.conversation_strategy.preference_collection.strategy&&" Agent will collect preferences before searching.","minimal_questions"===J.conversation_strategy.preference_collection.strategy&&" Agent will ask 1-2 quick questions.","adaptive"===J.conversation_strategy.preference_collection.strategy&&" AI will decide the best approach."]})]})]})})]}),("ask_questions"===(null===(u=J.conversation_strategy)||void 0===u||null===(m=u.preference_collection)||void 0===m?void 0:m.strategy)||"minimal_questions"===(null===(p=J.conversation_strategy)||void 0===p||null===(h=p.preference_collection)||void 0===h?void 0:h.strategy))&&(0,Ia.jsxs)("div",{className:"mt-6 p-4 border-2 border-blue-200 rounded-lg bg-blue-50",children:[(0,Ia.jsxs)("button",{type:"button",onClick:()=>X(!Y),className:"w-full flex items-center justify-between text-left mb-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ia.jsx)("span",{className:"text-lg",children:"\u2699\ufe0f"}),(0,Ia.jsx)("span",{className:"font-semibold text-gray-900",children:"Advanced Configuration"}),!Y&&(0,Ia.jsxs)("span",{className:"text-xs text-gray-500",children:["(",((null===(f=J.conversation_strategy)||void 0===f||null===(x=f.preference_collection)||void 0===x?void 0:x.preferences_to_collect)||[]).length," preferences configured)"]})]}),(0,Ia.jsx)("span",{className:"text-gray-600",children:Y?"\u25bc":"\u25b6"})]}),Y&&(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferences to Collect"}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Define what information to gather before searching"}),(0,Ia.jsx)("div",{className:"space-y-3",children:((null===(g=J.conversation_strategy)||void 0===g||null===(y=g.preference_collection)||void 0===y?void 0:y.preferences_to_collect)||[]).map((e,t)=>{var n;return(0,Ia.jsxs)("div",{className:"p-3 bg-white rounded-lg border border-gray-300 shadow-sm",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,Ia.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["#",t+1]}),(0,Ia.jsx)("input",{type:"text",placeholder:"Preference name (e.g., color, size)",value:e.name||"",onChange:e=>ze(t,"name",e.target.value),className:"flex-1 text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),(0,Ia.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ia.jsxs)("label",{className:"flex items-center gap-1 text-xs",children:[(0,Ia.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>ze(t,"required",e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),"Required"]}),(0,Ia.jsx)("button",{type:"button",onClick:()=>(e=>{var t,n,r;const a=((null===(t=J.conversation_strategy)||void 0===t||null===(n=t.preference_collection)||void 0===n?void 0:n.preferences_to_collect)||[]).filter((t,n)=>n!==e);Q(qe(qe({},J),{},{conversation_strategy:qe(qe({},J.conversation_strategy),{},{preference_collection:qe(qe({},null===(r=J.conversation_strategy)||void 0===r?void 0:r.preference_collection),{},{preferences_to_collect:a})})}))})(t),className:"text-red-600 hover:text-red-700 p-1",title:"Remove preference",children:(0,Ia.jsx)("span",{className:"text-lg",children:"\ud83d\uddd1\ufe0f"})})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Display Label"}),(0,Ia.jsx)("input",{type:"text",placeholder:"e.g., Color Preference",value:e.label,onChange:e=>ze(t,"label",e.target.value),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Field Type"}),(0,Ia.jsxs)("select",{value:e.type||"text",onChange:e=>ze(t,"type",e.target.value),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"text",children:"Text (Open-ended)"}),(0,Ia.jsx)("option",{value:"choice",children:"Multiple Choice"}),(0,Ia.jsx)("option",{value:"range",children:"Range (e.g., budget)"})]})]})]}),(0,Ia.jsxs)("div",{className:"mt-3",children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Question to Ask"}),(0,Ia.jsx)("input",{type:"text",placeholder:"e.g., What color would you like?",value:e.question,onChange:e=>ze(t,"question",e.target.value),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"AI will use this as guidance and may rephrase naturally"})]}),"choice"===e.type&&(0,Ia.jsxs)("div",{className:"mt-3",children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Options (comma-separated)"}),(0,Ia.jsx)("input",{type:"text",placeholder:"e.g., Red, Blue, Green, Pink, Black",value:(null===(n=e.options)||void 0===n?void 0:n.join(", "))||"",onChange:e=>ze(t,"options",e.target.value.split(",").map(e=>e.trim())),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]})]},t)})}),(0,Ia.jsx)("button",{type:"button",onClick:()=>{var e,t,n;const r=[...(null===(e=J.conversation_strategy)||void 0===e||null===(t=e.preference_collection)||void 0===t?void 0:t.preferences_to_collect)||[],{name:"",label:"",required:!1,question:"",type:"text"}];Q(qe(qe({},J),{},{conversation_strategy:qe(qe({},J.conversation_strategy),{},{preference_collection:qe(qe({},null===(n=J.conversation_strategy)||void 0===n?void 0:n.preference_collection),{},{preferences_to_collect:r})})}))},className:"mt-3 w-full py-2 px-4 border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 transition-colors",children:"+ Add Preference"})]}),(0,Ia.jsx)("div",{className:"border-t border-gray-300 my-4"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Timing"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Minimum Preferences Before Search"}),(0,Ia.jsx)("input",{type:"range",min:"0",max:Math.max(5,((null===(v=J.conversation_strategy)||void 0===v||null===(b=v.preference_collection)||void 0===b?void 0:b.preferences_to_collect)||[]).length),value:(null===(j=J.conversation_strategy)||void 0===j||null===(w=j.preference_collection)||void 0===w?void 0:w.min_preferences_before_search)||0,onChange:e=>(e=>{var t;Q(qe(qe({},J),{},{conversation_strategy:qe(qe({},J.conversation_strategy),{},{preference_collection:qe(qe({},null===(t=J.conversation_strategy)||void 0===t?void 0:t.preference_collection),{},{min_preferences_before_search:parseInt(e)})})}))})(e.target.value),className:"w-full"}),(0,Ia.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[(0,Ia.jsx)("span",{children:"0 (immediate)"}),(0,Ia.jsx)("span",{className:"font-semibold",children:(null===(N=J.conversation_strategy)||void 0===N||null===(k=N.preference_collection)||void 0===k?void 0:k.min_preferences_before_search)||0}),(0,Ia.jsx)("span",{children:"All preferences"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Agent will search once it collects at least this many preferences"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Maximum Questions to Ask"}),(0,Ia.jsx)("input",{type:"range",min:"1",max:"10",value:(null===(S=J.conversation_strategy)||void 0===S||null===(_=S.preference_collection)||void 0===_?void 0:_.max_questions)||3,onChange:e=>(e=>{var t;Q(qe(qe({},J),{},{conversation_strategy:qe(qe({},J.conversation_strategy),{},{preference_collection:qe(qe({},null===(t=J.conversation_strategy)||void 0===t?void 0:t.preference_collection),{},{max_questions:parseInt(e)})})}))})(e.target.value),className:"w-full"}),(0,Ia.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[(0,Ia.jsx)("span",{children:"1"}),(0,Ia.jsx)("span",{className:"font-semibold",children:(null===(C=J.conversation_strategy)||void 0===C||null===(O=C.preference_collection)||void 0===O?void 0:O.max_questions)||3}),(0,Ia.jsx)("span",{children:"10"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Limit total questions to avoid frustrating users (recommended: 2-4)"})]})]})]}),(0,Ia.jsx)("div",{className:"bg-white border border-blue-300 rounded-lg p-3",children:(0,Ia.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Ia.jsx)("span",{className:"text-blue-600 text-lg",children:"\ud83d\udca1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"How It Works"}),(0,Ia.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,Ia.jsx)("li",{children:"\u2022 AI asks questions ONE AT A TIME naturally in conversation"}),(0,Ia.jsx)("li",{children:"\u2022 Stops asking when minimum preferences collected"}),(0,Ia.jsx)("li",{children:"\u2022 Never exceeds maximum question limit"}),(0,Ia.jsx)("li",{children:"\u2022 Required preferences are always asked"}),(0,Ia.jsx)("li",{children:"\u2022 Optional preferences may be skipped if user provides enough info"})]})]})]})})]})]}),"ask_questions"===(null===(A=J.conversation_strategy)||void 0===A||null===(P=A.preference_collection)||void 0===P?void 0:P.strategy)&&(null===(E=J.conversation_strategy)||void 0===E||null===(T=E.preference_collection)||void 0===T||null===(M=T.preferences_to_collect)||void 0===M?void 0:M.length)>0&&(0,Ia.jsxs)("div",{className:"mt-6 bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Ia.jsx)("span",{className:"text-lg",children:"\ud83d\udc41\ufe0f"}),(0,Ia.jsx)("h4",{className:"font-semibold text-gray-900",children:"Conversation Preview"})]}),(0,Ia.jsxs)("div",{className:"space-y-2",children:[(0,Ia.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm",children:"\ud83d\udc64"}),(0,Ia.jsx)("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm",children:(0,Ia.jsx)("p",{className:"text-sm",children:"Show me dresses"})})]}),J.conversation_strategy.preference_collection.preferences_to_collect.slice(0,2).map((e,t)=>(0,Ia.jsxs)(a.Fragment,{children:[(0,Ia.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-sm",children:"\ud83e\udd16"}),(0,Ia.jsx)("div",{className:"flex-1 bg-green-50 rounded-lg p-2 shadow-sm border border-green-200",children:(0,Ia.jsx)("p",{className:"text-sm",children:e.question||"What ".concat(e.name,"?")})})]}),(0,Ia.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm",children:"\ud83d\udc64"}),(0,Ia.jsx)("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm",children:(0,Ia.jsx)("p",{className:"text-sm text-gray-400 italic",children:"[User responds...]"})})]})]},t)),(0,Ia.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-sm",children:"\ud83e\udd16"}),(0,Ia.jsxs)("div",{className:"flex-1 bg-green-50 rounded-lg p-2 shadow-sm border border-green-200",children:[(0,Ia.jsx)("p",{className:"text-sm",children:"Perfect! Here are the products..."}),(0,Ia.jsx)("div",{className:"flex gap-2 mt-2",children:[1,2,3,4,5].map(e=>(0,Ia.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded border"},e))})]})]})]})]}),(0,Ia.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,Ia.jsxs)("button",{type:"button",onClick:()=>z(!U),className:"flex items-center text-sm font-medium text-primary-600 hover:text-primary-800 mb-4",children:[U?(0,Ia.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ia.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):(0,Ia.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ia.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Advanced Settings"]}),U&&(0,Ia.jsxs)("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),(0,Ia.jsxs)("select",{value:J.model,onChange:e=>Q(qe(qe({},J),{},{model:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"gpt-4o-realtime-preview-2024-12-17",children:"GPT-4o Realtime (Latest)"}),(0,Ia.jsx)("option",{value:"gpt-4o-mini-realtime-preview-2024-12-17",children:"GPT-4o Mini Realtime (Faster, Cheaper)"})]}),(0,Ia.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[(0,Ia.jsx)("strong",{children:"GPT-4o:"})," Most capable model with better understanding and responses. Higher cost (~$0.06/min audio).",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"GPT-4o Mini:"})," Faster responses, lower cost (~$0.024/min audio), suitable for simple conversations."]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",(0,Ia.jsx)("span",{className:"text-primary-600 font-semibold",children:J.temperature})]}),(0,Ia.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:J.temperature,onChange:e=>Q(qe(qe({},J),{},{temperature:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,Ia.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ia.jsx)("span",{children:"0 (Focused)"}),(0,Ia.jsx)("span",{children:"0.5 (Balanced)"}),(0,Ia.jsx)("span",{children:"1.0 (Creative)"})]}),(0,Ia.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Controls response randomness and creativity.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Lower (0.0-0.4):"})," More focused, consistent, and deterministic. Best for factual Q&A, customer support.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Medium (0.5-0.7):"})," Balanced between consistency and variety. Good for most use cases.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Higher (0.8-1.0):"})," More creative and varied responses. Good for creative writing, brainstorming."]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Response Tokens"}),(0,Ia.jsx)("input",{type:"number",min:"200",max:"8192",step:"100",value:J.max_tokens,onChange:e=>Q(qe(qe({},J),{},{max_tokens:parseInt(e.target.value)||200})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Ia.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Maximum length of each agent response (200-8192 tokens).",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Lower (200-1000):"})," Short, concise responses. Faster and cheaper. Good for quick Q&A.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Medium (1000-4096):"})," Standard length responses. Balanced cost/quality.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Higher (4096-8192):"})," Longer, detailed explanations. Higher cost per response.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("span",{className:"text-xs",children:"Note: ~1 token \u2248 0.75 words. 4096 tokens \u2248 3000 words."})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["VAD Threshold: ",(0,Ia.jsx)("span",{className:"text-primary-600 font-semibold",children:J.vad_threshold})]}),(0,Ia.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:J.vad_threshold,onChange:e=>Q(qe(qe({},J),{},{vad_threshold:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,Ia.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ia.jsx)("span",{children:"0.1 (Sensitive)"}),(0,Ia.jsx)("span",{children:"0.5 (Balanced)"}),(0,Ia.jsx)("span",{children:"1.0 (Strict)"})]}),(0,Ia.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Voice Activity Detection sensitivity - determines how sensitive the AI is to detecting speech.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Lower (0.1-0.3):"})," Very sensitive. Picks up quiet speech and whispers. May detect background noise as speech.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Medium (0.4-0.6):"})," Balanced. Good for normal phone conversations.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Higher (0.7-1.0):"})," Only detects clear, loud speech. Good for noisy environments but may miss quiet speakers.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("span",{className:"text-amber-600",children:"\u26a0\ufe0f If users complain the agent doesn't respond, lower this value. If it responds to background noise, increase it."})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Silence Duration (ms)"}),(0,Ia.jsx)("input",{type:"number",min:"200",max:"2000",step:"100",value:J.silence_duration_ms,onChange:e=>Q(qe(qe({},J),{},{silence_duration_ms:parseInt(e.target.value)||500})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Ia.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["How long (in milliseconds) to wait after user stops speaking before agent responds (200-2000ms).",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Lower (200-400ms):"})," Agent responds very quickly. May interrupt users who pause mid-sentence.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Medium (500-700ms):"})," Balanced. Good for most conversations.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("strong",{children:"Higher (800-2000ms):"})," Agent waits longer. Better for users who speak slowly or pause often.",(0,Ia.jsx)("br",{}),(0,Ia.jsx)("span",{className:"text-xs",children:"Recommended: 500ms for English, 700ms for Urdu (allows for thinking pauses)"})]})]}),(0,Ia.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\ud83d\udca1 Quick Tips"}),(0,Ia.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Ia.jsx)("li",{children:"Start with default values and adjust based on user feedback"}),(0,Ia.jsx)("li",{children:"Test calls in your actual environment before going live"}),(0,Ia.jsx)("li",{children:"Lower temperature for consistent banking/support, higher for sales/creative"}),(0,Ia.jsx)("li",{children:"Higher VAD threshold if you have noisy call centers"}),(0,Ia.jsx)("li",{children:"Monitor call costs - higher tokens and GPT-4o increase costs significantly"})]})]})]})]}),I&&(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ia.jsxs)("div",{className:"px-6 py-5 border-b border-gray-200 flex items-center justify-between",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Functions"}),(0,Ia.jsxs)("button",{onClick:()=>He(),className:"inline-flex items-center px-3 py-1 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-4 h-4 mr-1"}),"Add Function"]})]}),(0,Ia.jsx)("div",{className:"px-6 py-5",children:0===Z.length?(0,Ia.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No functions defined. Add functions to extend agent capabilities."}):(0,Ia.jsx)("ul",{className:"space-y-3",children:Z.map(e=>(0,Ia.jsx)("li",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,Ia.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.description}),(0,Ia.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,Ia.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded",children:e.execution_mode}),(0,Ia.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded",children:e.handler_type}),e.api_endpoint&&(0,Ia.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded",children:e.api_method})]}),e.api_endpoint&&(0,Ia.jsx)("div",{className:"mt-2 text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded",children:e.api_endpoint})]}),(0,Ia.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,Ia.jsx)("button",{onClick:()=>He(e),className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)($a,{className:"w-4 h-4"})}),(0,Ia.jsx)("button",{onClick:()=>Ge(e.id),className:"text-red-400 hover:text-red-600",children:(0,Ia.jsx)(ts,{className:"w-4 h-4"})})]})]})},e.id))})})]}),te&&(0,Ia.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20",children:[(0,Ia.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>re(!1)}),(0,Ia.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ia.jsx)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:ae?"Edit Function":"Add Function"}),(0,Ia.jsxs)("div",{className:"flex space-x-2",children:[(0,Ia.jsx)("button",{onClick:()=>Ye("checkBalance"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Check Balance"}),(0,Ia.jsx)("button",{onClick:()=>Ye("bookAppointment"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Book Appointment"}),(0,Ia.jsx)("button",{onClick:()=>Ye("sendSMS"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Send SMS"}),(0,Ia.jsx)("button",{onClick:()=>Ye("transferCall"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Transfer Call"})]})]})}),(0,Ia.jsxs)("div",{className:"px-6 py-5 space-y-6",children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Ia.jsxs)("div",{className:"sm:col-span-2",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Function Name *"}),(0,Ia.jsx)("input",{type:"text",value:xe.name,onChange:e=>ge(qe(qe({},xe),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono",placeholder:"check_customer_balance"}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Use snake_case for function names"})]}),(0,Ia.jsxs)("div",{className:"sm:col-span-2",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description *"}),(0,Ia.jsx)("textarea",{value:xe.description,onChange:e=>ge(qe(qe({},xe),{},{description:e.target.value})),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Check the current balance of a customer account. Returns balance information including available credit and pending transactions."}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Clear description helps the AI understand when to call this function"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Execution Mode"}),(0,Ia.jsxs)("select",{value:xe.execution_mode,onChange:e=>ge(qe(qe({},xe),{},{execution_mode:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"sync",children:"Synchronous (wait for response)"}),(0,Ia.jsx)("option",{value:"async",children:"Asynchronous (fire and forget)"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Handler Type"}),(0,Ia.jsxs)("select",{value:xe.handler_type,onChange:e=>ge(qe(qe({},xe),{},{handler_type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"inline",children:"Inline (handled by bridge)"}),(0,Ia.jsx)("option",{value:"api",children:"External API"})]})]})]}),"api"===xe.handler_type&&(0,Ia.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"API Configuration"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"flex space-x-2",children:[(0,Ia.jsx)("div",{className:"w-32",children:(0,Ia.jsxs)("select",{value:xe.api_method,onChange:e=>ge(qe(qe({},xe),{},{api_method:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-semibold",children:[(0,Ia.jsx)("option",{value:"GET",children:"GET"}),(0,Ia.jsx)("option",{value:"POST",children:"POST"}),(0,Ia.jsx)("option",{value:"PUT",children:"PUT"}),(0,Ia.jsx)("option",{value:"PATCH",children:"PATCH"}),(0,Ia.jsx)("option",{value:"DELETE",children:"DELETE"})]})}),(0,Ia.jsx)("div",{className:"flex-1",children:(0,Ia.jsx)("input",{type:"text",value:xe.api_endpoint,onChange:e=>ge(qe(qe({},xe),{},{api_endpoint:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"https://api.example.com/v1/customers/{{customer_id}}/balance"})})]}),(0,Ia.jsxs)("p",{className:"text-xs text-gray-500",children:["Use ","{{parameter_name}}"," for dynamic values from function parameters"]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Headers"}),(0,Ia.jsx)("button",{onClick:()=>je(!be),className:"text-sm text-primary-600 hover:text-primary-700",children:be?"Cancel":"+ Add Header"})]}),be&&(0,Ia.jsxs)("div",{className:"mb-3 p-3 border border-gray-300 rounded-md bg-white",children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ia.jsx)("input",{type:"text",value:ye.key,onChange:e=>ve(qe(qe({},ye),{},{key:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"Authorization"}),(0,Ia.jsx)("input",{type:"text",value:ye.value,onChange:e=>ve(qe(qe({},ye),{},{value:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"Bearer YOUR_API_KEY"})]}),(0,Ia.jsx)("button",{onClick:()=>{ye.key?(ge(qe(qe({},xe),{},{api_headers:[...xe.api_headers,qe({},ye)]})),ve({key:"",value:""}),je(!1)):rn.error("Header key is required")},className:"mt-2 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Header"})]}),xe.api_headers.length>0&&(0,Ia.jsx)("div",{className:"space-y-2",children:xe.api_headers.map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white border border-gray-200 rounded",children:[(0,Ia.jsxs)("span",{className:"text-sm font-mono text-gray-700 flex-1",children:[(0,Ia.jsx)("span",{className:"text-blue-600",children:e.key}),": ",e.value]}),(0,Ia.jsx)("button",{onClick:()=>(e=>{ge(qe(qe({},xe),{},{api_headers:xe.api_headers.filter((t,n)=>n!==e)}))})(t),className:"text-red-400 hover:text-red-600",children:(0,Ia.jsx)(rs,{className:"w-4 h-4"})})]},t))})]}),["POST","PUT","PATCH"].includes(xe.api_method)&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body"}),(0,Ia.jsxs)("div",{className:"flex space-x-2 mb-3",children:[(0,Ia.jsx)("button",{onClick:()=>Ke("none"),className:"px-3 py-1 text-sm rounded ".concat("none"===xe.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"None"}),(0,Ia.jsx)("button",{onClick:()=>Ke("json"),className:"px-3 py-1 text-sm rounded ".concat("json"===xe.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"JSON (raw)"}),(0,Ia.jsx)("button",{onClick:()=>Ke("urlencoded"),className:"px-3 py-1 text-sm rounded ".concat("urlencoded"===xe.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"x-www-form-urlencoded"}),(0,Ia.jsx)("button",{onClick:()=>Ke("form-data"),className:"px-3 py-1 text-sm rounded ".concat("form-data"===xe.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"form-data"})]}),"json"===xe.api_body_type&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("textarea",{value:ke,onChange:e=>Se(e.target.value),rows:10,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-xs focus:outline-none focus:ring-primary-500 focus:border-primary-500 bg-gray-900 text-green-400",placeholder:'{\n  "customer_id": "{{customer_id}}",\n  "amount": "{{amount}}"\n}'}),(0,Ia.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Use ","{{parameter_name}}"," to inject parameter values into the body"]})]}),("form-data"===xe.api_body_type||"urlencoded"===xe.api_body_type)&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ia.jsx)("span",{className:"text-xs text-gray-500",children:"Key-Value Pairs"}),(0,Ia.jsx)("button",{onClick:()=>Ce(!_e),className:"text-sm text-primary-600 hover:text-primary-700",children:_e?"Cancel":"+ Add Field"})]}),_e&&(0,Ia.jsxs)("div",{className:"mb-3 p-3 border border-gray-300 rounded-md bg-white",children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ia.jsx)("input",{type:"text",value:Oe.key,onChange:e=>Ae(qe(qe({},Oe),{},{key:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"field_name"}),(0,Ia.jsx)("input",{type:"text",value:Oe.value,onChange:e=>Ae(qe(qe({},Oe),{},{value:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"{{parameter_name}} or value"})]}),(0,Ia.jsx)("button",{onClick:()=>{Oe.key?(Ne([...we,qe({},Oe)]),Ae({key:"",value:"",type:"text"}),Ce(!1)):rn.error("Key is required")},className:"mt-2 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Field"})]}),we.length>0?(0,Ia.jsx)("div",{className:"space-y-2",children:we.map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white border border-gray-200 rounded",children:[(0,Ia.jsxs)("span",{className:"text-sm font-mono text-gray-700 flex-1",children:[(0,Ia.jsx)("span",{className:"text-blue-600",children:e.key})," = ",e.value]}),(0,Ia.jsx)("button",{onClick:()=>(e=>{Ne(we.filter((t,n)=>n!==e))})(t),className:"text-red-400 hover:text-red-600",children:(0,Ia.jsx)(rs,{className:"w-4 h-4"})})]},t))}):(0,Ia.jsx)("p",{className:"text-sm text-gray-500 text-center py-4 bg-white border border-gray-200 rounded",children:"No fields added"}),(0,Ia.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["Use ","{{parameter_name}}"," to inject parameter values"]})]}),"none"===xe.api_body_type&&(0,Ia.jsx)("p",{className:"text-sm text-gray-500 text-center py-4 bg-white border border-gray-200 rounded",children:"No body will be sent with this request"})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Timeout (ms)"}),(0,Ia.jsx)("input",{type:"number",value:xe.timeout_ms,onChange:e=>ge(qe(qe({},xe),{},{timeout_ms:parseInt(e.target.value)})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Retries"}),(0,Ia.jsx)("input",{type:"number",value:xe.retries,onChange:e=>ge(qe(qe({},xe),{},{retries:parseInt(e.target.value)})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]})]})]})]}),(0,Ia.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Parameters"}),(0,Ia.jsxs)("div",{className:"flex space-x-2",children:[(0,Ia.jsx)("button",{onClick:()=>Me(!Te),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:Te?"Form View":"JSON View"}),(0,Ia.jsx)("button",{onClick:()=>Re(!Fe),className:"text-sm text-primary-600 hover:text-primary-700",children:Fe?"Cancel":"+ Add Parameter"})]})]}),Te&&(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsx)("textarea",{value:Pe,onChange:e=>Ee(e.target.value),rows:15,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-xs focus:outline-none focus:ring-primary-500 focus:border-primary-500 bg-gray-900 text-green-400"}),(0,Ia.jsx)("button",{onClick:()=>{try{const e=JSON.parse(Pe);ge(qe(qe({},xe),{},{parameters:e})),Me(!1),rn.success("Parameters updated from JSON")}catch(We){rn.error("Invalid JSON: "+We.message)}},className:"mt-2 px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Update from JSON"})]}),!Te&&Fe&&(0,Ia.jsxs)("div",{className:"mb-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[(0,Ia.jsxs)("div",{className:"space-y-3",children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),(0,Ia.jsx)("input",{type:"text",value:Ie.name,onChange:e=>De(qe(qe({},Ie),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"customer_id"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Type"}),(0,Ia.jsxs)("select",{value:Ie.type,onChange:e=>De(qe(qe({},Ie),{},{type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",children:[(0,Ia.jsx)("option",{value:"string",children:"String"}),(0,Ia.jsx)("option",{value:"number",children:"Number"}),(0,Ia.jsx)("option",{value:"boolean",children:"Boolean"}),(0,Ia.jsx)("option",{value:"object",children:"Object"}),(0,Ia.jsx)("option",{value:"array",children:"Array"})]})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Description"}),(0,Ia.jsx)("input",{type:"text",value:Ie.description,onChange:e=>De(qe(qe({},Ie),{},{description:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"The customer's unique identifier"})]}),"string"===Ie.type&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Enum Values (comma-separated, optional)"}),(0,Ia.jsx)("input",{type:"text",value:Ie.enum,onChange:e=>De(qe(qe({},Ie),{},{enum:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"active, pending, inactive"})]}),"object"===Ie.type&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Properties (JSON)"}),(0,Ia.jsx)("textarea",{value:Ie.properties,onChange:e=>De(qe(qe({},Ie),{},{properties:e.target.value})),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:'{\n  "name": { "type": "string" },\n  "age": { "type": "number" }\n}'})]}),"array"===Ie.type&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Items Schema (JSON)"}),(0,Ia.jsx)("textarea",{value:Ie.items,onChange:e=>De(qe(qe({},Ie),{},{items:e.target.value})),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:'{ "type": "string" }'})]}),(0,Ia.jsx)("div",{children:(0,Ia.jsxs)("label",{className:"flex items-center",children:[(0,Ia.jsx)("input",{type:"checkbox",checked:Ie.required,onChange:e=>De(qe(qe({},Ie),{},{required:e.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Ia.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Required"})]})})]}),(0,Ia.jsx)("button",{onClick:()=>{if(!Ie.name)return void rn.error("Parameter name is required");const e={type:Ie.type,description:Ie.description};if(Ie.enum&&"string"===Ie.type&&(e.enum=Ie.enum.split(",").map(e=>e.trim())),"object"===Ie.type&&Ie.properties)try{e.properties=JSON.parse(Ie.properties)}catch(We){return void rn.error("Invalid JSON for object properties")}if("array"===Ie.type&&Ie.items)try{e.items=JSON.parse(Ie.items)}catch(We){return void rn.error("Invalid JSON for array items")}const t=qe(qe({},xe.parameters.properties),{},{[Ie.name]:e}),n=Ie.required?[...xe.parameters.required,Ie.name]:xe.parameters.required,r=qe(qe({},xe.parameters),{},{properties:t,required:n});ge(qe(qe({},xe),{},{parameters:r})),Ee(JSON.stringify(r,null,2)),De({name:"",type:"string",description:"",required:!1,enum:"",properties:"",items:""}),Re(!1)},className:"mt-3 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Parameter"})]}),!Te&&Object.keys(xe.parameters.properties).length>0&&(0,Ia.jsx)("div",{className:"space-y-2",children:Object.entries(xe.parameters.properties).map(e=>{let[t,n]=e;return(0,Ia.jsxs)("div",{className:"flex items-start justify-between p-3 border border-gray-200 rounded-md bg-white",children:[(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("span",{className:"font-medium text-sm font-mono",children:t}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:n.type}),xe.parameters.required.includes(t)&&(0,Ia.jsx)("span",{className:"text-xs px-2 py-0.5 bg-red-100 text-red-700 rounded",children:"required"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:n.description}),n.enum&&(0,Ia.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Values: ",n.enum.join(", ")]})]}),(0,Ia.jsx)("button",{onClick:()=>(e=>{const t=xe.parameters.properties,{[e]:n}=t,r=Ua(t,[e].map(Be)),a=xe.parameters.required.filter(t=>t!==e),s=qe(qe({},xe.parameters),{},{properties:r,required:a});ge(qe(qe({},xe),{},{parameters:s})),Ee(JSON.stringify(s,null,2))})(t),className:"text-red-400 hover:text-red-600 ml-2",children:(0,Ia.jsx)(rs,{className:"w-4 h-4"})})]},t)})}),!Te&&0===Object.keys(xe.parameters.properties).length&&(0,Ia.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No parameters defined. Add parameters that the AI can use when calling this function."})]})]}),(0,Ia.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,Ia.jsx)("button",{onClick:()=>re(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Ia.jsx)("button",{onClick:async()=>{if(!xe.name||!xe.description)return void rn.error("Name and description are required");const e={};xe.api_headers.forEach(t=>{e[t.key]=t.value});let t=null;if("api"===xe.handler_type&&"GET"!==xe.api_method)if("json"===xe.api_body_type)try{t=ke?JSON.parse(ke):null}catch(We){return void rn.error("Invalid JSON in body")}else"form-data"!==xe.api_body_type&&"urlencoded"!==xe.api_body_type||(t={},we.forEach(e=>{t[e.key]=e.value}));const n=qe(qe({},xe),{},{api_headers:e,api_body:t});oe(!0);try{ae?(await((e,t)=>Oa.put("/functions/".concat(e),t))(ae.id,n),rn.success("Function updated")):(await((e,t)=>Oa.post("/functions/agent/".concat(e),t))(I,n),rn.success("Function added")),re(!1),Ve()}catch(r){rn.error("Failed to save function")}finally{oe(!1)}},disabled:ie,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:ie?"Saving...":"Save Function"})]})]})]})}),le&&(0,Ia.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20",children:[(0,Ia.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>!me&&ce(!1)}),(0,Ia.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ia.jsxs)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"AI Generated Instructions"}),he>0&&(0,Ia.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Cost: $",he.toFixed(6)," (deducted from your credits)"]})]}),(0,Ia.jsx)("div",{className:"px-6 py-5",children:me?(0,Ia.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Generating instructions..."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Using AI to create optimized agent instructions"})]})}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Instructions"}),(0,Ia.jsx)("textarea",{value:de,onChange:e=>ue(e.target.value),rows:20,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Ia.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"You can edit these instructions before accepting them."})]}),(0,Ia.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Review Carefully"}),(0,Ia.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Ia.jsx)("li",{children:"Verify the instructions match your use case"}),(0,Ia.jsx)("li",{children:"Check for any inappropriate content or errors"}),(0,Ia.jsx)("li",{children:"Customize as needed before accepting"}),(0,Ia.jsx)("li",{children:"Test the agent after applying instructions"})]})]})]})}),!me&&(0,Ia.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,Ia.jsx)("button",{onClick:()=>{ce(!1),ue(""),rn.info("Instructions discarded")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Discard"}),(0,Ia.jsx)("button",{onClick:()=>{Q(qe(qe({},J),{},{instructions:de})),ce(!1),rn.success("Instructions applied")},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Accept & Apply"})]})]})]})})]})},xs=Va("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),gs=()=>{const{user:e}=Fa(),[t,n]=(0,a.useState)(0),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[h,f]=(0,a.useState)("");if(!["admin","super_admin"].includes(null===e||void 0===e?void 0:e.role))return(0,Ia.jsx)(Navigate,{to:"/",replace:!0});(0,a.useEffect)(()=>{x()},[]);const x=async()=>{try{const[r,a,i]=await Promise.all([Ta(),(t={limit:20},Oa.get("/credits/transactions",{params:t})),(e=30,Oa.get("/credits/usage",{params:{days:e}}))]);n(r.data.balance),s(a.data.transactions),o(i.data)}catch(r){rn.error("Failed to load credits")}finally{c(!1)}var e,t};return l?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Credits"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account balance"})]}),("admin"===e.role||"super_admin"===e.role)&&(0,Ia.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-5 h-5 mr-2"}),"Add Credits"]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-6",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,Ia.jsx)(Ha,{className:"h-6 w-6 text-white"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Current Balance"}),(0,Ia.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",t.toFixed(2)]})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-6",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 bg-red-500 rounded-md p-3",children:(0,Ia.jsx)(xs,{className:"h-6 w-6 text-white"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Usage (30 days)"}),(0,Ia.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(null===i||void 0===i?void 0:i.total_cost.toFixed(2))||"0.00"]})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-6",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,Ia.jsx)(Ya,{className:"h-6 w-6 text-white"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg per Call"}),(0,Ia.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(null===i||void 0===i?void 0:i.avg_cost_per_call.toFixed(4))||"0.0000"]})]})})]})})})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ia.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Transaction History"})}),(0,Ia.jsx)("div",{className:"overflow-x-auto",children:(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance After"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===r.length?(0,Ia.jsx)("tr",{children:(0,Ia.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No transactions yet"})}):r.map(e=>(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("add"===e.type?"bg-green-100 text-green-800":"deduct"===e.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.type})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Ia.jsxs)("span",{className:"add"===e.type?"text-green-600":"text-red-600",children:["add"===e.type?"+":"-","$",e.amount.toFixed(4)]})}),(0,Ia.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.balance_after.toFixed(4)]}),(0,Ia.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.note||e.reference_type||"-"})]},e.id))})]})})]}),d&&(0,Ia.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Ia.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),(0,Ia.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Credits"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount ($)"}),(0,Ia.jsx)("input",{type:"number",step:"0.01",value:m,onChange:e=>p(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"100.00"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Note (optional)"}),(0,Ia.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Monthly top-up"})]})]}),(0,Ia.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Ia.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Ia.jsx)("button",{onClick:async()=>{const t=parseFloat(m);if(!t||t<=0)rn.error("Please enter a valid amount");else try{await((e,t,n)=>Oa.post("/credits/add",{tenant_id:e,amount:t,note:n}))(e.id,t,h),rn.success("Added $".concat(t.toFixed(2)," credits")),u(!1),p(""),f(""),x()}catch(a){var n,r;rn.error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to add credits")}},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Add Credits"})]})]})]})})]})},ys=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(null);(0,a.useEffect)(()=>{o()},[]);const o=async()=>{try{const n=await(e={limit:50},Oa.get("/calls",{params:e}));t(n.data.calls)}catch(n){rn.error("Failed to load calls")}finally{r(!1)}var e},l=async e=>{try{const n=await(t=e.session_id,Oa.get("/calls/".concat(t)));i(n.data.call)}catch(n){rn.error("Failed to load call details")}var t},c=e=>{const t=parseFloat(e);return isNaN(t)?"0.0000":t.toFixed(4)};return n?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Call Logs"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"View and analyze call history"})]}),(0,Ia.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Caller"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,Ia.jsx)("tr",{children:(0,Ia.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No calls yet"})}):e.map(e=>(0,Ia.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.start_time).toLocaleString()}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.caller_id||"Unknown"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.agent_name||"N/A"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.duration_seconds?"".concat(e.duration_seconds,"s"):"-"}),(0,Ia.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",c(e.final_cost)]}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"failed"===e.status?"bg-red-100 text-red-800":"insufficient_credits"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.status})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Ia.jsx)("button",{onClick:()=>l(e),className:"text-primary-600 hover:text-primary-900",children:"View Details"})})]},e.id))})]})}),s&&(0,Ia.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Ia.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>i(null)}),(0,Ia.jsxs)("div",{className:"relative bg-white rounded-lg max-w-3xl w-full p-6 max-h-screen overflow-y-auto",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Call Details"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Session ID"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-900",children:s.session_id})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Caller"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-900",children:s.caller_id})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),(0,Ia.jsxs)("p",{className:"text-sm text-gray-900",children:[s.duration_seconds,"s"]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Final Cost"}),(0,Ia.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(s.final_cost)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Base Cost"}),(0,Ia.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(s.base_cost)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Profit"}),(0,Ia.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(s.profit_amount)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Audio Input"}),(0,Ia.jsxs)("p",{className:"text-sm text-gray-900",children:[s.audio_input_seconds,"s"]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Audio Output"}),(0,Ia.jsxs)("p",{className:"text-sm text-gray-900",children:[s.audio_output_seconds,"s"]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Text Input Tokens"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-900",children:s.text_input_tokens||0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Text Output Tokens"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-900",children:s.text_output_tokens||0})]})]}),s.function_calls&&s.function_calls.length>0&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Function Calls"}),(0,Ia.jsx)("ul",{className:"space-y-2",children:s.function_calls.map((e,t)=>(0,Ia.jsxs)("li",{className:"border rounded p-3 text-sm",children:[(0,Ia.jsx)("p",{className:"font-medium",children:e.function_name}),(0,Ia.jsxs)("p",{className:"text-gray-600 mt-1",children:["Status: ",e.status," | Time: ",e.execution_time_ms,"ms"]}),e.arguments&&(0,Ia.jsx)("pre",{className:"mt-2 text-xs bg-gray-50 p-2 rounded overflow-x-auto",children:JSON.stringify(JSON.parse(e.arguments),null,2)})]},t))})]})]}),(0,Ia.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Ia.jsx)("button",{onClick:()=>i(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})})]})},vs=Va("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),bs=Va("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),js=Va("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ws=Va("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ns=()=>{var e,t,n,r,s,i,o,l,c,d,u,m;const[p,h]=(0,a.useState)(!1),[f,x]=(0,a.useState)(new Map),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(new Map),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=new WebSocket("/aiva/ws");return j.current=e,e.onopen=()=>{console.log("Connected to monitor server"),h(!0)},e.onclose=()=>{console.log("Disconnected from monitor server"),h(!1)},e.onerror=e=>{console.error("WebSocket error:",e)},e.onmessage=e=>{try{const t=JSON.parse(e.data);w(t)}catch(t){console.error("Error parsing message:",t)}},()=>{e.readyState===WebSocket.OPEN&&e.close()}},[]);const w=e=>{switch(e.type){case"connection_added":case"connection_info":x(t=>{const n=new Map(t);return n.set(e.data.clientKey,e.data),n}),b(t=>{const n=new Map(t);return n.has(e.data.clientKey)||n.set(e.data.clientKey,[]),n});break;case"connection_updated":x(t=>{const n=new Map(t);return n.has(e.data.clientKey)&&n.set(e.data.clientKey,qe(qe({},n.get(e.data.clientKey)),e.data)),n});break;case"connection_removed":x(t=>{const n=new Map(t);return n.delete(e.data.clientKey),n});break;case"transcript":b(t=>{const n=new Map(t),r=n.get(e.data.clientKey)||[];return n.set(e.data.clientKey,[...r,{speaker:e.data.speaker,text:e.data.text,timestamp:e.data.timestamp}]),n});break;case"cost_update":x(t=>{const n=new Map(t);if(n.has(e.data.clientKey)){const t=n.get(e.data.clientKey);t.cost=e.data.cost,n.set(e.data.clientKey,t)}return n});break;case"function_call":case"function_response":b(t=>{const n=new Map(t),r=n.get(e.data.clientKey)||[];return n.set(e.data.clientKey,[...r,{speaker:"system",text:"function_call"===e.type?"\ud83d\udd27 Function call: ".concat(e.data.functionName):"\u2705 Function response: ".concat(e.data.functionName),timestamp:e.data.timestamp,details:e.data}]),n})}},N=Array.from(f.values()),k=g&&v.get(g.clientKey)||[];return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Live Call Monitor"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Real-time monitoring of active calls"})]}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm ".concat(p?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,Ia.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(p?"bg-green-600 animate-pulse":"bg-red-600")}),p?"Connected":"Disconnected"]}),(0,Ia.jsxs)("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[N.length," Active"]})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Ia.jsx)("div",{className:"lg:col-span-1",children:(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,Ia.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:(0,Ia.jsx)("h2",{className:"text-sm font-semibold text-gray-900",children:"Active Calls"})}),(0,Ia.jsx)("div",{className:"divide-y divide-gray-200 max-h-[calc(100vh-250px)] overflow-y-auto",children:0===N.length?(0,Ia.jsxs)("div",{className:"px-4 py-8 text-center text-sm text-gray-500",children:[(0,Ia.jsx)(vs,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),"No active calls"]}):N.map(e=>{var t;return(0,Ia.jsxs)("button",{onClick:()=>y(e),className:"w-full px-4 py-4 text-left hover:bg-gray-50 transition-colors ".concat((null===g||void 0===g?void 0:g.clientKey)===e.clientKey?"bg-blue-50 border-l-4 border-blue-600":""),children:[(0,Ia.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.userSpeaking?"bg-green-500 animate-pulse":e.agentSpeaking?"bg-blue-500 animate-pulse":"bg-gray-300")}),(0,Ia.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.callerId||"Unknown"})]}),(0,Ia.jsx)(Ka,{className:"w-4 h-4 text-green-600"})]}),(0,Ia.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(bs,{className:"w-3 h-3 mr-1"}),e.agentName||"Unknown Agent"]}),(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(js,{className:"w-3 h-3 mr-1"}),e.connectedAt?new Date(e.connectedAt).toLocaleTimeString():"N/A"]}),e.cost&&(0,Ia.jsxs)("div",{className:"flex items-center font-semibold text-blue-600",children:[(0,Ia.jsx)(Ha,{className:"w-3 h-3 mr-1"}),(null===(t=e.cost.formatted)||void 0===t?void 0:t.finalCost)||"$0.00"]})]}),(e.userSpeaking||e.agentSpeaking)&&(0,Ia.jsxs)("div",{className:"mt-2 flex items-center space-x-1",children:[(0,Ia.jsx)(ws,{className:"w-3 h-3 text-blue-600"}),(0,Ia.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:e.userSpeaking?"User Speaking":"Agent Speaking"})]})]},e.clientKey)})})]})}),(0,Ia.jsx)("div",{className:"lg:col-span-2",children:(0,Ia.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden h-[calc(100vh-200px)] flex flex-col",children:g?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:g.callerId||"Unknown Caller"}),(0,Ia.jsxs)("p",{className:"text-sm text-gray-500",children:[g.agentName," \u2022 Session: ",g.sessionId]})]}),g.cost&&(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=g.cost.formatted)||void 0===e?void 0:e.finalCost)||"$0.00"}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:(null===(t=g.cost.duration)||void 0===t?void 0:t.formatted)||"0s"})]})]})}),(0,Ia.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:0===k.length?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(ws,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Ia.jsx)("p",{className:"text-sm",children:"Waiting for conversation..."})]})}):k.map((e,t)=>(0,Ia.jsx)("div",{className:"flex ".concat("user"===e.speaker?"justify-start":"agent"===e.speaker?"justify-end":"justify-center"),children:"system"===e.speaker?(0,Ia.jsx)("div",{className:"px-4 py-2 bg-yellow-50 border border-yellow-200 rounded-lg text-xs text-yellow-800",children:e.text}):(0,Ia.jsxs)("div",{className:"max-w-[75%] px-4 py-3 rounded-lg ".concat("user"===e.speaker?"bg-gray-100 text-gray-900":"bg-blue-600 text-white"),children:[(0,Ia.jsxs)("div",{className:"flex items-baseline space-x-2 mb-1",children:[(0,Ia.jsx)("span",{className:"text-xs font-semibold uppercase opacity-75",children:e.speaker}),(0,Ia.jsx)("span",{className:"text-xs opacity-50",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Ia.jsx)("p",{className:"text-sm leading-relaxed",children:e.text})]})},t))}),g.cost&&(0,Ia.jsx)("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50",children:(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center text-xs",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-gray-500",children:"Audio In"}),(0,Ia.jsxs)("div",{className:"font-semibold text-gray-900",children:[(null===(n=g.cost.audio)||void 0===n||null===(r=n.input)||void 0===r||null===(s=r.seconds)||void 0===s?void 0:s.toFixed(1))||0,"s"]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-gray-500",children:"Audio Out"}),(0,Ia.jsxs)("div",{className:"font-semibold text-gray-900",children:[(null===(i=g.cost.audio)||void 0===i||null===(o=i.output)||void 0===o||null===(l=o.seconds)||void 0===l?void 0:l.toFixed(1))||0,"s"]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-gray-500",children:"Tokens In"}),(0,Ia.jsx)("div",{className:"font-semibold text-gray-900",children:(null===(c=g.cost.text)||void 0===c||null===(d=c.input)||void 0===d?void 0:d.tokens)||0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-gray-500",children:"Tokens Out"}),(0,Ia.jsx)("div",{className:"font-semibold text-gray-900",children:(null===(u=g.cost.text)||void 0===u||null===(m=u.output)||void 0===m?void 0:m.tokens)||0})]})]})})]}):(0,Ia.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(Ka,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Ia.jsx)("p",{className:"text-lg font-medium",children:"Select a call to view transcript"}),(0,Ia.jsx)("p",{className:"text-sm mt-1",children:"Live transcripts will appear here"})]})})})})]})]})},ks=Va("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Ss=Va("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),_s=Va("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Cs=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(0),[p,h]=(0,a.useState)(0),[f,x]=(0,a.useState)(null),[g,y]=(0,a.useState)(null),v=(0,a.useRef)([]),b=(0,a.useRef)(!1),j=(0,a.useRef)(null),w=(0,a.useRef)(null),N=(0,a.useRef)(0),[k,S]=(0,a.useState)(!1),_=(0,a.useRef)(null),C=(0,a.useRef)(null);(0,a.useEffect)(()=>(O(),()=>{B()}),[]);const O=async()=>{try{const e=await Aa();t(e.data.agents)}catch(e){rn.error("Failed to load agents")}};(0,a.useEffect)(()=>{if(!s)return;const e=setInterval(()=>{if(w.current){const e=(Date.now()-w.current)/6e4;h("deepgram"===g?.015*e:.024*e)}},1e3);return()=>clearInterval(e)},[s,g]);const A=async()=>{const e=await(t=n.id,Oa.post("/realtime/token",{agent_id:t}));var t;const{ephemeral_key:r,session_id:a}=e.data;x(a);const s=new WebSocket("wss://api.openai.com/v1/realtime?model=".concat(n.model),["realtime","openai-insecure-api-key.".concat(r),"openai-beta.realtime-v1"]);_.current=s,s.onopen=async()=>{console.log("Connected to OpenAI Realtime"),w.current=Date.now(),i(!0),S(!1),rn.success("Connected to OpenAI agent"),await I()},s.onmessage=e=>{const t=JSON.parse(e.data);E(t)},s.onerror=e=>{console.error("WebSocket error:",e),S(!1),rn.error("Connection error")},s.onclose=e=>{console.log("Disconnected from OpenAI"),i(!1),S(!1),L(),1005!==e.code&&rn.error("Connection closed: ".concat(e.reason||"Unknown error"))}},P=async()=>{const e=localStorage.getItem("token"),t=await Ca.post("".concat("/aiva/api","/realtime/token/deepgram"),{agent_id:n.id},{headers:{Authorization:"Bearer ".concat(e)}}),{api_key:r,session_id:a,agent:s}=t.data;x(a);const o=new WebSocket("wss://agent.deepgram.com/v1/agent/converse",["token",r]);_.current=o,o.onopen=async()=>{console.log("Connected to Deepgram Agent"),setTimeout(()=>{const e={type:"Settings",audio:{input:{encoding:"linear16",sample_rate:16e3},output:{encoding:"linear16",sample_rate:24e3,container:"none"}},agent:{listen:{provider:{type:"deepgram",model:s.model}},speak:{provider:{type:"deepgram",model:s.voice}},greeting:s.greeting||null,think:{provider:{type:"open_ai",model:"gpt-4o-mini"},prompt:s.instructions,functions:[]}}};console.log("\ud83d\udce4 Sending config"),_.current.send(JSON.stringify(e))},100)},o.onmessage=e=>{if(e.data instanceof Blob)e.data.arrayBuffer().then(e=>{const t=new Uint8Array(e);F(t)});else{const t=JSON.parse(e.data);T(t)}},o.onerror=e=>{console.error("Deepgram error:",e),S(!1),rn.error("Connection error")},o.onclose=e=>{var t;console.log("Disconnected from Deepgram:",e.code,e.reason),i(!1),S(!1),L(),null!==(t=_.current)&&void 0!==t&&t.keepaliveInterval&&clearInterval(_.current.keepaliveInterval),1e3!==e.code&&1005!==e.code&&rn.error("Connection closed: ".concat(e.reason||"Unknown error"))}},E=e=>{switch(console.log("OpenAI:",e.type),e.type){case"session.created":M();break;case"session.updated":setTimeout(()=>{var e;(null===(e=_.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&_.current.send(JSON.stringify({type:"response.create"}))},500);break;case"conversation.item.input_audio_transcription.completed":d(t=>[...t,{role:"user",content:e.transcript,timestamp:new Date}]);break;case"response.audio_transcript.done":d(t=>[...t,{role:"assistant",content:e.transcript,timestamp:new Date}]);break;case"response.audio.delta":D(e.delta)}},T=e=>{switch(console.log("Deepgram:",e.type,e.description),e.type){case"Welcome":console.log("\ud83d\udc4b Deepgram welcome");break;case"SettingsApplied":console.log("\u2705 Settings applied"),w.current=Date.now(),i(!0),S(!1),rn.success("Connected to Deepgram agent");const t=setInterval(()=>{var e;if((null===(e=_.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN)try{_.current.send(JSON.stringify({type:"KeepAlive"}))}catch(n){console.error("Keepalive error:",n),clearInterval(t)}else clearInterval(t)},5e3);_.current.keepaliveInterval=t,setTimeout(()=>{I()},500);break;case"ConversationText":"user"===e.role?d(t=>[...t,{role:"user",content:e.content,timestamp:new Date}]):"assistant"===e.role&&d(t=>[...t,{role:"assistant",content:e.content,timestamp:new Date}]);break;case"UserStartedSpeaking":console.log("\ud83c\udfa4 User speaking"),v.current=[],b.current=!1,N.current=0;break;case"AgentStartedSpeaking":console.log("\ud83d\udd0a Agent speaking");break;case"AgentAudioDone":console.log("\u2705 Agent audio done");break;case"Error":console.error("\u274c Deepgram error:",e),rn.error(e.description||e.error||"Deepgram error");break;default:console.log("\u2139\ufe0f Unhandled:",e.type)}},M=()=>{if(!_.current||_.current.readyState!==WebSocket.OPEN)return;const e={type:"session.update",session:{modalities:["text","audio"],instructions:n.instructions,voice:n.voice,input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:{model:"whisper-1",language:n.language},turn_detection:{type:"server_vad",threshold:parseFloat(n.vad_threshold||"0.5"),prefix_padding_ms:300,silence_duration_ms:parseInt(n.silence_duration_ms||"500"),create_response:!0},tools:[],max_response_output_tokens:parseInt(n.max_tokens||"4096"),temperature:parseFloat(n.temperature||"0.6")}};_.current.send(JSON.stringify(e))},I=async()=>{try{const e="deepgram"===g?16e3:24e3,t=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:e}});C.current=t;const n=new AudioContext({sampleRate:e});j.current=n;const r=n.createMediaStreamSource(t),a=n.createScriptProcessor(4096,1,1),i=n.createAnalyser();i.fftSize=256,r.connect(i);const l=new Uint8Array(i.frequencyBinCount),c=()=>{if(!s)return;i.getByteFrequencyData(l);const e=l.reduce((e,t)=>e+t)/l.length;m(e/255),requestAnimationFrame(c)};c(),a.onaudioprocess=e=>{if(!_.current||_.current.readyState!==WebSocket.OPEN||o)return;const t=e.inputBuffer.getChannelData(0),n=new Int16Array(t.length);for(let r=0;r<t.length;r++){const e=Math.max(-1,Math.min(1,t[r]));n[r]=e<0?32768*e:32767*e}if("openai"===g){const e=new Uint8Array(n.buffer);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);const r=btoa(t);_.current.send(JSON.stringify({type:"input_audio_buffer.append",audio:r}))}else"deepgram"===g&&_.current.send(n.buffer)},r.connect(a),a.connect(n.destination)}catch(e){console.error("Microphone error:",e),rn.error("Failed to access microphone")}},D=e=>{try{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);v.current.push(n),b.current||R()}catch(t){console.error("Audio error:",t)}},F=e=>{try{v.current.push(e),b.current||R()}catch(t){console.error("Error queueing audio:",t)}},R=async()=>{if("deepgram"===g){const e=2;if(v.current.length<e&&v.current.length>0)return void setTimeout(()=>R(),50)}if(0===v.current.length)return b.current=!1,void(N.current=0);b.current=!0;try{j.current&&"closed"!==j.current.state||(j.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),N.current=j.current.currentTime);const e=j.current;let t;if("deepgram"===g){const e=Math.min(2,v.current.length);let n=0;const r=[];for(let t=0;t<e;t++){const e=v.current.shift(),t=new Int16Array(e.buffer||e);r.push(t),n+=t.length}t=new Int16Array(n);let a=0;for(const s of r)t.set(s,a),a+=s.length}else{const e=v.current.shift();t=new Int16Array(e.buffer||e)}const n=new Float32Array(t.length);for(let s=0;s<t.length;s++)n[s]=t[s]/(t[s]<0?32768:32767);const r=e.createBuffer(1,n.length,24e3);r.getChannelData(0).set(n);const a=e.createBufferSource();if(a.buffer=r,a.connect(e.destination),"deepgram"===g){const t=Math.max(N.current,e.currentTime);a.start(t),N.current=t+r.duration;const n=1e3*r.duration-50;setTimeout(()=>{R()},Math.max(0,n))}else a.onended=()=>{R()},a.start(0)}catch(e){console.error("Audio playback error:",e),b.current=!1,N.current=0,setTimeout(()=>R(),50)}},L=()=>{C.current&&(C.current.getTracks().forEach(e=>e.stop()),C.current=null),j.current&&(j.current.close(),j.current=null)},B=()=>{var e;if(null!==(e=_.current)&&void 0!==e&&e.keepaliveInterval&&clearInterval(_.current.keepaliveInterval),f&&_.current&&U(),_.current){if(_.current.readyState===WebSocket.OPEN)try{"deepgram"===g&&_.current.send(JSON.stringify({type:"EndSession"}))}catch(t){console.error("Error sending EndSession:",t)}_.current.close(),_.current=null}L(),v.current=[],b.current=!1,N.current=0,i(!1),x(null),y(null)},U=async()=>{try{const n=Date.now()-w.current,r=await(e=f,t=n,Oa.post("/realtime/finalize",{session_id:e,duration_ms:t}));r.data.success&&rn.success("Test call completed. Cost: $".concat(r.data.cost.toFixed(4)))}catch(n){console.error("Failed to finalize cost:",n)}var e,t};return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agent Test Utility"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Test your voice agents (OpenAI & Deepgram) in real-time"})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Ia.jsx)("div",{className:"lg:col-span-1",children:(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Settings"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Agent"}),(0,Ia.jsxs)("select",{value:(null===n||void 0===n?void 0:n.id)||"",onChange:t=>r(e.find(e=>e.id===t.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2",disabled:s,children:[(0,Ia.jsx)("option",{value:"",children:"Choose an agent..."}),e.map(e=>(0,Ia.jsxs)("option",{value:e.id,children:[e.name," (",e.provider||"openai",")"]},e.id))]})]}),n&&(0,Ia.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,Ia.jsxs)("div",{className:"flex justify-between",children:[(0,Ia.jsx)("span",{children:"Provider:"}),(0,Ia.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?"Deepgram":"OpenAI"})]}),(0,Ia.jsxs)("div",{className:"flex justify-between",children:[(0,Ia.jsx)("span",{children:"Model:"}),(0,Ia.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?n.deepgram_model:n.model})]}),(0,Ia.jsxs)("div",{className:"flex justify-between",children:[(0,Ia.jsx)("span",{children:"Voice:"}),(0,Ia.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?n.deepgram_voice:n.voice})]})]}),(0,Ia.jsx)("div",{className:"pt-4",children:s?(0,Ia.jsxs)("button",{onClick:B,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[(0,Ia.jsx)(vs,{className:"w-5 h-5 mr-2"}),"Disconnect"]}):(0,Ia.jsxs)("button",{onClick:async()=>{if(!n)return void rn.error("Please select an agent");const e=n.provider||"openai";y(e),S(!0);try{"openai"===e?await A():"deepgram"===e?await P():(rn.error("Unsupported provider"),S(!1))}catch(t){console.error("Connection error:",t),rn.error("Failed to connect"),S(!1)}},disabled:!n||k,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[(0,Ia.jsx)(Ka,{className:"w-5 h-5 mr-2"}),k?"Connecting...":"Connect"]})}),s&&(0,Ia.jsxs)("div",{className:"space-y-3",children:[(0,Ia.jsxs)("button",{onClick:()=>l(!o),className:"w-full flex items-center justify-center px-4 py-2 rounded-md ".concat(o?"bg-gray-600 hover:bg-gray-700":"bg-blue-600 hover:bg-blue-700"," text-white"),children:[o?(0,Ia.jsx)(ks,{className:"w-5 h-5 mr-2"}):(0,Ia.jsx)(Ss,{className:"w-5 h-5 mr-2"}),o?"Unmute":"Mute"]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ia.jsx)("span",{className:"text-sm text-gray-600",children:"Audio Level"}),(0,Ia.jsx)(_s,{className:"w-4 h-4 text-gray-400"})]}),(0,Ia.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ia.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(100*u,"%")}})})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-600",children:"Estimated Cost"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",p.toFixed(4)]})]})]})]})]})}),(0,Ia.jsx)("div",{className:"lg:col-span-2",children:(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Conversation"}),(0,Ia.jsx)("div",{className:"h-96 overflow-y-auto space-y-3 border border-gray-200 rounded-lg p-4",children:0===c.length?(0,Ia.jsx)("div",{className:"text-center text-gray-500 mt-20",children:"No conversation yet. Connect and start talking!"}):c.map((e,t)=>(0,Ia.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Ia.jsxs)("div",{className:"max-w-xs px-4 py-2 rounded-lg ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"),children:[(0,Ia.jsx)("div",{className:"text-xs opacity-75 mb-1",children:"user"===e.role?"You":"Agent"}),(0,Ia.jsx)("div",{children:e.content})]})},t))})]})})]})]})},Os=Va("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),As=Va("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ps=Va("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Es=Va("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ts=Va("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Ms=Va("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Is=Va("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ds=Va("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Fs=Va("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Rs=Va("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Ls=()=>{(0,a.useEffect)(()=>{const e=document.createElement("style");return e.textContent="\n      .knowledge-formatted-content img {\n        max-width: 100%;\n        height: auto;\n        border-radius: 8px;\n        margin: 8px 0;\n      }\n      .knowledge-formatted-content .inline-page-images {\n        margin-top: 15px;\n      }\n    ",document.head.appendChild(e),()=>document.head.removeChild(e)},[]);ee();const e=(0,a.useRef)(null),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)(""),[h,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null),[y,v]=(0,a.useState)(!0),[b,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(0);(0,a.useEffect)(()=>{C()},[]),(0,a.useEffect)(()=>{_()},[d]);const _=()=>{var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},C=async()=>{try{const e=await Aa({status:"active"});n(e.data.agents||[])}catch(e){rn.error("Failed to load agents"),console.error(e)}},O=e=>"$".concat((e||0).toFixed(6));return(0,Ia.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,Ia.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)(es,{className:"w-6 h-6 text-primary-600"}),(0,Ia.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Agent Test Chat"})]}),(0,Ia.jsx)("div",{className:"ml-6",children:(0,Ia.jsxs)("select",{value:r||"",onChange:e=>(async e=>{if(!e)return s(null),o(null),u([]),g(null),void S(0);try{c(!0);const t=(await Pa(e)).data.agent;s(e),o(t),u([{role:"assistant",content:t.greeting||"Hello! I'm ".concat(t.name,". How can I help you today?"),timestamp:(new Date).toISOString()}]),g(null),S(0),rn.success("Agent loaded: ".concat(t.name))}catch(t){rn.error("Failed to load agent details"),console.error(t)}finally{c(!1)}})(e.target.value),disabled:l,className:"block w-64 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Ia.jsx)("option",{value:"",children:"Select an agent..."}),t.map(e=>(0,Ia.jsxs)("option",{value:e.id,children:[e.name," ",e.kb_id?"\ud83d\udcda":""]},e.id))]})})]}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Total Cost"}),(0,Ia.jsx)("div",{className:"text-lg font-bold text-gray-900",children:O(k)})]}),d.length>1&&(0,Ia.jsxs)("button",{onClick:async()=>{if(x)try{await(e=>Ma.post("/chat/sessions/".concat(e,"/end")))(x)}catch(e){console.error("Failed to end session:",e)}u([{role:"assistant",content:(null===i||void 0===i?void 0:i.greeting)||"Hello! I'm ".concat(null===i||void 0===i?void 0:i.name,". How can I help you today?"),timestamp:(new Date).toISOString()}]),g(null),S(0),rn.success("Chat cleared")},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(Os,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]})}),(0,Ia.jsx)("div",{className:"flex-1 flex overflow-hidden",children:(0,Ia.jsxs)("div",{className:"flex-1 flex flex-col",children:[i&&(0,Ia.jsxs)("div",{className:"bg-blue-50 border-b border-blue-200",children:[(0,Ia.jsxs)("button",{onClick:()=>v(!y),className:"w-full px-6 py-3 flex items-center justify-between hover:bg-blue-100 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)(Ga,{className:"w-5 h-5 text-blue-600"}),(0,Ia.jsxs)("span",{className:"font-medium text-blue-900",children:["Agent: ",i.name]}),i.kb_id&&(0,Ia.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-200 text-blue-800",children:[(0,Ia.jsx)(As,{className:"w-3 h-3 mr-1"}),"KB Enabled"]})]}),y?(0,Ia.jsx)(Ps,{className:"w-5 h-5 text-blue-600"}):(0,Ia.jsx)(Es,{className:"w-5 h-5 text-blue-600"})]}),y&&(0,Ia.jsxs)("div",{className:"px-6 pb-4 space-y-3",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Instructions (Persona)"}),(0,Ia.jsx)("div",{className:"text-sm text-blue-800 bg-white rounded p-3 max-h-32 overflow-y-auto whitespace-pre-wrap font-mono text-xs",children:i.instructions})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Model"}),(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.model||"gpt-4o-mini"})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Temperature"}),(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.temperature||.7})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Max Tokens"}),(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.max_tokens||4096})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Provider"}),(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.provider||"openai"})]})]})]})]}),(0,Ia.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:r?(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.map((e,t)=>(0,Ia.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Ia.jsxs)("div",{className:"flex max-w-3xl ".concat("user"===e.role?"flex-row-reverse":"flex-row"," gap-3"),children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.role?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"user"===e.role?(0,Ia.jsx)(bs,{className:"w-5 h-5"}):(0,Ia.jsx)(Ga,{className:"w-5 h-5"})}),(0,Ia.jsxs)("div",{className:"flex-1 ".concat("user"===e.role?"items-end":"items-start"),children:[(0,Ia.jsxs)("div",{className:"rounded-lg px-4 py-3 ".concat("user"===e.role?"bg-primary-600 text-white":e.error?"bg-red-50 border border-red-200":"bg-white border border-gray-200"),children:[(0,Ia.jsx)("div",{className:"prose prose-sm max-w-none",children:e.formatted_html?(0,Ia.jsx)("div",{className:"knowledge-formatted-content",dangerouslySetInnerHTML:{__html:e.formatted_html}}):(0,Ia.jsx)("p",{className:"whitespace-pre-wrap ".concat("user"===e.role?"text-white":"text-gray-900"),children:e.content})}),e.sources&&e.sources.length>0&&(0,Ia.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Ia.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(As,{className:"w-3 h-3 mr-1"}),"Knowledge Sources (",e.sources.length,")"]}),(0,Ia.jsx)("div",{className:"space-y-1",children:e.sources.slice(0,3).map((e,t)=>(0,Ia.jsx)("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsx)("span",{className:"font-medium truncate",children:e.title}),(0,Ia.jsxs)("span",{className:"text-gray-500 ml-2",children:[(100*e.relevance_score).toFixed(0),"%"]})]})},t))})]}),e.images&&e.images.length>0&&(0,Ia.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Ia.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(Ts,{className:"w-3 h-3 mr-1"}),"Images (",e.images.length,")"]}),(0,Ia.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.images.slice(0,4).map((e,t)=>(0,Ia.jsxs)("div",{className:"border border-gray-200 rounded overflow-hidden hover:border-primary-300 transition-colors cursor-pointer group",onClick:()=>window.open(e.url,"_blank"),children:[(0,Ia.jsx)("div",{className:"aspect-square bg-gray-50 overflow-hidden",children:(0,Ia.jsx)("img",{src:e.thumbnail_url||e.url,alt:e.title||"Image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform",loading:"lazy",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22%3E%3Crect fill=%22%23f3f4f6%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%239ca3af%22 font-size=%2214%22%3EImage%3C/text%3E%3C/svg%3E"}})}),(0,Ia.jsxs)("div",{className:"p-1.5 bg-gray-50",children:[(0,Ia.jsx)("p",{className:"text-xs text-gray-700 truncate",title:e.title||"Image",children:e.title||"Image"}),e.page_number&&(0,Ia.jsxs)("p",{className:"text-xs text-gray-500",children:["Page ",e.page_number]})]})]},e.image_id||t))}),e.images.length>4&&(0,Ia.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["+",e.images.length-4," more image",e.images.length-4!==1?"s":""]})]}),e.function_calls&&e.function_calls.length>0&&(0,Ia.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Ia.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(Ms,{className:"w-3 h-3 mr-1"}),"Function Calls (",e.function_calls.length,")"]}),e.function_calls.map((e,t)=>(0,Ia.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-medium",children:e.function_name}),(0,Ia.jsxs)("span",{className:"text-green-600 ml-2",children:["\u2713 ",e.status]})]},t))]}),void 0!==e.cost&&(0,Ia.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Ia.jsx)("span",{className:"text-gray-500",children:e.context_used&&(0,Ia.jsxs)(Ia.Fragment,{children:[e.context_used.knowledge_base_chunks>0&&(0,Ia.jsxs)("span",{className:"mr-2",children:["\ud83d\udcda ",e.context_used.knowledge_base_chunks," chunks"]}),(0,Ia.jsxs)("span",{className:"mr-2",children:["\ud83d\udcac ",e.context_used.conversation_history_messages," history"]}),(0,Ia.jsxs)("span",{children:["\ud83d\udd24 ",e.context_used.total_context_tokens," tokens"]})]})}),(0,Ia.jsxs)("span",{className:"font-medium text-gray-700",children:[(0,Ia.jsx)(Ha,{className:"w-3 h-3 inline mr-0.5"}),O(e.cost)]})]}),e.cost_breakdown&&e.cost_breakdown.operations&&(0,Ia.jsxs)("div",{className:"mt-1 space-y-1",children:[e.cost_breakdown.operations.map((e,t)=>(0,Ia.jsxs)("div",{className:"text-xs text-gray-600 flex items-center justify-between",children:[(0,Ia.jsxs)("span",{className:"capitalize",children:[e.operation.replace(/_/g," "),e.details&&e.details.model&&(0,Ia.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",e.details.model,")"]})]}),(0,Ia.jsx)("span",{className:"text-gray-500",children:O(e.total_cost)})]},t)),e.cost_breakdown.operations.length>1&&(0,Ia.jsxs)("div",{className:"text-xs font-medium text-gray-700 flex items-center justify-between pt-1 border-t border-gray-100",children:[(0,Ia.jsx)("span",{children:"Total"}),(0,Ia.jsx)("span",{children:O(e.cost_breakdown.final_cost)})]})]})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center mt-1 space-x-2",children:[(0,Ia.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()}),(0,Ia.jsx)("button",{onClick:()=>((e,t)=>{navigator.clipboard.writeText(e),N(t),setTimeout(()=>N(null),2e3),rn.success("Copied to clipboard")})(e.content,t),className:"text-gray-400 hover:text-gray-600",title:"Copy message",children:w===t?(0,Ia.jsx)(Is,{className:"w-3 h-3 text-green-500"}):(0,Ia.jsx)(Ds,{className:"w-3 h-3"})})]})]})]})},t)),h&&(0,Ia.jsx)("div",{className:"flex justify-start",children:(0,Ia.jsxs)("div",{className:"flex gap-3 max-w-3xl",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Ia.jsx)(Ga,{className:"w-5 h-5 text-gray-600"})}),(0,Ia.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)(Fs,{className:"w-4 h-4 animate-spin text-gray-400"}),(0,Ia.jsx)("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})]})}),(0,Ia.jsx)("div",{ref:e})]}):(0,Ia.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(Ga,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Agent"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Choose an agent from the dropdown to start testing"})]})})}),r&&(0,Ia.jsx)("div",{className:"border-t border-gray-200 bg-white px-6 py-4",children:(0,Ia.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!m.trim()||h||!r)return;const t={role:"user",content:m.trim(),timestamp:(new Date).toISOString()};u(e=>[...e,t]),p(""),f(!0);try{const e=await(e=>Ma.post("/chat/message",e))({session_id:x,agent_id:r,message:m.trim()}),t=e.data.data;!x&&t.session_id&&g(t.session_id);const n={role:"assistant",content:t.response.text,html:t.response.html,markdown:t.response.markdown,formatted_html:t.formatted_html,timestamp:(new Date).toISOString(),sources:t.sources||[],images:t.images||[],function_calls:t.function_calls||[],cost:t.cost,cost_breakdown:t.cost_breakdown,context_used:t.context_used,agent_metadata:t.agent_metadata};u(e=>[...e,n]),S(e=>e+(t.cost||0))}catch(s){var n,a;console.error("Chat error:",s);const e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:(new Date).toISOString(),error:!0};u(t=>[...t,e]),rn.error((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to send message")}finally{f(!1)}},className:"max-w-4xl mx-auto",children:(0,Ia.jsxs)("div",{className:"flex space-x-3",children:[(0,Ia.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),disabled:h||!r,placeholder:h?"Waiting for response...":"Type your message...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100"}),(0,Ia.jsx)("button",{type:"submit",disabled:h||!m.trim()||!r,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Fs,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending"]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Rs,{className:"w-4 h-4 mr-2"}),"Send"]})})]})})})]})})]})},Bs=Va("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Us=Va("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),zs=Va("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),qs=Va("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ws=Va("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Vs=Va("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Hs=Va("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Gs=Va("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Ks=Va("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Ys=Va("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Xs=Va("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Js=Va("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Qs=Va("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Zs=Va("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),$s=Va("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ei=()=>{const{user:e,logout:t}=Fa(),n=Z(),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),m=(0,a.useRef)(null),p=(0,a.useRef)(0);(0,a.useEffect)(()=>{n.pathname.startsWith("/analytics")&&c(!0),n.pathname.startsWith("/settings")&&u(!0)},[n.pathname]),(0,a.useEffect)(()=>{const e=localStorage.getItem("sidebarCollapsed");e&&o("true"===e)},[]),(0,a.useEffect)(()=>{m.current&&(m.current.scrollTop=p.current)},[l,d]);const h=[{title:"Main",items:[{name:"Dashboard",href:"/",icon:Bs,roles:["super_admin","admin","agent_manager","client"]},{name:"Live Monitor",href:"/monitor",icon:ws,roles:["super_admin","admin","agent_manager"],badge:"live"}]},{title:"AI Agents",items:[{name:"Agents",href:"/agents",icon:Ga,roles:["super_admin","admin","agent_manager","client"]},{name:"Knowledge Base",href:"/knowledge",icon:As,roles:["super_admin","admin","agent_manager","client"]},{name:"Shopify Stores",href:"/shopify",icon:Us,roles:["super_admin","admin","agent_manager"]}]},{title:"Analytics & Reports",collapsible:!0,isOpen:l,setIsOpen:c,icon:zs,items:[{name:"Overview",href:"/analytics/dashboard",icon:Bs,roles:["super_admin","admin","agent_manager"],submenu:!0},{name:"Calls Report",href:"/analytics/calls",icon:Ka,roles:["super_admin","admin","agent_manager"],submenu:!0},{name:"Chat Report",href:"/analytics/chats",icon:es,roles:["super_admin","admin","agent_manager"],submenu:!0},{name:"Advanced Analytics",href:"/analytics/advanced",icon:Ya,roles:["super_admin","admin","agent_manager"],submenu:!0},{name:"Cost & Performance",href:"/analytics/costs",icon:qs,roles:["super_admin","admin"],submenu:!0},{name:"Customer Satisfaction",href:"/analytics/satisfaction",icon:Ws,roles:["super_admin","admin","agent_manager"],submenu:!0}]},{title:"Testing & Development",items:[{name:"Test Voice Call",href:"/test",icon:Ss,roles:["super_admin","admin","agent_manager"]},{name:"Test Chat",href:"/agent-test",icon:es,roles:["super_admin","admin","agent_manager"]}]},{title:"Administration",items:[{name:"Users",href:"/users",icon:Vs,roles:["super_admin","admin"]}],collapsibleItems:[{title:"Settings",collapsible:!0,isOpen:d,setIsOpen:u,icon:Hs,items:[{name:"System Settings",href:"/settings/system",icon:Hs,roles:["super_admin"],submenu:!0},{name:"Notifications",href:"/settings/notifications",icon:Gs,roles:["super_admin","admin"],submenu:!0}]}],bottomItems:[{name:"Tenant Manager",href:"/tenants",icon:Ks,roles:["super_admin"]},{name:"API Settings",href:"/settings/api",icon:Ys,roles:["super_admin","admin"]},{name:"Help Center",href:"/help",icon:Xs,roles:["super_admin","admin","agent_manager","client"]}]}],f=t=>!t||!(null===e||void 0===e||!e.role)&&t.includes(e.role),x=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!f(e.roles))return null;const r=e.icon,a="/"===(o=e.href)?"/"===n.pathname:n.pathname.startsWith(o);var o;return(0,Ia.jsxs)(Me,{to:e.href,className:"flex items-center px-4 py-2.5 text-sm font-medium rounded-md transition-all group ".concat(e.submenu?"pl-12":""," ").concat(a?"bg-primary-100 text-primary-700 border-r-3 border-primary-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),onClick:e=>{m.current&&(p.current=m.current.scrollTop),t&&s(!1)},title:i?e.name:"",children:[(0,Ia.jsx)(r,{className:"".concat("w-5 h-5"," ").concat(e.submenu&&!i?"mr-2":i?"":"mr-3"," flex-shrink-0")}),!i&&(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("span",{className:"flex-1",children:e.name}),"live"===e.badge&&(0,Ia.jsxs)("span",{className:"ml-2 flex h-2 w-2",children:[(0,Ia.jsx)("span",{className:"animate-ping absolute inline-flex h-2 w-2 rounded-full bg-red-400 opacity-75"}),(0,Ia.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]})]})]},e.name)},g=e=>{var t;if(!f(null===(t=e.items[0])||void 0===t?void 0:t.roles))return null;const n=e.icon;return i?(0,Ia.jsxs)("div",{className:"mb-1 relative group",children:[(0,Ia.jsx)("div",{className:"flex items-center justify-center px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-md cursor-pointer",children:(0,Ia.jsx)(n,{className:"w-5 h-5 flex-shrink-0"})}),(0,Ia.jsx)("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-md opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50",children:e.title||"Settings"})]},e.title):(0,Ia.jsxs)("div",{className:"mb-1",children:[(0,Ia.jsxs)("button",{onClick:t=>{var n,r;t.preventDefault(),t.stopPropagation(),n=e.setIsOpen,r=e.isOpen,m.current&&(p.current=m.current.scrollTop),n(!r)},className:"flex items-center justify-between w-full px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 rounded-md transition-all",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(n,{className:"w-5 h-5 mr-3 flex-shrink-0"}),(0,Ia.jsx)("span",{children:e.title||"Settings"})]}),(0,Ia.jsx)(Js,{className:"w-4 h-4 transition-transform ".concat(e.isOpen?"rotate-90":"")})]}),e.isOpen&&(0,Ia.jsx)("div",{className:"mt-1 space-y-1 bg-gray-50 rounded-md py-1",children:e.items.map(e=>x(e))})]},e.title)},y=n=>{var r,a,o;let{isMobile:l=!1}=n;return(0,Ia.jsxs)(Ia.Fragment,{children:[!i&&(0,Ia.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Ia.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Ia.jsx)("span",{className:"text-primary-600 font-medium text-lg",children:null===e||void 0===e||null===(r=e.name)||void 0===r?void 0:r.charAt(0).toUpperCase()})}),(0,Ia.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null===e||void 0===e?void 0:e.name}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 truncate capitalize",children:null===e||void 0===e||null===(a=e.role)||void 0===a?void 0:a.replace("_"," ")})]})]}),f(["super_admin","admin"])&&(0,Ia.jsxs)(Me,{to:"/credits",className:"flex items-center justify-between px-3 py-2 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors",onClick:()=>l&&s(!1),children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Ha,{className:"w-4 h-4 text-amber-700 mr-2"}),(0,Ia.jsx)("span",{className:"text-xs text-amber-700",children:"Credits"})]}),(0,Ia.jsx)("span",{className:"text-sm font-bold text-amber-900",children:"View"})]})]}),i&&(0,Ia.jsx)("div",{className:"p-4 border-b border-gray-200 flex justify-center",children:(0,Ia.jsxs)("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center group relative",children:[(0,Ia.jsx)("span",{className:"text-primary-600 font-medium text-lg",children:null===e||void 0===e||null===(o=e.name)||void 0===o?void 0:o.charAt(0).toUpperCase()}),(0,Ia.jsx)("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-md opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50",children:null===e||void 0===e?void 0:e.name})]})}),(0,Ia.jsx)("nav",{ref:m,className:"flex-1 px-2 py-4 space-y-6 overflow-y-auto",style:{scrollBehavior:"auto"},children:h.map((e,t)=>{var n,r,a,s,o;return(null===(n=e.items)||void 0===n?void 0:n.some(e=>f(e.roles)))||(null===(r=e.collapsibleItems)||void 0===r?void 0:r.some(e=>e.items.some(e=>f(e.roles))))?(0,Ia.jsxs)("div",{children:[e.title&&!i&&(0,Ia.jsx)("div",{className:"px-4 mb-2",children:(0,Ia.jsx)("h3",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:e.title})}),(0,Ia.jsx)("div",{className:"space-y-1 ".concat(i?"flex flex-col items-center":""),children:e.collapsible?g(e):(0,Ia.jsxs)(Ia.Fragment,{children:[null===(a=e.items)||void 0===a?void 0:a.map(e=>x(e,l)),null===(s=e.collapsibleItems)||void 0===s?void 0:s.map(e=>g(e)),null===(o=e.bottomItems)||void 0===o?void 0:o.map(e=>x(e,l))]})}),t<h.length-1&&!i&&(0,Ia.jsx)("div",{className:"mt-4 border-t border-gray-200"})]},t):null})}),(0,Ia.jsx)("div",{className:"p-4 border-t",children:(0,Ia.jsxs)("button",{onClick:t,className:"flex items-center w-full px-4 py-2.5 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-all group relative ".concat(i?"justify-center":""),title:i?"Logout":"",children:[(0,Ia.jsx)(Qs,{className:"w-5 h-5 ".concat(i?"":"mr-3")}),!i&&"Logout",i&&(0,Ia.jsx)("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-md opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50",children:"Logout"})]})})]})};return(0,Ia.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Ia.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden ".concat(r?"":"hidden"),children:[(0,Ia.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>s(!1)}),(0,Ia.jsxs)("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,Ia.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"AiVA Manager"}),(0,Ia.jsx)("button",{onClick:()=>s(!1),children:(0,Ia.jsx)(rs,{className:"w-6 h-6"})})]}),(0,Ia.jsx)(y,{isMobile:!0})]})]}),(0,Ia.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col transition-all duration-300 ".concat(i?"lg:w-20":"lg:w-64"),children:(0,Ia.jsxs)("div",{className:"flex flex-col flex-1 min-h-0 bg-white border-r",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[!i&&(0,Ia.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"AiVA Manager"}),i&&(0,Ia.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"AI"}),(0,Ia.jsx)("button",{onClick:()=>{const e=!i;o(e),localStorage.setItem("sidebarCollapsed",e.toString())},className:"p-1.5 rounded-md hover:bg-gray-100 transition-colors",title:i?"Expand sidebar":"Collapse sidebar",children:i?(0,Ia.jsx)(Js,{className:"w-5 h-5 text-gray-600"}):(0,Ia.jsx)(Zs,{className:"w-5 h-5 text-gray-600"})})]}),(0,Ia.jsx)(y,{})]})}),(0,Ia.jsxs)("div",{className:"transition-all duration-300 ".concat(i?"lg:pl-20":"lg:pl-64"),children:[(0,Ia.jsxs)("div",{className:"sticky top-0 z-10 flex h-16 bg-white border-b lg:hidden",children:[(0,Ia.jsx)("button",{onClick:()=>s(!0),className:"px-4 text-gray-500 focus:outline-none",children:(0,Ia.jsx)($s,{className:"w-6 h-6"})}),(0,Ia.jsx)("div",{className:"flex items-center flex-1 px-4",children:(0,Ia.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"AiVA Manager"})})]}),(0,Ia.jsx)("main",{className:"py-6",children:(0,Ia.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:(0,Ia.jsx)(ye,{})})})]})]})},ti=Va("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ni=Va("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ri=Va("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ai=Va("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),si=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)("all");(0,a.useEffect)(()=>{c()},[o]);const c=async()=>{try{var e,n;r(!0);const a=(null===(e=(await os({status:"all"!==o?o:void 0})).data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.knowledge_bases)||[];t(a)}catch(a){rn.error("Failed to load knowledge bases"),console.error(a),t([])}finally{r(!1)}},d=async e=>{if(window.confirm("Are you sure? This will delete all documents and data."))try{await(e=>Ma.delete("/knowledge/".concat(e)))(e),rn.success("Knowledge base deleted"),c()}catch(t){rn.error("Failed to delete knowledge base"),console.error(t)}},u=e.filter(e=>{var t;return e.name.toLowerCase().includes(s.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(s.toLowerCase()))});return n?(0,Ia.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Bases"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage documents and knowledge for your AI agents"})]}),(0,Ia.jsxs)(Me,{to:"/knowledge/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-4 h-4 mr-2"}),"New Knowledge Base"]})]}),(0,Ia.jsxs)("div",{className:"flex gap-4",children:[(0,Ia.jsxs)("div",{className:"flex-1 relative",children:[(0,Ia.jsx)(ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ia.jsx)("input",{type:"text",placeholder:"Search knowledge bases...",value:s,onChange:e=>i(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Ia.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"all",children:"All Status"}),(0,Ia.jsx)("option",{value:"active",children:"Active"}),(0,Ia.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),0===u.length?(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)(As,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No knowledge bases"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new knowledge base"}),(0,Ia.jsx)("div",{className:"mt-6",children:(0,Ia.jsxs)(Me,{to:"/knowledge/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-4 h-4 mr-2"}),"New Knowledge Base"]})})]}):(0,Ia.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:u.map(e=>{var t,n,r,a;return(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:(0,Ia.jsxs)("div",{className:"p-6",children:[(0,Ia.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Ia.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ni,{className:"h-8 w-8 text-primary-600"})}),(0,Ia.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,Ia.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})]})]})}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:e.description||"No description"}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h3",{children:e.name}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-gray-600",children:"Documents"}),(0,Ia.jsx)("p",{className:"text-2xl font-bold",children:(null===(t=e.stats)||void 0===t?void 0:t.document_count)||0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-gray-600",children:"Chunks"}),(0,Ia.jsx)("p",{className:"text-2xl font-bold",children:(null===(n=e.stats)||void 0===n?void 0:n.chunk_count)||0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-gray-600",children:"Images"}),(0,Ia.jsx)("p",{className:"text-2xl font-bold",children:(null===(r=e.stats)||void 0===r?void 0:r.image_count)||0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-gray-600",children:"Products"}),(0,Ia.jsx)("p",{className:"text-2xl font-bold",children:(null===(a=e.stats)||void 0===a?void 0:a.product_count)||0})]})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center text-xs text-gray-400 mb-4",children:[(0,Ia.jsx)(js,{className:"w-3 h-3 mr-1"}),"Updated ",new Date(e.updated_at).toLocaleDateString()]}),(0,Ia.jsxs)("div",{className:"flex space-x-2",children:[(0,Ia.jsxs)(Me,{to:"/knowledge/".concat(e.id,"/documents"),className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(ri,{className:"w-4 h-4 mr-2"}),"Documents"]}),(0,Ia.jsx)(Me,{to:"/knowledge/".concat(e.id,"/edit"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:(0,Ia.jsx)(ai,{className:"w-4 h-4"})}),(0,Ia.jsx)("button",{onClick:()=>d(e.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:(0,Ia.jsx)(ts,{className:"w-4 h-4"})})]})]})},e.id)})})]})},ii=Va("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),oi=Va("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),li=()=>{const e=ee(),{id:t}=ne(),n=!!t,[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)({name:"",description:"",type:"general",status:"active",settings:{chunk_size:500,chunk_overlap:50,embedding_model:"text-embedding-3-small"}});(0,a.useEffect)(()=>{n&&l()},[t]);const l=async()=>{try{s(!0);const e=(await ls(t)).data.data;o({name:e.name,description:e.description||"",type:e.type,status:e.status,settings:e.settings||i.settings})}catch(e){rn.error("Failed to load knowledge base"),console.error(e)}finally{s(!1)}};return(0,Ia.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,Ia.jsx)("div",{className:"flex items-center justify-between",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("button",{onClick:()=>e("/knowledge"),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Knowledge Bases"]}),(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Knowledge Base":"New Knowledge Base"})]})}),(0,Ia.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),i.name.trim())try{if(s(!0),!n){const t=await(e=>Ma.post("/knowledge",e))(i);return rn.success("Knowledge base created"),void e("/knowledge/".concat(t.data.data.id,"/documents"))}await((e,t)=>Ma.put("/knowledge/".concat(e),t))(t,i),rn.success("Knowledge base updated"),e("/knowledge")}catch(a){rn.error(n?"Failed to update":"Failed to create"),console.error(a)}finally{s(!1)}else rn.error("Name is required")},className:"bg-white shadow rounded-lg",children:[(0,Ia.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Ia.jsx)("input",{type:"text",value:i.name,onChange:e=>o(qe(qe({},i),{},{name:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., Product Documentation",required:!0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Ia.jsx)("textarea",{value:i.description,onChange:e=>o(qe(qe({},i),{},{description:e.target.value})),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Describe what this knowledge base contains..."})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,Ia.jsxs)("select",{value:i.type,onChange:e=>o(qe(qe({},i),{},{type:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"general",children:"General"}),(0,Ia.jsx)("option",{value:"documentation",children:"Documentation"}),(0,Ia.jsx)("option",{value:"faq",children:"FAQ"}),(0,Ia.jsx)("option",{value:"support",children:"Support"}),(0,Ia.jsx)("option",{value:"product_catalog",children:"Product Catalog"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Ia.jsxs)("select",{value:i.status,onChange:e=>o(qe(qe({},i),{},{status:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"active",children:"Active"}),(0,Ia.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Processing Settings"}),(0,Ia.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Ia.jsxs)("div",{className:"flex",children:[(0,Ia.jsx)(oi,{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0"}),(0,Ia.jsx)("div",{className:"text-sm text-blue-700",children:"These settings control how documents are processed and indexed. Default values work well for most cases."})]})}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chunk Size (tokens)"}),(0,Ia.jsx)("input",{type:"number",value:i.settings.chunk_size,onChange:e=>o(qe(qe({},i),{},{settings:qe(qe({},i.settings),{},{chunk_size:parseInt(e.target.value)})})),min:100,max:2e3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 500"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chunk Overlap (tokens)"}),(0,Ia.jsx)("input",{type:"number",value:i.settings.chunk_overlap,onChange:e=>o(qe(qe({},i),{},{settings:qe(qe({},i.settings),{},{chunk_overlap:parseInt(e.target.value)})})),min:0,max:200,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 50"})]})]}),(0,Ia.jsxs)("div",{className:"mt-4",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Embedding Model"}),(0,Ia.jsxs)("select",{value:i.settings.embedding_model,onChange:e=>o(qe(qe({},i),{},{settings:qe(qe({},i.settings),{},{embedding_model:e.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"text-embedding-3-small",children:"text-embedding-3-small (Fast, Affordable)"}),(0,Ia.jsx)("option",{value:"text-embedding-3-large",children:"text-embedding-3-large (High Quality)"}),(0,Ia.jsx)("option",{value:"text-embedding-ada-002",children:"text-embedding-ada-002 (Legacy)"})]})]})]})]}),(0,Ia.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between rounded-b-lg",children:[(0,Ia.jsx)("button",{type:"button",onClick:()=>e("/knowledge"),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,Ia.jsxs)("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Ia.jsx)(as,{className:"w-4 h-4 mr-2"}),r?"Saving...":n?"Update":"Create"]})]})]})]})},ci=Va("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),di=Va("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ui=Va("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),mi=e=>{let{kbId:t,onComplete:n}=e;const[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),m=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),p=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1);const t=Array.from(e.dataTransfer.files);h(t)},[]),h=e=>{const t=e.filter(e=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/html","text/markdown","application/json"].includes(e.type)||e.name.match(/\.(pdf|docx|pptx|xlsx|txt|html|md|json)$/i)?!(e.size>52428800)||(rn.error("".concat(e.name,": File too large (max 50MB)")),!1):(rn.error("".concat(e.name,": Invalid file type")),!1));s(e=>[...e,...t.map(e=>({file:e,id:Math.random().toString(36).substr(2,9),status:"pending"}))])},f=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-12 text-center ".concat(d?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:p,children:[(0,Ia.jsx)(ci,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsxs)("div",{className:"mt-4",children:[(0,Ia.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,Ia.jsx)("span",{className:"text-primary-600 hover:text-primary-500 font-medium",children:"Choose files"}),(0,Ia.jsx)("input",{id:"file-upload",type:"file",multiple:!0,className:"sr-only",onChange:e=>{const t=Array.from(e.target.files);h(t)},accept:".pdf,.docx,.pptx,.xlsx,.txt,.html,.md,.json"})]}),(0,Ia.jsx)("span",{className:"text-gray-600",children:" or drag and drop"})]}),(0,Ia.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"PDF, DOCX, PPTX, XLSX, TXT, HTML, MD, JSON up to 50MB"})]}),r.length>0&&(0,Ia.jsxs)("div",{className:"space-y-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:["Files (",r.length,")"]}),!i&&(0,Ia.jsx)("button",{onClick:()=>s([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),(0,Ia.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Ia.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,Ia.jsx)(ri,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),(0,Ia.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500",children:f(e.file.size)})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center ml-4",children:["pending"===e.status&&!i&&(0,Ia.jsx)("button",{onClick:()=>{return t=e.id,void s(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"w-5 h-5"})}),"uploading"===e.status&&(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Ia.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:"".concat(l[e.id]||0,"%")}})}),(0,Ia.jsxs)("span",{className:"text-xs text-gray-500",children:[l[e.id]||0,"%"]})]}),"completed"===e.status&&(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-500"}),"failed"===e.status&&(0,Ia.jsx)(oi,{className:"w-5 h-5 text-red-500"})]})]},e.id))})]}),r.length>0&&(0,Ia.jsx)("div",{className:"flex justify-end",children:(0,Ia.jsxs)("button",{onClick:async()=>{if(0===r.length)return void rn.error("Please select files to upload");o(!0);for(const n of r)try{s(e=>e.map(e=>e.id===n.id?qe(qe({},e),{},{status:"uploading"}):e));const e=new FormData;e.append("file",n.file),e.append("metadata",JSON.stringify({source:"upload",uploaded_at:(new Date).toISOString()})),await cs(t,e,e=>{const t=Math.round(100*e.loaded/e.total);c(e=>qe(qe({},e),{},{[n.id]:t}))}),s(e=>e.map(e=>e.id===n.id?qe(qe({},e),{},{status:"completed"}):e)),rn.success("".concat(n.file.name," uploaded successfully"))}catch(a){console.error("Error uploading ".concat(n.file.name,":"),a),s(e=>e.map(e=>e.id===n.id?qe(qe({},e),{},{status:"failed"}):e)),rn.error("Failed to upload ".concat(n.file.name))}o(!1);const e=r.every(e=>"completed"===e.status||"failed"===e.status);e&&n&&setTimeout(n,1e3)},disabled:i,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ia.jsx)(ci,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload ".concat(r.length," file").concat(r.length>1?"s":"")]})})]})},pi=Va("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),hi=e=>{var t;let{kbId:n,onComplete:r}=e;const[s,i]=(0,a.useState)("url"),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(2),[u,m]=(0,a.useState)(20),[p,h]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(null);return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex gap-4",children:[(0,Ia.jsx)("button",{onClick:()=>i("url"),className:"flex-1 p-4 border-2 rounded-lg text-left transition-colors ".concat("url"===s?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(di,{className:"w-5 h-5 text-primary-600 mr-3"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"font-medium text-gray-900",children:"Single URL"}),(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:"Scrape a URL and follow links"})]})]})}),(0,Ia.jsx)("button",{onClick:()=>i("sitemap"),className:"flex-1 p-4 border-2 rounded-lg text-left transition-colors ".concat("sitemap"===s?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(ri,{className:"w-5 h-5 text-primary-600 mr-3"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"font-medium text-gray-900",children:"Sitemap"}),(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:"Import from sitemap.xml"})]})]})})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"url"===s?"Website URL":"Sitemap URL"}),(0,Ia.jsxs)("div",{className:"flex gap-2",children:[(0,Ia.jsxs)("div",{className:"flex-1 relative",children:[(0,Ia.jsx)(pi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ia.jsx)("input",{type:"url",value:o,onChange:e=>l(e.target.value),placeholder:"url"===s?"https://example.com":"https://example.com/sitemap.xml",className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Ia.jsx)("button",{onClick:async()=>{if(o.trim())try{h(!0),y(null);const e=await(e=>Ma.post("/knowledge/test-url",{url:e}))(o);y(e.data.data),e.data.data.accessible?rn.success("URL is accessible!"):rn.error("URL is not accessible")}catch(e){rn.error("Failed to test URL"),console.error(e)}finally{h(!1)}else rn.error("Please enter a URL")},disabled:p||!o.trim(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:p?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Fs,{className:"w-4 h-4 mr-2 animate-spin inline"}),"Testing..."]}):"Test URL"})]}),g&&(0,Ia.jsx)("div",{className:"mt-2 p-3 rounded-md ".concat(g.accessible?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[g.accessible?(0,Ia.jsx)(is,{className:"w-5 h-5 mr-2"}):(0,Ia.jsx)(oi,{className:"w-5 h-5 mr-2"}),(0,Ia.jsx)("div",{className:"text-sm",children:g.accessible?(0,Ia.jsxs)(Ia.Fragment,{children:["Accessible \u2022 Status: ",g.status_code," \u2022 Type: ",g.content_type]}):(0,Ia.jsxs)(Ia.Fragment,{children:["Not accessible \u2022 ",g.error||"Status: ".concat(g.status_code)]})})]})})]}),"url"===s&&(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Depth"}),(0,Ia.jsx)("input",{type:"number",value:c,onChange:e=>d(parseInt(e.target.value)),min:1,max:5,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"How many levels of links to follow (1-5)"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Pages"}),(0,Ia.jsx)("input",{type:"number",value:u,onChange:e=>m(parseInt(e.target.value)),min:1,max:100,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum pages to scrape (1-100)"})]})]}),"sitemap"===s&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Pages"}),(0,Ia.jsx)("input",{type:"number",value:u,onChange:e=>m(parseInt(e.target.value)),min:1,max:100,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum pages to import from sitemap (1-100)"})]}),(0,Ia.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"flex",children:[(0,Ia.jsx)(oi,{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0"}),(0,Ia.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,Ia.jsx)("p",{className:"font-medium mb-1",children:"How web scraping works:"}),(0,Ia.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Ia.jsx)("li",{children:"Content is extracted from HTML pages"}),(0,Ia.jsx)("li",{children:"Text is cleaned and processed automatically"}),(0,Ia.jsx)("li",{children:"Documents are chunked and embedded for search"}),(0,Ia.jsx)("li",{children:"Process may take several minutes depending on size"})]})]})]})}),(0,Ia.jsx)("div",{className:"flex justify-end",children:(0,Ia.jsx)("button",{onClick:async()=>{if(o.trim())try{let e;x(!0),b(null),e="url"===s?await((e,t,n)=>Ma.post("/knowledge/".concat(e,"/scrape-url"),t,{onUploadProgress:n}))(n,{url:o,max_depth:c,max_pages:u,metadata:{source:"web_scrape",scraped_at:(new Date).toISOString()}}):await((e,t,n)=>Ma.post("/knowledge/".concat(e,"/scrape-sitemap"),t,{onUploadProgress:n}))(n,{sitemap_url:o,max_pages:u,metadata:{source:"sitemap_scrape",scraped_at:(new Date).toISOString()}}),b(e.data.data),rn.success("Scraping completed!"),r&&setTimeout(r,2e3)}catch(e){rn.error("Failed to scrape website"),console.error(e)}finally{x(!1)}else rn.error("Please enter a URL")},disabled:f||!o.trim(),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Fs,{className:"w-4 h-4 mr-2 animate-spin"}),"Scraping..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(di,{className:"w-4 h-4 mr-2"}),"Start Scraping"]})})}),v&&(0,Ia.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{className:"text-sm text-green-700",children:[(0,Ia.jsx)("p",{className:"font-medium mb-2",children:"Scraping completed successfully!"}),(0,Ia.jsxs)("div",{className:"space-y-1",children:[(0,Ia.jsxs)("p",{children:["\u2022 ","url"===s?"Pages scraped":"URLs found",": ",v.total_pages_scraped||v.total_urls_found]}),(0,Ia.jsxs)("p",{children:["\u2022 Documents processed: ",v.documents_processed||(null===(t=v.documents)||void 0===t?void 0:t.length)]}),(0,Ia.jsxs)("p",{children:["\u2022 Base URL: ",v.base_url||o]})]})]})]})})]})},fi=e=>{let{kbId:t,onComplete:n}=e;const[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),m=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),p=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1);const t=Array.from(e.dataTransfer.files);h(t)},[]),h=e=>{const t=e.filter(e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)?!(e.size>10485760)||(rn.error("".concat(e.name,": Image too large (max 10MB)")),!1):(rn.error("".concat(e.name,": Invalid image type")),!1)).map(e=>({file:e,id:Math.random().toString(36).substr(2,9),status:"pending",preview:URL.createObjectURL(e),metadata:{title:"",description:"",tags:"",category:""}}));s(e=>[...e,...t])},f=(e,t,n)=>{s(r=>r.map(r=>r.id===e?qe(qe({},r),{},{metadata:qe(qe({},r.metadata),{},{[t]:n})}):r))},x=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]};return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-12 text-center ".concat(d?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:p,children:[(0,Ia.jsx)(Ts,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsxs)("div",{className:"mt-4",children:[(0,Ia.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,Ia.jsx)("span",{className:"text-primary-600 hover:text-primary-500 font-medium",children:"Choose images"}),(0,Ia.jsx)("input",{id:"image-upload",type:"file",multiple:!0,className:"sr-only",onChange:e=>{const t=Array.from(e.target.files);h(t)},accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp"})]}),(0,Ia.jsx)("span",{className:"text-gray-600",children:" or drag and drop"})]}),(0,Ia.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"JPG, PNG, GIF, WEBP up to 10MB"})]}),r.length>0&&(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:["Images (",r.length,")"]}),!i&&(0,Ia.jsx)("button",{onClick:()=>{r.forEach(e=>URL.revokeObjectURL(e.preview)),s([])},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),(0,Ia.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,Ia.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,Ia.jsxs)("div",{className:"flex gap-4",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)("img",{src:e.preview,alt:"Preview",className:"w-24 h-24 object-cover rounded"})}),(0,Ia.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,Ia.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ia.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500",children:x(e.file.size)})]}),(0,Ia.jsxs)("div",{className:"flex items-center ml-4",children:["pending"===e.status&&!i&&(0,Ia.jsx)("button",{onClick:()=>{return t=e.id,void s(e=>{const n=e.find(e=>e.id===t);return null!==n&&void 0!==n&&n.preview&&URL.revokeObjectURL(n.preview),e.filter(e=>e.id!==t)});var t},className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"w-5 h-5"})}),"uploading"===e.status&&(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Ia.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:"".concat(l[e.id]||0,"%")}})}),(0,Ia.jsxs)("span",{className:"text-xs text-gray-500",children:[l[e.id]||0,"%"]})]}),"completed"===e.status&&(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-500"}),"failed"===e.status&&(0,Ia.jsx)(oi,{className:"w-5 h-5 text-red-500"})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Ia.jsx)("input",{type:"text",placeholder:"Title",value:e.metadata.title,onChange:t=>f(e.id,"title",t.target.value),disabled:i,className:"text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Ia.jsx)("input",{type:"text",placeholder:"Category",value:e.metadata.category,onChange:t=>f(e.id,"category",t.target.value),disabled:i,className:"text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"})]}),(0,Ia.jsx)("input",{type:"text",placeholder:"Tags (comma-separated)",value:e.metadata.tags,onChange:t=>f(e.id,"tags",t.target.value),disabled:i,className:"w-full text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Ia.jsx)("textarea",{placeholder:"Description",value:e.metadata.description,onChange:t=>f(e.id,"description",t.target.value),disabled:i,rows:2,className:"w-full text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"})]})]})},e.id))})]}),r.length>0&&(0,Ia.jsx)("div",{className:"flex justify-end",children:(0,Ia.jsxs)("button",{onClick:async()=>{if(0===r.length)return void rn.error("Please select images to upload");o(!0);for(const n of r)try{s(e=>e.map(e=>e.id===n.id?qe(qe({},e),{},{status:"uploading"}):e));const e=new FormData;e.append("file",n.file),n.metadata.description&&e.append("description",n.metadata.description);const r={source:"image_upload",content_type:"image",uploaded_at:(new Date).toISOString(),title:n.metadata.title,category:n.metadata.category,tags:n.metadata.tags?n.metadata.tags.split(",").map(e=>e.trim()):[]};e.append("metadata",JSON.stringify(r)),await ms(t,e,e=>{const t=Math.round(100*e.loaded/e.total);c(e=>qe(qe({},e),{},{[n.id]:t}))}),s(e=>e.map(e=>e.id===n.id?qe(qe({},e),{},{status:"completed"}):e)),rn.success("".concat(n.file.name," uploaded and embedded with CLIP"))}catch(e){console.error("Error uploading ".concat(n.file.name,":"),e),s(e=>e.map(e=>e.id===n.id?qe(qe({},e),{},{status:"failed"}):e)),rn.error("Failed to upload ".concat(n.file.name))}o(!1);r.every(e=>"completed"===e.status||"failed"===e.status)&&n&&setTimeout(n,1e3)},disabled:i,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ia.jsx)(ci,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload ".concat(r.length," image").concat(r.length>1?"s":"")]})})]})},xi=Va("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),gi=Va("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),yi=e=>{var t,n;let{kbId:r,refreshTrigger:s}=e;const[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(1),[m,p]=(0,a.useState)(1),[h,f]=(0,a.useState)(""),[x,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{y()},[r,d,s]);const y=async()=>{try{c(!0);const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{const r=await Ma.get("/knowledge/".concat(e,"/images/list?page=").concat(t,"&limit=").concat(n));return r.data.data||r.data}catch(r){throw console.error("List images error:",r),r}}(r,d,20);o(e.images),p(e.total_pages)}catch(e){console.error("Error loading images:",e),rn.error("Failed to load images")}finally{c(!1)}},v=async e=>{if(confirm("Are you sure you want to delete this image?"))try{await(async(e,t)=>{try{const n=await Ma.delete("/knowledge/".concat(e,"/images/").concat(t,"?kb_id=").concat(e));return n.data.data||n.data}catch(n){throw console.error("Delete image error:",n),n}})(r,e),rn.success("Image deleted successfully"),y()}catch(t){console.error("Error deleting image:",t),rn.error("Failed to delete image")}},b=i.filter(e=>{var t,n,r;return(null===(t=e.filename)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(n=e.metadata)||void 0===n||null===(r=n.description)||void 0===r?void 0:r.toLowerCase().includes(h.toLowerCase()))});return l?(0,Ia.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ia.jsx)(xi,{className:"w-8 h-8 animate-spin text-primary-600"})}):0===i.length?(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)(Ts,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"No images uploaded yet"})]}):(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)(ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Ia.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Search images...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})]}),(0,Ia.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b.map(e=>{var t;return(0,Ia.jsxs)("div",{className:"group relative bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>g(e),children:[(0,Ia.jsxs)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center overflow-hidden",children:[e.url||e.thumbnail_url?(0,Ia.jsx)("img",{src:e.url||e.thumbnail_url,alt:e.filename,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Ia.jsx)("div",{className:"hidden w-full h-full items-center justify-center",children:(0,Ia.jsx)(Ts,{className:"w-12 h-12 text-gray-400"})})]}),(0,Ia.jsxs)("div",{className:"p-3",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.filename}),(0,Ia.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.file_size_bytes/1024).toFixed(1)," KB"]}),(null===(t=e.metadata)||void 0===t?void 0:t.description)&&(0,Ia.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate",children:e.metadata.description})]}),(0,Ia.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:(0,Ia.jsx)("button",{onClick:t=>{t.stopPropagation(),v(e.id)},className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600",title:"Delete",children:(0,Ia.jsx)(ts,{className:"w-4 h-4"})})})]},e.id)})}),m>1&&(0,Ia.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,Ia.jsx)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===d,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Ia.jsxs)("span",{className:"px-4 py-2",children:["Page ",d," of ",m]}),(0,Ia.jsx)("button",{onClick:()=>u(e=>Math.min(m,e+1)),disabled:d===m,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),x&&(0,Ia.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:(0,Ia.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",onClick:e=>e.stopPropagation(),children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ia.jsx)("h3",{className:"text-lg font-semibold",children:x.filename}),(0,Ia.jsx)("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700",children:(0,Ia.jsx)(rs,{className:"w-5 h-5"})})]}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"w-full bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:[x.url?(0,Ia.jsx)("img",{src:x.url,alt:x.filename,className:"max-w-full max-h-[60vh] object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Ia.jsx)("div",{className:"hidden w-full h-64 items-center justify-center",children:(0,Ia.jsx)(Ts,{className:"w-16 h-16 text-gray-400"})})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"File Size:"}),(0,Ia.jsxs)("span",{className:"ml-2 font-medium",children:[(x.file_size_bytes/1024).toFixed(1)," KB"]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Ia.jsx)("span",{className:"ml-2 font-medium",children:x.content_type})]}),x.width&&x.height&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Dimensions:"}),(0,Ia.jsxs)("span",{className:"ml-2 font-medium",children:[x.width," \xd7 ",x.height]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Uploaded:"}),(0,Ia.jsx)("span",{className:"ml-2 font-medium",children:new Date(x.created_at).toLocaleDateString()})]})]}),(null===(t=x.metadata)||void 0===t?void 0:t.description)&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Description:"}),(0,Ia.jsx)("p",{className:"text-sm mt-1",children:x.metadata.description})]}),(null===(n=x.metadata)||void 0===n?void 0:n.tags)&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Tags:"}),(0,Ia.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:x.metadata.tags.map((e,t)=>(0,Ia.jsx)("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded",children:e},t))})]}),(0,Ia.jsx)("div",{className:"flex justify-end",children:(0,Ia.jsxs)("a",{href:x.url,download:x.filename,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:e=>e.stopPropagation(),children:[(0,Ia.jsx)(gi,{className:"w-4 h-4"}),"Download"]})})]})]})})]})},vi=e=>{let{kbId:t}=e;const[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)("text");return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),n.trim())try{var r;l(!0);const e=await(async(e,t)=>{try{const n=await Ma.post("/knowledge/".concat(e,"/images/search"),t);return n.data.data||n.data}catch(n){throw console.error("Search images error:",n),n}})(t,{query:n,search_type:c,top_k:10});i(e.results||[]),0===(null===(r=e.results)||void 0===r?void 0:r.length)?rn("No images found matching your query"):rn.success("Found ".concat(e.results.length," images"))}catch(a){console.error("Search error:",a),rn.error("Failed to search images")}finally{l(!1)}else rn.error("Please enter a search query")},className:"space-y-4",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for images"}),(0,Ia.jsxs)("div",{className:"flex gap-2",children:[(0,Ia.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"e.g., red shoes, product images, etc.",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",disabled:o}),(0,Ia.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:o?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(xi,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(ti,{className:"w-4 h-4 mr-2"}),"Search"]})})]})]})}),s.length>0&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Search Results (",s.length,")"]}),(0,Ia.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map((e,t)=>{var n;return(0,Ia.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,Ia.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Ia.jsx)(Ts,{className:"w-12 h-12 text-gray-400"})}),(0,Ia.jsxs)("div",{className:"p-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.filename||"Image"}),(0,Ia.jsxs)("span",{className:"text-xs font-semibold text-primary-600",children:[(100*e.score).toFixed(0),"%"]})]}),(null===(n=e.metadata)||void 0===n?void 0:n.description)&&(0,Ia.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.metadata.description})]})]},e.result_id||t)})})]})]})},bi=()=>{const{id:e}=ne(),t=ee(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)([]),[o,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[p,h]=(0,a.useState)("documents"),[f,x]=(0,a.useState)(0),[g,y]=(0,a.useState)(""),[v,b]=(0,a.useState)("all");(0,a.useEffect)(()=>{j()},[e]);const j=async()=>{try{m(!0);const[a,s,o]=await Promise.all([ls(e),(t=e,Ma.get("/knowledge/".concat(t,"/documents"),{params:n})),us(e)]);r(a.data.data),i(s.data.data.items||[]),l(o.data.data),await N()}catch(a){rn.error("Failed to load documents"),console.error(a)}finally{m(!1)}var t,n},w=async t=>{if(window.confirm("Are you sure? This will delete all chunks and embeddings."))try{await((e,t)=>Ma.delete("/knowledge/".concat(e,"/documents/").concat(t)))(e,t),rn.success("Document deleted"),j()}catch(n){rn.error("Failed to delete document"),console.error(n)}},N=async()=>{try{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"/knowledge/cache/stats?kb_id=".concat(e):"/knowledge/cache/stats";return(await Ma.get(t)).data}(e);d(t.data.data)}catch(t){console.error("Failed to load cache stats:",t)}},k=s.filter(e=>{const t=e.original_filename.toLowerCase().includes(g.toLowerCase()),n="all"===v||e.status===v;return t&&n}),S=e=>{switch(e){case"completed":return(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-500"});case"processing":return(0,Ia.jsx)(js,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"failed":return(0,Ia.jsx)(oi,{className:"w-5 h-5 text-red-500"});default:return(0,Ia.jsx)(ri,{className:"w-5 h-5 text-gray-500"})}},_=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return u?(0,Ia.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("button",{onClick:()=>t("/knowledge"),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Knowledge Bases"]}),(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===n||void 0===n?void 0:n.name}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.description})]}),(0,Ia.jsxs)(Me,{to:"/knowledge/".concat(e,"/chat"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(es,{className:"w-4 h-4 mr-2"}),"Test Chat"]})]}),o&&(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ri,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Documents"}),(0,Ia.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:o.total_documents||0})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ni,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Chunks"}),(0,Ia.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:o.total_chunks||0})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ni,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Vectors"}),(0,Ia.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:o.total_vectors||0})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ti,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Embedding Model"}),(0,Ia.jsx)("dd",{className:"text-sm font-semibold text-gray-900",children:o.embedding_model||"N/A"})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ni,{className:"h-6 w-6 text-blue-400"})}),(0,Ia.jsx)("div",{className:"ml-5",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cache"}),(0,Ia.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:[(null===c||void 0===c?void 0:c.total_cached_queries)||0," queries"]}),c&&(0,Ia.jsxs)("dd",{className:"text-xs text-gray-500 mt-1",children:[c.total_cache_hits," hits \u2022 ",c.cache_hit_rate," avg"]})]})})]}),(0,Ia.jsxs)("button",{onClick:async()=>{if(window.confirm("Clear semantic cache for this knowledge base? This will force fresh searches but may increase API costs temporarily."))try{await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"/knowledge/cache/clear?kb_id=".concat(e):"/knowledge/cache/clear";return(await Ma.delete(t)).data}(e),rn.success("Cache cleared successfully"),await N()}catch(t){rn.error("Failed to clear cache"),console.error(t)}},className:"ml-3 inline-flex items-center px-3 py-1.5 border border-red-300 text-xs font-medium rounded text-red-700 bg-white hover:bg-red-50",title:"Clear semantic cache",children:[(0,Ia.jsx)(ts,{className:"w-3 h-3 mr-1"}),"Clear"]})]})})})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ia.jsx)("div",{className:"border-b border-gray-200",children:(0,Ia.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[(0,Ia.jsxs)("button",{onClick:()=>h("documents"),className:"".concat("documents"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Ia.jsx)(ri,{className:"w-5 h-5 mr-2"}),"Documents (",s.length,")"]}),(0,Ia.jsxs)("button",{onClick:()=>h("upload"),className:"".concat("upload"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Ia.jsx)(ci,{className:"w-5 h-5 mr-2"}),"Upload Files"]}),(0,Ia.jsxs)("button",{onClick:()=>h("scrape"),className:"".concat("scrape"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Ia.jsx)(di,{className:"w-5 h-5 mr-2"}),"Web Scraping"]}),(0,Ia.jsxs)("button",{onClick:()=>h("images"),className:"flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("images"===p?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Ia.jsx)(Ts,{className:"w-4 h-4 mr-2"}),"Images"]})]})}),(0,Ia.jsxs)("div",{className:"p-6",children:["documents"===p&&(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"flex gap-4",children:[(0,Ia.jsxs)("div",{className:"flex-1 relative",children:[(0,Ia.jsx)(ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ia.jsx)("input",{type:"text",placeholder:"Search documents...",value:g,onChange:e=>y(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Ia.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"all",children:"All Status"}),(0,Ia.jsx)("option",{value:"completed",children:"Completed"}),(0,Ia.jsx)("option",{value:"processing",children:"Processing"}),(0,Ia.jsx)("option",{value:"failed",children:"Failed"})]}),(0,Ia.jsxs)("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(ui,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),0===k.length?(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)(ri,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Upload files or scrape websites to get started"})]}):(0,Ia.jsx)("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Document"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Type"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Size"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Status"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Stats"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Date"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Actions"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(e=>{var t,n;return(0,Ia.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ia.jsx)("td",{className:"px-6 py-4",children:(0,Ia.jsxs)("div",{className:"flex items-center min-w-0",children:[S(e.status),(0,Ia.jsxs)("div",{className:"ml-3 min-w-0 flex-1",children:[(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-md",title:e.original_filename,children:e.original_filename}),(null===(t=e.metadata)||void 0===t?void 0:t.source_url)&&(0,Ia.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-md",title:e.metadata.source_url,children:e.metadata.source_url})]})]})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("span",{className:"text-xs text-gray-900 truncate block max-w-24",title:e.file_type,children:e.file_type.split("/")[1]||e.file_type})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(e.file_size_bytes)}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((n=e.status,{completed:"bg-green-100 text-green-800",processing:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",uploaded:"bg-blue-100 text-blue-800"}[n]||"bg-gray-100 text-gray-800")),children:e.status})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.processing_stats?(0,Ia.jsxs)("div",{className:"flex gap-3",children:[(0,Ia.jsxs)("span",{title:"Chunks",children:["\ud83d\udce6 ",e.processing_stats.total_chunks||0]}),e.processing_stats.total_pages>0&&(0,Ia.jsxs)("span",{title:"Pages",children:["\ud83d\udcc4 ",e.processing_stats.total_pages]})]}):"-"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Ia.jsx)("button",{onClick:()=>w(e.id),className:"text-red-600 hover:text-red-900",title:"Delete document",children:(0,Ia.jsx)(ts,{className:"w-4 h-4"})})})]},e.id)})})]})})]}),"upload"===p&&(0,Ia.jsx)(mi,{kbId:e,onComplete:()=>{rn.success("Upload completed!"),j(),h("documents")}}),"scrape"===p&&(0,Ia.jsx)(hi,{kbId:e,onComplete:()=>{rn.success("Scraping completed!"),j(),h("documents")}}),"images"===p&&(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Images"}),(0,Ia.jsx)(fi,{kbId:e,onComplete:()=>x(e=>e+1)})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Search Images"}),(0,Ia.jsx)(vi,{kbId:e})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Image Gallery"}),(0,Ia.jsx)(yi,{kbId:e,refreshTrigger:f})]})]})]})]})]})},ji=()=>{const{id:e}=ne(),t=ee(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(5),[c,d]=(0,a.useState)("text"),[u,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[f,x]=(0,a.useState)([]);(0,a.useEffect)(()=>{g()},[e]);const g=async()=>{try{const t=await ls(e);r(t.data.data)}catch(t){rn.error("Failed to load knowledge base"),console.error(t)}},y=(e,t)=>{if(!t)return e;return e.split(new RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,Ia.jsx)("mark",{className:"bg-yellow-200",children:e},n):e)};return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsx)("div",{className:"flex items-center justify-between",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Documents"]}),(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Search Knowledge Base"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.name})]})}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Ia.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),s.trim())try{m(!0);const t=Date.now(),n=await ds({kb_id:e,query:s,top_k:o,search_type:c}),r=Date.now()-t,a=qe(qe({},n.data.data),{},{query:s,timestamp:(new Date).toISOString(),searchTime:r});h(a),x(e=>[a,...e.slice(0,9)]),rn.success("Found ".concat(a.results.total_found," results"))}catch(n){rn.error("Search failed"),console.error(n)}finally{m(!1)}else rn.error("Please enter a search query")},className:"space-y-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Query"}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)(ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ia.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Ask a question or enter search terms...",className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Results to Return"}),(0,Ia.jsxs)("select",{value:o,onChange:e=>l(parseInt(e.target.value)),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:3,children:"Top 3"}),(0,Ia.jsx)("option",{value:5,children:"Top 5"}),(0,Ia.jsx)("option",{value:10,children:"Top 10"}),(0,Ia.jsx)("option",{value:20,children:"Top 20"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Type"}),(0,Ia.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"text",children:"Text Only"}),(0,Ia.jsx)("option",{value:"hybrid",children:"Hybrid (Text + Image)"}),(0,Ia.jsx)("option",{value:"image",children:"Image Only"})]})]})]}),(0,Ia.jsx)("button",{type:"submit",disabled:u,className:"w-full inline-flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:u?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Ms,{className:"w-5 h-5 mr-2 animate-pulse"}),"Searching..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(ti,{className:"w-5 h-5 mr-2"}),"Search"]})})]}),(0,Ia.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Ia.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Try these examples:"}),(0,Ia.jsx)("div",{className:"flex flex-wrap gap-2",children:["What is AIVA?","How to create an agent?","Pricing information","Supported languages","Integration options"].map((e,t)=>(0,Ia.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700",children:e},t))})]})]}),p&&(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:p.results.total_found}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Results Found"})]}),(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[p.searchTime,"ms"]}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Search Time"})]}),(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:p.metrics.chunks_searched}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Chunks Searched"})]}),(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",p.cost.toFixed(6)]}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cost"})]})]})}),p.results.text_results.length>0&&(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(ri,{className:"w-5 h-5 mr-2"}),"Text Results (",p.results.text_results.length,")"]}),(0,Ia.jsx)("div",{className:"space-y-4",children:p.results.text_results.map((e,t)=>(0,Ia.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Ia.jsxs)("span",{className:"text-sm font-semibold text-primary-600",children:["#",t+1]})}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.source.document_name}),(0,Ia.jsxs)("div",{className:"text-xs text-gray-500",children:["Chunk ",e.source.chunk_index," \u2022 ",e.type]})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Relevance"}),(0,Ia.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:[(100*e.score).toFixed(1),"%"]})]}),(0,Ia.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,Ia.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(100*e.score,"%")}})})]})]}),(0,Ia.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed",children:y(e.content,s)}),e.source.metadata&&Object.keys(e.source.metadata).length>0&&(0,Ia.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,Ia.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.source.metadata).map(e=>{let[t,n]=e;return(0,Ia.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:[t,": ",String(n)]},t)})})})]},e.result_id))})]}),0===p.results.total_found&&(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[(0,Ia.jsx)(ti,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No results found"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search query or adding more documents"})]})]}),!p&&(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[(0,Ia.jsx)(ti,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Ready to search"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enter a query above to search the knowledge base"})]})]}),(0,Ia.jsxs)("div",{className:"space-y-6",children:[f.length>0&&(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(js,{className:"w-4 h-4 mr-2"}),"Recent Searches"]}),(0,Ia.jsx)("div",{className:"space-y-2",children:f.map((e,t)=>(0,Ia.jsxs)("button",{onClick:()=>{return i((t=e).query),void h(t);var t},className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 border border-gray-200 transition-colors",children:[(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.query}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Ia.jsxs)("span",{className:"text-xs text-gray-500",children:[e.results.total_found," results"]}),(0,Ia.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t))})]}),(0,Ia.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Ia.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Search Tips"}),(0,Ia.jsxs)("ul",{className:"text-xs text-blue-700 space-y-2",children:[(0,Ia.jsx)("li",{children:"\u2022 Use natural language questions"}),(0,Ia.jsx)("li",{children:"\u2022 Be specific for better results"}),(0,Ia.jsx)("li",{children:"\u2022 Try different phrasings"}),(0,Ia.jsx)("li",{children:"\u2022 Check relevance scores"}),(0,Ia.jsx)("li",{children:"\u2022 Adjust top_k for more results"})]})]}),p&&(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Search Metrics"}),(0,Ia.jsxs)("div",{className:"space-y-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Query Tokens"}),(0,Ia.jsx)("span",{className:"font-medium text-gray-900",children:p.metrics.query_tokens||0})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Embedding Model"}),(0,Ia.jsx)("span",{className:"font-medium text-gray-900 text-xs",children:p.metrics.embedding_model})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Processing Time"}),(0,Ia.jsxs)("span",{className:"font-medium text-gray-900",children:[p.metrics.processing_time_ms,"ms"]})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Search Cost"}),(0,Ia.jsxs)("span",{className:"font-medium text-green-600",children:["$",p.cost.toFixed(6)]})]})]})]})]})]})]})},wi=()=>{const{id:e}=ne(),t=ee(),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)("7d");(0,a.useEffect)(()=>{p()},[e,u]);const p=async()=>{try{d(!0);const[a,s,o]=await Promise.all([ls(e),us(e),(t=e,n={limit:50},Ma.get("/knowledge/".concat(t,"/searches"),{params:n}))]);r(a.data.data),i(s.data.data),l(o.data.data||[])}catch(a){rn.error("Failed to load statistics"),console.error(a)}finally{d(!1)}var t,n};if(c)return(0,Ia.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const h=(()=>{const e={};return o.forEach(t=>{const n=new Date(t.created_at).toLocaleDateString();e[n]=(e[n]||0)+1}),e})(),f=(()=>{const e={};return o.forEach(t=>{e[t.query]=(e[t.query]||0)+1}),Object.entries(e).sort((e,t)=>t[1]-e[1]).slice(0,10).map(e=>{let[t,n]=e;return{query:t,count:n}})})();return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Documents"]}),(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base Statistics"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.name})]}),(0,Ia.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,Ia.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,Ia.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,Ia.jsx)("option",{value:"90d",children:"Last 90 Days"})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ri,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Documents"}),(0,Ia.jsx)("dd",{className:"flex items-baseline",children:(0,Ia.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.total_documents)||0})})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ni,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Chunks"}),(0,Ia.jsx)("dd",{className:"flex items-baseline",children:(0,Ia.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.total_chunks)||0})})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(ti,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Searches"}),(0,Ia.jsx)("dd",{className:"flex items-baseline",children:(0,Ia.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:o.length})})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Ya,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Relevance"}),(0,Ia.jsx)("dd",{className:"flex items-baseline",children:(0,Ia.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[(()=>{if(!o.length)return 0;return(o.reduce((e,t)=>e+(t.avg_relevance_score||0),0)/o.length).toFixed(2)})(),"%"]})})]})})]})})})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(ws,{className:"w-5 h-5 mr-2"}),"Search Activity"]}),Object.keys(h).length>0?(0,Ia.jsx)("div",{className:"space-y-3",children:Object.entries(h).sort((e,t)=>new Date(t[0])-new Date(e[0])).slice(0,7).map(e=>{let[t,n]=e;return(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Ia.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(n/Math.max(...Object.values(h))*100,"%")}})}),(0,Ia.jsx)("span",{className:"text-sm font-medium text-gray-900 w-8 text-right",children:n})]})]},t)})}):(0,Ia.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No search activity yet"})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(zs,{className:"w-5 h-5 mr-2"}),"Top Queries"]}),f.length>0?(0,Ia.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ia.jsx)("div",{className:"flex-1 min-w-0 mr-4",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center text-xs font-semibold text-primary-600 mr-2",children:t+1}),(0,Ia.jsx)("span",{className:"text-sm text-gray-900 truncate",children:e.query})]})}),(0,Ia.jsx)("span",{className:"flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.count})]},t))}):(0,Ia.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No queries yet"})]})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(js,{className:"w-5 h-5 mr-2"}),"Recent Searches"]}),o.length>0?(0,Ia.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Query"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Results"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.slice(0,20).map(e=>(0,Ia.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ia.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-md truncate",children:e.query}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.results_count||0}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.avg_relevance_score?"".concat((100*e.avg_relevance_score).toFixed(1),"%"):"N/A"}),(0,Ia.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.processing_time_ms,"ms"]}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]},e.id))})]})}):(0,Ia.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No search history available"})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Embedding Model"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===s||void 0===s?void 0:s.embedding_model)||"N/A"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Vector Dimension"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===s||void 0===s?void 0:s.vector_dimension)||"N/A"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Vectors"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===s||void 0===s?void 0:s.total_vectors)||0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,Ia.jsx)("dd",{className:"mt-1",children:(0,Ia.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:(null===n||void 0===n?void 0:n.status)||"active"})})]})]})]})]})},Ni=()=>{const{id:e}=ne(),t=ee(),n=(0,a.useRef)(null),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),[h]=(0,a.useState)("test-".concat(Date.now())),[f,x]=(0,a.useState)(null),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{w()},[e]),(0,a.useEffect)(()=>{N()},[l]);const w=async()=>{try{o(!0);const t=await ls(e);s(t.data.data),c([{role:"assistant",content:"Hi! I'm ready to answer questions about **".concat(t.data.data.name,"**. Ask me anything!"),timestamp:(new Date).toISOString()}])}catch(t){rn.error("Failed to load knowledge base"),console.error(t)}finally{o(!1)}},N=()=>{var e;null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},k=()=>{y(null),b(null),j.current&&(j.current.value="")};return i?(0,Ia.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,Ia.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ia.jsx)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"text-gray-600 hover:text-gray-900",children:(0,Ia.jsx)(ii,{className:"w-5 h-5"})}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Test Chat"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:null===r||void 0===r?void 0:r.name})]})]}),(0,Ia.jsxs)("button",{onClick:()=>{c([{role:"assistant",content:"Chat cleared! Ask me anything about **".concat(null===r||void 0===r?void 0:r.name,"**."),timestamp:(new Date).toISOString()}])},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(Os,{className:"w-4 h-4 mr-2"}),"Clear Chat"]})]})}),(0,Ia.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[l.map((e,t)=>(0,Ia.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Ia.jsxs)("div",{className:"flex max-w-3xl ".concat("user"===e.role?"flex-row-reverse":"flex-row"," gap-3"),children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.role?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"user"===e.role?(0,Ia.jsx)(bs,{className:"w-5 h-5"}):(0,Ia.jsx)(Ga,{className:"w-5 h-5"})}),(0,Ia.jsxs)("div",{className:"flex-1 ".concat("user"===e.role?"text-right":"text-left"),children:[(0,Ia.jsx)("div",{className:"inline-block px-4 py-3 rounded-lg ".concat("user"===e.role?"bg-primary-600 text-white":e.error?"bg-red-50 text-red-900 border border-red-200":"bg-white text-gray-900 border border-gray-200"),children:(0,Ia.jsx)("div",{className:"prose prose-sm max-w-none",children:e.content.split("\n").map((e,t)=>{const n=e.split(/(\*\*.*?\*\*)/g);return(0,Ia.jsx)("p",{className:"mb-2 last:mb-0",children:n.map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Ia.jsx)("strong",{children:e.slice(2,-2)},t):(0,Ia.jsx)("span",{children:e},t))},t)})})}),(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500 ".concat("user"===e.role?"justify-end":"justify-start"),children:[(0,Ia.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()}),"assistant"===e.role&&(0,Ia.jsx)("button",{onClick:()=>((e,t)=>{navigator.clipboard.writeText(e),x(t),setTimeout(()=>x(null),2e3),rn.success("Copied to clipboard")})(e.content,t),className:"hover:text-gray-700",children:f===t?(0,Ia.jsx)(Is,{className:"w-3 h-3"}):(0,Ia.jsx)(Ds,{className:"w-3 h-3"})})]}),e.sources&&e.sources.length>0&&(0,Ia.jsx)("div",{className:"mt-2 text-xs",children:(0,Ia.jsxs)("details",{className:"cursor-pointer",children:[(0,Ia.jsxs)("summary",{className:"text-gray-500 hover:text-gray-700",children:["View sources (",e.sources.length,")"]}),(0,Ia.jsx)("div",{className:"mt-2 space-y-1 text-gray-600",children:e.sources.map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsx)("span",{children:e.document}),(0,Ia.jsxs)("span",{className:"text-gray-400",children:[(100*e.score).toFixed(0),"%"]})]},t))})]})})]})]})},t)),m&&(0,Ia.jsx)("div",{className:"flex justify-start",children:(0,Ia.jsxs)("div",{className:"flex gap-3 max-w-3xl",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Ia.jsx)(Ga,{className:"w-5 h-5 text-gray-600"})}),(0,Ia.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:(0,Ia.jsxs)("div",{className:"flex space-x-2",children:[(0,Ia.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Ia.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Ia.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),(0,Ia.jsx)("div",{ref:n})]})}),(0,Ia.jsx)("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:(0,Ia.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!d.trim()&&!g||m)return;const n={role:"user",content:d.trim()||"[Image Query]",timestamp:(new Date).toISOString(),hasImage:!!g};c(e=>[...e,n]);const r=d.trim(),a=g,s=v;u(""),k(),p(!0);try{const t={kb_id:e,query:r||"Show me similar images",top_k:5,search_type:a?r?"hybrid":"image":"text"};a&&(t.image_base64=s.split(",")[1]);const n=await ds(t),i=n.data.data.text_results||[],o=n.data.data.image_results||[];let l="";0===i.length&&0===o.length?l="I couldn't find any relevant information or images in the knowledge base for that query. Could you try rephrasing or asking something else?":(i.length>0&&(l="Based on the knowledge base:\n\n".concat(i[0].content,"\n\n"),i.length>1&&(l+="\n**Additional relevant information:**\n",i.slice(1,3).forEach((e,t)=>{l+="\n".concat(t+2,". ").concat(e.content.substring(0,200),"...")})),l+="\n\n**Text Sources:**\n",i.forEach((e,t)=>{l+="- ".concat(e.source.document_name," (relevance: ").concat((100*e.score).toFixed(0),"%)\n")})),o.length>0&&(i.length>0&&(l+="\n\n"),l+="**Found ".concat(o.length," relevant image").concat(o.length>1?"s":"",":**\n\n"),o.forEach((e,t)=>{var n;l+="".concat(t+1,". ").concat(e.filename||"Image"," (similarity: ").concat((100*e.score).toFixed(0),"%)\n"),null!==(n=e.metadata)&&void 0!==n&&n.description&&(l+="   Description: ".concat(e.metadata.description,"\n"))})));const d={role:"assistant",content:l,timestamp:(new Date).toISOString(),sources:i.map(e=>({document:e.source.document_name,score:e.score,chunk_index:e.source.chunk_index})),imageResults:o};c(e=>[...e,d])}catch(i){console.error("Chat error:",i);const e={role:"assistant",content:"Sorry, I encountered an error while searching the knowledge base. Please try again.",timestamp:(new Date).toISOString(),error:!0};c(t=>[...t,e]),rn.error("Failed to get response")}finally{p(!1)}},className:"max-w-4xl mx-auto",children:[v&&(0,Ia.jsxs)("div",{className:"mb-3 flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Ia.jsx)("img",{src:v,alt:"Selected",className:"w-20 h-20 object-cover rounded"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===g||void 0===g?void 0:g.name}),(0,Ia.jsxs)("p",{className:"text-xs text-gray-500",children:[g&&(g.size/1024).toFixed(1)," KB"]})]}),(0,Ia.jsx)("button",{type:"button",onClick:k,className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"w-5 h-5"})})]}),(0,Ia.jsxs)("div",{className:"flex gap-3",children:[(0,Ia.jsx)("input",{ref:j,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return void rn.error("Invalid image type. Only JPG, PNG, GIF, and WEBP are supported.");if(t.size>10485760)return void rn.error("Image too large. Maximum size is 10MB.");const n=new FileReader;n.onloadend=()=>{y(t),b(n.result)},n.readAsDataURL(t)},className:"hidden"}),(0,Ia.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},disabled:m,className:"inline-flex items-center p-2 border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add image to search",children:(0,Ia.jsx)(Ts,{className:"w-5 h-5 text-gray-600"})}),(0,Ia.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:g?"Describe what you're looking for (optional)...":"Ask a question about the knowledge base...",disabled:m,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Ia.jsx)("button",{type:"submit",disabled:m||!d.trim()&&!g,className:"inline-flex items-center px-6 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,Ia.jsx)(Fs,{className:"w-5 h-5 animate-spin"}):(0,Ia.jsx)(Rs,{className:"w-5 h-5"})})]})]})})]})},ki=Va("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Si=Va("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),_i=Va("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ci=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/shopify/stores",{params:e})},Oi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ma.post("/shopify/sync/".concat(e),t)},Ai=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/shopify/products",{params:e})},Pi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/shopify/stats",{params:e})},Ei=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/shopify/products/stats",{params:e})},Ti=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)({}),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),u=(0,a.useRef)(null);(0,a.useEffect)(()=>(m(),h(),()=>{f()}),[]),(0,a.useEffect)(()=>{e.length>0&&p()},[e]);const m=async()=>{try{l(!0);const[e,n]=await Promise.all([Ci(),Pi()]);t(e.data.data.stores||[]),r(n.data.data)}catch(e){console.error("Load data error:",e),d(e.message)}finally{l(!1)}},p=async()=>{if(e&&0!==e.length)try{const t=e.map(async e=>{try{const n=await(t=e.id,Ma.get("/shopify/stores/".concat(t,"/sync-status")));return{storeId:e.id,data:n.data.data}}catch(c){return console.error("Error loading sync status for store ".concat(e.id,":"),c),{storeId:e.id,data:{is_syncing:!1,last_sync:null,next_sync:{enabled:!1}}}}var t}),n=await Promise.allSettled(t),r={};let a=!1;n.forEach(e=>{"fulfilled"===e.status&&e.value&&(r[e.value.storeId]=e.value.data,e.value.data.is_syncing&&(a=!0))}),i(r),a?(u.current&&clearInterval(u.current),u.current=setInterval(p,3e3)):u.current&&(clearInterval(u.current),u.current=null)}catch(c){console.error("Error loading sync statuses:",c),u.current&&(clearInterval(u.current),u.current=null)}},h=()=>{p()},f=()=>{u.current&&(clearInterval(u.current),u.current=null)},x=e=>{switch(e){case"active":return(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-500"});case"error":return(0,Ia.jsx)(ki,{className:"w-5 h-5 text-red-500"});default:return(0,Ia.jsx)(oi,{className:"w-5 h-5 text-yellow-500"})}},g=e=>{if(!e)return"Never";const t=Math.floor((new Date-new Date(e))/1e3);return t<60?"".concat(t,"s ago"):t<3600?"".concat(Math.floor(t/60),"m ago"):t<86400?"".concat(Math.floor(t/3600),"h ago"):"".concat(Math.floor(t/86400),"d ago")},y=e=>e<60?"".concat(e,"s"):e<3600?"".concat(Math.floor(e/60),"m ").concat(e%60,"s"):"".concat(Math.floor(e/3600),"h ").concat(Math.floor(e%3600/60),"m"),v=e=>{var t;const n=s[e.id];if(!n)return(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:"Loading status..."});if(n.is_syncing){const{progress:e,timing:t}=n;return(0,Ia.jsxs)("div",{className:"space-y-2",children:[(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,Ia.jsxs)("span",{className:"text-blue-600 font-medium flex items-center",children:[(0,Ia.jsx)(Fs,{className:"w-4 h-4 mr-1 animate-spin"}),"Syncing..."]}),(0,Ia.jsxs)("span",{className:"text-gray-600",children:[e.percentage,"%"]})]}),(0,Ia.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ia.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.percentage,"%")}})})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[(0,Ia.jsxs)("span",{children:[e.products.processed," / ",e.products.total," products"]}),(0,Ia.jsx)("span",{children:t.estimated_remaining_seconds>0?"~".concat(y(t.estimated_remaining_seconds)," remaining"):"Calculating..."})]}),e.images.total>0&&(0,Ia.jsxs)("div",{className:"text-xs text-gray-500",children:[e.images.processed," / ",e.images.total," images processed"]})]})}return(0,Ia.jsxs)("div",{className:"space-y-1",children:[n.last_sync?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Ia.jsx)(is,{className:"w-4 h-4 mr-1 text-green-500"}),(0,Ia.jsxs)("span",{children:["Last synced: ",g(n.last_sync.completed_at)]})]}),(0,Ia.jsxs)("div",{className:"text-xs text-gray-500",children:[n.last_sync.products_processed," products, ",n.last_sync.images_processed," images"]})]}):(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:"Never synced"}),(null===(t=n.next_sync)||void 0===t?void 0:t.enabled)&&n.next_sync.next_sync_at&&(0,Ia.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,Ia.jsx)(js,{className:"w-3 h-3 mr-1"}),(0,Ia.jsxs)("span",{children:["Next sync: ",g(n.next_sync.next_sync_at)]})]})]})};return o?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)(ui,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Shopify Integration"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your Shopify stores and sync products"})]}),(0,Ia.jsxs)(Me,{to:"/shopify/connect",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-4 h-4 mr-2"}),"Connect Store"]})]}),c&&(0,Ia.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"flex",children:[(0,Ia.jsx)(ki,{className:"w-5 h-5 text-red-400 mr-3"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-red-700",children:c})]})]})}),n&&(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Us,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Connected Stores"}),(0,Ia.jsxs)("dd",{className:"flex items-baseline",children:[(0,Ia.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:n.stores.active}),(0,Ia.jsxs)("div",{className:"ml-2 text-sm text-gray-500",children:["/ ",n.stores.total]})]})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Si,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Products"}),(0,Ia.jsxs)("dd",{className:"flex items-baseline",children:[(0,Ia.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:n.products.active}),(0,Ia.jsxs)("div",{className:"ml-2 text-sm text-gray-500",children:["/ ",n.products.total]})]})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Ts,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Images"}),(0,Ia.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:n.images.total})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Ya,{className:"h-6 w-6 text-gray-400"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Sync Jobs"}),(0,Ia.jsxs)("dd",{className:"flex items-baseline",children:[(0,Ia.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:n.sync_jobs.completed}),(0,Ia.jsxs)("div",{className:"ml-2 text-sm text-gray-500",children:["/ ",n.sync_jobs.total]})]})]})})]})})})]}),(0,Ia.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Ia.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Connected Stores"}),0===e.length?(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)(Us,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No stores connected"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by connecting your first Shopify store"}),(0,Ia.jsx)("div",{className:"mt-6",children:(0,Ia.jsxs)(Me,{to:"/shopify/connect",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-4 h-4 mr-2"}),"Connect Store"]})})]}):(0,Ia.jsx)("div",{className:"space-y-4",children:e.map(e=>{var t,n;return(0,Ia.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 transition-colors",children:(0,Ia.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[x(e.status),(0,Ia.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.shop_domain}),(0,Ia.jsx)("a",{href:"https://".concat(e.shop_domain),target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(_i,{className:"w-4 h-4"})})]}),(0,Ia.jsx)("div",{className:"mt-3",children:v(e)})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,Ia.jsxs)("button",{onClick:()=>(async e=>{try{const t=await Oi(e);alert("Sync started! Job ID: ".concat(t.data.data.job_id)),await p()}catch(r){var t,n;alert("Sync failed: ".concat((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message))}})(e.id),disabled:null===(t=s[e.id])||void 0===t?void 0:t.is_syncing,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ia.jsx)(ui,{className:"w-3 h-3 mr-1 ".concat(null!==(n=s[e.id])&&void 0!==n&&n.is_syncing?"animate-spin":"")}),"Sync"]}),(0,Ia.jsxs)(Me,{to:"/shopify/stores/".concat(e.id),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(Hs,{className:"w-3 h-3 mr-1"}),"Settings"]}),(0,Ia.jsxs)(Me,{to:"/shopify/products?kb_id=".concat(e.kb_id),className:"inline-flex items-center px-3 py-1.5 border border-primary-300 shadow-sm text-xs font-medium rounded text-primary-700 bg-primary-50 hover:bg-primary-100",children:[(0,Ia.jsx)(Si,{className:"w-3 h-3 mr-1"}),"Products"]})]})]})},e.id)})})]})})]})},Mi=()=>{const e=ee(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({kb_id:"",shop_domain:"",access_token:"",sync_settings:{auto_sync_enabled:!0,sync_frequency_minutes:1440,sync_status_filter:"active",sync_reviews:!1}});(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await os();n(e.data.data.knowledge_bases||[])}catch(e){console.error("Load KBs error:",e)}},p=e=>{const{name:t,value:n,type:r,checked:a}=e.target;if(t.startsWith("sync_")){const e=t.replace("sync_","");u(t=>qe(qe({},t),{},{sync_settings:qe(qe({},t.sync_settings),{},{[e]:"checkbox"===r?a:"number"===r?parseInt(n):n})}))}else u(e=>qe(qe({},e),{},{[t]:n}))};return(0,Ia.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Ia.jsxs)("div",{className:"mb-6",children:[(0,Ia.jsxs)("button",{onClick:()=>e("/shopify"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Stores"]}),(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Connect Shopify Store"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Connect your Shopify store to sync products and enable AI-powered search"})]}),(0,Ia.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{await(e=>Ma.post("/shopify/connect",e))(d),alert("Store connected successfully!"),e("/shopify")}catch(a){var n,r;alert("Connection failed: ".concat((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||a.message))}finally{s(!1)}},className:"bg-white shadow rounded-lg",children:[(0,Ia.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Knowledge Base *"}),(0,Ia.jsxs)("select",{name:"kb_id",value:d.kb_id,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,children:[(0,Ia.jsx)("option",{value:"",children:"Select a knowledge base"}),t.map(e=>(0,Ia.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Products will be synced to this knowledge base"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Domain *"}),(0,Ia.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,Ia.jsxs)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:[(0,Ia.jsx)(Us,{className:"w-4 h-4 mr-1"}),"https://"]}),(0,Ia.jsx)("input",{type:"text",name:"shop_domain",value:d.shop_domain,onChange:p,className:"flex-1 rounded-none rounded-r-md border-gray-300 focus:border-primary-500 focus:ring-primary-500",placeholder:"your-store.myshopify.com",required:!0})]}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Your Shopify store domain (e.g., your-store.myshopify.com)"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Token *"}),(0,Ia.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,Ia.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:(0,Ia.jsx)(Ys,{className:"w-4 h-4"})}),(0,Ia.jsx)("input",{type:"password",name:"access_token",value:d.access_token,onChange:p,className:"flex-1 rounded-none rounded-r-md border-gray-300 focus:border-primary-500 focus:ring-primary-500",placeholder:"shpat_xxxxxxxxxxxxx",required:!0})]}),(0,Ia.jsxs)("p",{className:"mt-1 text-sm text-gray-500 flex items-start",children:[(0,Ia.jsx)(Xs,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),(0,Ia.jsx)("span",{children:"Create a private app in Shopify Admin \u2192 Apps \u2192 Develop apps. Required scopes: read_products, read_inventory"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("button",{type:"button",onClick:async()=>{o(!0),c(null);try{const e=await(e=>Ma.post("/shopify/test-connection",e))({shop_domain:d.shop_domain,access_token:d.access_token});e.data.data.connected?c({success:!0,message:e.data.data.credits||"Connection successful!",shop:e.data.data.shop}):c({success:!1,message:"Connection failed"})}catch(n){var e,t;c({success:!1,message:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"Connection failed"})}finally{o(!1)}},disabled:!d.shop_domain||!d.access_token||i,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Testing...":"Test Connection"}),l&&(0,Ia.jsx)("div",{className:"mt-3 p-4 rounded-md ".concat(l.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,Ia.jsxs)("div",{className:"flex",children:[l.success?(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-400 mr-2"}):(0,Ia.jsx)(ki,{className:"w-5 h-5 text-red-400 mr-2"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium ".concat(l.success?"text-green-800":"text-red-800"),children:l.success?"Connection Successful":"Connection Failed"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm ".concat(l.success?"text-green-700":"text-red-700"),children:l.message}),l.shop&&(0,Ia.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:[(0,Ia.jsxs)("p",{children:["Shop: ",l.shop.name]}),(0,Ia.jsxs)("p",{children:["Email: ",l.shop.email]}),(0,Ia.jsxs)("p",{children:["Currency: ",l.shop.currency]})]})]})]})})]}),(0,Ia.jsx)("hr",{}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"Sync Settings"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)("div",{className:"flex items-center h-5",children:(0,Ia.jsx)("input",{type:"checkbox",name:"sync_auto_sync_enabled",checked:d.sync_settings.auto_sync_enabled,onChange:p,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enable automatic sync"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically sync products on a schedule"})]})]}),d.sync_settings.auto_sync_enabled&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Frequency"}),(0,Ia.jsxs)("select",{name:"sync_sync_frequency_minutes",value:d.sync_settings.sync_frequency_minutes,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"60",children:"Every hour"}),(0,Ia.jsx)("option",{value:"360",children:"Every 6 hours"}),(0,Ia.jsx)("option",{value:"720",children:"Every 12 hours"}),(0,Ia.jsx)("option",{value:"1440",children:"Daily"}),(0,Ia.jsx)("option",{value:"10080",children:"Weekly"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Products"}),(0,Ia.jsxs)("select",{name:"sync_sync_status_filter",value:d.sync_settings.sync_status_filter,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"active",children:"Active products only"}),(0,Ia.jsx)("option",{value:"all",children:"All products"}),(0,Ia.jsx)("option",{value:"draft",children:"Draft products only"})]})]}),(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)("div",{className:"flex items-center h-5",children:(0,Ia.jsx)("input",{type:"checkbox",name:"sync_sync_reviews",checked:d.sync_settings.sync_reviews,onChange:p,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sync product reviews"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Include product reviews in sync (if available)"})]})]})]})]})]}),(0,Ia.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-end space-x-3",children:[(0,Ia.jsx)("button",{type:"button",onClick:()=>e("/shopify"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Ia.jsx)("button",{type:"submit",disabled:r||!(null!==l&&void 0!==l&&l.success),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"Connecting...":"Connect Store"})]})]})]})},Ii=Va("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Di=Va("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Fi=Va("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Ri=Va("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Li=Va("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bi=Va("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ui=e=>{let{filters:t,onChange:n,onReset:r,vendors:s=[],productTypes:i=[]}=e;const[o,l]=a.useState(!1),c=(e,r)=>{n(qe(qe({},t),{},{[e]:r}))},d="all"!==t.vendor||"all"!==t.product_type||t.min_price||t.max_price;return(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ia.jsxs)("button",{onClick:()=>l(!o),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(Bi,{className:"w-4 h-4 mr-2"}),"Advanced Filters"]}),d&&(0,Ia.jsxs)("button",{onClick:r,className:"inline-flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,Ia.jsx)(rs,{className:"w-4 h-4 mr-1"}),"Clear Filters"]})]}),o&&(0,Ia.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor"}),(0,Ia.jsxs)("select",{value:t.vendor||"all",onChange:e=>c("vendor",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm",children:[(0,Ia.jsx)("option",{value:"all",children:"All Vendors"}),s.map(e=>(0,Ia.jsx)("option",{value:e,children:e},e))]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Type"}),(0,Ia.jsxs)("select",{value:t.product_type||"all",onChange:e=>c("product_type",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm",children:[(0,Ia.jsx)("option",{value:"all",children:"All Types"}),i.map(e=>(0,Ia.jsx)("option",{value:e,children:e},e))]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price (PKR)"}),(0,Ia.jsx)("input",{type:"number",min:"0",step:"100",value:t.min_price||"",onChange:e=>c("min_price",e.target.value),placeholder:"0",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price (PKR)"}),(0,Ia.jsx)("input",{type:"number",min:"0",step:"100",value:t.max_price||"",onChange:e=>c("max_price",e.target.value),placeholder:"No limit",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm"})]})]})})]})},zi=e=>{let{currentPage:t,totalPages:n,onPageChange:r,pageSize:a,onPageSizeChange:s,totalItems:i}=e;const o=[];let l=Math.max(1,t-Math.floor(3.5)),c=Math.min(n,l+7-1);c-l<6&&(l=Math.max(1,c-7+1));for(let d=l;d<=c;d++)o.push(d);return(0,Ia.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("span",{className:"text-sm text-gray-700 mr-2",children:"Show"}),(0,Ia.jsxs)("select",{value:a,onChange:e=>s(parseInt(e.target.value)),className:"rounded-md border-gray-300 text-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"10",children:"10"}),(0,Ia.jsx)("option",{value:"20",children:"20"}),(0,Ia.jsx)("option",{value:"50",children:"50"}),(0,Ia.jsx)("option",{value:"100",children:"100"})]}),(0,Ia.jsx)("span",{className:"text-sm text-gray-700 ml-2",children:"per page"})]}),(0,Ia.jsx)("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-center",children:(0,Ia.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing"," ",(0,Ia.jsx)("span",{className:"font-medium",children:(t-1)*a+1})," ","-"," ",(0,Ia.jsx)("span",{className:"font-medium",children:Math.min(t*a,i)})," ","of"," ",(0,Ia.jsx)("span",{className:"font-medium",children:i})," ","results"]})}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("button",{onClick:()=>r(t-1),disabled:1===t,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Ia.jsx)(Zs,{className:"h-4 w-4"})}),l>1&&(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("button",{onClick:()=>r(1),className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),l>2&&(0,Ia.jsx)("span",{className:"text-gray-500",children:"..."})]}),o.map(e=>(0,Ia.jsx)("button",{onClick:()=>r(e),className:"relative inline-flex items-center rounded-md px-3 py-2 text-sm font-medium ".concat(e===t?"bg-primary-600 text-white border border-primary-600":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),children:e},e)),c<n&&(0,Ia.jsxs)(Ia.Fragment,{children:[c<n-1&&(0,Ia.jsx)("span",{className:"text-gray-500",children:"..."}),(0,Ia.jsx)("button",{onClick:()=>r(n),className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:n})]}),(0,Ia.jsx)("button",{onClick:()=>r(t+1),disabled:t===n,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Ia.jsx)(Js,{className:"h-4 w-4"})})]})]})},qi=()=>{const[e,t]=Fe(),n=e.get("kb_id"),[r,s]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)({vendors:[],product_types:[]}),[d,u]=(0,a.useState)({page:1,limit:20,total:0,total_pages:0,has_next:!1,has_prev:!1}),[m,p]=(0,a.useState)(!0),[h,f]=(0,a.useState)({search:"",status:"all",vendor:"all",product_type:"all",min_price:"",max_price:"",sort_by:"created_at",sort_order:"DESC"});(0,a.useEffect)(()=>{n&&x()},[n,d.page,d.limit,h]),(0,a.useEffect)(()=>{n&&g()},[n]);const x=async()=>{try{var e,t,r,a,i,l;p(!0);const c=qe({kb_id:n,page:d.page,limit:d.limit},h);Object.keys(c).forEach(e=>{""!==c[e]&&"all"!==c[e]||delete c[e]});const[m,f]=await Promise.all([Ai(c),Ei({kb_id:n})]);s(m.data.data.products||[]),u({page:(null===(e=m.data.data.pagination)||void 0===e?void 0:e.page)||1,limit:(null===(t=m.data.data.pagination)||void 0===t?void 0:t.limit)||20,total:(null===(r=m.data.data.pagination)||void 0===r?void 0:r.total)||0,total_pages:(null===(a=m.data.data.pagination)||void 0===a?void 0:a.total_pages)||0,has_next:(null===(i=m.data.data.pagination)||void 0===i?void 0:i.has_next)||!1,has_prev:(null===(l=m.data.data.pagination)||void 0===l?void 0:l.has_prev)||!1}),o(f.data.data)}catch(c){console.error("Load data error:",c)}finally{p(!1)}},g=async()=>{try{const e=await(e=>Ma.get("/shopify/products/filters/".concat(e)))(n);c(e.data.data)}catch(e){console.error("Load filter options error:",e)}},y=e=>{f(e),u(e=>qe(qe({},e),{},{page:1}))},v=e=>{f(t=>qe(qe({},t),{},{sort_by:e,sort_order:t.sort_by===e&&"DESC"===t.sort_order?"ASC":"DESC"})),u(e=>qe(qe({},e),{},{page:1}))},b=e=>{const t={active:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-800"};return t[e]||t.active},j=e=>h.sort_by!==e?(0,Ia.jsx)(Ii,{className:"w-4 h-4 text-gray-400"}):"DESC"===h.sort_order?(0,Ia.jsx)(Ii,{className:"w-4 h-4 text-primary-600"}):(0,Ia.jsx)(Ii,{className:"w-4 h-4 text-primary-600 transform rotate-180"});return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Browse and manage synced products"})]}),(0,Ia.jsx)(Me,{to:"/shopify",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Back to Stores"})]}),i&&(0,Ia.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Si,{className:"h-6 w-6 text-blue-600"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Products"}),(0,Ia.jsxs)("dd",{className:"flex items-baseline",children:[(0,Ia.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_products}),(0,Ia.jsx)("div",{className:"ml-2 flex items-baseline text-sm text-gray-600",children:(0,Ia.jsxs)("span",{className:"text-green-600",children:[i.by_status.active," active"]})})]})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Di,{className:"h-6 w-6 text-purple-600"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Vendors"}),(0,Ia.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_vendors})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Fi,{className:"h-6 w-6 text-orange-600"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Product Types"}),(0,Ia.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_product_types})]})})]})})}),(0,Ia.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Ia.jsx)("div",{className:"p-5",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Ri,{className:"h-6 w-6 text-green-600"})}),(0,Ia.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ia.jsxs)("dl",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Inventory"}),(0,Ia.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_inventory.toLocaleString()})]})})]})})})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ia.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Ia.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,Ia.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Ia.jsx)("form",{onSubmit:e=>{e.preventDefault(),u(e=>qe(qe({},e),{},{page:1}))},className:"flex-1",children:(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Ia.jsx)(ti,{className:"h-5 w-5 text-gray-400"})}),(0,Ia.jsx)("input",{type:"text",value:h.search,onChange:e=>f(t=>qe(qe({},t),{},{search:e.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search products, vendors, types..."})]})}),(0,Ia.jsxs)("select",{value:h.status,onChange:e=>y(qe(qe({},h),{},{status:e.target.value})),className:"block rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"all",children:"All Status"}),(0,Ia.jsx)("option",{value:"active",children:"Active"}),(0,Ia.jsx)("option",{value:"draft",children:"Draft"}),(0,Ia.jsx)("option",{value:"archived",children:"Archived"})]}),(0,Ia.jsxs)("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(ui,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(0,Ia.jsx)(Ui,{filters:h,onChange:y,onReset:()=>{f({search:"",status:"all",vendor:"all",product_type:"all",min_price:"",max_price:"",sort_by:"created_at",sort_order:"DESC"}),u(e=>qe(qe({},e),{},{page:1}))},vendors:l.vendors,productTypes:l.product_types})]})}),m?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)(ui,{className:"w-8 h-8 animate-spin text-primary-600"})}):0===r.length?(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)(Si,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products found"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filters"})]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("div",{className:"overflow-x-auto",children:(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Ia.jsxs)("button",{onClick:()=>v("title"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Ia.jsx)("span",{children:"Product"}),j("title")]})}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Ia.jsxs)("button",{onClick:()=>v("vendor"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Ia.jsx)("span",{children:"Vendor"}),j("vendor")]})}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Ia.jsxs)("button",{onClick:()=>v("price"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Ia.jsx)("span",{children:"Price"}),j("price")]})}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Ia.jsxs)("button",{onClick:()=>v("total_inventory"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Ia.jsx)("span",{children:"Stock"}),j("total_inventory")]})}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>{var t,n;return(0,Ia.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ia.jsx)("td",{className:"px-6 py-4",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 h-12 w-12",children:e.image_url?(0,Ia.jsx)("img",{src:e.image_url,alt:e.title,className:"h-12 w-12 rounded object-cover"}):(0,Ia.jsx)("div",{className:"h-12 w-12 rounded bg-gray-200 flex items-center justify-center",children:(0,Ia.jsx)(Si,{className:"h-6 w-6 text-gray-400"})})}),(0,Ia.jsxs)("div",{className:"ml-4",children:[(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),e.product_type&&(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:e.product_type})]})]})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("div",{className:"text-sm text-gray-900",children:e.vendor||"-"})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("div",{className:"text-sm text-gray-900",children:(n=e.price,"PKR ".concat(parseFloat(n).toLocaleString()))})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("div",{className:"text-sm text-gray-900",children:e.total_inventory||0})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(b(e.status)),children:e.status})}),(0,Ia.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Ia.jsx)(Me,{to:"/shopify/products/".concat(e.id),className:"text-primary-600 hover:text-primary-900 mr-3",children:(0,Ia.jsx)(Li,{className:"w-4 h-4 inline"})}),(null===(t=e.shopify_metadata)||void 0===t?void 0:t.handle)&&(0,Ia.jsx)("a",{href:"https://".concat(e.shop_domain,"/products/").concat(e.shopify_metadata.handle),target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(_i,{className:"w-4 h-4 inline"})})]})]},e.id)})})]})}),(0,Ia.jsx)(zi,{currentPage:d.page,totalPages:d.total_pages,onPageChange:e=>{u(t=>qe(qe({},t),{},{page:e})),window.scrollTo({top:0,behavior:"smooth"})},pageSize:d.limit,onPageSizeChange:e=>{u(t=>qe(qe({},t),{},{limit:e,page:1}))},totalItems:d.total})]})]})]})},Wi=()=>{const{storeId:e}=ne(),t=ee(),[n,r]=(0,a.useState)(!0),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)({auto_sync_enabled:!0,sync_frequency_minutes:1440,sync_status_filter:"active",sync_reviews:!1});(0,a.useEffect)(()=>{p()},[e]);const p=async()=>{try{r(!0);const t=await(e=>Ma.get("/shopify/stores/".concat(e)))(e);d(t.data),t.data.sync_settings&&m(t.data.sync_settings)}catch(t){console.error("Load store error:",t),rn.error("Failed to load store settings")}finally{r(!1)}},h=e=>{const{name:t,value:n,type:r,checked:a}=e.target;m(e=>qe(qe({},e),{},{[t]:"checkbox"===r?a:"number"===r?parseInt(n):n}))};return n?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)(ui,{className:"w-8 h-8 animate-spin text-primary-600"})}):c?(0,Ia.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Ia.jsxs)("div",{className:"mb-6",children:[(0,Ia.jsxs)("button",{onClick:()=>t("/shopify"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Stores"]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Us,{className:"w-8 h-8 text-gray-400 mr-3"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:c.shop_domain}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Store Settings"})]})]}),(0,Ia.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===c.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:c.status})]})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Store Information"}),(0,Ia.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Shop Domain"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.shop_domain})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.status})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Products Synced"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.total_products_synced||0})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Sync"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.last_sync_at?new Date(c.last_sync_at).toLocaleString():"Never"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Sync Status"}),(0,Ia.jsx)("dd",{className:"mt-1",children:c.last_sync_status?(0,Ia.jsxs)("span",{className:"inline-flex items-center text-sm ".concat("success"===c.last_sync_status?"text-green-600":"text-red-600"),children:["success"===c.last_sync_status?(0,Ia.jsx)(is,{className:"w-4 h-4 mr-1"}):(0,Ia.jsx)(oi,{className:"w-4 h-4 mr-1"}),c.last_sync_status]}):(0,Ia.jsx)("span",{className:"text-sm text-gray-500",children:"N/A"})})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(c.created_at).toLocaleDateString()})]})]})]}),(0,Ia.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),i(!0);try{await((e,t)=>Ma.put("/shopify/stores/".concat(e,"/settings"),t))(e,{sync_settings:u}),rn.success("Settings saved successfully!"),t("/shopify")}catch(s){var r,a;console.error("Save error:",s),rn.error((null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message)||"Failed to save settings")}finally{i(!1)}},className:"bg-white shadow rounded-lg",children:[(0,Ia.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Sync Settings"}),(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)("div",{className:"flex items-center h-5",children:(0,Ia.jsx)("input",{type:"checkbox",name:"auto_sync_enabled",checked:u.auto_sync_enabled,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enable automatic sync"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically sync products on a schedule"})]})]}),u.auto_sync_enabled&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Frequency"}),(0,Ia.jsxs)("select",{name:"sync_frequency_minutes",value:u.sync_frequency_minutes,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"60",children:"Every hour"}),(0,Ia.jsx)("option",{value:"360",children:"Every 6 hours"}),(0,Ia.jsx)("option",{value:"720",children:"Every 12 hours"}),(0,Ia.jsx)("option",{value:"1440",children:"Daily"}),(0,Ia.jsx)("option",{value:"10080",children:"Weekly"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Products"}),(0,Ia.jsxs)("select",{name:"sync_status_filter",value:u.sync_status_filter,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"active",children:"Active products only"}),(0,Ia.jsx)("option",{value:"all",children:"All products"}),(0,Ia.jsx)("option",{value:"draft",children:"Draft products only"})]})]}),(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)("div",{className:"flex items-center h-5",children:(0,Ia.jsx)("input",{type:"checkbox",name:"sync_reviews",checked:u.sync_reviews,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sync product reviews"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Include product reviews in sync (if available)"})]})]})]}),(0,Ia.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,Ia.jsxs)("button",{type:"button",onClick:async()=>{try{const t=await Oi(e,{job_type:"full_sync"});rn.success("Sync started! Job ID: ".concat(t.data.job_id))}catch(t){rn.error("Failed to start sync")}},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(ui,{className:"w-4 h-4 mr-2"}),"Test Sync Now"]}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ia.jsx)("button",{type:"button",onClick:()=>t("/shopify"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Ia.jsxs)("button",{type:"submit",disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Ia.jsx)(as,{className:"w-4 h-4 mr-2"}),s?"Saving...":"Save Settings"]})]})]})]}),(0,Ia.jsx)("div",{className:"mt-6 bg-white shadow rounded-lg border-2 border-red-200",children:(0,Ia.jsxs)("div",{className:"p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-red-900",children:"Danger Zone"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Once you disconnect this store, you won't be able to sync new products. Existing synced data will remain in your knowledge base."}),(0,Ia.jsx)("div",{className:"mt-4",children:(0,Ia.jsxs)("button",{type:"button",onClick:async()=>{if(window.confirm("Are you sure you want to disconnect this store? All synced data will remain but new syncs will stop.")){l(!0);try{await(e=>Ma.delete("/shopify/stores/".concat(e)))(e),rn.success("Store disconnected successfully"),t("/shopify")}catch(n){console.error("Delete error:",n),rn.error("Failed to disconnect store")}finally{l(!1)}}},disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50",children:[(0,Ia.jsx)(ts,{className:"w-4 h-4 mr-2"}),o?"Disconnecting...":"Disconnect Store"]})})]})})]}):(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)(oi,{className:"mx-auto h-12 w-12 text-red-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Store not found"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"The store you're looking for doesn't exist or has been removed."}),(0,Ia.jsx)("div",{className:"mt-6",children:(0,Ia.jsxs)("button",{onClick:()=>t("/shopify"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-2"}),"Back to Stores"]})})]})},Vi=Va("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Hi=()=>{var e,t;const{id:n}=ne(),r=ee(),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(0);(0,a.useEffect)(()=>{p()},[n]);const p=async()=>{try{l(!0);const e=await(async e=>{try{const t=await Ma.get("/shopify/products/".concat(e));return t.data.data||t.data}catch(t){throw console.error("Get product error:",t),t}})(n);i(e),m(0)}catch(e){console.error("Error loading product:",e),rn.error("Failed to load product details")}finally{l(!1)}};if(o)return(0,Ia.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ia.jsx)(xi,{className:"w-8 h-8 animate-spin text-primary-600"})});if(!s)return(0,Ia.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,Ia.jsx)(oi,{className:"w-16 h-16 text-gray-400 mb-4"}),(0,Ia.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Product Not Found"}),(0,Ia.jsx)("p",{className:"text-gray-600 mb-4",children:"The product you're looking for doesn't exist."}),(0,Ia.jsxs)("button",{onClick:()=>r(-1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-2"}),"Go Back"]})]});const h=s.images||[],f=s.variants||[],x=s.tags?s.tags.map(e=>e.trim()).filter(Boolean):[];return(0,Ia.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Ia.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ia.jsxs)("div",{className:"mb-6",children:[(0,Ia.jsxs)("button",{onClick:()=>r(-1),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Products"]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:s.title}),(0,Ia.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Product ID: ",s.shopify_product_id]})]}),(0,Ia.jsxs)("div",{className:"flex gap-2",children:[(0,Ia.jsxs)("button",{onClick:async()=>{try{d(!0),await(async e=>{try{const t=await Ma.post("/shopify/products/".concat(e,"/refresh"));return t.data.data||t.data}catch(t){throw console.error("Refresh product error:",t),t}})(n),rn.success("Product refreshed successfully"),p()}catch(e){console.error("Error refreshing product:",e),rn.error("Failed to refresh product")}finally{d(!1)}},disabled:c,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[(0,Ia.jsx)(ui,{className:"w-4 h-4 mr-2 ".concat(c?"animate-spin":"")}),"Refresh"]}),(0,Ia.jsxs)("button",{onClick:()=>{var e;null!==s&&void 0!==s&&null!==(e=s.shopify_metadata)&&void 0!==e&&e.admin_url?window.open(s.shopify_metadata.admin_url,"_blank"):null!==s&&void 0!==s&&s.shop_domain&&null!==s&&void 0!==s&&s.shopify_product_id&&window.open("https://".concat(s.shop_domain,"/admin/products/").concat(s.shopify_product_id),"_blank")},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(_i,{className:"w-4 h-4 mr-2"}),"Edit in Shopify"]}),(0,Ia.jsxs)("button",{onClick:async()=>{if(confirm("Are you sure you want to delete this product from the knowledge base? This will not affect your Shopify store."))try{await(async e=>{try{const t=await Ma.delete("/shopify/products/".concat(e));return t.data.data||t.data}catch(t){throw console.error("Delete product error:",t),t}})(n),rn.success("Product deleted successfully"),r(-1)}catch(e){console.error("Error deleting product:",e),rn.error("Failed to delete product")}},className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:[(0,Ia.jsx)(ts,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.length>0?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Ia.jsx)("img",{src:null===(e=h[u])||void 0===e?void 0:e.url,alt:s.title,className:"w-full h-full object-contain",onError:e=>{e.target.src="/placeholder-image.png"}})}),h.length>1&&(0,Ia.jsx)("div",{className:"p-4 grid grid-cols-4 gap-2",children:h.map((e,t)=>(0,Ia.jsx)("button",{onClick:()=>m(t),className:"aspect-square rounded-lg overflow-hidden border-2 ".concat(u===t?"border-primary-500":"border-gray-200 hover:border-gray-300"),children:(0,Ia.jsx)("img",{src:e.url,alt:"".concat(s.title," ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}):(0,Ia.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Ia.jsx)(Ts,{className:"w-24 h-24 text-gray-400"})})}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Image Information"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Total Images:"}),(0,Ia.jsx)("span",{className:"ml-2 font-medium",children:h.length})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Primary Image:"}),(0,Ia.jsx)("span",{className:"ml-2 font-medium",children:s.primary_image_id?"Set":"Not set"})]})]})]})]}),(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Price"}),(0,Ia.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",parseFloat(s.price||0).toFixed(2)]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Status"}),(0,Ia.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("active"===s.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:s.status||"Unknown"})]})]}),s.compare_at_price&&parseFloat(s.compare_at_price)>parseFloat(s.price)&&(0,Ia.jsx)("div",{className:"mt-2",children:(0,Ia.jsxs)("p",{className:"text-sm text-gray-600",children:["Compare at:"," ",(0,Ia.jsxs)("span",{className:"line-through",children:["$",parseFloat(s.compare_at_price).toFixed(2)]}),(0,Ia.jsxs)("span",{className:"ml-2 text-red-600 font-medium",children:["Save $",(parseFloat(s.compare_at_price)-parseFloat(s.price)).toFixed(2)]})]})})]}),s.description&&(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Ia.jsx)(ss,{className:"w-5 h-5 mr-2"}),"Description"]}),(0,Ia.jsx)("div",{className:"text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:s.description}})]}),f.length>0&&(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(Si,{className:"w-5 h-5 mr-2"}),"Variants (",f.length,")"]}),(0,Ia.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>(0,Ia.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),e.sku&&(0,Ia.jsxs)("p",{className:"text-sm text-gray-600",children:["SKU: ",e.sku]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.price||0).toFixed(2)]}),e.compare_at_price&&(0,Ia.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["$",parseFloat(e.compare_at_price).toFixed(2)]})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Inventory:"}),(0,Ia.jsxs)("span",{className:"ml-2 font-medium ".concat(e.inventory_quantity>0?"text-green-600":"text-red-600"),children:[e.inventory_quantity||0," units"]})]}),e.weight&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Weight:"}),(0,Ia.jsxs)("span",{className:"ml-2 font-medium",children:[e.weight," ",e.weight_unit]})]})]}),e.barcode&&(0,Ia.jsxs)("div",{className:"mt-2 text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Barcode:"}),(0,Ia.jsx)("span",{className:"ml-2 font-mono text-gray-900",children:e.barcode})]})]},t))})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Information"}),(0,Ia.jsxs)("dl",{className:"grid grid-cols-1 gap-4",children:[s.vendor&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Vendor"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:s.vendor})]}),s.product_type&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Product Type"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:s.product_type})]}),x.length>0&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-600 mb-2",children:"Tags"}),(0,Ia.jsx)("dd",{className:"flex flex-wrap gap-2",children:x.map((e,t)=>(0,Ia.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[(0,Ia.jsx)(Fi,{className:"w-3 h-3 mr-1"}),e]},t))})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Created"}),(0,Ia.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[(0,Ia.jsx)(Vi,{className:"w-4 h-4 mr-1"}),new Date(s.created_at).toLocaleString()]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),(0,Ia.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[(0,Ia.jsx)(Vi,{className:"w-4 h-4 mr-1"}),new Date(s.updated_at).toLocaleString()]})]}),(null===(t=s.shopify_metadata)||void 0===t?void 0:t.handle)&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Product Handle"}),(0,Ia.jsx)("dd",{className:"mt-1 text-sm text-gray-900 font-mono",children:s.shopify_metadata.handle})]})]})]}),s.shopify_metadata&&Object.keys(s.shopify_metadata).length>0&&(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shopify Metadata"}),(0,Ia.jsxs)("div",{className:"space-y-2 text-sm",children:[s.shopify_metadata.published_at&&(0,Ia.jsxs)("div",{className:"flex justify-between",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Published:"}),(0,Ia.jsx)("span",{className:"text-gray-900",children:new Date(s.shopify_metadata.published_at).toLocaleDateString()})]}),s.shopify_metadata.template_suffix&&(0,Ia.jsxs)("div",{className:"flex justify-between",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:"Template:"}),(0,Ia.jsx)("span",{className:"text-gray-900",children:s.shopify_metadata.template_suffix})]})]})]})]})]})]})})},Gi=Va("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),Ki=Va("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),Yi=Va("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 11v5a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H6v-2a2 2 0 0 0-4 0Z",key:"u5qfb7"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]),Xi=Va("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Ji=()=>{var e;const{id:t}=ne(),n=ee(),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{m()},[t]);const m=async()=>{try{s(!0);const[n,r]=await Promise.all([(e=t,Ma.get("/conversation-strategy/".concat(e))),ps()]);c(n.data.data),u(r.data.data)}catch(n){console.error("Error loading conversation strategy:",n),rn.error("Failed to load conversation strategy")}finally{s(!1)}var e},p=async e=>{try{o(!0);const n=await((e,t)=>Ma.post("/conversation-strategy/apply-preset/".concat(e),{preset_id:t}))(t,e);c(n.data.data),rn.success("Preset applied successfully")}catch(n){console.error("Error applying preset:",n),rn.error("Failed to apply preset")}finally{o(!1)}},h=e=>{c(qe(qe({},l),{},{preference_collection:qe(qe({},l.preference_collection),{},{strategy:e})}))};if(r)return(0,Ia.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ia.jsx)(Fs,{className:"animate-spin",size:32})});if(!l)return(0,Ia.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(oi,{size:48,className:"mx-auto mb-4 text-red-500"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"Failed to load conversation strategy"})]})});const f=(null===(e=l.preference_collection)||void 0===e?void 0:e.strategy)||"immediate_search";return(0,Ia.jsxs)("div",{className:"p-6 max-w-5xl mx-auto",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("button",{onClick:()=>n("/agents/".concat(t)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,Ia.jsx)(ii,{size:20})}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold",children:"Conversation Strategy"}),(0,Ia.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Configure how your agent collects preferences and searches"})]})]}),(0,Ia.jsx)("button",{onClick:async()=>{try{o(!0),await((e,t)=>Ma.put("/conversation-strategy/".concat(e),t))(t,l),rn.success("Conversation strategy saved successfully")}catch(e){console.error("Error saving strategy:",e),rn.error("Failed to save conversation strategy")}finally{o(!1)}},disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Fs,{size:18,className:"animate-spin"}),"Saving..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(as,{size:18}),"Save Changes"]})})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Ia.jsx)(ss,{size:20,className:"text-blue-500"}),(0,Ia.jsx)("h2",{className:"text-lg font-semibold",children:"Quick Presets"})]}),(0,Ia.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Apply a preset configuration based on your business type"}),(0,Ia.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(e=>{const t={shirt:Gi,laptop:Ki,couch:Yi,utensils:Xi}[e.icon]||ss;return(0,Ia.jsxs)("button",{onClick:()=>p(e.id),disabled:i,className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors text-left disabled:opacity-50",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ia.jsx)(t,{size:24,className:"text-blue-600"}),(0,Ia.jsx)("h3",{className:"font-semibold",children:e.name})]}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Ia.jsx)("div",{className:"flex items-center gap-2",children:(0,Ia.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",children:0===e.strategy.preference_collection.max_questions?"No questions":"".concat(e.strategy.preference_collection.max_questions," questions")})})]},e.id)})})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\ud83d\udecd\ufe0f Product Search Strategy"}),(0,Ia.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Configure how your agent searches for products"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"strategy",value:"immediate_search",checked:"immediate_search"===f,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-semibold",children:"Immediate Search"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded",children:"Fast"})]}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Search as soon as user requests products. No questions asked."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Furniture, Food, Low-ticket items"})]})]}),(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"strategy",value:"ask_questions",checked:"ask_questions"===f,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-semibold",children:"Ask Questions First"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:"Personalized"})]}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Collect user preferences before searching for products."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Clothing, Fashion, High-value items"}),"ask_questions"===f&&(0,Ia.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded text-sm text-blue-700",children:[(0,Ia.jsx)(ss,{size:16,className:"inline mr-1"}),"Advanced configuration coming in Phase 2"]})]})]}),(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"strategy",value:"minimal_questions",checked:"minimal_questions"===f,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-semibold",children:"Minimal Questions (1-2)"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded",children:"Balanced"})]}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"Ask only 1-2 critical questions before searching."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Electronics, Mid-range items"})]})]}),(0,Ia.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Ia.jsx)("input",{type:"radio",name:"strategy",value:"adaptive",checked:"adaptive"===f,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ia.jsx)("span",{className:"font-semibold",children:"Adaptive (Smart)"}),(0,Ia.jsx)("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded",children:"Intelligent"})]}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:"AI decides based on product type, value, and context."}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Multi-category stores"})]})]})]})]}),(0,Ia.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ia.jsx)(is,{size:20,className:"text-green-600 mt-0.5"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"font-semibold text-green-900 mb-1",children:"Current Configuration"}),(0,Ia.jsxs)("p",{className:"text-sm text-green-700",children:["Your agent is using ",(0,Ia.jsx)("strong",{children:f.replace("_"," ")})," strategy.","immediate_search"===f&&" Products will be shown immediately.","ask_questions"===f&&" Agent will collect preferences before searching.","minimal_questions"===f&&" Agent will ask 1-2 quick questions.","adaptive"===f&&" AI will decide the best approach."]})]})]})})]})},Qi=e=>{let{user:t,onSave:n,onClose:r}=e;const{user:s}=Fa(),[i,o]=(0,a.useState)({name:"",email:"",password:"",role:"client",is_active:!0}),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{t&&o({name:t.name,email:t.email,password:"",role:t.role,is_active:t.is_active})},[t]);const m=(e,t)=>{o(n=>qe(qe({},n),{},{[e]:t}))};return(0,Ia.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t?"Edit User":"Create User"}),(0,Ia.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-500",children:(0,Ia.jsx)(rs,{className:"w-5 h-5"})})]}),(0,Ia.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(null),c(!0);try{if(!i.name||!i.email)throw new Error("Name and email are required");if(!t&&!i.password)throw new Error("Password is required for new users");if(i.password&&i.password.length<6)throw new Error("Password must be at least 6 characters");const e={name:i.name,email:i.email,role:i.role,is_active:i.is_active};i.password&&(e.password=i.password),await n(e)}catch(r){u(r.message),c(!1)}},className:"p-6 space-y-4",children:[d&&(0,Ia.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,Ia.jsx)("p",{className:"text-sm text-red-800",children:d})}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Ia.jsx)("input",{type:"text",required:!0,value:i.name,onChange:e=>m("name",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"John Doe"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Ia.jsx)("input",{type:"email",required:!0,value:i.email,onChange:e=>m("email",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"john@example.com"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!t&&"*"]}),(0,Ia.jsx)("input",{type:"password",required:!t,value:i.password,onChange:e=>m("password",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:t?"Leave blank to keep current":"Min 6 characters",minLength:6}),t&&(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to keep current password"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),(0,Ia.jsx)("select",{required:!0,value:i.role,onChange:e=>m("role",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:("super_admin"===(null===s||void 0===s?void 0:s.role)?[{value:"super_admin",label:"Super Admin"},{value:"admin",label:"Admin"},{value:"agent_manager",label:"Agent Manager"},{value:"client",label:"Client"}]:"admin"===(null===s||void 0===s?void 0:s.role)?[{value:"admin",label:"Admin"},{value:"agent_manager",label:"Agent Manager"},{value:"client",label:"Client"}]:[{value:"agent_manager",label:"Agent Manager"},{value:"client",label:"Client"}]).map(e=>(0,Ia.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 rounded-md p-3 text-xs text-gray-600",children:[(0,Ia.jsx)("p",{className:"font-medium mb-1",children:"Role Permissions:"}),(0,Ia.jsxs)("ul",{className:"space-y-1",children:[(0,Ia.jsxs)("li",{children:[(0,Ia.jsx)("strong",{children:"Super Admin:"})," Full system access"]}),(0,Ia.jsxs)("li",{children:[(0,Ia.jsx)("strong",{children:"Admin:"})," Manage users, credits, agents"]}),(0,Ia.jsxs)("li",{children:[(0,Ia.jsx)("strong",{children:"Agent Manager:"})," Create and manage agents"]}),(0,Ia.jsxs)("li",{children:[(0,Ia.jsx)("strong",{children:"Client:"})," View-only access"]})]})]}),t&&(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:e=>m("is_active",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Ia.jsx)("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700",children:"Account is active"})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Ia.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Ia.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:l?"Saving...":t?"Update User":"Create User"})]})]})]})})},Zi=Va("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),$i=e=>{let{title:t,message:n,confirmText:r="Confirm",cancelText:a="Cancel",confirmStyle:s="primary",onConfirm:i,onCancel:o}=e;const l="danger"===s?"bg-red-600 hover:bg-red-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white";return(0,Ia.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,Ia.jsxs)("div",{className:"flex items-start p-6",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(Zi,{className:"h-6 w-6 ".concat("danger"===s?"text-red-600":"text-yellow-600")})}),(0,Ia.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t}),(0,Ia.jsx)("div",{className:"mt-2",children:(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:n})})]}),(0,Ia.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-500",children:(0,Ia.jsx)(rs,{className:"w-5 h-5"})})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-end space-x-3",children:[(0,Ia.jsx)("button",{onClick:o,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:a}),(0,Ia.jsx)("button",{onClick:i,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ".concat(l),children:r})]})]})})},eo=()=>{const{user:e}=Fa(),[t,n]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(""),[l,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[h,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{x()},[l]);const x=async()=>{try{s(!0);const e={};"all"!==l&&(e.role=l);const t=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/users",{params:e})}(e);n(t.data.data.users||[])}catch(e){console.error("Load users error:",e),rn.error("Failed to load users")}finally{s(!1)}},g=e=>e?new Date(e).toLocaleString():"Never",y=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.email.toLowerCase().includes(i.toLowerCase())),v=["admin","super_admin"].includes(null===e||void 0===e?void 0:e.role);return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage users and their permissions"})]}),v&&(0,Ia.jsxs)("button",{onClick:()=>{p(null),u(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),(0,Ia.jsx)("div",{className:"bg-white shadow rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Ia.jsx)("div",{className:"flex-1",children:(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Ia.jsx)(ti,{className:"h-5 w-5 text-gray-400"})}),(0,Ia.jsx)("input",{type:"text",value:i,onChange:e=>o(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search users..."})]})}),(0,Ia.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"block rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"all",children:"All Roles"}),(0,Ia.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Ia.jsx)("option",{value:"admin",children:"Admin"}),(0,Ia.jsx)("option",{value:"agent_manager",children:"Agent Manager"}),(0,Ia.jsx)("option",{value:"client",children:"Client"})]}),(0,Ia.jsxs)("button",{onClick:x,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Ia.jsx)(ui,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),(0,Ia.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:r?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)(ui,{className:"w-8 h-8 animate-spin text-primary-600"})}):0===y.length?(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)(Vs,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Ia.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:i?"Try adjusting your search":"Get started by adding a user"})]}):(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),v&&(0,Ia.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(t=>{return(0,Ia.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ia.jsx)("td",{className:"px-6 py-4",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Ia.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Ia.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:t.name.charAt(0).toUpperCase()})})}),(0,Ia.jsxs)("div",{className:"ml-4",children:[(0,Ia.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[t.name,t.id===(null===e||void 0===e?void 0:e.id)&&(0,Ia.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"})]}),(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:t.email})]})]})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(n=t.role,(0,Ia.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat({super_admin:"bg-purple-100 text-purple-800",admin:"bg-blue-100 text-blue-800",agent_manager:"bg-green-100 text-green-800",client:"bg-gray-100 text-gray-800"}[n]),children:{super_admin:"Super Admin",admin:"Admin",agent_manager:"Agent Manager",client:"Client"}[n]}))}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t.is_active?(0,Ia.jsxs)("span",{className:"inline-flex items-center text-sm text-green-600",children:[(0,Ia.jsx)(is,{className:"w-4 h-4 mr-1"}),"Active"]}):(0,Ia.jsxs)("span",{className:"inline-flex items-center text-sm text-red-600",children:[(0,Ia.jsx)(ki,{className:"w-4 h-4 mr-1"}),"Inactive"]})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g(t.last_login_at)}),v&&(0,Ia.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Ia.jsx)("button",{onClick:()=>(e=>{p(e),u(!0)})(t),className:"text-primary-600 hover:text-primary-900 mr-3",children:(0,Ia.jsx)(ai,{className:"w-4 h-4 inline"})}),t.id!==(null===e||void 0===e?void 0:e.id)&&(0,Ia.jsx)("button",{onClick:()=>(e=>{f(e)})(t),className:"text-red-600 hover:text-red-900",children:(0,Ia.jsx)(ts,{className:"w-4 h-4 inline"})})]})]},t.id);var n})})]})}),d&&(0,Ia.jsx)(Qi,{user:m,onSave:async e=>{try{m?(await((e,t)=>Ma.put("/users/".concat(e),t))(m.id,e),rn.success("User updated successfully")):(await(e=>Ma.post("/users",e))(e),rn.success("User created successfully")),u(!1),x()}catch(r){var t,n;throw console.error("Save user error:",r),new Error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to save user")}},onClose:()=>u(!1)}),h&&(0,Ia.jsx)($i,{title:"Delete User",message:"Are you sure you want to delete ".concat(h.name,"? This action cannot be undone."),confirmText:"Delete",confirmStyle:"danger",onConfirm:async()=>{try{await(n=h.id,Ma.delete("/users/".concat(n))),rn.success("User deleted successfully"),f(null),x()}catch(r){var e,t;console.error("Delete user error:",r),rn.error((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to delete user")}var n},onCancel:()=>f(null)})]})},to=()=>{const{id:e}=ne(),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({enable_chat_integration:!1,chat_page_enabled:!1,chat_page_slug:"",widget_config:{primary_color:"#6366f1",position:"bottom-right",button_text:"Chat with us",greeting_message:"Hello! How can I help you today?"}});(0,a.useEffect)(()=>{m()},[e]);const m=async()=>{try{s(!0);const t=(await Pa(e)).data.agent;n(t),u({enable_chat_integration:t.enable_chat_integration||!1,chat_page_enabled:t.chat_page_enabled||!1,chat_page_slug:t.chat_page_slug||"",widget_config:t.widget_config||d.widget_config})}catch(t){console.error("Load agent error:",t),rn.error("Failed to load agent")}finally{s(!1)}},p=e=>{navigator.clipboard.writeText(e),o(!0),rn.success("Copied to clipboard!"),setTimeout(()=>o(!1),2e3)},h="\x3c!-- AIVA Chat Widget --\x3e\n<script>\n  (function(w,d,s,o,f,js,fjs){\n    w['AIVAWidget']=o;w[o] = w[o] || function () { (w[o].q = w[o].q || []).push(arguments) };\n    js = d.createElement(s), fjs = d.getElementsByTagName(s)[0];\n    js.id = o; js.src = f; js.async = 1; fjs.parentNode.insertBefore(js, fjs);\n  }(window, document, 'script', 'aiva', '".concat(window.location.origin,"/aiva/widget.js'));\n  aiva('init', {\n    agentId: '").concat(e,"',\n    // API URL will auto-detect from widget source\n    // Or explicitly set: apiUrl: 'https://your-domain.com/aiva/api/public/chat',\n    primaryColor: '").concat(d.widget_config.primary_color,"',\n    position: '").concat(d.widget_config.position,"'\n  });\n<\/script>"),f=d.chat_page_slug?"".concat(window.location.origin,"/aiva/chat/").concat(d.chat_page_slug):"".concat(window.location.origin,"/aiva/chat/").concat(e);return r?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsx)("div",{className:"flex items-center justify-between",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)(Me,{to:"/agents/".concat(e),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-2",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Back to Agent"]}),(0,Ia.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Chat Integration - ",null===t||void 0===t?void 0:t.name]}),(0,Ia.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Embed your AI agent on websites or share a standalone chat page"})]})}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,Ia.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(es,{className:"h-8 w-8 text-primary-600"})}),(0,Ia.jsxs)("div",{className:"ml-4",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Chat Widget"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Embeddable chat bubble for your website"})]})]}),(0,Ia.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ia.jsx)("input",{type:"checkbox",checked:d.enable_chat_integration,onChange:e=>u(t=>qe(qe({},t),{},{enable_chat_integration:e.target.checked})),className:"sr-only peer"}),(0,Ia.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})}),d.enable_chat_integration&&(0,Ia.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Widget Appearance"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("input",{type:"color",value:d.widget_config.primary_color,onChange:e=>u(t=>qe(qe({},t),{},{widget_config:qe(qe({},t.widget_config),{},{primary_color:e.target.value})})),className:"h-10 w-20 rounded border border-gray-300"}),(0,Ia.jsx)("input",{type:"text",value:d.widget_config.primary_color,onChange:e=>u(t=>qe(qe({},t),{},{widget_config:qe(qe({},t.widget_config),{},{primary_color:e.target.value})})),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,Ia.jsxs)("select",{value:d.widget_config.position,onChange:e=>u(t=>qe(qe({},t),{},{widget_config:qe(qe({},t.widget_config),{},{position:e.target.value})})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Ia.jsx)("option",{value:"bottom-right",children:"Bottom Right"}),(0,Ia.jsx)("option",{value:"bottom-left",children:"Bottom Left"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),(0,Ia.jsx)("input",{type:"text",value:d.widget_config.button_text,onChange:e=>u(t=>qe(qe({},t),{},{widget_config:qe(qe({},t.widget_config),{},{button_text:e.target.value})})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Embed Code"}),(0,Ia.jsx)("button",{onClick:()=>p(h),className:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700",children:i?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Is,{className:"w-4 h-4 mr-1"}),"Copied!"]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Ds,{className:"w-4 h-4 mr-1"}),"Copy"]})})]}),(0,Ia.jsx)("div",{className:"relative",children:(0,Ia.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-xs",children:(0,Ia.jsx)("code",{children:h})})}),(0,Ia.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Paste this code before the closing </body> tag of your website"})]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,Ia.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0",children:(0,Ia.jsx)(di,{className:"h-8 w-8 text-primary-600"})}),(0,Ia.jsxs)("div",{className:"ml-4",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Standalone Chat Page"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Full-page OpenAI-style chat interface"})]})]}),(0,Ia.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ia.jsx)("input",{type:"checkbox",checked:d.chat_page_enabled,onChange:e=>u(t=>qe(qe({},t),{},{chat_page_enabled:e.target.checked})),className:"sr-only peer"}),(0,Ia.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})}),d.chat_page_enabled&&(0,Ia.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom URL Slug (optional)"}),(0,Ia.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,Ia.jsxs)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:[window.location.origin,"/aiva/chat/"]}),(0,Ia.jsx)("input",{type:"text",value:d.chat_page_slug,onChange:e=>u(t=>qe(qe({},t),{},{chat_page_slug:e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")})),placeholder:e,className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),(0,Ia.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to use agent ID"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Chat Page URL"}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-700 font-mono",children:f}),(0,Ia.jsx)("button",{onClick:()=>p(f),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:(0,Ia.jsx)(Ds,{className:"w-4 h-4"})}),(0,Ia.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:(0,Ia.jsx)(_i,{className:"w-4 h-4"})})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),(0,Ia.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:(0,Ia.jsx)("iframe",{src:f,className:"w-full h-96",title:"Chat Preview"})})]})]})]})]}),(0,Ia.jsx)("div",{className:"flex justify-end",children:(0,Ia.jsx)("button",{onClick:async()=>{try{c(!0),await((e,t)=>Oa.put("/agents/".concat(e,"/chat-integration"),t))(e,d),rn.success("Integration settings saved"),m()}catch(t){console.error("Save error:",t),rn.error("Failed to save settings")}finally{c(!1)}},disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:l?"Saving...":"Save Settings"})})]})},no=e=>{var t,n,r,s,i,o,l,c,d,u,m,p,h,f,x;let{source:g,index:y}=e;const[v,b]=(0,a.useState)(!1);return(0,Ia.jsx)("div",{className:"bg-gray-50 rounded-lg overflow-hidden text-xs",children:(0,Ia.jsxs)("div",{className:"p-3",children:[(0,Ia.jsxs)("div",{className:"font-semibold text-gray-900 mb-2 flex items-start gap-2",children:[(0,Ia.jsx)("span",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-[10px] font-bold",children:y+1}),(0,Ia.jsx)("span",{className:"flex-1",children:(null===(t=g.source)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.title)||(null===(r=g.metadata)||void 0===r?void 0:r.title)||"Document"})]}),console.log(g),(0,Ia.jsx)("div",{className:"text-gray-600 mb-2",style:{display:v?"block":"-webkit-box",WebkitLineClamp:v?"unset":2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:g.content}),(g.page||g.relevance_score)&&(0,Ia.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 mb-2",children:[g.page&&(0,Ia.jsxs)("span",{children:["\ud83d\udcc4 Page ",(null===(s=g.source)||void 0===s||null===(i=s.metadata)||void 0===i?void 0:i.page)||(null===(o=g.metadata)||void 0===o?void 0:o.page)||""]}),(null===(l=g.source)||void 0===l||null===(c=l.metadata)||void 0===c?void 0:c.relevance_score)||g.relevance_score&&(0,Ia.jsxs)("span",{children:["\ud83c\udfaf ",(100*((null===(d=g.source)||void 0===d?void 0:d.relevance_score)||g.relevance_score||g.score)).toFixed(0),"% match"]})]}),g.content&&g.content.length>150&&(0,Ia.jsx)("button",{onClick:()=>b(!v),className:"text-primary-600 hover:text-primary-700 font-medium inline-flex items-center gap-1",children:v?(0,Ia.jsxs)(Ia.Fragment,{children:["Show less",(0,Ia.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ia.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):(0,Ia.jsxs)(Ia.Fragment,{children:["Show more",(0,Ia.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ia.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(g.url||(null===(u=g.source)||void 0===u||null===(m=u.metadata)||void 0===m?void 0:m.source_url)||(null===g||void 0===g||null===(p=g.metadata)||void 0===p?void 0:p.source_url))&&(0,Ia.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:(0,Ia.jsxs)("a",{href:g.url||(null===(h=g.source)||void 0===h||null===(f=h.metadata)||void 0===f?void 0:f.source_url)||(null===(x=g.metadata)||void 0===x?void 0:x.source_url),target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 inline-flex items-center gap-1 font-medium",children:[(0,Ia.jsx)(_i,{className:"w-3 h-3"}),"View source"]})})]})})},ro=()=>{const{agentId:e}=ne(),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1),[h,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)(!1),y=(0,a.useRef)(null),v=window.location.origin+"/aiva/api/public/chat";(0,a.useEffect)(()=>{b()},[e]),(0,a.useEffect)(()=>{N()},[i]);const b=async()=>{try{u(!0);const t=localStorage.getItem("aiva_chat_".concat(e));t&&(n(t),await j(t));const r=await Ca.get("".concat(v,"/agent/").concat(e,"/config"));if(r.data.success&&s(r.data.data),!t){const t=await Ca.post("".concat(v,"/init"),{agent_id:e,visitor_info:{url:window.location.href,referrer:document.referrer}});if(t.data.success){const r=t.data.data.session_id;n(r),localStorage.setItem("aiva_chat_".concat(e),r),t.data.data.agent.greeting&&o([{id:"greeting",role:"assistant",content:t.data.data.agent.greeting,created_at:(new Date).toISOString()}])}}}catch(t){console.error("Init error:",t)}finally{u(!1)}},j=async e=>{try{const t=await Ca.get("".concat(v,"/history/").concat(e));if(t.data.success){const e=t.data.data.messages.map(e=>({id:e.id,role:e.role,content:e.content,html:e.content_html,formatted_html:e.formatted_html,sources:e.sources||[],images:e.images||[],products:e.products||[],agent_transfer:e.agent_transfer_requested,created_at:e.created_at}));o(e)}}catch(t){console.error("Load history error:",t)}},w=async r=>{if(r.preventDefault(),!l.trim()||m)return;const a=l.trim();c(""),p(!0);const s={id:Date.now().toString(),role:"user",content:a,created_at:(new Date).toISOString()};o(e=>[...e,s]);try{const r=await Ca.post("".concat(v,"/message"),{session_id:t,agent_id:e,message:a});if(!r.data.success)throw new Error("Failed to send message");{const t=r.data.data;if(t.new_session_created){const r=t.session_id;n(r),localStorage.setItem("aiva_chat_".concat(e),r)}const a={id:t.message_id,role:"assistant",content:t.response.text||t.response,html:t.response.html,formatted_html:t.formatted_html,sources:t.sources||[],images:t.images||[],products:t.products||[],agent_transfer:t.agent_transfer,created_at:t.created_at};o(e=>[...e,a]),t.agent_transfer&&setTimeout(()=>{o(e=>[...e,{id:"transfer-"+Date.now(),role:"system",content:"\ud83e\udd1d Connecting you to a human agent...",created_at:(new Date).toISOString()}])},1e3),t.show_feedback_prompt&&!x&&f(!0)}}catch(i){console.error("Send message error:",i);const e={id:Date.now().toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again.",created_at:(new Date).toISOString()};o(t=>[...t,e])}finally{p(!1)}},N=()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},k=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{(await Ca.post("".concat(v.replace("/message",""),"/feedback/session"),{session_id:t,rating:e,comment:n})).data.success&&(g(!0),f(!1),o(e=>[...e,{id:"feedback-thanks-"+Date.now(),role:"system",content:"\u2705 Thank you for your feedback!",created_at:(new Date).toISOString()}]))}catch(r){console.error("Submit feedback error:",r)}},S=async(e,t)=>{try{(await Ca.post("".concat(v.replace("/message",""),"/feedback/message"),{message_id:e,rating:t})).data.success&&console.log("\u2705 Message feedback submitted")}catch(n){console.error("Submit message feedback error:",n)}},_=e=>(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("div",{className:"text-sm whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:e.formatted_html||e.html||e.content}}),"assistant"===e.role&&e.id&&(0,Ia.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,Ia.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,Ia.jsx)("span",{children:"Was this helpful?"}),(0,Ia.jsx)("button",{onClick:()=>S(e.id,"useful"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Helpful",children:"\ud83d\udc4d"}),(0,Ia.jsx)("button",{onClick:()=>S(e.id,"not_useful"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Not helpful",children:"\ud83d\udc4e"})]})}),e.sources&&e.sources.length>0&&(0,Ia.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Ia.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-2",children:["\ud83d\udcda Sources (",e.sources.length,")"]}),(0,Ia.jsx)("div",{className:"space-y-2",children:e.sources.map((e,t)=>(0,Ia.jsx)(no,{source:e,index:t},t))})]}),e.products&&e.products.length>0&&(0,Ia.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Ia.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-3 flex items-center gap-1",children:[(0,Ia.jsx)(Di,{className:"w-4 h-4"}),"Products (",e.products.length,")"]}),(0,Ia.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.products.map((e,t)=>(0,Ia.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center hover:shadow-md transition-shadow",children:[e.image&&(0,Ia.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-32 object-cover rounded-md mb-2"}),(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1 line-clamp-2",children:e.name}),(0,Ia.jsx)("div",{className:"text-sm font-semibold text-primary-600 mb-2",children:e.price}),e.purchase_url&&(0,Ia.jsx)("a",{href:e.purchase_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-primary-600 text-white text-xs px-3 py-1 rounded-md hover:bg-primary-700 transition-colors",children:"View Product"})]},t))})]}),e.images&&e.images.length>0&&(0,Ia.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Ia.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-3 flex items-center gap-1",children:[(0,Ia.jsx)(Ts,{className:"w-4 h-4"}),"Related Images (",e.images.length,")"]}),(0,Ia.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:e.images.map((e,t)=>(0,Ia.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md hover:border-primary-300 transition-all cursor-pointer group",onClick:()=>window.open(e.url,"_blank"),children:[(0,Ia.jsx)("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:(0,Ia.jsx)("img",{src:e.thumbnail_url||e.url,alt:e.title||"Image",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200",loading:"lazy",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%23f3f4f6%22 width=%22200%22 height=%22200%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%239ca3af%22 font-size=%2220%22%3EImage%3C/text%3E%3C/svg%3E"}})}),(0,Ia.jsxs)("div",{className:"p-2 bg-white",children:[(0,Ia.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",title:e.title||"Image",children:e.title||"Image"}),e.page_number&&(0,Ia.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Page ",e.page_number]}),e.similarity_score&&(0,Ia.jsxs)("p",{className:"text-xs text-green-600 font-medium mt-0.5",children:[Math.round(100*e.similarity_score),"% match"]})]})]},e.image_id||t))})]})]});return d?(0,Ia.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ia.jsx)(Fs,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Ia.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,Ia.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 shadow-sm",children:(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ia.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:(null===r||void 0===r?void 0:r.name)||"AI Assistant"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Powered by Intellicon AiVA"})]})}),(0,Ia.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[0===i.length?(0,Ia.jsxs)("div",{className:"text-center py-12",children:[(0,Ia.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc4b"}),(0,Ia.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Hello! How can I help you today?"}),(0,Ia.jsx)("p",{className:"text-gray-500",children:"Ask me anything and I'll do my best to assist you."})]}):i.map(e=>(0,Ia.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"system"===e.role?"justify-center":"justify-start"),children:(0,Ia.jsx)("div",{className:"rounded-2xl px-4 py-3 ".concat("user"===e.role?"max-w-3xl bg-primary-600 text-white":"system"===e.role?"bg-yellow-50 text-yellow-800 border border-yellow-200 px-6":"max-w-3xl bg-white text-gray-900 shadow-sm border border-gray-200"),children:"system"===e.role?(0,Ia.jsx)("p",{className:"text-sm text-center",children:e.content}):_(e)})},e.id)),m&&(0,Ia.jsx)("div",{className:"flex justify-start",children:(0,Ia.jsx)("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-200",children:(0,Ia.jsxs)("div",{className:"flex space-x-2",children:[(0,Ia.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,Ia.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,Ia.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,Ia.jsx)("div",{ref:y})]})}),h&&!x&&(0,Ia.jsx)("div",{className:"bg-blue-50 border-t border-blue-200 px-4 py-4",children:(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ia.jsxs)("div",{className:"text-center mb-3",children:[(0,Ia.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"How was your experience?"}),(0,Ia.jsx)("p",{className:"text-xs text-gray-600",children:"Your feedback helps us improve"})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,Ia.jsxs)("button",{onClick:()=>k("good"),className:"flex items-center gap-2 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:[(0,Ia.jsx)("span",{className:"text-lg",children:"\ud83d\udc4d"}),(0,Ia.jsx)("span",{className:"text-sm font-medium",children:"Good"})]}),(0,Ia.jsxs)("button",{onClick:()=>k("bad"),className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:[(0,Ia.jsx)("span",{className:"text-lg",children:"\ud83d\udc4e"}),(0,Ia.jsx)("span",{className:"text-sm font-medium",children:"Bad"})]})]})]})}),(0,Ia.jsx)("div",{className:"bg-white border-t border-gray-200 px-4 py-4",children:(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ia.jsxs)("form",{onSubmit:w,className:"flex items-end space-x-3",children:[(0,Ia.jsx)("div",{className:"flex-1",children:(0,Ia.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w(e))},placeholder:"Type your message...",rows:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",style:{minHeight:"52px",maxHeight:"200px"}})}),(0,Ia.jsx)("button",{type:"submit",disabled:!l.trim()||m,className:"flex-shrink-0 bg-primary-600 text-white rounded-xl px-4 py-3 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Ia.jsx)(Rs,{className:"w-5 h-5"})})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})})]})},ao=Va("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),so=Va("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),io=()=>{var e;const{user:t}=Fa(),[n,r]=(0,a.useState)(""),[s,i]=(0,a.useState)("all"),o=[{id:"all",name:"All Topics",icon:As,color:"primary"},{id:"getting-started",name:"Getting Started",icon:ao,color:"green"},{id:"agents",name:"AI Agents",icon:Ga,color:"purple"},{id:"knowledge",name:"Knowledge Base",icon:ni,color:"blue"},{id:"shopify",name:"Shopify",icon:Us,color:"yellow"},{id:"chat",name:"Chat Integration",icon:es,color:"pink"},{id:"voice",name:"Voice Calls",icon:Ka,color:"indigo"},{id:"users",name:"User Management",icon:Vs,color:"cyan"},{id:"settings",name:"Settings",icon:Hs,color:"gray"}],l=[{id:"intro",category:"getting-started",title:"Introduction to AIVA",description:"Learn about AIVA platform capabilities and features",content:"intro",icon:As,quickStart:!0},{id:"first-agent",category:"getting-started",title:"Create Your First AI Agent (5 min)",description:"Step-by-step guide to creating your first voice or chat agent",content:"first-agent",icon:Ms,quickStart:!0},{id:"dashboard-overview",category:"getting-started",title:"Dashboard Overview",description:"Understanding the dashboard and navigation",content:"dashboard",icon:ao},{id:"user-roles",category:"getting-started",title:"User Roles & Permissions",description:"Understanding different user roles and their capabilities",content:"roles",icon:Vs},{id:"agent-basics",category:"agents",title:"Understanding AI Agents",description:"What are AI agents and how do they work?",content:"agent-basics",icon:Ga},{id:"create-agent",category:"agents",title:"Creating & Configuring Agents",description:"Complete guide to agent creation and settings",content:"create-agent",icon:Ga,video:!0},{id:"agent-voice",category:"agents",title:"Voice Settings & Configuration",description:"Configure voice, speed, and tone for voice agents",content:"agent-voice",icon:Ka},{id:"agent-testing",category:"agents",title:"Testing Your Agents",description:"How to test voice and chat agents",content:"agent-testing",icon:so},{id:"conversation-strategy",category:"agents",title:"Conversation Strategy",description:"Turn detection, interruptions, and conversation flow",content:"conversation-strategy",icon:es},{id:"kb-overview",category:"knowledge",title:"Knowledge Base Overview",description:"What is a knowledge base and how to use it",content:"kb-overview",icon:ni},{id:"upload-documents",category:"knowledge",title:"Uploading Documents",description:"Upload PDFs, Word docs, presentations, and more",content:"upload-documents",icon:ri,quickStart:!0},{id:"web-scraping",category:"knowledge",title:"Web Scraping Guide",description:"Scrape websites and import content",content:"web-scraping",icon:ni},{id:"image-management",category:"knowledge",title:"Image Upload & Search",description:"Managing images and visual search",content:"image-management",icon:ni},{id:"kb-search",category:"knowledge",title:"Testing Knowledge Search",description:"How to test and optimize search results",content:"kb-search",icon:ti},{id:"semantic-cache",category:"knowledge",title:"Semantic Cache Management",description:"Understanding and managing semantic cache",content:"semantic-cache",icon:Ms},{id:"shopify-overview",category:"shopify",title:"Shopify Integration Overview",description:"Connect your Shopify store to AIVA",content:"shopify-overview",icon:Us},{id:"connect-shopify",category:"shopify",title:"Connecting Your Shopify Store",description:"Step-by-step guide to connect Shopify",content:"connect-shopify",icon:Us,quickStart:!0,video:!0},{id:"product-sync",category:"shopify",title:"Product Synchronization",description:"Auto-sync and manual sync explained",content:"product-sync",icon:Us},{id:"product-recommendations",category:"shopify",title:"AI Product Recommendations",description:"How AI recommends products to customers",content:"product-recommendations",icon:Us},{id:"chat-overview",category:"chat",title:"Chat Integration Overview",description:"Widget vs standalone chat page",content:"chat-overview",icon:es},{id:"chat-widget",category:"chat",title:"Installing Chat Widget",description:"Add chat widget to your website",content:"chat-widget",icon:es,quickStart:!0,video:!0},{id:"chat-page",category:"chat",title:"Standalone Chat Page",description:"Create a public chat page",content:"chat-page",icon:es},{id:"chat-customization",category:"chat",title:"Customizing Chat Interface",description:"Colors, branding, and styling",content:"chat-customization",icon:Hs},{id:"voice-overview",category:"voice",title:"Voice Calls Overview",description:"How voice integration works",content:"voice-overview",icon:Ka},{id:"test-call",category:"voice",title:"Making Test Calls",description:"Test your voice agents",content:"test-call",icon:Ka},{id:"call-monitoring",category:"voice",title:"Call Monitoring & Logs",description:"Monitor active calls and view history",content:"call-monitoring",icon:Ka},{id:"create-users",category:"users",title:"Creating & Managing Users",description:"Add team members and assign roles",content:"create-users",icon:Vs,roles:["super_admin","admin"]},{id:"user-permissions",category:"users",title:"User Permissions",description:"Understanding permission levels",content:"user-permissions",icon:Vs,roles:["super_admin","admin"]},{id:"account-settings",category:"settings",title:"Account Settings",description:"Manage your profile and preferences",content:"account-settings",icon:Hs},{id:"api-keys",category:"settings",title:"API Keys Management",description:"Generate and manage API keys",content:"api-keys",icon:Hs,roles:["super_admin","admin"]},{id:"credits-billing",category:"settings",title:"Credits & Billing",description:"Manage credits and track usage",content:"credits-billing",icon:Hs,roles:["super_admin","admin"]}],c=(0,a.useMemo)(()=>{let e=l;if(t&&(e=e.filter(e=>!e.roles||e.roles.includes(t.role))),"all"!==s&&(e=e.filter(e=>e.category===s)),n){const t=n.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}return e},[l,s,n,t]),d=l.filter(e=>e.quickStart);return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg shadow-lg p-8 text-white",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),(0,Ia.jsx)("p",{className:"text-primary-100",children:"Everything you need to know about AIVA"})]}),(0,Ia.jsx)(As,{className:"w-16 h-16 text-primary-200"})]}),(0,Ia.jsx)("div",{className:"mt-6",children:(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)(ti,{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400"}),(0,Ia.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Search for help articles...",className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white"})]})})]}),!n&&"all"===s&&(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ia.jsx)(Ms,{className:"w-6 h-6 text-yellow-500 mr-2"}),(0,Ia.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Start Guides"})]}),(0,Ia.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map(e=>(0,Ia.jsx)(Me,{to:"/help/".concat(e.id),className:"p-4 border-2 border-primary-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)(e.icon,{className:"w-6 h-6 text-primary-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.video&&(0,Ia.jsxs)("span",{className:"inline-flex items-center mt-2 text-xs text-primary-600",children:[(0,Ia.jsx)(so,{className:"w-3 h-3 mr-1"}),"Video available"]})]})]})},e.id))})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Browse by Category"}),(0,Ia.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:o.map(e=>(0,Ia.jsxs)("button",{onClick:()=>i(e.id),className:"p-4 rounded-lg border-2 transition-all ".concat(s===e.id?"border-".concat(e.color,"-500 bg-").concat(e.color,"-50"):"border-gray-200 hover:border-gray-300"),children:[(0,Ia.jsx)(e.icon,{className:"w-6 h-6 mx-auto mb-2 ".concat(s===e.id?"text-".concat(e.color,"-600"):"text-gray-400")}),(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900 text-center",children:e.name})]},e.id))})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Ia.jsx)("div",{className:"p-6 border-b",children:(0,Ia.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["all"===s?"All Articles":null===(e=o.find(e=>e.id===s))||void 0===e?void 0:e.name,(0,Ia.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",c.length," articles)"]})]})}),0===c.length?(0,Ia.jsxs)("div",{className:"p-12 text-center",children:[(0,Ia.jsx)(Xs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No articles found"}),(0,Ia.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or browse different categories"})]}):(0,Ia.jsx)("div",{className:"divide-y divide-gray-200",children:c.map(e=>(0,Ia.jsx)(Me,{to:"/help/".concat(e.id),className:"block p-6 hover:bg-gray-50 transition-colors",children:(0,Ia.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-start flex-1",children:[(0,Ia.jsx)(e.icon,{className:"w-6 h-6 text-primary-600 mr-4 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e.title}),(0,Ia.jsx)("p",{className:"text-gray-600",children:e.description}),(0,Ia.jsxs)("div",{className:"flex items-center mt-2 space-x-3",children:[e.quickStart&&(0,Ia.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Ia.jsx)(Ms,{className:"w-3 h-3 mr-1"}),"Quick Start"]}),e.video&&(0,Ia.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:[(0,Ia.jsx)(so,{className:"w-3 h-3 mr-1"}),"Video"]})]})]})]}),(0,Ia.jsx)(Js,{className:"w-5 h-5 text-gray-400 flex-shrink-0 ml-4"})]})},e.id))})]}),(0,Ia.jsx)("div",{className:"bg-gray-50 rounded-lg p-6",children:(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)(Xs,{className:"w-6 h-6 text-primary-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Still need help?"}),(0,Ia.jsx)("p",{className:"text-gray-600 mb-3",children:"Can't find what you're looking for? Our support team is here to help."}),(0,Ia.jsx)("a",{href:"mailto:support@contegris.com",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Contact Support"})]})]})})]})},oo={intro:{title:"Introduction to AIVA",description:"Learn about AIVA platform capabilities and features",category:"Getting Started",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"What is AIVA?",content:"\n          <p>AIVA (AI Voice & Chat Agent) is a comprehensive AI platform that enables businesses to create intelligent voice and chat agents powered by OpenAI's advanced language models.</p>\n          <p>With AIVA, you can:</p>\n          <ul>\n            <li><strong>Create AI voice agents</strong> that can handle phone calls naturally and efficiently</li>\n            <li><strong>Deploy chat widgets</strong> on your website for instant customer support</li>\n            <li><strong>Build knowledge bases</strong> from your documents, websites, and content</li>\n            <li><strong>Integrate with Shopify</strong> for intelligent product recommendations</li>\n            <li><strong>Monitor and analyze</strong> all interactions in real-time</li>\n          </ul>\n        "},{title:"Key Features",content:"\n          <h4>\ud83c\udf99\ufe0f Voice AI Agents</h4>\n          <p>Create intelligent voice agents that can answer calls, provide information, and interact naturally with customers using OpenAI's Realtime API. Agents can:</p>\n          <ul>\n            <li>Handle incoming phone calls automatically</li>\n            <li>Search your knowledge base for answers</li>\n            <li>Recommend products from your Shopify store</li>\n            <li>Transfer calls to human agents when needed</li>\n          </ul>\n          \n          <h4>\ud83d\udcac Chat Integration</h4>\n          <p>Add AI-powered chat to your website with:</p>\n          <ul>\n            <li>Embeddable chat widgets that match your brand</li>\n            <li>Standalone chat pages for dedicated support</li>\n            <li>Rich content display (images, products, sources)</li>\n            <li>Session persistence and conversation history</li>\n          </ul>\n          \n          <h4>\ud83d\udcda Knowledge Management</h4>\n          <p>Upload documents, scrape websites, and build a searchable knowledge base:</p>\n          <ul>\n            <li>Support for PDFs, Word, PowerPoint, Excel, and more</li>\n            <li>Automatic image extraction from documents</li>\n            <li>Web scraping for entire websites</li>\n            <li>Semantic search with caching for cost optimization</li>\n          </ul>\n          \n          <h4>\ud83d\udecd\ufe0f Shopify Integration</h4>\n          <p>Connect your Shopify store and let AI:</p>\n          <ul>\n            <li>Automatically sync products and images</li>\n            <li>Recommend products based on customer needs</li>\n            <li>Answer questions about pricing and availability</li>\n            <li>Include product reviews in recommendations</li>\n          </ul>\n        "},{title:"Who is AIVA For?",content:"\n          <h4>\ud83d\uded2 E-commerce Businesses</h4>\n          <p>Provide instant product recommendations, answer customer questions 24/7, and increase conversions with AI-powered shopping assistants.</p>\n          \n          <h4>\ud83c\udfe2 Service Companies</h4>\n          <p>Answer common questions, schedule appointments, provide quotes, and handle customer inquiries without human intervention.</p>\n          \n          <h4>\ud83d\udcac Support Teams</h4>\n          <p>Scale customer support with AI agents that can handle routine queries, search documentation, and escalate complex issues to humans.</p>\n          \n          <h4>\ud83d\udcc8 Sales Teams</h4>\n          <p>Qualify leads automatically, provide instant information, schedule demos, and capture customer requirements before human follow-up.</p>\n          \n          <h4>\ud83d\udcde Call Centers</h4>\n          <p>Reduce call volume by handling routine inquiries, provide after-hours support, and improve response times for customers.</p>\n        "},{title:"Platform Architecture",content:"\n          <p>AIVA consists of several integrated components:</p>\n          <ul>\n            <li><strong>Dashboard:</strong> Web-based management interface for configuration</li>\n            <li><strong>Voice Bridge:</strong> Connects Asterisk PBX to OpenAI Realtime API</li>\n            <li><strong>Knowledge Engine:</strong> Processes documents and enables semantic search</li>\n            <li><strong>Chat System:</strong> Handles web-based chat interactions</li>\n            <li><strong>Integration Layer:</strong> Connects to Shopify and other platforms</li>\n          </ul>\n        "}],nextSteps:[{text:"Create Your First Agent",link:"/help/first-agent"},{text:"Upload Documents to Knowledge Base",link:"/help/upload-documents"},{text:"Understand User Roles",link:"/help/user-roles"}],relatedArticles:["first-agent","dashboard-overview","user-roles"]},"first-agent":{title:"Create Your First AI Agent (5 minutes)",description:"Step-by-step guide to creating your first voice or chat agent",category:"Getting Started",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Getting Started",content:"\n          <p>Creating your first AI agent is quick and easy. Follow these steps to have your agent up and running in just 5 minutes!</p>\n        ",steps:[{title:"Navigate to Agents Page",description:'Click on "Agents" in the sidebar menu, then click the "Create Agent" button in the top right.'},{title:"Enter Basic Information",description:'Give your agent a name (e.g., "Customer Support Bot"), select the type (Voice or Chat), and add a greeting message that users will see or hear first.'},{title:"Configure Agent Settings",description:"Choose a voice for voice agents (Alloy, Echo, Shimmer, etc.), select the AI model (GPT-4 recommended), and write clear instructions for your agent's behavior and personality."},{title:"Enable Tools (Optional)",description:'Toggle on "Knowledge Base Search" if you want your agent to access uploaded documents. Enable "Product Search" if you have a connected Shopify store.'},{title:"Save and Test",description:'Click "Save Agent" and then use the "Test Call" button (for voice agents) or "Test Chat" button (for chat agents) to try out your new agent!'}],tips:'Start with simple instructions like "You are a helpful customer service agent. Be friendly and concise." You can always add more complexity later as you learn how the agent responds.'},{title:"Agent Configuration Explained",content:'\n          <h4>Name</h4>\n          <p>Choose a descriptive name that indicates the agent\'s purpose:</p>\n          <ul>\n            <li>"Customer Support Bot" - For general support</li>\n            <li>"Product Advisor" - For product recommendations</li>\n            <li>"Appointment Scheduler" - For booking appointments</li>\n            <li>"Lead Qualifier" - For sales inquiries</li>\n          </ul>\n          \n          <h4>Type</h4>\n          <p><strong>Voice:</strong> Handles phone calls using speech-to-text and text-to-speech. Perfect for call centers and phone-based support.</p>\n          <p><strong>Chat:</strong> Text-based conversations for website chat widgets. Ideal for web-based customer support.</p>\n          \n          <h4>Greeting Message</h4>\n          <p>The first message users will see or hear. Make it welcoming and set expectations:</p>\n          <ul>\n            <li>"Hello! I\'m here to help you find the perfect product. What are you looking for today?"</li>\n            <li>"Hi! I\'m your virtual assistant. I can answer questions about our services, pricing, and features."</li>\n            <li>"Welcome! I can help you schedule an appointment or answer questions about our hours and services."</li>\n          </ul>\n          \n          <h4>Instructions (System Prompt)</h4>\n          <p>This is the most important part - it tells the AI how to behave. Be specific about:</p>\n          <ul>\n            <li><strong>Role:</strong> "You are a friendly customer support agent for [Company Name]"</li>\n            <li><strong>Capabilities:</strong> What the agent can and cannot do</li>\n            <li><strong>Tone:</strong> Professional, friendly, casual, formal, etc.</li>\n            <li><strong>Boundaries:</strong> What topics to avoid or escalate</li>\n            <li><strong>Response Style:</strong> Concise vs detailed, use of examples, etc.</li>\n          </ul>\n        ',code:"You are a friendly customer support agent for Acme Corporation.\n\nYour role is to:\n- Answer questions about our products and services\n- Help customers find what they're looking for\n- Provide accurate information from the knowledge base\n- Transfer to a human agent for complex billing or technical issues\n\nGuidelines:\n- Keep responses concise (2-3 sentences when possible)\n- Always be helpful, patient, and professional\n- If you don't know something, say so and offer to connect them with someone who can help\n- Never make up information or pricing\n- Use the knowledge base to find accurate answers\n\nTopics to avoid:\n- Making promises about delivery dates\n- Providing medical or legal advice\n- Discussing competitors\n- Sharing confidential company information"}],nextSteps:[{text:"Test Your Agent",link:"/help/agent-testing"},{text:"Add Knowledge Base",link:"/help/kb-overview"},{text:"Configure Voice Settings",link:"/help/agent-voice"}],relatedArticles:["agent-basics","agent-testing","create-agent"]},"dashboard-overview":{title:"Dashboard Overview",description:"Understanding the dashboard and navigation",category:"Getting Started",readTime:"4 min read",difficulty:"Beginner",sections:[{title:"Main Dashboard",content:"\n          <p>The dashboard is your command center in AIVA. It provides a quick overview of your platform usage and activity.</p>\n          <h4>Key Metrics Displayed:</h4>\n          <ul>\n            <li><strong>Total Agents:</strong> Number of active agents in your account</li>\n            <li><strong>Total Calls:</strong> Number of voice calls handled</li>\n            <li><strong>Knowledge Bases:</strong> Number of knowledge bases created</li>\n            <li><strong>Credit Balance:</strong> Remaining API credits</li>\n          </ul>\n          <h4>Quick Actions:</h4>\n          <ul>\n            <li><strong>Create New Agent:</strong> Jump directly to agent creation</li>\n            <li><strong>Manage Credits:</strong> Add or view credit usage</li>\n            <li><strong>View Call Logs:</strong> See recent call activity</li>\n          </ul>\n        "},{title:"Navigation Menu",content:"\n          <p>The sidebar menu provides access to all AIVA features:</p>\n          <ul>\n            <li><strong>Dashboard:</strong> Overview and statistics</li>\n            <li><strong>Agents:</strong> Create and manage AI agents</li>\n            <li><strong>Knowledge Base:</strong> Upload documents and manage content</li>\n            <li><strong>Shopify:</strong> Connect stores and manage products</li>\n            <li><strong>Live Monitor:</strong> Watch active calls in real-time</li>\n            <li><strong>Credits:</strong> Manage API credits and billing (Admin only)</li>\n            <li><strong>Calls:</strong> View call logs and history</li>\n            <li><strong>Users:</strong> Manage team members (Admin only)</li>\n            <li><strong>Test Call:</strong> Test voice agents</li>\n            <li><strong>Test Chat:</strong> Test chat agents</li>\n            <li><strong>Help:</strong> Access this help center</li>\n          </ul>\n        "},{title:"User Profile",content:"\n          <p>Your profile information is displayed in the sidebar showing:</p>\n          <ul>\n            <li>Your name and email</li>\n            <li>Your role (Super Admin, Admin, Agent Manager, or Client)</li>\n            <li>Organization/Tenant name</li>\n          </ul>\n          <p>Click the logout button to sign out of your account.</p>\n        "}],nextSteps:[{text:"Understand User Roles",link:"/help/user-roles"},{text:"Create Your First Agent",link:"/help/first-agent"}],relatedArticles:["user-roles","intro"]},"user-roles":{title:"User Roles & Permissions",description:"Understanding different user roles and their capabilities",category:"Getting Started",readTime:"6 min read",difficulty:"Beginner",sections:[{title:"Overview",content:"\n          <p>AIVA uses a role-based access control system to manage what users can see and do. Each user is assigned one of four roles, each with different permissions.</p>\n        "},{title:"Super Admin",content:"\n          <h4>Highest Level Access</h4>\n          <p>Super Admins have complete control over the entire AIVA platform.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 Manage all tenants and organizations</li>\n            <li>\u2705 Create and delete organizations</li>\n            <li>\u2705 View all data across all tenants</li>\n            <li>\u2705 Manage system-wide settings</li>\n            <li>\u2705 All Admin, Agent Manager, and Client capabilities</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Platform administrators and owners</p>\n        "},{title:"Admin",content:"\n          <h4>Organization-Level Access</h4>\n          <p>Admins have full control within their organization/tenant.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 Create, edit, and delete agents</li>\n            <li>\u2705 Manage knowledge bases and documents</li>\n            <li>\u2705 Connect and manage Shopify stores</li>\n            <li>\u2705 Create and manage users in their organization</li>\n            <li>\u2705 Manage credits and billing</li>\n            <li>\u2705 View all call logs and analytics</li>\n            <li>\u2705 Configure chat integration</li>\n            <li>\u2705 Generate and manage API keys</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Business owners, managers, team leads</p>\n        "},{title:"Agent Manager",content:"\n          <h4>Agent & Content Management</h4>\n          <p>Agent Managers can create and configure agents and manage knowledge.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 Create, edit, and delete agents</li>\n            <li>\u2705 Upload documents to knowledge bases</li>\n            <li>\u2705 Test agents (voice and chat)</li>\n            <li>\u2705 View call logs for their agents</li>\n            <li>\u2705 Configure agent settings</li>\n            <li>\u2705 Monitor live calls</li>\n            <li>\u274c Cannot manage users</li>\n            <li>\u274c Cannot manage credits/billing</li>\n            <li>\u274c Cannot connect Shopify stores</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Content managers, support team leads, agent trainers</p>\n        "},{title:"Client",content:"\n          <h4>Read-Only Access</h4>\n          <p>Clients have limited access to view information only.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 View agents (cannot edit)</li>\n            <li>\u2705 View knowledge bases (cannot upload)</li>\n            <li>\u2705 View call logs</li>\n            <li>\u2705 Access help documentation</li>\n            <li>\u274c Cannot create or edit anything</li>\n            <li>\u274c Cannot manage users</li>\n            <li>\u274c Cannot access billing</li>\n            <li>\u274c Cannot test agents</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Stakeholders, viewers, auditors, read-only access needs</p>\n        "},{title:"Permission Matrix",content:'\n          <table style="width:100%; border-collapse: collapse;">\n            <thead>\n              <tr style="background:#f3f4f6;">\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Feature</th>\n                <th style="border:1px solid #ddd; padding:8px;">Super Admin</th>\n                <th style="border:1px solid #ddd; padding:8px;">Admin</th>\n                <th style="border:1px solid #ddd; padding:8px;">Agent Manager</th>\n                <th style="border:1px solid #ddd; padding:8px;">Client</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Manage Agents</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\ud83d\udc41\ufe0f View Only</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Knowledge Base</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\ud83d\udc41\ufe0f View Only</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Shopify Integration</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">User Management</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Credits & Billing</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Test Agents</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">View Call Logs</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n              </tr>\n            </tbody>\n          </table>\n        '}],nextSteps:[{text:"Create Users (Admin)",link:"/help/create-users"},{text:"Understand Permissions",link:"/help/user-permissions"}],relatedArticles:["create-users","user-permissions"]},"agent-basics":{title:"Understanding AI Agents",description:"What are AI agents and how do they work in AIVA?",category:"AI Agents",readTime:"7 min read",difficulty:"Beginner",sections:[{title:"What is an AI Agent?",content:"\n          <p>An AI Agent in AIVA is an intelligent virtual assistant powered by OpenAI's advanced language models (like GPT-4). It can understand natural language, access information from knowledge bases, and respond to users in a helpful, context-aware manner.</p>\n          <h4>Think of an AI Agent as:</h4>\n          <ul>\n            <li>A knowledgeable employee who can answer questions instantly</li>\n            <li>A personal assistant that never sleeps</li>\n            <li>A search engine that understands conversational language</li>\n            <li>A customer service representative with perfect memory</li>\n          </ul>\n        "},{title:"Types of Agents",content:"\n          <h4>Voice Agents</h4>\n          <p><strong>Purpose:</strong> Handle phone calls using natural speech</p>\n          <p><strong>Technology:</strong> Speech-to-Text \u2192 AI Processing \u2192 Text-to-Speech</p>\n          <p><strong>Use Cases:</strong></p>\n          <ul>\n            <li>Customer support hotlines</li>\n            <li>Appointment scheduling</li>\n            <li>Order status inquiries</li>\n            <li>Product information requests</li>\n            <li>Lead qualification</li>\n          </ul>\n          \n          <h4>Chat Agents</h4>\n          <p><strong>Purpose:</strong> Handle text-based conversations on websites</p>\n          <p><strong>Technology:</strong> Direct text processing and response generation</p>\n          <p><strong>Use Cases:</strong></p>\n          <ul>\n            <li>Website live chat</li>\n            <li>Customer support widget</li>\n            <li>Product recommendations</li>\n            <li>FAQ answering</li>\n            <li>Shopping assistance</li>\n          </ul>\n        "},{title:"How Agents Work",content:"\n          <p>When a user interacts with an agent, here's what happens:</p>\n          <ol>\n            <li><strong>Input Reception:</strong> Agent receives user's question (text or voice)</li>\n            <li><strong>Context Building:</strong> Agent considers:\n              <ul>\n                <li>Conversation history</li>\n                <li>System instructions (your configuration)</li>\n                <li>Available tools (knowledge base, product search)</li>\n              </ul>\n            </li>\n            <li><strong>Tool Usage (if needed):</strong>\n              <ul>\n                <li>Search knowledge base for relevant information</li>\n                <li>Look up products in Shopify</li>\n                <li>Execute custom functions</li>\n              </ul>\n            </li>\n            <li><strong>Response Generation:</strong> AI formulates natural, helpful response</li>\n            <li><strong>Output Delivery:</strong> Response sent to user (text or speech)</li>\n          </ol>\n        "},{title:"Agent Capabilities",content:"\n          <h4>What Agents CAN Do:</h4>\n          <ul>\n            <li>\u2705 Answer questions based on knowledge bases</li>\n            <li>\u2705 Recommend products from Shopify</li>\n            <li>\u2705 Maintain context throughout conversation</li>\n            <li>\u2705 Handle multiple topics in one conversation</li>\n            <li>\u2705 Adapt tone and style based on instructions</li>\n            <li>\u2705 Recognize when to escalate to humans</li>\n            <li>\u2705 Provide structured information (lists, comparisons)</li>\n            <li>\u2705 Remember user preferences within a session</li>\n          </ul>\n          \n          <h4>What Agents CANNOT Do:</h4>\n          <ul>\n            <li>\u274c Access real-time external data (unless via functions)</li>\n            <li>\u274c Remember conversations across sessions (without custom setup)</li>\n            <li>\u274c Make actual purchases or transactions</li>\n            <li>\u274c Access private customer data automatically</li>\n            <li>\u274c Send emails or notifications directly</li>\n          </ul>\n        "},{title:"Best Practices",content:"\n          <h4>For Effective Agents:</h4>\n          <ul>\n            <li><strong>Clear Instructions:</strong> Be specific about the agent's role and boundaries</li>\n            <li><strong>Good Knowledge Base:</strong> Upload comprehensive, well-organized documents</li>\n            <li><strong>Test Thoroughly:</strong> Try various scenarios before deploying</li>\n            <li><strong>Monitor Performance:</strong> Review call logs and chat transcripts</li>\n            <li><strong>Iterate:</strong> Continuously improve based on real usage</li>\n            <li><strong>Set Expectations:</strong> Let users know they're talking to AI</li>\n            <li><strong>Provide Escalation:</strong> Always offer a way to reach humans</li>\n          </ul>\n        "}],nextSteps:[{text:"Create Your First Agent",link:"/help/first-agent"},{text:"Configure Agent Settings",link:"/help/create-agent"},{text:"Test Your Agent",link:"/help/agent-testing"}],relatedArticles:["first-agent","create-agent","agent-testing"]},"create-agent":{title:"Creating & Configuring Agents",description:"Complete guide to agent creation and advanced settings",category:"AI Agents",readTime:"12 min read",difficulty:"Intermediate",sections:[{title:"Basic Configuration",content:"\n          <p>Start by configuring the essential settings for your agent.</p>\n        ",steps:[{title:"Agent Name",description:'Choose a descriptive name (e.g., "Customer Support Agent", "Sales Bot", "Appointment Scheduler"). This is for your internal reference only.'},{title:"Agent Type",description:'Select "Voice" for phone calls or "Chat" for text-based conversations. This cannot be changed later.'},{title:"Greeting Message",description:"Write the first message users will hear or see. Keep it friendly and set clear expectations about what the agent can help with."},{title:"System Instructions",description:"Write detailed instructions about the agent's role, personality, capabilities, and limitations. This is the most important configuration!"}]},{title:"Writing Effective Instructions",content:'\n          <p>System instructions (also called the "system prompt") tell the AI how to behave. Follow this template:</p>\n        ',code:'# Role Definition\nYou are [role description] for [company name].\n\n# Primary Responsibilities\nYour main tasks are to:\n- [Responsibility 1]\n- [Responsibility 2]\n- [Responsibility 3]\n\n# Communication Style\n- [Style guideline 1 - e.g., "Be friendly and conversational"]\n- [Style guideline 2 - e.g., "Keep responses under 3 sentences"]\n- [Style guideline 3 - e.g., "Use simple, jargon-free language"]\n\n# Knowledge Sources\nYou have access to:\n- [Source 1 - e.g., "Product catalog"]\n- [Source 2 - e.g., "Company knowledge base"]\n- [Source 3 - e.g., "FAQ documents"]\n\n# Boundaries\nYou should NOT:\n- [Boundary 1 - e.g., "Make promises about delivery dates"]\n- [Boundary 2 - e.g., "Provide medical advice"]\n- [Boundary 3 - e.g., "Discuss competitors"]\n\n# Escalation\nTransfer to a human agent when:\n- [Scenario 1 - e.g., "Customer is frustrated"]\n- [Scenario 2 - e.g., "Question requires manager approval"]\n- [Scenario 3 - e.g., "Technical issue beyond your knowledge"]\n\n# Special Instructions\n- [Any specific rules for your use case]',tips:"Be as specific as possible. The more detailed your instructions, the more consistently your agent will behave the way you want."},{title:"Model Selection",content:"\n          <h4>Available Models:</h4>\n          <p><strong>GPT-4 (Recommended):</strong></p>\n          <ul>\n            <li>Most capable and intelligent</li>\n            <li>Best understanding of complex instructions</li>\n            <li>Most accurate responses</li>\n            <li>Higher cost per interaction</li>\n            <li><strong>Use for:</strong> Customer-facing agents, complex scenarios</li>\n          </ul>\n          \n          <p><strong>GPT-3.5 Turbo:</strong></p>\n          <ul>\n            <li>Fast and efficient</li>\n            <li>Good for straightforward tasks</li>\n            <li>Lower cost per interaction</li>\n            <li>May struggle with complex instructions</li>\n            <li><strong>Use for:</strong> Simple FAQ bots, internal tools, high-volume use cases</li>\n          </ul>\n        "},{title:"Temperature & Max Tokens",content:"\n          <h4>Temperature (0.0 - 1.0)</h4>\n          <p>Controls randomness and creativity in responses:</p>\n          <ul>\n            <li><strong>0.0-0.3:</strong> Very consistent, focused responses. Best for factual Q&A.</li>\n            <li><strong>0.4-0.7:</strong> Balanced (recommended for most use cases)</li>\n            <li><strong>0.8-1.0:</strong> Creative, varied responses. Use for conversational agents.</li>\n          </ul>\n          <p><strong>Recommended:</strong> Start with 0.7 and adjust based on results.</p>\n          \n          <h4>Max Tokens</h4>\n          <p>Limits response length:</p>\n          <ul>\n            <li><strong>256-512:</strong> Very brief responses (1-2 sentences)</li>\n            <li><strong>1024:</strong> Short responses (3-5 sentences) - Good for chat</li>\n            <li><strong>2048-4096:</strong> Detailed responses - Good for complex questions</li>\n          </ul>\n          <p><strong>Recommended:</strong> 1024 for chat, 2048 for voice</p>\n        "},{title:"Enabling Knowledge Base",content:'\n          <p>Knowledge Base Search allows your agent to search through uploaded documents to find answers.</p>\n          <h4>To Enable:</h4>\n          <ol>\n            <li>Toggle "Enable Knowledge Base Search"</li>\n            <li>Select which knowledge base to use</li>\n            <li>Choose search settings:\n              <ul>\n                <li><strong>Top K Results:</strong> How many relevant chunks to retrieve (5-10 recommended)</li>\n                <li><strong>Search Type:</strong> Text, Image, or Hybrid</li>\n              </ul>\n            </li>\n          </ol>\n        ',tips:"Always test your agent with knowledge search enabled to ensure it finds and uses the information correctly. The quality of your knowledge base directly affects response quality."},{title:"Enabling Product Search",content:'\n          <p>Product Search allows your agent to recommend products from your connected Shopify store.</p>\n          <h4>Prerequisites:</h4>\n          <ul>\n            <li>Shopify store must be connected</li>\n            <li>Products must be synced to a knowledge base</li>\n            <li>Agent must have access to that knowledge base</li>\n          </ul>\n          <h4>To Enable:</h4>\n          <ol>\n            <li>Toggle "Enable Product Search"</li>\n            <li>Select the Shopify store to use</li>\n            <li>Configure search parameters</li>\n          </ol>\n          <h4>Agent Instructions:</h4>\n          <p>Add to your system prompt:</p>\n        ',code:"When users ask about products:\n1. Ask clarifying questions to understand their needs\n2. Use product search to find relevant items\n3. Present 2-3 best options with:\n   - Product name\n   - Price\n   - Key features\n   - Why it matches their needs\n4. Offer to provide more details or alternatives"},{title:"Function Calling (Advanced)",content:"\n          <p>Functions allow your agent to perform actions or retrieve dynamic data.</p>\n          <h4>Common Use Cases:</h4>\n          <ul>\n            <li>Check order status in external system</li>\n            <li>Book appointments in calendar</li>\n            <li>Look up real-time inventory</li>\n            <li>Send notifications or alerts</li>\n            <li>Update CRM records</li>\n          </ul>\n          <h4>Function Types:</h4>\n          <p><strong>API Functions:</strong> Call external APIs</p>\n          <ul>\n            <li>Provide endpoint URL</li>\n            <li>Set authentication headers</li>\n            <li>Define parameters</li>\n          </ul>\n        ",warning:"Functions require technical knowledge to set up correctly. Test thoroughly in a safe environment before using in production."}],nextSteps:[{text:"Configure Voice Settings",link:"/help/agent-voice"},{text:"Test Your Agent",link:"/help/agent-testing"},{text:"Set Conversation Strategy",link:"/help/conversation-strategy"}],relatedArticles:["agent-basics","agent-voice","conversation-strategy"]},"agent-voice":{title:"Voice Settings & Configuration",description:"Configure voice, speed, and tone for voice agents",category:"AI Agents",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Voice Selection",content:"\n          <p>AIVA offers multiple voice options powered by OpenAI's text-to-speech models. Each voice has a distinct personality and tone.</p>\n        "},{title:"Available Voices",content:"\n          <h4>Alloy</h4>\n          <ul>\n            <li><strong>Gender:</strong> Neutral</li>\n            <li><strong>Tone:</strong> Balanced, professional, clear</li>\n            <li><strong>Best for:</strong> Customer service, general support</li>\n            <li><strong>Characteristics:</strong> Versatile, easy to understand, professional without being robotic</li>\n          </ul>\n          \n          <h4>Echo</h4>\n          <ul>\n            <li><strong>Gender:</strong> Male</li>\n            <li><strong>Tone:</strong> Warm, friendly, approachable</li>\n            <li><strong>Best for:</strong> Sales, friendly conversations, hospitality</li>\n            <li><strong>Characteristics:</strong> Conversational, puts people at ease</li>\n          </ul>\n          \n          <h4>Fable</h4>\n          <ul>\n            <li><strong>Gender:</strong> Male</li>\n            <li><strong>Tone:</strong> Authoritative, confident</li>\n            <li><strong>Best for:</strong> Professional services, expert advice</li>\n            <li><strong>Characteristics:</strong> Clear enunciation, commanding presence</li>\n          </ul>\n          \n          <h4>Onyx</h4>\n          <ul>\n            <li><strong>Gender:</strong> Male</li>\n            <li><strong>Tone:</strong> Deep, calm, reassuring</li>\n            <li><strong>Best for:</strong> Financial services, serious topics</li>\n            <li><strong>Characteristics:</strong> Professional, trustworthy sound</li>\n          </ul>\n          \n          <h4>Nova</h4>\n          <ul>\n            <li><strong>Gender:</strong> Female</li>\n            <li><strong>Tone:</strong> Energetic, upbeat, friendly</li>\n            <li><strong>Best for:</strong> Retail, entertainment, youth-focused brands</li>\n            <li><strong>Characteristics:</strong> Enthusiastic, engaging</li>\n          </ul>\n          \n          <h4>Shimmer</h4>\n          <ul>\n            <li><strong>Gender:</strong> Female</li>\n            <li><strong>Tone:</strong> Professional, clear, polished</li>\n            <li><strong>Best for:</strong> Corporate, healthcare, education</li>\n            <li><strong>Characteristics:</strong> Articulate, professional, trustworthy</li>\n          </ul>\n        ",tips:"Test each voice with your actual agent content. The best voice depends on your brand, audience, and use case. Consider recording sample calls with different voices to compare."},{title:"Speed Control",content:"\n          <p>Adjust speaking speed to match your audience and use case:</p>\n          <ul>\n            <li><strong>0.75x - 0.9x (Slower):</strong>\n              <ul>\n                <li>Better for complex information</li>\n                <li>Elderly audience</li>\n                <li>Technical or medical content</li>\n                <li>Non-native speakers</li>\n              </ul>\n            </li>\n            <li><strong>1.0x (Normal - Recommended):</strong>\n              <ul>\n                <li>Natural conversation pace</li>\n                <li>Most use cases</li>\n                <li>Easy to understand</li>\n              </ul>\n            </li>\n            <li><strong>1.1x - 1.25x (Faster):</strong>\n              <ul>\n                <li>Quick interactions</li>\n                <li>Simple information</li>\n                <li>Time-sensitive calls</li>\n                <li>May reduce clarity</li>\n              </ul>\n            </li>\n          </ul>\n        ",warning:"Speeds above 1.25x can become difficult to understand. Test thoroughly before using faster speeds in production."},{title:"Advanced Audio Settings",content:"\n          <h4>Audio Format</h4>\n          <p>The system handles audio format automatically based on your phone system setup. Most installations use:</p>\n          <ul>\n            <li><strong>Sample Rate:</strong> 8000 Hz or 16000 Hz (standard for telephony)</li>\n            <li><strong>Encoding:</strong> \u03bc-law or linear PCM</li>\n            <li><strong>Channels:</strong> Mono (single channel)</li>\n          </ul>\n          \n          <h4>Silence Detection</h4>\n          <p>Configure when the agent stops speaking:</p>\n          <ul>\n            <li><strong>Threshold:</strong> Silence duration before ending response (500-1000ms recommended)</li>\n            <li><strong>Prefix Padding:</strong> Start speaking slightly before detected (reduces delay)</li>\n          </ul>\n        "},{title:"Testing Voice Settings",content:'\n          <p>Always test voice settings before deploying:</p>\n          <ol>\n            <li>Use the "Test Call" feature in AIVA</li>\n            <li>Try different scenarios:\n              <ul>\n                <li>Long responses</li>\n                <li>Short responses</li>\n                <li>Technical terms</li>\n                <li>Numbers and dates</li>\n              </ul>\n            </li>\n            <li>Test in a quiet and noisy environment</li>\n            <li>Get feedback from others on clarity and pace</li>\n            <li>Adjust settings based on results</li>\n          </ol>\n        ',tips:"Record test calls and listen to them multiple times. Sometimes issues only become apparent after multiple listens. Share recordings with team members for feedback."}],nextSteps:[{text:"Test Your Voice Agent",link:"/help/test-call"},{text:"Configure Conversation Strategy",link:"/help/conversation-strategy"},{text:"Monitor Live Calls",link:"/help/call-monitoring"}],relatedArticles:["create-agent","conversation-strategy","test-call"]},"agent-testing":{title:"Testing Your Agents",description:"How to thoroughly test voice and chat agents before deployment",category:"AI Agents",readTime:"10 min read",difficulty:"Intermediate",sections:[{title:"Why Testing is Critical",content:"\n          <p>Thorough testing ensures your agent:</p>\n          <ul>\n            <li>\u2705 Understands user questions correctly</li>\n            <li>\u2705 Provides accurate, helpful responses</li>\n            <li>\u2705 Handles edge cases gracefully</li>\n            <li>\u2705 Maintains appropriate tone and style</li>\n            <li>\u2705 Escalates properly when needed</li>\n            <li>\u2705 Uses knowledge base effectively</li>\n          </ul>\n          <p><strong>Never deploy an agent without testing!</strong> Real users will quickly find issues you didn't anticipate.</p>\n        "},{title:"Testing Voice Agents",content:"\n          <h4>Using Test Call Feature:</h4>\n        ",steps:[{title:"Navigate to Test Call",description:'Click "Test Call" in the sidebar menu, then select your agent from the dropdown.'},{title:"Start the Call",description:'Click "Start Test Call" button. The system will initiate a call simulation.'},{title:"Interact with Agent",description:"Speak naturally as if you're a real customer. Try different questions and scenarios."},{title:"Review the Conversation",description:"After ending the call, review the transcript and check for accuracy and appropriateness."},{title:"Iterate",description:"Make adjustments to agent configuration based on what you learned, then test again."}],tips:"Test in both quiet and noisy environments. Background noise can significantly affect speech recognition quality."},{title:"Testing Chat Agents",content:"\n          <h4>Using Test Chat Feature:</h4>\n        ",steps:[{title:"Navigate to Test Chat",description:'Click "Test Chat" in the sidebar, then select your agent.'},{title:"Start a Conversation",description:"Type messages as if you're a customer. The chat interface looks like the real widget."},{title:"Try Multiple Sessions",description:"Test multiple conversations to ensure consistency. Each test creates a new session."},{title:"Check Rich Content",description:"Verify that images, products, and sources display correctly when the agent references them."}]},{title:"Test Scenarios",content:'\n          <p>Test your agent with these common scenarios:</p>\n          \n          <h4>Happy Path (Easy Questions)</h4>\n          <ul>\n            <li>"What are your business hours?"</li>\n            <li>"Do you ship internationally?"</li>\n            <li>"Tell me about [product name]"</li>\n            <li>"How do I return an item?"</li>\n          </ul>\n          \n          <h4>Knowledge Base Testing</h4>\n          <ul>\n            <li>Ask questions answered in your documents</li>\n            <li>Ask questions NOT in your documents (should say "I don\'t know")</li>\n            <li>Ask vague questions that need clarification</li>\n            <li>Ask about specific details (dates, numbers, policies)</li>\n          </ul>\n          \n          <h4>Product Search (if enabled)</h4>\n          <ul>\n            <li>"I\'m looking for a red dress under $100"</li>\n            <li>"Show me your best-selling products"</li>\n            <li>"What\'s in stock in size medium?"</li>\n            <li>"Compare [product A] and [product B]"</li>\n          </ul>\n          \n          <h4>Edge Cases</h4>\n          <ul>\n            <li>Nonsensical questions</li>\n            <li>Questions in different languages</li>\n            <li>Very long, rambling questions</li>\n            <li>Rude or frustrated language</li>\n            <li>Questions outside the agent\'s scope</li>\n          </ul>\n          \n          <h4>Conversation Flow</h4>\n          <ul>\n            <li>Multi-turn conversations</li>\n            <li>Topic changes mid-conversation</li>\n            <li>Follow-up questions</li>\n            <li>Referring back to earlier messages</li>\n          </ul>\n        '},{title:"What to Look For",content:"\n          <h4>Accuracy</h4>\n          <ul>\n            <li>\u2705 Facts are correct</li>\n            <li>\u2705 Prices and availability are accurate</li>\n            <li>\u2705 Policy information matches documentation</li>\n            <li>\u274c No hallucinations (making up information)</li>\n          </ul>\n          \n          <h4>Tone & Style</h4>\n          <ul>\n            <li>\u2705 Matches your brand voice</li>\n            <li>\u2705 Appropriate formality level</li>\n            <li>\u2705 Friendly but professional</li>\n            <li>\u274c Not too robotic or overly casual</li>\n          </ul>\n          \n          <h4>Helpfulness</h4>\n          <ul>\n            <li>\u2705 Actually answers the question</li>\n            <li>\u2705 Provides useful details</li>\n            <li>\u2705 Offers next steps</li>\n            <li>\u274c Doesn't give vague or evasive responses</li>\n          </ul>\n          \n          <h4>Error Handling</h4>\n          <ul>\n            <li>\u2705 Asks for clarification when needed</li>\n            <li>\u2705 Admits when it doesn't know something</li>\n            <li>\u2705 Suggests contacting human support appropriately</li>\n            <li>\u274c Doesn't make up answers</li>\n          </ul>\n        "},{title:"Common Issues & Fixes",content:'\n          <table style="width:100%; border-collapse: collapse;">\n            <thead>\n              <tr style="background:#f3f4f6;">\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Issue</th>\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Likely Cause</th>\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Solution</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Agent gives vague answers</td>\n                <td style="border:1px solid #ddd; padding:8px;">Instructions too general</td>\n                <td style="border:1px solid #ddd; padding:8px;">Add specific examples and requirements</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Can\'t find info in knowledge base</td>\n                <td style="border:1px solid #ddd; padding:8px;">Poor document organization</td>\n                <td style="border:1px solid #ddd; padding:8px;">Reorganize documents with clear headings</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Responses too long</td>\n                <td style="border:1px solid #ddd; padding:8px;">Max tokens too high</td>\n                <td style="border:1px solid #ddd; padding:8px;">Lower max tokens, add "be concise" to instructions</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Agent sounds robotic</td>\n                <td style="border:1px solid #ddd; padding:8px;">Instructions too rigid</td>\n                <td style="border:1px solid #ddd; padding:8px;">Add personality, use conversational examples</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Makes up information</td>\n                <td style="border:1px solid #ddd; padding:8px;">No explicit instruction to admit unknowns</td>\n                <td style="border:1px solid #ddd; padding:8px;">Add: "If you don\'t know, say so"</td>\n              </tr>\n            </tbody>\n          </table>\n        '},{title:"Testing Checklist",content:"\n          <p>Before deploying to production, ensure you've tested:</p>\n          <ul>\n            <li>\u2610 At least 20 different questions</li>\n            <li>\u2610 Questions that should AND shouldn't be in knowledge base</li>\n            <li>\u2610 Multi-turn conversations (at least 5)</li>\n            <li>\u2610 Edge cases and error scenarios</li>\n            <li>\u2610 Voice quality and clarity (for voice agents)</li>\n            <li>\u2610 Response times are acceptable</li>\n            <li>\u2610 Escalation to human works (if configured)</li>\n            <li>\u2610 Product search returns relevant results (if enabled)</li>\n            <li>\u2610 Tone and style match brand guidelines</li>\n            <li>\u2610 All team members reviewed and approved</li>\n          </ul>\n        "}],nextSteps:[{text:"Deploy to Production",link:"/help/chat-widget"},{text:"Monitor Call Logs",link:"/help/call-monitoring"},{text:"Optimize Performance",link:"/help/conversation-strategy"}],relatedArticles:["test-call","call-monitoring","create-agent"]},"conversation-strategy":{title:"Conversation Strategy",description:"Configure turn detection, interruptions, and conversation flow",category:"AI Agents",readTime:"9 min read",difficulty:"Advanced",sections:[{title:"Overview",content:"\n          <p>Conversation Strategy settings control how your voice agent manages the natural flow of conversation, including when to listen, when to speak, and how to handle interruptions.</p>\n          <p><strong>Note:</strong> These settings only apply to Voice agents, not Chat agents.</p>\n        "},{title:"Turn Detection Mode",content:"\n          <p>Turn detection determines how the agent knows when the user has finished speaking.</p>\n          \n          <h4>Server VAD (Voice Activity Detection) - Recommended</h4>\n          <p><strong>How it works:</strong> The server analyzes audio to detect when the user stops speaking.</p>\n          <p><strong>Pros:</strong></p>\n          <ul>\n            <li>More reliable than client-side detection</li>\n            <li>Works well in noisy environments</li>\n            <li>Consistent across all calls</li>\n          </ul>\n          <p><strong>Cons:</strong></p>\n          <ul>\n            <li>Slight delay in processing</li>\n          </ul>\n          <p><strong>Best for:</strong> Production deployments, customer-facing agents</p>\n          \n          <h4>Client VAD</h4>\n          <p><strong>How it works:</strong> Detection happens on the user's device/phone before sending to server.</p>\n          <p><strong>Pros:</strong></p>\n          <ul>\n            <li>Lower latency (faster response)</li>\n            <li>Reduced bandwidth usage</li>\n          </ul>\n          <p><strong>Cons:</strong></p>\n          <ul>\n            <li>Less reliable in noisy environments</li>\n            <li>Depends on client implementation</li>\n          </ul>\n          <p><strong>Best for:</strong> Low-latency requirements, controlled environments</p>\n          \n          <h4>Manual</h4>\n          <p><strong>How it works:</strong> User must press a button or give a signal to indicate they're done speaking.</p>\n          <p><strong>Best for:</strong> Special applications, testing scenarios</p>\n        ",tips:"Start with Server VAD. It provides the best balance of reliability and performance for most use cases."},{title:"Silence Detection Settings",content:"\n          <h4>Silence Threshold</h4>\n          <p>How long to wait for user to start speaking before considering it silence:</p>\n          <ul>\n            <li><strong>300-500ms:</strong> Aggressive (quick response, may cut off user)</li>\n            <li><strong>700-900ms:</strong> Balanced (recommended)</li>\n            <li><strong>1000-1500ms:</strong> Patient (good for elderly or deliberate speakers)</li>\n          </ul>\n          \n          <h4>Speech Threshold</h4>\n          <p>Minimum duration of speech to consider it an intentional input:</p>\n          <ul>\n            <li><strong>100-200ms:</strong> Sensitive (picks up short sounds)</li>\n            <li><strong>300-400ms:</strong> Balanced (recommended)</li>\n            <li><strong>500ms+:</strong> Requires clear speech (reduces false triggers)</li>\n          </ul>\n        ",warning:"Too aggressive settings can make the agent interrupt users. Too patient settings can feel sluggish. Test with real users to find the right balance."},{title:"Interruption Handling",content:"\n          <p>How the agent responds when the user interrupts while it's speaking.</p>\n          \n          <h4>Allow Interruptions (Recommended)</h4>\n          <p>Agent stops talking immediately when user starts speaking.</p>\n          <p><strong>Pros:</strong></p>\n          <ul>\n            <li>Feels more natural and conversational</li>\n            <li>User can skip long responses</li>\n            <li>Better user experience</li>\n          </ul>\n          <p><strong>Configure:</strong></p>\n          <ul>\n            <li><strong>Interrupt Sensitivity:</strong> How quickly to detect interruption\n              <ul>\n                <li>Low: User must speak louder/longer</li>\n                <li>Medium: Balanced (recommended)</li>\n                <li>High: Very responsive, may trigger on background noise</li>\n              </ul>\n            </li>\n          </ul>\n          \n          <h4>Disable Interruptions</h4>\n          <p>Agent continues speaking even if user tries to interrupt.</p>\n          <p><strong>Use when:</strong></p>\n          <ul>\n            <li>Delivering critical information (disclaimers, legal)</li>\n            <li>Reading lengthy content that shouldn't be skipped</li>\n            <li>Testing in very noisy environments</li>\n          </ul>\n          <p><strong>Warning:</strong> Can frustrate users who want to jump in quickly.</p>\n        "},{title:"Response Pacing",content:"\n          <h4>First Response Delay</h4>\n          <p>Brief pause before agent starts responding:</p>\n          <ul>\n            <li><strong>0-100ms:</strong> Instant (can feel too aggressive)</li>\n            <li><strong>200-400ms:</strong> Natural (recommended)</li>\n            <li><strong>500ms+:</strong> Thoughtful (good for complex questions)</li>\n          </ul>\n          \n          <h4>Between Sentences</h4>\n          <p>Pause between sentences in agent's response:</p>\n          <ul>\n            <li><strong>100-200ms:</strong> Fast-paced</li>\n            <li><strong>300-500ms:</strong> Natural (recommended)</li>\n            <li><strong>600ms+:</strong> Emphasizes each sentence</li>\n          </ul>\n        ",tips:"Natural pauses make the agent sound more human. Too short feels rushed, too long feels slow. Test with actual content to find the right rhythm."},{title:"Advanced Settings",content:"\n          <h4>Prefix Padding</h4>\n          <p>Start playing agent's response slightly before it's fully generated:</p>\n          <ul>\n            <li>Reduces perceived latency</li>\n            <li>Makes conversation feel snappier</li>\n            <li>Risk: May start with wrong intonation if generation changes</li>\n          </ul>\n          <p><strong>Recommended:</strong> 0.3-0.5 seconds</p>\n          \n          <h4>Audio Buffering</h4>\n          <p>How much audio to buffer before starting playback:</p>\n          <ul>\n            <li><strong>Low Buffer:</strong> Faster start, risk of stuttering</li>\n            <li><strong>Medium Buffer:</strong> Balanced (recommended)</li>\n            <li><strong>High Buffer:</strong> Smooth playback, slower start</li>\n          </ul>\n        "},{title:"Testing Conversation Flow",content:"\n          <p>Test these scenarios to ensure natural conversation:</p>\n          <ol>\n            <li><strong>Natural Pauses:</strong> Does agent wait appropriately for user to finish thinking?</li>\n            <li><strong>Quick Back-and-Forth:</strong> Can users ask follow-up questions smoothly?</li>\n            <li><strong>Interruptions:</strong> Does agent stop gracefully when interrupted?</li>\n            <li><strong>Long Responses:</strong> Can users interrupt when agent is giving long answers?</li>\n            <li><strong>Silence:</strong> What happens if user doesn't respond? Does agent prompt?</li>\n            <li><strong>Background Noise:</strong> Does agent incorrectly detect speech from noise?</li>\n          </ol>\n        "},{title:"Best Practices",content:"\n          <ul>\n            <li>\u2705 <strong>Test with real users:</strong> What feels natural varies by audience</li>\n            <li>\u2705 <strong>Start conservative:</strong> Longer timeouts are better than interrupting users</li>\n            <li>\u2705 <strong>Monitor call logs:</strong> Look for patterns of interruption or delay issues</li>\n            <li>\u2705 <strong>Adjust gradually:</strong> Make small changes and test impact</li>\n            <li>\u2705 <strong>Consider use case:</strong> Customer service needs differ from sales</li>\n            <li>\u274c <strong>Don't set too aggressive:</strong> Users need time to think</li>\n            <li>\u274c <strong>Don't disable interruptions:</strong> Unless absolutely necessary</li>\n          </ul>\n        "}],nextSteps:[{text:"Test Your Voice Agent",link:"/help/test-call"},{text:"Monitor Live Calls",link:"/help/call-monitoring"},{text:"Configure Voice Settings",link:"/help/agent-voice"}],relatedArticles:["agent-voice","test-call","call-monitoring"]},"kb-overview":{title:"Knowledge Base Overview",description:"What is a knowledge base and how to use it effectively",category:"Knowledge Base",readTime:"8 min read",difficulty:"Beginner",sections:[{title:"What is a Knowledge Base?",content:"\n          <p>A Knowledge Base in AIVA is a collection of documents, web content, and information that your AI agents can search through to answer questions.</p>\n          <p>Think of it as your agent's brain - the more comprehensive and well-organized your knowledge base, the better your agent can help users.</p>\n        "},{title:"How It Works",content:"\n          <p>When you upload content to a knowledge base:</p>\n          <ol>\n            <li><strong>Content Extraction:</strong> Text, images, and tables are extracted from documents</li>\n            <li><strong>Chunking:</strong> Content is split into searchable pieces (500-1000 characters each)</li>\n            <li><strong>Embedding:</strong> Each chunk is converted to a vector representation</li>\n            <li><strong>Indexing:</strong> Vectors are stored in a searchable database</li>\n            <li><strong>Search:</strong> When agent searches, it finds most relevant chunks using semantic similarity</li>\n          </ol>\n        "},{title:"What to Include",content:"\n          <h4>Essential Content:</h4>\n          <ul>\n            <li>Product documentation and specifications</li>\n            <li>Frequently asked questions (FAQs)</li>\n            <li>Company policies (returns, shipping, privacy)</li>\n            <li>How-to guides and tutorials</li>\n            <li>Pricing information</li>\n            <li>Contact information and hours</li>\n          </ul>\n          \n          <h4>Optional Content:</h4>\n          <ul>\n            <li>Blog posts and articles</li>\n            <li>Product comparisons</li>\n            <li>Case studies and testimonials</li>\n            <li>Technical specifications</li>\n            <li>Training materials</li>\n          </ul>\n        "},{title:"Organization Tips",content:"\n          <ul>\n            <li><strong>One topic per document:</strong> Don't mix unrelated content</li>\n            <li><strong>Clear headings:</strong> Use descriptive section titles</li>\n            <li><strong>Consistent formatting:</strong> Maintain structure across documents</li>\n            <li><strong>Keep it current:</strong> Update outdated information regularly</li>\n            <li><strong>Remove duplicates:</strong> Don't upload the same info multiple times</li>\n          </ul>\n        "},{title:"Multiple Knowledge Bases",content:"\n          <p>You can create multiple knowledge bases for:</p>\n          <ul>\n            <li><strong>Different products or services</strong></li>\n            <li><strong>Different departments</strong> (Sales, Support, Technical)</li>\n            <li><strong>Different languages</strong></li>\n            <li><strong>Internal vs external</strong> information</li>\n          </ul>\n          <p>Each agent can be configured to use one or more knowledge bases.</p>\n        "}],nextSteps:[{text:"Upload Documents",link:"/help/upload-documents"},{text:"Scrape Websites",link:"/help/web-scraping"},{text:"Test Knowledge Search",link:"/help/kb-search"}],relatedArticles:["upload-documents","web-scraping","kb-search"]},"upload-documents":{title:"Uploading Documents",description:"Upload PDFs, Word docs, presentations, and more to your knowledge base",category:"Knowledge Base",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Supported File Types",content:"\n          <p>AIVA supports a wide variety of document formats:</p>\n          <ul>\n            <li><strong>PDF</strong> (.pdf) - Including scanned documents with OCR</li>\n            <li><strong>Microsoft Word</strong> (.docx) - Text, tables, images</li>\n            <li><strong>PowerPoint</strong> (.pptx) - Slides with text and images</li>\n            <li><strong>Excel</strong> (.xlsx) - Spreadsheets and data tables</li>\n            <li><strong>Text Files</strong> (.txt) - Plain text documents</li>\n            <li><strong>HTML</strong> (.html) - Web pages with formatting</li>\n            <li><strong>Markdown</strong> (.md) - Formatted text files</li>\n            <li><strong>JSON</strong> (.json) - Structured data</li>\n          </ul>\n          <p><strong>Maximum File Size:</strong> 50MB per file</p>\n        "},{title:"Upload Process",steps:[{title:"Navigate to Knowledge Base",description:'Go to "Knowledge Base" in the sidebar and select the knowledge base you want to add documents to.'},{title:"Click Documents Tab",description:'Select the "Documents" tab to see your document management interface.'},{title:"Choose Upload Tab",description:'Click the "Upload" tab to access the file upload interface.'},{title:"Select Files",description:'Drag and drop files onto the upload area, or click "Choose files" to browse your computer. You can upload multiple files at once.'},{title:"Wait for Processing",description:'Files will automatically begin processing. Status will show "Processing" and then "Completed". This typically takes 30 seconds to 2 minutes per document.'}]},{title:"What Happens During Processing",content:"\n          <p>When you upload a document, AIVA performs several operations:</p>\n          <ol>\n            <li><strong>Content Extraction:</strong>\n              <ul>\n                <li>Text is extracted from all pages</li>\n                <li>Images are extracted and processed separately</li>\n                <li>Tables are identified and preserved</li>\n                <li>Document structure is analyzed</li>\n              </ul>\n            </li>\n            <li><strong>Text Processing:</strong>\n              <ul>\n                <li>Content is split into searchable chunks</li>\n                <li>Each chunk is 500-1000 characters for optimal search</li>\n                <li>Overlap between chunks ensures context isn't lost</li>\n              </ul>\n            </li>\n            <li><strong>Embedding Generation:</strong>\n              <ul>\n                <li>OpenAI generates vector embeddings for each chunk</li>\n                <li>Embeddings enable semantic search (meaning-based, not keyword-based)</li>\n              </ul>\n            </li>\n            <li><strong>Storage:</strong>\n              <ul>\n                <li>Chunks and embeddings are stored in the database</li>\n                <li>Images are stored separately with their own embeddings</li>\n              </ul>\n            </li>\n          </ol>\n        "},{title:"Processing Statistics",content:"\n          <p>After processing completes, you'll see these statistics:</p>\n          <ul>\n            <li><strong>Total Pages:</strong> Number of pages in the document</li>\n            <li><strong>Total Chunks:</strong> Number of searchable text pieces created</li>\n            <li><strong>Extracted Images:</strong> Number of images found and extracted (PDFs only)</li>\n            <li><strong>Detected Tables:</strong> Number of data tables identified</li>\n            <li><strong>File Size:</strong> Size of the uploaded file</li>\n            <li><strong>Processing Time:</strong> How long it took to process</li>\n          </ul>\n        "},{title:"Best Practices",content:"\n          <h4>Document Preparation:</h4>\n          <ul>\n            <li>\u2705 Use clear, descriptive filenames</li>\n            <li>\u2705 Ensure text is selectable (not scanned images)</li>\n            <li>\u2705 Include proper headings and structure</li>\n            <li>\u2705 Remove unnecessary pages (covers, blank pages)</li>\n            <li>\u2705 Check for outdated information before uploading</li>\n          </ul>\n          \n          <h4>Organization:</h4>\n          <ul>\n            <li>\u2705 Group related documents in the same knowledge base</li>\n            <li>\u2705 Use consistent formatting across documents</li>\n            <li>\u2705 Break very long documents into logical sections</li>\n            <li>\u2705 Update documents when information changes</li>\n          </ul>\n          \n          <h4>What to Avoid:</h4>\n          <ul>\n            <li>\u274c Uploading duplicate documents</li>\n            <li>\u274c Including sensitive personal information</li>\n            <li>\u274c Using password-protected files</li>\n            <li>\u274c Uploading corrupted or damaged files</li>\n          </ul>\n        "},{title:"Troubleshooting Upload Issues",content:"\n          <h4>File Won't Upload:</h4>\n          <ul>\n            <li>Check file size (must be under 50MB)</li>\n            <li>Verify file format is supported</li>\n            <li>Ensure file isn't corrupted</li>\n            <li>Try a different browser</li>\n          </ul>\n          \n          <h4>Processing Stuck:</h4>\n          <ul>\n            <li>Wait 5-10 minutes (large files take time)</li>\n            <li>Refresh the page to check updated status</li>\n            <li>If still stuck after 15 minutes, contact support</li>\n          </ul>\n          \n          <h4>Processing Failed:</h4>\n          <ul>\n            <li>Check that the file isn't corrupted</li>\n            <li>Ensure it's not password-protected</li>\n            <li>Try re-uploading the file</li>\n            <li>Check error message for specific issue</li>\n          </ul>\n        "}],nextSteps:[{text:"Test Knowledge Search",link:"/help/kb-search"},{text:"Upload Images",link:"/help/image-management"},{text:"Scrape Websites",link:"/help/web-scraping"}],relatedArticles:["kb-overview","web-scraping","kb-search"]},"web-scraping":{title:"Web Scraping Guide",description:"Scrape websites and automatically import content to your knowledge base",category:"Knowledge Base",readTime:"10 min read",difficulty:"Intermediate",sections:[{title:"What is Web Scraping?",content:"<p>Web scraping allows you to automatically import content from websites into your knowledge base without manually downloading and uploading files.</p>"},{title:"Single URL Scraping",content:"<p>Import content from a single web page...</p>"},{title:"Website Crawling",content:"<p>Crawl an entire website up to a specified depth...</p>"},{title:"Sitemap Import",content:"<p>Import all pages listed in a sitemap.xml file...</p>"},{title:"Configuration Options",content:"<p>Max depth, max pages, URL filters...</p>"},{title:"Best Practices",content:"<p>Tips for effective web scraping...</p>"}],relatedArticles:["upload-documents","kb-overview"]},"image-management":{title:"Image Upload & Search",description:"Managing images and using visual search capabilities",category:"Knowledge Base",readTime:"7 min read",difficulty:"Intermediate",sections:[{title:"Image Capabilities",content:"<p>AIVA can process images using CLIP embeddings for visual search...</p>"},{title:"Uploading Images",content:"<p>How to upload standalone images to your knowledge base...</p>"},{title:"Image Metadata",content:"<p>Adding titles, descriptions, tags, and categories...</p>"},{title:"Visual Search",content:"<p>Search by image similarity or text description...</p>"},{title:"Extracted Images",content:"<p>Images automatically extracted from PDFs...</p>"}],relatedArticles:["upload-documents","kb-search"]},"kb-search":{title:"Testing Knowledge Search",description:"Test and optimize knowledge base search functionality",category:"Knowledge Base",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Using the Search Test Page",content:"<p>Access the knowledge base search testing interface...</p>"},{title:"Understanding Search Results",content:"<p>How to interpret relevance scores and sources...</p>"},{title:"Search Types",content:"<p>Text search, image search, and hybrid search explained...</p>"},{title:"Improving Search Quality",content:"<p>Tips for better search results...</p>"}],relatedArticles:["kb-overview","upload-documents","semantic-cache"]},"semantic-cache":{title:"Semantic Cache Management",description:"Understanding and managing semantic cache to reduce costs",category:"Knowledge Base",readTime:"6 min read",difficulty:"Advanced",sections:[{title:"What is Semantic Cache?",content:"<p>Semantic cache stores search results for similar queries to reduce API costs...</p>"},{title:"How It Works",content:"<p>When a user asks a similar question, cached results are returned...</p>"},{title:"Cache Statistics",content:"<p>Viewing hit rate, cost savings, and cache size...</p>"},{title:"Managing Cache",content:"<p>When and how to clear the cache...</p>"},{title:"Cost Optimization",content:"<p>Balancing cache usage with freshness...</p>"}],relatedArticles:["kb-search","kb-overview"]},"shopify-overview":{title:"Shopify Integration Overview",description:"Learn how AIVA connects with your Shopify store",category:"Shopify",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"What Can AIVA Do with Shopify?",content:"<p>AI-powered product recommendations, inventory awareness, and customer support...</p>"},{title:"How It Works",content:"<p>Products are synced to a knowledge base for AI search...</p>"},{title:"Use Cases",content:"<p>Shopping assistants, product finders, inventory inquiries...</p>"}],relatedArticles:["connect-shopify","product-sync","product-recommendations"]},"connect-shopify":{title:"Connecting Your Shopify Store",description:"Step-by-step guide to connect Shopify to AIVA",category:"Shopify",readTime:"12 min read",difficulty:"Intermediate",sections:[{title:"Prerequisites",content:"<p>What you need before connecting...</p>"},{title:"Getting API Credentials",content:"<p>Creating a custom app in Shopify admin...</p>"},{title:"Connecting in AIVA",content:"<p>Enter credentials and test connection...</p>"},{title:"Sync Configuration",content:"<p>Auto-sync settings and frequency...</p>"}],relatedArticles:["shopify-overview","product-sync"]},"product-sync":{title:"Product Synchronization",description:"Understanding product sync jobs and monitoring",category:"Shopify",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Sync Types",content:"<p>Manual sync vs automatic sync...</p>"},{title:"What Gets Synced",content:"<p>Products, variants, images, prices, inventory...</p>"},{title:"Monitoring Sync Jobs",content:"<p>Viewing sync status and statistics...</p>"},{title:"Troubleshooting",content:"<p>Common sync issues and solutions...</p>"}],relatedArticles:["connect-shopify","product-recommendations"]},"product-recommendations":{title:"AI Product Recommendations",description:"How agents recommend products from your Shopify store",category:"Shopify",readTime:"7 min read",difficulty:"Intermediate",sections:[{title:"How AI Recommends Products",content:"<p>Semantic search matches customer needs to products...</p>"},{title:"Configuring Product Search",content:"<p>Enable and configure in agent settings...</p>"},{title:"Agent Instructions for Products",content:"<p>How to prompt agents to recommend effectively...</p>"},{title:"Testing Recommendations",content:"<p>Ensure AI recommends appropriate products...</p>"}],relatedArticles:["connect-shopify","product-sync"]},"chat-overview":{title:"Chat Integration Overview",description:"Understanding chat widgets and standalone chat pages",category:"Chat Integration",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Chat Options",content:"<p>Widget vs standalone page comparison...</p>"},{title:"Features",content:"<p>Rich content, image display, product cards, sources...</p>"},{title:"Use Cases",content:"<p>Customer support, sales, shopping assistance...</p>"}],relatedArticles:["chat-widget","chat-page"]},"chat-widget":{title:"Installing Chat Widget",description:"Add AIVA chat widget to your website",category:"Chat Integration",readTime:"10 min read",difficulty:"Intermediate",sections:[{title:"Enable Chat Integration",content:"<p>Toggle on and configure colors/position...</p>"},{title:"Get Embed Code",content:"<p>Copy the JavaScript code snippet...</p>"},{title:"Installation Methods",content:"<p>Direct HTML, WordPress, Shopify, Google Tag Manager...</p>"},{title:"Testing Your Widget",content:"<p>Verify widget loads and functions correctly...</p>"}],relatedArticles:["chat-overview","chat-customization"]},"chat-page":{title:"Standalone Chat Page",description:"Create a public chat page with custom URL",category:"Chat Integration",readTime:"6 min read",difficulty:"Beginner",sections:[{title:"Enabling Public Chat Page",content:"<p>Toggle on and configure slug...</p>"},{title:"Custom URL Slug",content:"<p>Choose a memorable URL for your chat page...</p>"},{title:"Sharing Your Chat Page",content:"<p>Public link, QR codes, embedding...</p>"},{title:"Chat Page Features",content:"<p>Full-screen interface, rich content support...</p>"}],relatedArticles:["chat-overview","chat-widget"]},"chat-customization":{title:"Customizing Chat Interface",description:"Customize colors, branding, and appearance",category:"Chat Integration",readTime:"7 min read",difficulty:"Intermediate",sections:[{title:"Color Customization",content:"<p>Primary color, button colors, header...</p>"},{title:"Position Options",content:"<p>Bottom-right, bottom-left placement...</p>"},{title:"Button Text",content:"<p>Customize the chat button label...</p>"},{title:"Greeting Message",content:"<p>First message users see...</p>"}],relatedArticles:["chat-widget","chat-page"]},"voice-overview":{title:"Voice Calls Overview",description:"Understanding voice agent capabilities",category:"Voice Calls",readTime:"6 min read",difficulty:"Beginner",sections:[{title:"How Voice Works",content:"<p>Asterisk PBX + OpenAI Realtime API...</p>"},{title:"Voice Agent Capabilities",content:"<p>Natural conversation, knowledge access, product search...</p>"},{title:"Use Cases",content:"<p>Customer support lines, appointment booking, FAQs...</p>"}],relatedArticles:["test-call","call-monitoring"]},"test-call":{title:"Making Test Calls",description:"Use the test call feature to verify voice agents",category:"Voice Calls",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Accessing Test Call",content:"<p>Navigate to test call page and select agent...</p>"},{title:"Starting a Test Call",content:"<p>Click start and speak naturally...</p>"},{title:"Reviewing Results",content:"<p>Check transcript and agent responses...</p>"},{title:"Common Test Scenarios",content:"<p>What to test before going live...</p>"}],relatedArticles:["agent-testing","voice-overview"]},"call-monitoring":{title:"Call Monitoring & Logs",description:"Monitor live calls and review call history",category:"Voice Calls",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Live Monitor",content:"<p>Watch active calls in real-time...</p>"},{title:"Call Logs",content:"<p>Review past call transcripts and details...</p>"},{title:"Call Analytics",content:"<p>Duration, cost, success rate metrics...</p>"},{title:"Filtering and Search",content:"<p>Find specific calls by date, agent, duration...</p>"}],relatedArticles:["test-call","voice-overview"]},"create-users":{title:"Creating & Managing Users",description:"Add team members and manage their access",category:"User Management",readTime:"7 min read",difficulty:"Beginner",sections:[{title:"Creating New Users",content:"<p>Navigate to Users page and click Create User...</p>"},{title:"Required Information",content:"<p>Name, email, password, role assignment...</p>"},{title:"Editing Users",content:"<p>Update user details and permissions...</p>"},{title:"Deactivating Users",content:"<p>Disable access without deleting...</p>"}],relatedArticles:["user-roles","user-permissions"]},"user-permissions":{title:"User Permissions",description:"Understanding permission levels and capabilities",category:"User Management",readTime:"6 min read",difficulty:"Intermediate",sections:[{title:"Permission System",content:"<p>How role-based access control works...</p>"},{title:"Role Capabilities",content:"<p>Detailed breakdown of what each role can do...</p>"},{title:"Best Practices",content:"<p>Assigning appropriate roles to team members...</p>"}],relatedArticles:["user-roles","create-users"]},"account-settings":{title:"Account Settings",description:"Manage your profile and preferences",category:"Settings",readTime:"4 min read",difficulty:"Beginner",sections:[{title:"Profile Management",content:"<p>Update name, email, password...</p>"},{title:"Notification Preferences",content:"<p>Email alerts and notifications...</p>"},{title:"Security",content:"<p>Password requirements and two-factor authentication...</p>"}],relatedArticles:["user-roles"]},"api-keys":{title:"API Keys Management",description:"Generate and manage API keys for integrations",category:"Settings",readTime:"8 min read",difficulty:"Advanced",sections:[{title:"What are API Keys?",content:"<p>Authentication for programmatic access...</p>"},{title:"Generating API Keys",content:"<p>Create new keys for applications...</p>"},{title:"Key Security",content:"<p>Best practices for storing and rotating keys...</p>"},{title:"Using API Keys",content:"<p>Authentication header format and examples...</p>"}],relatedArticles:["account-settings"]},"credits-billing":{title:"Credits & Billing",description:"Manage credits, track usage, and understand costs",category:"Settings",readTime:"10 min read",difficulty:"Beginner",sections:[{title:"Understanding Credits",content:"<p>How credits work and what they cover...</p>"},{title:"Viewing Credit Balance",content:"<p>Check remaining credits...</p>"},{title:"Adding Credits",content:"<p>Purchase additional credits...</p>"},{title:"Usage Tracking",content:"<p>Monitor costs by agent, knowledge base, operation...</p>"},{title:"Cost Breakdown",content:"<p>Understanding charges for different operations...</p>"}],relatedArticles:["account-settings"]}},lo=()=>{var e;const{articleId:t}=ne(),n=(ee(),oo[t]);return(0,a.useEffect)(()=>{window.scrollTo(0,0)},[t]),n?(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ia.jsx)("nav",{className:"mb-6",children:(0,Ia.jsxs)(Me,{to:"/help",className:"inline-flex items-center text-primary-600 hover:text-primary-700",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-2"}),"Back to Help Center"]})}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:[(0,Ia.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-8 text-white",children:(0,Ia.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ia.jsxs)("div",{className:"flex-1",children:[n.category&&(0,Ia.jsx)("div",{className:"mb-3",children:(0,Ia.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20 text-white",children:n.category})}),(0,Ia.jsx)("h1",{className:"text-3xl font-bold mb-3",children:n.title}),(0,Ia.jsx)("p",{className:"text-primary-100 text-lg",children:n.description}),(0,Ia.jsxs)("div",{className:"flex items-center mt-4 space-x-4 text-sm text-primary-100",children:[n.readTime&&(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(js,{className:"w-4 h-4 mr-1"}),n.readTime]}),n.difficulty&&(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Fi,{className:"w-4 h-4 mr-1"}),n.difficulty]})]})]}),(0,Ia.jsx)(As,{className:"w-12 h-12 text-primary-200 flex-shrink-0 ml-6"})]})}),n.videoUrl&&(0,Ia.jsxs)("div",{className:"p-6 bg-gray-50 border-b",children:[(0,Ia.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Ia.jsx)(so,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Ia.jsx)("h3",{className:"font-semibold text-gray-900",children:"Video Tutorial"})]}),(0,Ia.jsx)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden",children:(0,Ia.jsx)("iframe",{src:n.videoUrl,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),n.sections&&n.sections.length>0&&(0,Ia.jsxs)("div",{className:"p-6 bg-blue-50 border-b",children:[(0,Ia.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"In This Article"}),(0,Ia.jsx)("nav",{className:"space-y-2",children:n.sections.map((e,t)=>(0,Ia.jsxs)("a",{href:"#section-".concat(t),className:"block text-primary-600 hover:text-primary-700 text-sm",children:[t+1,". ",e.title]},t))})]}),(0,Ia.jsx)("div",{className:"p-8",children:(0,Ia.jsxs)("div",{className:"prose prose-primary max-w-none",children:[null===(e=n.sections)||void 0===e?void 0:e.map((e,t)=>(0,Ia.jsxs)("div",{id:"section-".concat(t),className:"mb-8",children:[(0,Ia.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e.title}),(0,Ia.jsx)("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:e.content}}),e.steps&&(0,Ia.jsx)("div",{className:"mt-6 space-y-4",children:e.steps.map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-semibold mr-4",children:t+1}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,Ia.jsx)("p",{className:"text-gray-600",children:e.description}),e.image&&(0,Ia.jsx)("img",{src:e.image,alt:e.title,className:"mt-3 rounded-lg border shadow-sm"})]})]},t))}),e.code&&(0,Ia.jsx)("div",{className:"mt-4",children:(0,Ia.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:(0,Ia.jsx)("code",{children:e.code})})}),e.tips&&(0,Ia.jsx)("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)(ss,{className:"w-5 h-5 text-blue-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h5",{className:"font-medium text-blue-900 mb-2",children:"\ud83d\udca1 Tip"}),(0,Ia.jsx)("p",{className:"text-blue-800",children:e.tips})]})]})}),e.warning&&(0,Ia.jsx)("div",{className:"mt-6 bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-r-lg",children:(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)(oi,{className:"w-5 h-5 text-yellow-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h5",{className:"font-medium text-yellow-900 mb-2",children:"\u26a0\ufe0f Warning"}),(0,Ia.jsx)("p",{className:"text-yellow-800",children:e.warning})]})]})})]},t)),n.nextSteps&&(0,Ia.jsx)("div",{className:"mt-8 p-6 bg-green-50 rounded-lg border border-green-200",children:(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)(is,{className:"w-6 h-6 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"\ud83c\udf89 Next Steps"}),(0,Ia.jsx)("ul",{className:"space-y-2",children:n.nextSteps.map((e,t)=>(0,Ia.jsxs)("li",{className:"flex items-start",children:[(0,Ia.jsx)("span",{className:"text-green-600 mr-2",children:"\u2192"}),e.link?(0,Ia.jsx)(Me,{to:e.link,className:"text-green-700 hover:text-green-800 font-medium",children:e.text}):(0,Ia.jsx)("span",{className:"text-green-800",children:e.text})]},t))})]})]})})]})}),n.relatedArticles&&n.relatedArticles.length>0&&(0,Ia.jsxs)("div",{className:"p-6 bg-gray-50 border-t",children:[(0,Ia.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Related Articles"}),(0,Ia.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.relatedArticles.map(e=>{const t=oo[e];return t?(0,Ia.jsxs)(Me,{to:"/help/".concat(e),className:"p-4 bg-white rounded-lg border hover:border-primary-500 hover:shadow transition-all",children:[(0,Ia.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:t.title}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600",children:t.description})]},e):null})})]}),(0,Ia.jsx)("div",{className:"p-6 bg-gray-100 border-t",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Was this article helpful?"}),(0,Ia.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Ia.jsx)("button",{className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"\ud83d\udc4d Yes"}),(0,Ia.jsx)("button",{className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"\ud83d\udc4e No"})]}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Your feedback helps us improve our documentation"})]})})]})]}):(0,Ia.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,Ia.jsx)(oi,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Article Not Found"}),(0,Ia.jsx)("p",{className:"text-gray-600 mb-6",children:"The help article you're looking for doesn't exist."}),(0,Ia.jsxs)(Me,{to:"/help",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[(0,Ia.jsx)(ii,{className:"w-4 h-4 mr-2"}),"Back to Help Center"]})]})})},co=Va("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),uo=Va("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),mo=Va("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),po=Va("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),ho=()=>{const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)({host:"",port:"587",secure:"false",user:"",password:"",from_name:"AIVA Platform",from_email:"",enabled:"false"}),[u,m]=(0,a.useState)(""),[p,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{f()},[]);const f=async()=>{try{const e=await Ma.get("/settings/system/smtp");d(e.data.data),t(!1)}catch(e){console.error("Load config error:",e),rn.error("Failed to load SMTP configuration"),t(!1)}},x=e=>{const{name:t,value:n}=e.target;d(e=>qe(qe({},e),{},{[t]:n}))};return e?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)(ui,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ia.jsxs)("div",{className:"mb-6",children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),(0,Ia.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure SMTP email settings for the platform"})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(co,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,Ia.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"SMTP Configuration"})]}),(0,Ia.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,Ia.jsx)("span",{className:"mr-3 text-sm font-medium text-gray-700",children:"Email Sending"}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("input",{type:"checkbox",checked:"true"===c.enabled,onChange:e=>d(t=>qe(qe({},t),{},{enabled:e.target.checked?"true":"false"})),className:"sr-only"}),(0,Ia.jsx)("div",{className:"block w-14 h-8 rounded-full transition ".concat("true"===c.enabled?"bg-primary-600":"bg-gray-300")}),(0,Ia.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition ".concat("true"===c.enabled?"transform translate-x-6":"")})]})]})]}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ia.jsxs)("div",{className:"md:col-span-2",children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(uo,{className:"w-4 h-4 inline mr-1"}),"SMTP Host"]}),(0,Ia.jsx)("input",{type:"text",name:"host",value:c.host,onChange:x,placeholder:"smtp.gmail.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),(0,Ia.jsx)("input",{type:"text",name:"port",value:c.port,onChange:x,placeholder:"587",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(mo,{className:"w-4 h-4 inline mr-1"}),"Connection Security"]}),(0,Ia.jsxs)("select",{name:"secure",value:c.secure,onChange:x,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Ia.jsx)("option",{value:"false",children:"TLS/STARTTLS (Port 587)"}),(0,Ia.jsx)("option",{value:"true",children:"SSL (Port 465)"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use TLS/STARTTLS for port 587, SSL for port 465"})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(bs,{className:"w-4 h-4 inline mr-1"}),"SMTP Username / Email"]}),(0,Ia.jsx)("input",{type:"text",name:"user",value:c.user,onChange:x,placeholder:"your-email@gmail.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(mo,{className:"w-4 h-4 inline mr-1"}),"SMTP Password"]}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("input",{type:o?"text":"password",name:"password",value:c.password,onChange:x,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,Ia.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?(0,Ia.jsx)(po,{className:"w-5 h-5"}):(0,Ia.jsx)(Li,{className:"w-5 h-5"})})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"For Gmail: Use App Password, not regular password"})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(co,{className:"w-4 h-4 inline mr-1"}),"From Name"]}),(0,Ia.jsx)("input",{type:"text",name:"from_name",value:c.from_name,onChange:x,placeholder:"AIVA Platform",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(co,{className:"w-4 h-4 inline mr-1"}),"From Email"]}),(0,Ia.jsx)("input",{type:"email",name:"from_email",value:c.from_email,onChange:x,placeholder:"noreply@yourdomain.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]})]}),(0,Ia.jsxs)("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t",children:[(0,Ia.jsx)("button",{onClick:async()=>{r(!0);try{const e={smtp_host:c.host,smtp_port:c.port,smtp_secure:c.secure,smtp_user:c.user,smtp_password:c.password,smtp_from_name:c.from_name,smtp_from_email:c.from_email,smtp_enabled:c.enabled};await Ma.put("/settings/system",e),rn.success("SMTP configuration saved successfully!"),h(null)}catch(n){var e,t;console.error("Save config error:",n),rn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save configuration")}finally{r(!1)}},disabled:n,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:n?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(ui,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(as,{className:"w-5 h-5 mr-2"}),"Save Configuration"]})}),(0,Ia.jsx)("button",{onClick:async()=>{i(!0),h(null);try{const e=(await Ma.post("/settings/system/smtp/test",{config:{host:c.host,port:c.port,secure:c.secure,user:c.user,password:c.password}})).data.data;h(e),e.success?rn.success("SMTP connection successful!"):rn.error("Connection failed: ".concat(e.message))}catch(n){var e,t;console.error("Test connection error:",n);const r=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to test connection";h({success:!1,message:r}),rn.error(r)}finally{i(!1)}},disabled:s||!c.host||!c.user||!c.password,className:"flex items-center px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(ui,{className:"w-5 h-5 mr-2 animate-spin"}),"Testing..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(uo,{className:"w-5 h-5 mr-2"}),"Test Connection"]})})]}),p&&(0,Ia.jsxs)("div",{className:"mt-4 p-4 rounded-lg flex items-start ".concat(p.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:[p.success?(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}):(0,Ia.jsx)(oi,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("p",{className:"font-medium ".concat(p.success?"text-green-900":"text-red-900"),children:p.success?"Success!":"Failed"}),(0,Ia.jsx)("p",{className:"text-sm mt-1 ".concat(p.success?"text-green-700":"text-red-700"),children:p.message})]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ia.jsx)(Rs,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,Ia.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Send Test Email"})]}),(0,Ia.jsx)("p",{className:"text-gray-600 mb-4",children:"Send a test email to verify that your SMTP configuration is working correctly."}),(0,Ia.jsxs)("div",{className:"flex gap-3",children:[(0,Ia.jsx)("div",{className:"flex-1",children:(0,Ia.jsx)("input",{type:"email",value:u,onChange:e=>m(e.target.value),placeholder:"recipient@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),(0,Ia.jsx)("button",{onClick:async()=>{if(u){i(!0),h(null);try{const e=(await Ma.post("/settings/system/smtp/test",{test_email:u})).data.data;h(e),e.success?rn.success("Test email sent successfully!"):rn.error("Test failed: ".concat(e.error||e.message))}catch(n){var e,t;console.error("Test email error:",n);const r=(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to send test email";h({success:!1,message:r}),rn.error(r)}finally{i(!1)}}else rn.error("Please enter a test email address")},disabled:s||!u||"true"!==c.enabled,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(ui,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Rs,{className:"w-5 h-5 mr-2"}),"Send Test"]})})]}),"true"!==c.enabled&&(0,Ia.jsxs)("p",{className:"text-sm text-amber-600 mt-2 flex items-center",children:[(0,Ia.jsx)(oi,{className:"w-4 h-4 mr-1"}),"Email sending is currently disabled. Enable it above to send test emails."]})]}),(0,Ia.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[(0,Ia.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\ud83d\udcf1 Gmail Configuration Tips"}),(0,Ia.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm text-blue-800",children:[(0,Ia.jsx)("li",{children:"Enable 2-Factor Authentication in your Google Account"}),(0,Ia.jsx)("li",{children:"Go to Security \u2192 App passwords"}),(0,Ia.jsx)("li",{children:'Generate a new app password for "Mail"'}),(0,Ia.jsx)("li",{children:"Use the 16-character app password (not your regular password)"}),(0,Ia.jsx)("li",{children:"Host: smtp.gmail.com, Port: 587, Security: TLS"})]})]})]})},fo=()=>{const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)({is_enabled:!1,threshold_value:10,recipient_emails:[],notification_frequency:"immediate"}),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[p,h]=(0,a.useState)([]),[f,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{const e=await Ma.get("/settings/notifications/low_balance");e.data.data&&l(e.data.data)}catch(n){var e;404!==(null===(e=n.response)||void 0===e?void 0:e.status)&&(console.error("Load settings error:",n),rn.error("Failed to load notification settings"))}finally{t(!1)}},y=async()=>{try{const e=await Ma.get("/settings/notifications-logs?notification_type=low_balance&limit=20");h(e.data.data.logs||[])}catch(e){console.error("Load logs error:",e),rn.error("Failed to load notification logs")}},v=()=>{if(!c)return void rn.error("Please enter an email address");/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c)?o.recipient_emails.includes(c)?rn.error("This email is already in the list"):(l(e=>qe(qe({},e),{},{recipient_emails:[...e.recipient_emails,c]})),d(""),rn.success("Email added")):rn.error("Please enter a valid email address")};return e?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsx)(ui,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Ia.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ia.jsxs)("div",{className:"mb-6",children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),(0,Ia.jsx)("p",{className:"text-gray-600 mt-1",children:"Configure email alerts and notifications for your account"})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Zi,{className:"w-6 h-6 text-amber-600 mr-3"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Low Balance Alert"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:"Get notified when your credit balance falls below a threshold"})]})]}),(0,Ia.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,Ia.jsx)("span",{className:"mr-3 text-sm font-medium text-gray-700",children:"Enabled"}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("input",{type:"checkbox",checked:o.is_enabled,onChange:e=>l(t=>qe(qe({},t),{},{is_enabled:e.target.checked})),className:"sr-only"}),(0,Ia.jsx)("div",{className:"block w-14 h-8 rounded-full transition ".concat(o.is_enabled?"bg-primary-600":"bg-gray-300")}),(0,Ia.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition ".concat(o.is_enabled?"transform translate-x-6":"")})]})]})]}),(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(Ha,{className:"w-4 h-4 inline mr-1"}),"Alert Threshold"]}),(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("span",{className:"text-gray-500 mr-2",children:"$"}),(0,Ia.jsx)("input",{type:"number",step:"0.01",min:"0",value:o.threshold_value,onChange:e=>l(t=>qe(qe({},t),{},{threshold_value:parseFloat(e.target.value)||0})),className:"w-32 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,Ia.jsx)("span",{className:"text-sm text-gray-600 ml-3",children:"Alert when balance falls below this amount"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"\ud83d\udca1 Tip: Set this to at least 2-3 days worth of your average daily usage"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(js,{className:"w-4 h-4 inline mr-1"}),"Notification Frequency"]}),(0,Ia.jsxs)("select",{value:o.notification_frequency,onChange:e=>l(t=>qe(qe({},t),{},{notification_frequency:e.target.value})),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Ia.jsx)("option",{value:"immediate",children:"Immediate (once per day max)"}),(0,Ia.jsx)("option",{value:"daily",children:"Daily Digest"}),(0,Ia.jsx)("option",{value:"weekly",children:"Weekly Summary"})]}),(0,Ia.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Prevents spam by limiting notification frequency"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Ia.jsx)(co,{className:"w-4 h-4 inline mr-1"}),"Recipient Email Addresses"]}),(0,Ia.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,Ia.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),onKeyPress:e=>"Enter"===e.key&&v(),placeholder:"email@example.com",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,Ia.jsxs)("button",{onClick:v,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[(0,Ia.jsx)(Ja,{className:"w-5 h-5 mr-1"}),"Add"]})]}),0===o.recipient_emails.length?(0,Ia.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,Ia.jsx)(co,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"No recipients added yet"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Add email addresses to receive notifications"})]}):(0,Ia.jsx)("div",{className:"space-y-2",children:o.recipient_emails.map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(co,{className:"w-4 h-4 text-gray-500 mr-2"}),(0,Ia.jsx)("span",{className:"text-gray-900",children:e})]}),(0,Ia.jsx)("button",{onClick:()=>(e=>{l(t=>qe(qe({},t),{},{recipient_emails:t.recipient_emails.filter(t=>t!==e)})),rn.success("Email removed")})(e),className:"text-red-600 hover:text-red-700 p-1 hover:bg-red-50 rounded transition",children:(0,Ia.jsx)(ts,{className:"w-4 h-4"})})]},t))})]})]}),(0,Ia.jsxs)("div",{className:"flex gap-3 mt-6 pt-6 border-t",children:[(0,Ia.jsx)("button",{onClick:async()=>{r(!0);try{await Ma.put("/settings/notifications/low_balance",o),rn.success("Notification settings saved successfully!")}catch(n){var e,t;console.error("Save settings error:",n),rn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to save settings")}finally{r(!1)}},disabled:n||0===o.recipient_emails.length,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:n?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(ui,{className:"w-5 h-5 mr-2 animate-spin"}),"Saving..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(is,{className:"w-5 h-5 mr-2"}),"Save Settings"]})}),(0,Ia.jsxs)("button",{onClick:async()=>{f||await y(),x(!f)},className:"flex items-center px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:[(0,Ia.jsx)(Li,{className:"w-5 h-5 mr-2"}),f?"Hide":"View"," Notification History"]})]}),0===o.recipient_emails.length&&(0,Ia.jsxs)("p",{className:"text-sm text-amber-600 mt-4 flex items-center",children:[(0,Ia.jsx)(Zi,{className:"w-4 h-4 mr-1"}),"Please add at least one recipient email address before saving"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ia.jsx)(Rs,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,Ia.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Send Test Notification"})]}),(0,Ia.jsx)("p",{className:"text-gray-600 mb-4",children:"Send a test low balance notification to verify your settings."}),(0,Ia.jsxs)("div",{className:"flex gap-3",children:[(0,Ia.jsx)("div",{className:"flex-1",children:(0,Ia.jsx)("input",{type:"email",value:u,onChange:e=>m(e.target.value),placeholder:"recipient@example.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),(0,Ia.jsx)("button",{onClick:async()=>{if(u){i(!0);try{await Ma.post("/settings/notifications/test",{notification_type:"low_balance",recipient_email:u}),rn.success("Test notification sent successfully!")}catch(n){var e,t;console.error("Test notification error:",n),rn.error((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to send test notification")}finally{i(!1)}}else rn.error("Please enter a test email address")},disabled:s||!u,className:"flex items-center px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(ui,{className:"w-5 h-5 mr-2 animate-spin"}),"Sending..."]}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)(Rs,{className:"w-5 h-5 mr-2"}),"Send Test"]})})]})]}),f&&(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(js,{className:"w-6 h-6 text-primary-600 mr-3"}),(0,Ia.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Notification History"})]}),(0,Ia.jsx)("button",{onClick:y,className:"text-primary-600 hover:text-primary-700 p-2 hover:bg-primary-50 rounded transition",children:(0,Ia.jsx)(ui,{className:"w-5 h-5"})})]}),0===p.length?(0,Ia.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,Ia.jsx)(Gs,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"No notifications sent yet"})]}):(0,Ia.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,Ia.jsxs)("div",{className:"flex items-start justify-between p-4 rounded-lg border ".concat("sent"===e.status?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:[(0,Ia.jsxs)("div",{className:"flex items-start flex-1",children:["sent"===e.status?(0,Ia.jsx)(is,{className:"w-5 h-5 text-green-600 mr-3 flex-shrink-0 mt-0.5"}):(0,Ia.jsx)(Zi,{className:"w-5 h-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("p",{className:"font-medium ".concat("sent"===e.status?"text-green-900":"text-red-900"),children:e.recipient_email}),(0,Ia.jsx)("p",{className:"text-sm text-gray-600 mt-0.5",children:e.subject}),e.error_message&&(0,Ia.jsx)("p",{className:"text-sm text-red-700 mt-1",children:e.error_message})]})]}),(0,Ia.jsx)("span",{className:"text-xs text-gray-500 ml-4 whitespace-nowrap",children:new Date(e.sent_at||e.created_at).toLocaleString()})]},e.id))})]}),(0,Ia.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:[(0,Ia.jsx)("h3",{className:"font-semibold text-blue-900 mb-2",children:"\ud83d\udca1 How Low Balance Alerts Work"}),(0,Ia.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm text-blue-800",children:[(0,Ia.jsx)("li",{children:"Alerts are sent when your balance drops below the threshold"}),(0,Ia.jsx)("li",{children:"Maximum one alert per 24 hours to prevent spam"}),(0,Ia.jsx)("li",{children:"All recipients will receive the notification"}),(0,Ia.jsx)("li",{children:"Notifications include current balance and threshold"}),(0,Ia.jsx)("li",{children:"You'll receive a link to add more credits"})]})]})]})};function xo(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=xo(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const go=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=xo(e))&&(r&&(r+=" "),r+=t);return r};var yo=n(9889),vo=n.n(yo),bo=n(620),jo=n.n(bo),wo=n(5268),No=n.n(wo),ko=n(3097),So=n.n(ko),_o=n(9160),Co=n.n(_o),Oo=n(9686),Ao=n.n(Oo),Po=function(e){return 0===e?0:e>0?1:-1},Eo=function(e){return jo()(e)&&e.indexOf("%")===e.length-1},To=function(e){return Co()(e)&&!No()(e)},Mo=function(e){return To(e)||jo()(e)},Io=0,Do=function(e){var t=++Io;return"".concat(e||"").concat(t)},Fo=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!To(e)&&!jo()(e))return r;if(Eo(e)){var s=e.indexOf("%");n=t*parseFloat(e.slice(0,s))/100}else n=+e;return No()(n)&&(n=r),a&&n>t&&(n=t),n},Ro=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Lo=function(e,t){return To(e)&&To(t)?function(n){return e+n*(t-e)}:function(){return t}};function Bo(e,t,n){return e&&e.length?e.find(function(e){return e&&("function"===typeof t?t(e):So()(e,t))===n}):null}var Uo=function(e,t){return To(e)&&To(t)?e-t:jo()(e)&&jo()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))},zo=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a]},qo=n(1629),Wo=n.n(qo),Vo=n(6686),Ho=n.n(Vo),Go=n(9062);function Ko(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}var Xo=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Jo=["points","pathLength"],Qo={svg:["viewBox","children"],polygon:Jo,polyline:Jo},Zo=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$o=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,a.isValidElement)(e)&&(n=e.props),!Ho()(n))return null;var r={};return Object.keys(n).forEach(function(e){Zo.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})}),r},el=function(e,t,n){if(!Ho()(e)||"object"!==Yo(e))return null;var r=null;return Object.keys(e).forEach(function(a){var s=e[a];Zo.includes(a)&&"function"===typeof s&&(r||(r={}),r[a]=function(e,t,n){return function(r){return e(t,n,r),null}}(s,t,n))}),r},tl=["children"],nl=["children"];function rl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function al(e){return al="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},al(e)}var sl={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},il=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},ol=null,ll=null,cl=function e(t){if(t===ol&&Array.isArray(ll))return ll;var n=[];return a.Children.forEach(t,function(t){Ao()(t)||((0,Go.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))}),ll=n,ol=t,n};function dl(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(function(e){return il(e)}):[il(t)],cl(e).forEach(function(e){var t=So()(e,"type.displayName")||So()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)}),n}function ul(e,t){var n=dl(e,t);return n&&n[0]}var ml=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!To(n)||n<=0||!To(r)||r<=0)},pl=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hl=function(e){return e&&e.type&&jo()(e.type)&&pl.indexOf(e.type)>=0},fl=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,a.isValidElement)(e)&&(r=e.props),!Ho()(r))return null;var s={};return Object.keys(r).forEach(function(e){var a;(function(e,t,n,r){var a,s=null!==(a=null===Qo||void 0===Qo?void 0:Qo[r])&&void 0!==a?a:[];return t.startsWith("data-")||!Wo()(e)&&(r&&s.includes(t)||Xo.includes(t))||n&&Zo.includes(t)})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(s[e]=r[e])}),s},xl=function e(t,n){if(t===n)return!0;var r=a.Children.count(t);if(r!==a.Children.count(n))return!1;if(0===r)return!0;if(1===r)return gl(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=t[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!gl(i,o))return!1}return!0},gl=function(e,t){if(Ao()(e)&&Ao()(t))return!0;if(!Ao()(e)&&!Ao()(t)){var n=e.props||{},r=n.children,a=rl(n,tl),s=t.props||{},i=s.children,o=rl(s,nl);return r&&i?Ko(a,o)&&xl(r,i):!r&&!i&&Ko(a,o)}return!1},yl=function(e,t){var n=[],r={};return cl(e).forEach(function(e,a){if(hl(e))n.push(e);else if(e){var s=il(e.type),i=t[s]||{},o=i.handler,l=i.once;if(o&&(!l||!r[s])){var c=o(e,s,a);n.push(c),r[s]=!0}}}),n};function vl(e){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(e)}function bl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(n),!0).forEach(function(t){wl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function wl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sl=(0,a.forwardRef)(function(e,t){var n=e.aspect,r=e.initialDimension,s=void 0===r?{width:-1,height:-1}:r,i=e.width,o=void 0===i?"100%":i,l=e.height,c=void 0===l?"100%":l,d=e.minWidth,u=void 0===d?0:d,m=e.minHeight,p=e.maxHeight,h=e.children,f=e.debounce,x=void 0===f?0:f,g=e.id,y=e.className,v=e.onResize,b=e.style,j=void 0===b?{}:b,w=(0,a.useRef)(null),N=(0,a.useRef)();N.current=v,(0,a.useImperativeHandle)(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=Nl((0,a.useState)({containerWidth:s.width,containerHeight:s.height}),2),S=k[0],_=k[1],C=(0,a.useCallback)(function(e,t){_(function(n){var r=Math.round(e),a=Math.round(t);return n.containerWidth===r&&n.containerHeight===a?n:{containerWidth:r,containerHeight:a}})},[]);(0,a.useEffect)(function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,a=n.height;C(r,a),null===(t=N.current)||void 0===t||t.call(N,r,a)};x>0&&(e=vo()(e,x,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,a=n.height;return C(r,a),t.observe(w.current),function(){t.disconnect()}},[C,x]);var O=(0,a.useMemo)(function(){var e=S.containerWidth,t=S.containerHeight;if(e<0||t<0)return null;zo(Eo(o)||Eo(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,c),zo(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=Eo(o)?e:o,s=Eo(c)?t:c;n&&n>0&&(r?s=r/n:s&&(r=s*n),p&&s>p&&(s=p)),zo(r>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,s,o,c,u,m,n);var i=!Array.isArray(h)&&il(h.type).endsWith("Chart");return a.Children.map(h,function(e){return a.isValidElement(e)?(0,a.cloneElement)(e,jl({width:r,height:s},i?{style:jl({height:"100%",width:"100%",maxHeight:s,maxWidth:r},e.props.style)}:{})):e})},[n,h,c,p,m,u,S,o]);return a.createElement("div",{id:g?"".concat(g):void 0,className:go("recharts-responsive-container",y),style:jl(jl({},j),{},{width:o,height:c,minWidth:u,minHeight:m,maxHeight:p}),ref:w},O)}),_l=n(6604),Cl=n.n(_l),Ol=n(7424),Al=n.n(Ol),Pl="Invariant failed";function El(e,t){if(!e)throw new Error(Pl)}var Tl=["children","width","height","viewBox","className","style","title","desc"];function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ml.apply(this,arguments)}function Il(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dl(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,d=Il(e,Tl),u=s||{width:n,height:r,x:0,y:0},m=go("recharts-surface",i);return a.createElement("svg",Ml({},fl(d,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),a.createElement("title",null,l),a.createElement("desc",null,c),t)}var Fl=["children","className"];function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rl.apply(this,arguments)}function Ll(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Bl=a.forwardRef(function(e,t){var n=e.children,r=e.className,s=Ll(e,Fl),i=go("recharts-layer",r);return a.createElement("g",Rl({className:i},fl(s,!0),{ref:t}),n)});function Ul(e){return Ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zl.apply(this,arguments)}function ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(n),!0).forEach(function(t){Gl(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ul(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ul(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kl(e){return Array.isArray(e)&&Mo(e[0])&&Mo(e[1])?e.join(" ~ "):e}var Yl=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,s=void 0===r?{}:r,i=e.itemStyle,o=void 0===i?{}:i,l=e.labelStyle,c=void 0===l?{}:l,d=e.payload,u=e.formatter,m=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,f=e.label,x=e.labelFormatter,g=e.accessibilityLayer,y=void 0!==g&&g,v=Hl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),b=Hl({margin:0},c),j=!Ao()(f),w=j?f:"",N=go("recharts-default-tooltip",p),k=go("recharts-tooltip-label",h);j&&x&&void 0!==d&&null!==d&&(w=x(f,d));var S=y?{role:"status","aria-live":"assertive"}:{};return a.createElement("div",zl({className:N,style:v},S),a.createElement("p",{className:k,style:b},a.isValidElement(w)?w:"".concat(w)),function(){if(d&&d.length){var e=(m?Al()(d,m):d).map(function(e,t){if("none"===e.type)return null;var r=Hl({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),s=e.formatter||u||Kl,i=e.value,l=e.name,c=i,m=l;if(s&&null!=c&&null!=m){var p=s(i,l,e,t,d);if(Array.isArray(p)){var h=ql(p,2);c=h[0],m=h[1]}else c=p}return a.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},Mo(m)?a.createElement("span",{className:"recharts-tooltip-item-name"},m):null,Mo(m)?a.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,a.createElement("span",{className:"recharts-tooltip-item-value"},c),a.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return a.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Xl(e){return Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(e)}function Jl(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Xl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Xl(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ql="recharts-tooltip-wrapper",Zl={visibility:"hidden"};function $l(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return go(Ql,Jl(Jl(Jl(Jl({},"".concat(Ql,"-right"),To(n)&&t&&To(t.x)&&n>=t.x),"".concat(Ql,"-left"),To(n)&&t&&To(t.x)&&n<t.x),"".concat(Ql,"-bottom"),To(r)&&t&&To(t.y)&&r>=t.y),"".concat(Ql,"-top"),To(r)&&t&&To(t.y)&&r<t.y))}function ec(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(s&&To(s[r]))return s[r];var d=n[r]-o-a,u=n[r]+a;return t[r]?i[r]?d:u:i[r]?d<l[r]?Math.max(u,l[r]):Math.max(d,l[r]):u+o>l[r]+c?Math.max(d,l[r]):Math.max(u,l[r])}function tc(e){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(e)}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach(function(t){cc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dc(r.key),r)}}function sc(e,t,n){return t=oc(t),function(e,t){if(t&&("object"===tc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ic()?Reflect.construct(t,n||[],oc(e).constructor):t.apply(e,n))}function ic(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ic=function(){return!!e})()}function oc(e){return oc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oc(e)}function lc(e,t){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lc(e,t)}function cc(e,t,n){return(t=dc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dc(e){var t=function(e,t){if("object"!=tc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tc(t)?t:t+""}var uc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return cc(e=sc(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cc(e,"handleKeyDown",function(t){var n,r,a,s;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(a=null===(s=e.props.coordinate)||void 0===s?void 0:s.y)&&void 0!==a?a:0}})}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lc(e,t)}(t,e),n=t,(r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,s=t.animationDuration,i=t.animationEasing,o=t.children,l=t.coordinate,c=t.hasPayload,d=t.isAnimationActive,u=t.offset,m=t.position,p=t.reverseDirection,h=t.useTranslate3d,f=t.viewBox,x=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,a=e.coordinate,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&a?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=ec({allowEscapeViewBox:r,coordinate:a,key:"x",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=ec({allowEscapeViewBox:r,coordinate:a,key:"y",offsetTopLeft:s,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):Zl,cssClasses:$l({translateX:t,translateY:n,coordinate:a})}}({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:f}),y=g.cssClasses,v=g.cssProperties,b=rc(rc({transition:d&&n?"transform ".concat(s,"ms ").concat(i):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},x);return a.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},o)}}])&&ac(n.prototype,r),s&&ac(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.PureComponent),mc={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return mc[e]},set:function(e,t){if("string"===typeof e)mc[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(t){mc[t]=e[t]})}}},pc=n(977),hc=n.n(pc);function fc(e,t,n){return!0===t?hc()(e,n):Wo()(t)?hc()(e,t):e}function xc(e){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(e)}function gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gc(Object(n),!0).forEach(function(t){kc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sc(r.key),r)}}function bc(e,t,n){return t=wc(t),function(e,t){if(t&&("object"===xc(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jc()?Reflect.construct(t,n||[],wc(e).constructor):t.apply(e,n))}function jc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jc=function(){return!!e})()}function wc(e){return wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wc(e)}function Nc(e,t){return Nc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nc(e,t)}function kc(e,t,n){return(t=Sc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sc(e){var t=function(e,t){if("object"!=xc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xc(t)?t:t+""}function _c(e){return e.dataKey}var Cc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),bc(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nc(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,s=t.animationDuration,i=t.animationEasing,o=t.content,l=t.coordinate,c=t.filterNull,d=t.isAnimationActive,u=t.offset,m=t.payload,p=t.payloadUniqBy,h=t.position,f=t.reverseDirection,x=t.useTranslate3d,g=t.viewBox,y=t.wrapperStyle,v=null!==m&&void 0!==m?m:[];c&&v.length&&(v=fc(m.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),p,_c));var b=v.length>0;return a.createElement(uc,{allowEscapeViewBox:r,animationDuration:s,animationEasing:i,isAnimationActive:d,active:n,coordinate:l,hasPayload:b,offset:u,position:h,reverseDirection:f,useTranslate3d:x,viewBox:g,wrapperStyle:y},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):"function"===typeof e?a.createElement(e,t):a.createElement(Yl,t)}(o,yc(yc({},this.props),{},{payload:v})))}}])&&vc(n.prototype,r),s&&vc(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.PureComponent);kc(Cc,"displayName","Tooltip"),kc(Cc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Oc=n(643),Ac=n.n(Oc);Math.abs,Math.atan2;const Pc=Math.cos,Ec=(Math.max,Math.min,Math.sin),Tc=Math.sqrt,Mc=Math.PI,Ic=2*Mc;const Dc={draw(e,t){const n=Tc(t/Mc);e.moveTo(n,0),e.arc(0,0,n,0,Ic)}},Fc={draw(e,t){const n=Tc(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Rc=Tc(1/3),Lc=2*Rc,Bc={draw(e,t){const n=Tc(t/Lc),r=n*Rc;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Uc={draw(e,t){const n=Tc(t),r=-n/2;e.rect(r,r,n,n)}},zc=Ec(Mc/10)/Ec(7*Mc/10),qc=Ec(Ic/10)*zc,Wc=-Pc(Ic/10)*zc,Vc={draw(e,t){const n=Tc(.8908130915292852*t),r=qc*n,a=Wc*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const t=Ic*s/5,i=Pc(t),o=Ec(t);e.lineTo(o*n,-i*n),e.lineTo(i*r-o*a,o*r+i*a)}e.closePath()}},Hc=Tc(3),Gc={draw(e,t){const n=-Tc(t/(3*Hc));e.moveTo(0,2*n),e.lineTo(-Hc*n,-n),e.lineTo(Hc*n,-n),e.closePath()}},Kc=-.5,Yc=Tc(3)/2,Xc=1/Tc(12),Jc=3*(Xc/2+1),Qc={draw(e,t){const n=Tc(t/Jc),r=n/2,a=n*Xc,s=r,i=n*Xc+n,o=-s,l=i;e.moveTo(r,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(Kc*r-Yc*a,Yc*r+Kc*a),e.lineTo(Kc*s-Yc*i,Yc*s+Kc*i),e.lineTo(Kc*o-Yc*l,Yc*o+Kc*l),e.lineTo(Kc*r+Yc*a,Kc*a-Yc*r),e.lineTo(Kc*s+Yc*i,Kc*i-Yc*s),e.lineTo(Kc*o+Yc*l,Kc*l-Yc*o),e.closePath()}};function Zc(e){return function(){return e}}var $c,ed,td,nd,rd,ad,sd,id,od,ld,cd,dd,ud,md;const pd=Math.PI,hd=2*pd,fd=1e-6,xd=hd-fd;function gd(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class yd{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?gd:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return gd;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append($c||($c=Re(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(ed||(ed=Re(["Z"]))))}lineTo(e,t){this._append(td||(td=Re(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(nd||(nd=Re(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,s){this._append(rd||(rd=Re(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+s)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let s=this._x1,i=this._y1,o=n-e,l=r-t,c=s-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append(ad||(ad=Re(["M",",",""])),this._x1=e,this._y1=t);else if(u>fd)if(Math.abs(d*o-l*c)>fd&&a){let m=n-s,p=r-i,h=o*o+l*l,f=m*m+p*p,x=Math.sqrt(h),g=Math.sqrt(u),y=a*Math.tan((pd-Math.acos((h+u-f)/(2*x*g)))/2),v=y/g,b=y/x;Math.abs(v-1)>fd&&this._append(id||(id=Re(["L",",",""])),e+v*c,t+v*d),this._append(od||(od=Re(["A",",",",0,0,",",",",",""])),a,a,+(d*m>c*p),this._x1=e+b*o,this._y1=t+b*l)}else this._append(sd||(sd=Re(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,s){if(e=+e,t=+t,s=!!s,(n=+n)<0)throw new Error("negative radius: ".concat(n));let i=n*Math.cos(r),o=n*Math.sin(r),l=e+i,c=t+o,d=1^s,u=s?r-a:a-r;null===this._x1?this._append(ld||(ld=Re(["M",",",""])),l,c):(Math.abs(this._x1-l)>fd||Math.abs(this._y1-c)>fd)&&this._append(cd||(cd=Re(["L",",",""])),l,c),n&&(u<0&&(u=u%hd+hd),u>xd?this._append(dd||(dd=Re(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-i,t-o,n,n,d,this._x1=l,this._y1=c):u>fd&&this._append(ud||(ud=Re(["A",",",",0,",",",",",",",""])),n,n,+(u>=pd),d,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(md||(md=Re(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function vd(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new yd(t)}Tc(3),Tc(3);function bd(e){return bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(e)}var jd=["type","size","sizeType"];function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(this,arguments)}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(t){Sd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sd(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bd(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Cd={symbolCircle:Dc,symbolCross:Fc,symbolDiamond:Bc,symbolSquare:Uc,symbolStar:Vc,symbolTriangle:Gc,symbolWye:Qc},Od=Math.PI/180,Ad=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,s=void 0===r?64:r,i=e.sizeType,o=void 0===i?"area":i,l=kd(kd({},_d(e,jd)),{},{type:n,size:s,sizeType:o}),c=l.className,d=l.cx,u=l.cy,m=fl(l,!0);return d===+d&&u===+u&&s===+s?a.createElement("path",wd({},m,{className:go("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(u,")"),d:function(){var e=function(e){var t="symbol".concat(Ac()(e));return Cd[t]||Dc}(n),t=function(e,t){let n=null,r=vd(a);function a(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return e="function"===typeof e?e:Zc(e||Dc),t="function"===typeof t?t:Zc(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"===typeof t?t:Zc(t),a):e},a.size=function(e){return arguments.length?(t="function"===typeof e?e:Zc(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Od;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,o,n));return t()}()})):null};function Pd(e){return Pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ed.apply(this,arguments)}function Td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bd(r.key),r)}}function Id(e,t,n){return t=Fd(t),function(e,t){if(t&&("object"===Pd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dd()?Reflect.construct(t,n||[],Fd(e).constructor):t.apply(e,n))}function Dd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Dd=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fd(e)}function Rd(e,t){return Rd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rd(e,t)}function Ld(e,t,n){return(t=Bd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e){var t=function(e,t){if("object"!=Pd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Pd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pd(t)?t:t+""}Ad.registerSymbol=function(e,t){Cd["symbol".concat(Ac()(e))]=t};var Ud=32,zd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Id(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rd(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=Ud/6,s=Ud/3,i=e.inactive?t:e.color;if("plainline"===e.type)return a.createElement("line",{strokeWidth:4,fill:"none",stroke:i,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:Ud,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return a.createElement("path",{strokeWidth:4,fill:"none",stroke:i,d:"M0,".concat(n,"h").concat(s,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*s,",").concat(n,"\n            H").concat(Ud,"M").concat(2*s,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(s,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return a.createElement("path",{stroke:"none",fill:i,d:"M0,".concat(4,"h").concat(Ud,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(a.isValidElement(e.legendIcon)){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Td(Object(n),!0).forEach(function(t){Ld(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Td(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);return delete o.legendIcon,a.cloneElement(e.legendIcon,o)}return a.createElement(Ad,{fill:i,cx:n,cy:n,size:Ud,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,s=t.layout,i=t.formatter,o=t.inactiveColor,l={x:0,y:0,width:Ud,height:Ud},c={display:"horizontal"===s?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map(function(t,n){var s=t.formatter||i,u=go(Ld(Ld({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var m=Wo()(t.value)?null:t.value;zo(!Wo()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?o:t.color;return a.createElement("li",Ed({className:u,style:c,key:"legend-item-".concat(n)},el(e.props,t,n)),a.createElement(Dl,{width:r,height:r,viewBox:l,style:d},e.renderIcon(t)),a.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},s?s(m,t,n):m))})}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return a.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}],r&&Md(n.prototype,r),s&&Md(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.PureComponent);function qd(e){return qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(e)}Ld(zd,"displayName","Legend"),Ld(zd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wd=["ref"];function Vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(n),!0).forEach(function(t){Qd(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vd(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zd(r.key),r)}}function Kd(e,t,n){return t=Xd(t),function(e,t){if(t&&("object"===qd(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yd()?Reflect.construct(t,n||[],Xd(e).constructor):t.apply(e,n))}function Yd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yd=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xd(e)}function Jd(e,t){return Jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jd(e,t)}function Qd(e,t,n){return(t=Zd(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zd(e){var t=function(e,t){if("object"!=qd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qd(t)?t:t+""}function $d(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eu(e){return e.value}var tu=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Qd(e=Kd(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jd(e,t)}(t,e),n=t,s=[{key:"getWithHeight",value:function(e,t){var n=Hd(Hd({},this.defaultProps),e.props).layout;return"vertical"===n&&To(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Hd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,a=r.layout,s=r.align,i=r.verticalAlign,o=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===s&&"vertical"===a?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===s?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),Hd(Hd({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,s=t.height,i=t.wrapperStyle,o=t.payloadUniqBy,l=t.payload,c=Hd(Hd({position:"absolute",width:r||"auto",height:s||"auto"},this.getDefaultPosition(i)),i);return a.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(a.isValidElement(e))return a.cloneElement(e,t);if("function"===typeof e)return a.createElement(e,t);t.ref;var n=$d(t,Wd);return a.createElement(zd,n)}(n,Hd(Hd({},this.props),{},{payload:fc(l,o,eu)})))}}])&&Gd(n.prototype,r),s&&Gd(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.PureComponent);function nu(){return nu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nu.apply(this,arguments)}Qd(tu,"displayName","Legend"),Qd(tu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ru=function(e){var t=e.cx,n=e.cy,r=e.r,s=e.className,i=go("recharts-dot",s);return t===+t&&n===+n&&r===+r?a.createElement("circle",nu({},fl(e,!1),$o(e),{className:i,cx:t,cy:n,r:r})):null},au=n(5173),su=n.n(au),iu=Object.getOwnPropertyNames,ou=Object.getOwnPropertySymbols,lu=Object.prototype.hasOwnProperty;function cu(e,t){return function(n,r,a){return e(n,r,a)&&t(n,r,a)}}function du(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var a=r.cache,s=a.get(t),i=a.get(n);if(s&&i)return s===n&&i===t;a.set(t,n),a.set(n,t);var o=e(t,n,r);return a.delete(t),a.delete(n),o}}function uu(e){return iu(e).concat(ou(e))}var mu=Object.hasOwn||function(e,t){return lu.call(e,t)};function pu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var hu=Object.getOwnPropertyDescriptor,fu=Object.keys;function xu(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function gu(e,t){return pu(e.getTime(),t.getTime())}function yu(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function vu(e,t){return e===t}function bu(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,i=new Array(r),o=e.entries(),l=0;(a=o.next())&&!a.done;){for(var c=t.entries(),d=!1,u=0;(s=c.next())&&!s.done;)if(i[u])u++;else{var m=a.value,p=s.value;if(n.equals(m[0],p[0],l,u,e,t,n)&&n.equals(m[1],p[1],m[0],p[0],e,t,n)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var ju=pu;function wu(e,t,n){var r=fu(e),a=r.length;if(fu(t).length!==a)return!1;for(;a-- >0;)if(!Au(e,t,n,r[a]))return!1;return!0}function Nu(e,t,n){var r,a,s,i=uu(e),o=i.length;if(uu(t).length!==o)return!1;for(;o-- >0;){if(!Au(e,t,n,r=i[o]))return!1;if(a=hu(e,r),s=hu(t,r),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable))return!1}return!0}function ku(e,t){return pu(e.valueOf(),t.valueOf())}function Su(e,t){return e.source===t.source&&e.flags===t.flags}function _u(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a,s,i=new Array(r),o=e.values();(a=o.next())&&!a.done;){for(var l=t.values(),c=!1,d=0;(s=l.next())&&!s.done;){if(!i[d]&&n.equals(a.value,s.value,a.value,s.value,e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function Cu(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Ou(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Au(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||mu(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Pu=Array.isArray,Eu="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,Tu=Object.assign,Mu=Object.prototype.toString.call.bind(Object.prototype.toString);function Iu(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,m=e.areUrlsEqual,p=e.unknownTagComparators;return function(e,h,f){if(e===h)return!0;if(null==e||null==h)return!1;var x=typeof e;if(x!==typeof h)return!1;if("object"!==x)return"number"===x?i(e,h,f):"function"===x&&a(e,h,f);var g=e.constructor;if(g!==h.constructor)return!1;if(g===Object)return o(e,h,f);if(Pu(e))return t(e,h,f);if(null!=Eu&&Eu(e))return u(e,h,f);if(g===Date)return n(e,h,f);if(g===RegExp)return c(e,h,f);if(g===Map)return s(e,h,f);if(g===Set)return d(e,h,f);var y=Mu(e);if("[object Date]"===y)return n(e,h,f);if("[object RegExp]"===y)return c(e,h,f);if("[object Map]"===y)return s(e,h,f);if("[object Set]"===y)return d(e,h,f);if("[object Object]"===y)return"function"!==typeof e.then&&"function"!==typeof h.then&&o(e,h,f);if("[object URL]"===y)return m(e,h,f);if("[object Error]"===y)return r(e,h,f);if("[object Arguments]"===y)return o(e,h,f);if("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)return l(e,h,f);if(p){var v=p[y];if(!v){var b=function(e){return null!=e?e[Symbol.toStringTag]:void 0}(e);b&&(v=p[b])}if(v)return v(e,h,f)}return!1}}var Du=Fu();Fu({strict:!0}),Fu({circular:!0}),Fu({circular:!0,strict:!0}),Fu({createInternalComparator:function(){return pu}}),Fu({strict:!0,createInternalComparator:function(){return pu}}),Fu({circular:!0,createInternalComparator:function(){return pu}}),Fu({circular:!0,createInternalComparator:function(){return pu},strict:!0});function Fu(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,a=e.createInternalComparator,s=e.createState,i=e.strict,o=void 0!==i&&i,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?Nu:xu,areDatesEqual:gu,areErrorsEqual:yu,areFunctionsEqual:vu,areMapsEqual:r?cu(bu,Nu):bu,areNumbersEqual:ju,areObjectsEqual:r?Nu:wu,arePrimitiveWrappersEqual:ku,areRegExpsEqual:Su,areSetsEqual:r?cu(_u,Nu):_u,areTypedArraysEqual:r?Nu:Cu,areUrlsEqual:Ou,unknownTagComparators:void 0};if(n&&(a=Tu({},a,n(a))),t){var s=du(a.areArraysEqual),i=du(a.areMapsEqual),o=du(a.areObjectsEqual),l=du(a.areSetsEqual);a=Tu({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return a}(e),c=Iu(l),d=a?a(c):(t=c,function(e,n,r,a,s,i,o){return t(e,n,o)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,s=e.strict;if(r)return function(e,i){var o=r(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return n(e,i,{cache:c,equals:a,meta:d,strict:s})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(e,t){return n(e,t,i)}}({circular:r,comparator:c,createState:s,equals:d,strict:o})}function Ru(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame(function r(a){n<0&&(n=a),a-n>t?(e(a),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)})}function Lu(e){return Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(e)}function Bu(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zu(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var a=Bu(r),s=a[0],i=a.slice(1);return"number"===typeof s?void Ru(n.bind(null,i),s):(n(s),void Ru(n.bind(null,i)))}"object"===Lu(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function qu(e){return qu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(e)}function Wu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(n),!0).forEach(function(t){Hu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==qu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==qu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu=function(e){return e},Ku=function(e,t){return Object.keys(t).reduce(function(n,r){return Vu(Vu({},n),{},Hu({},r,e(r,t[r])))},{})},Yu=function(e,t,n){return e.map(function(e){return"".concat((r=e,r.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(n);var r}).join(",")};function Xu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||Qu(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ju(e){return function(e){if(Array.isArray(e))return Zu(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qu(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qu(e,t){if(e){if("string"===typeof e)return Zu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zu(e,t):void 0}}function Zu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $u=1e-4,em=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},tm=function(e,t){return e.map(function(e,n){return e*Math.pow(t,n)}).reduce(function(e,t){return e+t})},nm=function(e,t){return function(n){var r=em(e,t);return tm(r,n)}},rm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],s=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,a=0,s=1,i=1;break;case"ease":r=.25,a=.1,s=.25,i=1;break;case"ease-in":r=.42,a=0,s=1,i=1;break;case"ease-out":r=.42,a=0,s=.58,i=1;break;case"ease-in-out":r=0,a=0,s=.58,i=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=Xu(o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);r=l[0],a=l[1],s=l[2],i=l[3]}}[r,s,a,i].every(function(e){return"number"===typeof e&&e>=0&&e<=1});var c,d,u=nm(r,s),m=nm(a,i),p=(c=r,d=s,function(e){var t=em(c,d),n=[].concat(Ju(t.map(function(e,t){return e*t}).slice(1)),[0]);return tm(n,e)}),h=function(e){return e>1?1:e<0?0:e},f=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var a=u(n)-t,s=p(n);if(Math.abs(a-t)<$u||s<$u)return m(n);n=h(n-a/s)}return m(n)};return f.isStepper=!1,f},am=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return rm(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,a=void 0===r?8:r,s=e.dt,i=void 0===s?17:s,o=function(e,t,r){var s=r+(-(e-t)*n-r*a)*i/1e3,o=r*i/1e3+e;return Math.abs(o-t)<$u&&Math.abs(s)<$u?[t,0]:[o,s]};return o.isStepper=!0,o.dt=i,o}();default:if("cubic-bezier"===r.split("(")[0])return rm(r)}return"function"===typeof r?r:null};function sm(e){return sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(e)}function im(e){return function(e){if(Array.isArray(e))return mm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||um(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?om(Object(n),!0).forEach(function(t){cm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):om(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cm(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==sm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===sm(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||um(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function um(e,t){if(e){if("string"===typeof e)return mm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mm(e,t):void 0}}function mm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pm=function(e,t,n){return e+(t-e)*n},hm=function(e){return e.from!==e.to},fm=function e(t,n,r){var a=Ku(function(e,n){if(hm(n)){var r=dm(t(n.from,n.to,n.velocity),2),a=r[0],s=r[1];return lm(lm({},n),{},{from:a,velocity:s})}return n},n);return r<1?Ku(function(e,t){return hm(t)?lm(lm({},t),{},{velocity:pm(t.velocity,a[e].velocity,r),from:pm(t.from,a[e].from,r)}):t},n):e(t,a,r-1)};const xm=function(e,t,n,r,a){var s,i,o,l,c=(s=e,i=t,[Object.keys(s),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(n,r){return lm(lm({},n),{},cm({},r,[e[r],t[r]]))},{}),u=c.reduce(function(n,r){return lm(lm({},n),{},cm({},r,{from:e[r],velocity:0,to:t[r]}))},{}),m=-1,p=function(){return null};return p=n.isStepper?function(r){o||(o=r);var s=(r-o)/n.dt;u=fm(n,u,s),a(lm(lm(lm({},e),t),Ku(function(e,t){return t.from},u))),o=r,Object.values(u).filter(hm).length&&(m=requestAnimationFrame(p))}:function(s){l||(l=s);var i=(s-l)/r,o=Ku(function(e,t){return pm.apply(void 0,im(t).concat([n(i)]))},d);if(a(lm(lm(lm({},e),t),o)),i<1)m=requestAnimationFrame(p);else{var c=Ku(function(e,t){return pm.apply(void 0,im(t).concat([n(1)]))},d);a(lm(lm(lm({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(m)}}};function gm(e){return gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(e)}var ym=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function vm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bm(e){return function(e){if(Array.isArray(e))return jm(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return jm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jm(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach(function(t){km(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function km(e,t,n){return(t=_m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_m(r.key),r)}}function _m(e){var t=function(e,t){if("object"!==gm(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gm(t)?t:String(t)}function Cm(e,t){return Cm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Cm(e,t)}function Om(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(We){return!1}}();return function(){var n,r=Em(e);if(t){var a=Em(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(e,t){if(t&&("object"===gm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pm(e)}function Pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Em(e){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Em(e)}var Tm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cm(e,t)}(i,e);var t,n,r,s=Om(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var r=(n=s.call(this,e,t)).props,a=r.isActive,o=r.attributeName,l=r.from,c=r.to,d=r.steps,u=r.children,m=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Pm(n)),n.changeStyle=n.changeStyle.bind(Pm(n)),!a||m<=0)return n.state={style:{}},"function"===typeof u&&(n.state={style:c}),Am(n);if(d&&d.length)n.state={style:d[0].style};else if(l){if("function"===typeof u)return n.state={style:l},Am(n);n.state={style:o?km({},o,l):l}}else n.state={style:{}};return n}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,a=t.attributeName,s=t.shouldReAnimate,i=t.to,o=t.from,l=this.state.style;if(r)if(n){if(!(Du(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||s?o:e.to;if(this.state&&l){var u={style:a?km({},a,d):d};(a&&l[a]!==d||!a&&l!==d)&&this.setState(u)}this.runAnimation(Nm(Nm({},this.props),{},{from:d,begin:0}))}}else{var m={style:a?km({},a,i):i};this.state&&l&&(a&&l[a]!==i||!a&&l!==i)&&this.setState(m)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,a=e.duration,s=e.easing,i=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=xm(n,r,am(s),a,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},a,o])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,a=e.onAnimationStart,s=n[0],i=s.style,o=s.duration,l=void 0===o?0:o;return this.manager.start([a].concat(bm(n.reduce(function(e,r,a){if(0===a)return e;var s=r.duration,i=r.easing,o=void 0===i?"ease":i,l=r.style,c=r.properties,d=r.onAnimationEnd,u=a>0?n[a-1]:r,m=c||Object.keys(l);if("function"===typeof o||"spring"===o)return[].concat(bm(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:s,easing:o}),s]);var p=Yu(m,s,o),h=Nm(Nm(Nm({},u.style),l),{},{transition:p});return[].concat(bm(e),[h,s,d]).filter(Gu)},[i,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=zu());var t=e.begin,n=e.duration,r=e.attributeName,a=e.to,s=e.easing,i=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!==typeof s&&"function"!==typeof c&&"spring"!==s)if(l.length>1)this.runStepAnimation(e);else{var u=r?km({},r,a):a,m=Yu(Object.keys(u),n,s);d.start([i,t,Nm(Nm({},u),{},{transition:m}),n,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),s=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,vm(e,ym)),i=a.Children.count(t),o=this.state.style;if("function"===typeof t)return t(o);if(!r||0===i||n<=0)return t;var l=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,i=t.className;return(0,a.cloneElement)(e,Nm(Nm({},s),{},{style:Nm(Nm({},r),o),className:i}))};return 1===i?l(a.Children.only(t)):a.createElement("div",null,a.Children.map(t,function(e){return l(e)}))}}])&&Sm(t.prototype,n),r&&Sm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.PureComponent);Tm.displayName="Animate",Tm.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Tm.propTypes={from:su().oneOfType([su().object,su().string]),to:su().oneOfType([su().object,su().string]),attributeName:su().string,duration:su().number,begin:su().number,easing:su().oneOfType([su().string,su().func]),steps:su().arrayOf(su().shape({duration:su().number.isRequired,style:su().object.isRequired,easing:su().oneOfType([su().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),su().func]),properties:su().arrayOf("string"),onAnimationEnd:su().func})),children:su().oneOfType([su().node,su().func]),isActive:su().bool,canBegin:su().bool,onAnimationEnd:su().func,shouldReAnimate:su().bool,onAnimationStart:su().func,onAnimationReStart:su().func};const Mm=Tm;function Im(e){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(e)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dm.apply(this,arguments)}function Fm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Rm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rm(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lm(Object(n),!0).forEach(function(t){Um(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Um(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Im(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Im(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Im(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zm=function(e,t,n,r,a){var s,i=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=a[u]>i?i:a[u];s="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(s+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),s+="L ".concat(e+n-l*d[1],",").concat(t),d[1]>0&&(s+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+o*d[1])),s+="L ".concat(e+n,",").concat(t+r-o*d[2]),d[2]>0&&(s+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+n-l*d[2],",").concat(t+r)),s+="L ".concat(e+l*d[3],",").concat(t+r),d[3]>0&&(s+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-o*d[3])),s+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);s="M ".concat(e,",").concat(t+o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,"\n            L ").concat(e+n-l*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n,",").concat(t+o*m,"\n            L ").concat(e+n,",").concat(t+r-o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+n-l*m,",").concat(t+r,"\n            L ").concat(e+l*m,",").concat(t+r,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+r-o*m," Z")}else s="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return s},qm=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,a=t.x,s=t.y,i=t.width,o=t.height;if(Math.abs(i)>0&&Math.abs(o)>0){var l=Math.min(a,a+i),c=Math.max(a,a+i),d=Math.min(s,s+o),u=Math.max(s,s+o);return n>=l&&n<=c&&r>=d&&r<=u}return!1},Wm={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vm=function(e){var t=Bm(Bm({},Wm),e),n=(0,a.useRef)(),r=Fm((0,a.useState)(-1),2),s=r[0],i=r[1];(0,a.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var o=t.x,l=t.y,c=t.width,d=t.height,u=t.radius,m=t.className,p=t.animationEasing,h=t.animationDuration,f=t.animationBegin,x=t.isAnimationActive,g=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||0===c||0===d)return null;var y=go("recharts-rectangle",m);return g?a.createElement(Mm,{canBegin:s>0,from:{width:c,height:d,x:o,y:l},to:{width:c,height:d,x:o,y:l},duration:h,animationEasing:p,isActive:g},function(e){var r=e.width,i=e.height,o=e.x,l=e.y;return a.createElement(Mm,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:x,easing:p},a.createElement("path",Dm({},fl(t,!0),{className:y,d:zm(o,l,r,i,u),ref:n})))}):a.createElement("path",Dm({},fl(t,!0),{className:y,d:zm(o,l,c,d,u)}))};function Hm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Gm(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class Km extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qm;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(Ym(this,e))}has(e){return super.has(Ym(this,e))}set(e,t){return super.set(Xm(this,e),t)}delete(e){return super.delete(Jm(this,e))}}Set;function Ym(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):t}function Xm(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)?n.get(a):(n.set(a,t),t)}function Jm(e,t){let{_intern:n,_key:r}=e;const a=r(t);return n.has(a)&&(t=n.get(a),n.delete(a)),t}function Qm(e){return null!==e&&"object"===typeof e?e.valueOf():e}const Zm=Symbol("implicit");function $m(){var e=new Km,t=[],n=[],r=Zm;function a(a){let s=e.get(a);if(void 0===s){if(r!==Zm)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return a.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Km;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return a},a.range=function(e){return arguments.length?(n=Array.from(e),a):n.slice()},a.unknown=function(e){return arguments.length?(r=e,a):r},a.copy=function(){return $m(t,n).unknown(r)},Hm.apply(a,arguments),a}function ep(){var e,t,n=$m().unknown(void 0),r=n.domain,a=n.range,s=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var n=r().length,u=i<s,m=u?i:s,p=u?s:i;e=(p-m)/Math.max(1,n-l+2*c),o&&(e=Math.floor(e)),m+=(p-m-e*(n-l))*d,t=e*(1-l),o&&(m=Math.round(m),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(a);++r<a;)s[r]=e+r*n;return s}(n).map(function(t){return m+e*t});return a(u?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),u()):r()},n.range=function(e){return arguments.length?([s,i]=e,s=+s,i=+i,u()):[s,i]},n.rangeRound=function(e){return[s,i]=e,s=+s,i=+i,o=!0,u()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,u()):o},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},n.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},n.copy=function(){return ep(r(),[s,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Hm.apply(u(),arguments)}function tp(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tp(t())},e}function np(){return tp(ep.apply(null,arguments).paddingInner(1))}function rp(e){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(e)}function ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ap(Object(n),!0).forEach(function(t){ip(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ap(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ip(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rp(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var op={widthCache:{},cacheCount:0},lp={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cp="recharts_measurement_span";var dp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||mc.isSsr)return{width:0,height:0};var n=function(e){var t=sp({},e);return Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(op.widthCache[r])return op.widthCache[r];try{var a=document.getElementById(cp);a||((a=document.createElement("span")).setAttribute("id",cp),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=sp(sp({},lp),n);Object.assign(a.style,s),a.textContent="".concat(e);var i=a.getBoundingClientRect(),o={width:i.width,height:i.height};return op.widthCache[r]=o,++op.cacheCount>2e3&&(op.cacheCount=0,op.widthCache={}),o}catch(We){return{width:0,height:0}}};function up(e){return up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(e)}function mp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fp(r.key),r)}}function fp(e){var t=function(e,t){if("object"!=up(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=up(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==up(t)?t:t+""}var xp=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gp=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yp=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vp=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bp={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},jp=Object.keys(bp),wp="NaN";var Np=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||yp.test(n)||(this.num=NaN,this.unit=""),jp.includes(n)&&(this.num=function(e,t){return e*bp[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=mp(null!==(n=vp.exec(t))&&void 0!==n?n:[],3),a=r[1],s=r[2];return new e(parseFloat(a),null!==s&&void 0!==s?s:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&hp(t.prototype,n),r&&hp(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function kp(e){if(e.includes(wp))return wp;for(var t=e;t.includes("*")||t.includes("/");){var n,r=mp(null!==(n=xp.exec(t))&&void 0!==n?n:[],4),a=r[1],s=r[2],i=r[3],o=Np.parse(null!==a&&void 0!==a?a:""),l=Np.parse(null!==i&&void 0!==i?i:""),c="*"===s?o.multiply(l):o.divide(l);if(c.isNaN())return wp;t=t.replace(xp,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=mp(null!==(d=gp.exec(t))&&void 0!==d?d:[],4),m=u[1],p=u[2],h=u[3],f=Np.parse(null!==m&&void 0!==m?m:""),x=Np.parse(null!==h&&void 0!==h?h:""),g="+"===p?f.add(x):f.subtract(x);if(g.isNaN())return wp;t=t.replace(gp,g.toString())}return t}var Sp=/\(([^()]*)\)/;function _p(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=mp(Sp.exec(t),2)[1];t=t.replace(Sp,kp(n))}return t}(t),t=kp(t)}function Cp(e){var t=function(e){try{return _p(e)}catch(We){return wp}}(e.slice(5,-1));return t===wp?"":t}var Op=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ap=["dx","dy","angle","className","breakAll"];function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pp.apply(this,arguments)}function Ep(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Mp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mp(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ip=/[ \f\n\r\t\v\u2028\u2029]+/,Dp=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var a=[];return Ao()(t)||(a=n?t.toString().split(""):t.toString().split(Ip)),{wordsWithComputedWidth:a.map(function(e){return{word:e,width:dp(e,r).width}}),spaceWidth:n?0:dp("\xa0",r).width}}catch(We){return null}},Fp=function(e){return[{words:Ao()(e)?[]:e.toString().split(Ip)}]},Rp=function(e){var t=e.width,n=e.scaleToFit,r=e.children,a=e.style,s=e.breakAll,i=e.maxLines;if((t||n)&&!mc.isSsr){var o=Dp({breakAll:s,children:r,style:a});return o?function(e,t,n,r,a){var s=e.maxLines,i=e.children,o=e.style,l=e.breakAll,c=To(s),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var s=t.word,i=t.width,o=e[e.length-1];if(o&&(null==r||a||o.width+i+n<Number(r)))o.words.push(s),o.width+=i+n;else{var l={words:[s],width:i};e.push(l)}return e},[])},m=u(t);if(!c)return m;for(var p,h=function(e){var t=d.slice(0,e),n=Dp({breakAll:l,style:o,children:t+"\u2026"}).wordsWithComputedWidth,a=u(n),i=a.length>s||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(a).width>Number(r);return[i,a]},f=0,x=d.length-1,g=0;f<=x&&g<=d.length-1;){var y=Math.floor((f+x)/2),v=Tp(h(y-1),2),b=v[0],j=v[1],w=Tp(h(y),1)[0];if(b||w||(f=y+1),b&&w&&(x=y-1),!b&&w){p=j;break}g++}return p||m}({breakAll:s,children:r,maxLines:i,style:a},o.wordsWithComputedWidth,o.spaceWidth,t,n):Fp(r)}return Fp(r)},Lp="#808080",Bp=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,s=void 0===r?0:r,i=e.lineHeight,o=void 0===i?"1em":i,l=e.capHeight,c=void 0===l?"0.71em":l,d=e.scaleToFit,u=void 0!==d&&d,m=e.textAnchor,p=void 0===m?"start":m,h=e.verticalAnchor,f=void 0===h?"end":h,x=e.fill,g=void 0===x?Lp:x,y=Ep(e,Op),v=(0,a.useMemo)(function(){return Rp({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:u,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,u,y.style,y.width]),b=y.dx,j=y.dy,w=y.angle,N=y.className,k=y.breakAll,S=Ep(y,Ap);if(!Mo(n)||!Mo(s))return null;var _,C=n+(To(b)?b:0),O=s+(To(j)?j:0);switch(f){case"start":_=Cp("calc(".concat(c,")"));break;case"middle":_=Cp("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:_=Cp("calc(".concat(v.length-1," * -").concat(o,")"))}var A=[];if(u){var P=v[0].width,E=y.width;A.push("scale(".concat((To(E)?E/P:1)/P,")"))}return w&&A.push("rotate(".concat(w,", ").concat(C,", ").concat(O,")")),A.length&&(S.transform=A.join(" ")),a.createElement("text",Pp({},fl(S,!0),{x:C,y:O,className:go("recharts-text",N),textAnchor:p,fill:g.includes("url")?Lp:g}),v.map(function(e,t){var n=e.words.join(k?"":" ");return a.createElement("tspan",{x:C,dy:0===t?_:o,key:"".concat(n,"-").concat(t)},n)}))};const Up=Math.sqrt(50),zp=Math.sqrt(10),qp=Math.sqrt(2);function Wp(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),i=s>=Up?10:s>=zp?5:s>=qp?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?Wp(e,t,2*n):[o,l,c]}function Vp(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[a,s,i]=r?Wp(t,e,n):Wp(e,t,n);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(r)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function Hp(e,t,n){return Wp(e=+e,t=+t,n=+n)[2]}function Gp(e,t,n){n=+n;const r=(t=+t)<(e=+e),a=r?Hp(t,e,n):Hp(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function Kp(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Yp(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xp(e){let t,n,r;function a(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<0?a=t+1:s=t}while(a<s)}return a}return 2!==e.length?(t=Kp,n=(t,n)=>Kp(e(t),n),r=(t,n)=>e(t)-n):(t=e===Kp||e===Yp?e:Jp,n=e,r=e),{left:a,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=a(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return s>n&&r(e[s-1],t)>-r(e[s],t)?s-1:s},right:function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(a<s){if(0!==t(r,r))return s;do{const t=a+s>>>1;n(e[t],r)<=0?a=t+1:s=t}while(a<s)}return a}}}function Jp(){return 0}function Qp(e){return null===e?NaN:+e}const Zp=Xp(Kp),$p=Zp.right,eh=(Zp.left,Xp(Qp).center,$p);function th(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rh(){}var ah=.7,sh=1/ah,ih="\\s*([+-]?\\d+)\\s*",oh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ch=/^#([0-9a-f]{3,8})$/,dh=new RegExp("^rgb\\(".concat(ih,",").concat(ih,",").concat(ih,"\\)$")),uh=new RegExp("^rgb\\(".concat(lh,",").concat(lh,",").concat(lh,"\\)$")),mh=new RegExp("^rgba\\(".concat(ih,",").concat(ih,",").concat(ih,",").concat(oh,"\\)$")),ph=new RegExp("^rgba\\(".concat(lh,",").concat(lh,",").concat(lh,",").concat(oh,"\\)$")),hh=new RegExp("^hsl\\(".concat(oh,",").concat(lh,",").concat(lh,"\\)$")),fh=new RegExp("^hsla\\(".concat(oh,",").concat(lh,",").concat(lh,",").concat(oh,"\\)$")),xh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function gh(){return this.rgb().formatHex()}function yh(){return this.rgb().formatRgb()}function vh(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ch.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?bh(t):3===n?new Nh(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?jh(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?jh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=dh.exec(e))?new Nh(t[1],t[2],t[3],1):(t=uh.exec(e))?new Nh(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=mh.exec(e))?jh(t[1],t[2],t[3],t[4]):(t=ph.exec(e))?jh(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=hh.exec(e))?Ah(t[1],t[2]/100,t[3]/100,1):(t=fh.exec(e))?Ah(t[1],t[2]/100,t[3]/100,t[4]):xh.hasOwnProperty(e)?bh(xh[e]):"transparent"===e?new Nh(NaN,NaN,NaN,0):null}function bh(e){return new Nh(e>>16&255,e>>8&255,255&e,1)}function jh(e,t,n,r){return r<=0&&(e=t=n=NaN),new Nh(e,t,n,r)}function wh(e,t,n,r){return 1===arguments.length?function(e){return e instanceof rh||(e=vh(e)),e?new Nh((e=e.rgb()).r,e.g,e.b,e.opacity):new Nh}(e):new Nh(e,t,n,null==r?1:r)}function Nh(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function kh(){return"#".concat(Oh(this.r)).concat(Oh(this.g)).concat(Oh(this.b))}function Sh(){const e=_h(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Ch(this.r),", ").concat(Ch(this.g),", ").concat(Ch(this.b)).concat(1===e?")":", ".concat(e,")"))}function _h(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ch(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oh(e){return((e=Ch(e))<16?"0":"")+e.toString(16)}function Ah(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Eh(e,t,n,r)}function Ph(e){if(e instanceof Eh)return new Eh(e.h,e.s,e.l,e.opacity);if(e instanceof rh||(e=vh(e)),!e)return new Eh;if(e instanceof Eh)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,o=s-a,l=(s+a)/2;return o?(i=t===s?(n-r)/o+6*(n<r):n===s?(r-t)/o+2:(t-n)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new Eh(i,o,l,e.opacity)}function Eh(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Th(e){return(e=(e||0)%360)<0?e+360:e}function Mh(e){return Math.max(0,Math.min(1,e||0))}function Ih(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Dh(e,t,n,r,a){var s=e*e,i=s*e;return((1-3*e+3*s-i)*t+(4-6*s+3*i)*n+(1+3*e+3*s-3*i)*r+i*a)/6}th(rh,vh,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gh,formatHex:gh,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Ph(this).formatHsl()},formatRgb:yh,toString:yh}),th(Nh,wh,nh(rh,{brighter(e){return e=null==e?sh:Math.pow(sh,e),new Nh(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ah:Math.pow(ah,e),new Nh(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Nh(Ch(this.r),Ch(this.g),Ch(this.b),_h(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kh,formatHex:kh,formatHex8:function(){return"#".concat(Oh(this.r)).concat(Oh(this.g)).concat(Oh(this.b)).concat(Oh(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Sh,toString:Sh})),th(Eh,function(e,t,n,r){return 1===arguments.length?Ph(e):new Eh(e,t,n,null==r?1:r)},nh(rh,{brighter(e){return e=null==e?sh:Math.pow(sh,e),new Eh(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ah:Math.pow(ah,e),new Eh(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Nh(Ih(e>=240?e-240:e+120,a,r),Ih(e,a,r),Ih(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Eh(Th(this.h),Mh(this.s),Mh(this.l),_h(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_h(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Th(this.h),", ").concat(100*Mh(this.s),"%, ").concat(100*Mh(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Fh=e=>()=>e;function Rh(e,t){return function(n){return e+n*t}}function Lh(e){return 1===(e=+e)?Bh:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Fh(isNaN(t)?n:t)}}function Bh(e,t){var n=t-e;return n?Rh(e,n):Fh(isNaN(e)?t:e)}const Uh=function e(t){var n=Lh(t);function r(e,t){var r=n((e=wh(e)).r,(t=wh(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),i=Bh(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function zh(e){return function(t){var n,r,a=t.length,s=new Array(a),i=new Array(a),o=new Array(a);for(n=0;n<a;++n)r=wh(t[n]),s[n]=r.r||0,i[n]=r.g||0,o[n]=r.b||0;return s=e(s),i=e(i),o=e(o),r.opacity=1,function(e){return r.r=s(e),r.g=i(e),r.b=o(e),r+""}}}zh(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],s=e[r+1],i=r>0?e[r-1]:2*a-s,o=r<t-1?e[r+2]:2*s-a;return Dh((n-r/t)*t,i,a,s,o)}}),zh(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],s=e[r%t],i=e[(r+1)%t],o=e[(r+2)%t];return Dh((n-r/t)*t,a,s,i,o)}});function qh(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r);for(n=0;n<a;++n)s[n]=Jh(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<a;++n)i[n]=s[n](e);return i}}function Wh(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Vh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Hh(e,t){var n,r={},a={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Jh(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}var Gh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kh=new RegExp(Gh.source,"g");function Yh(e,t){var n,r,a,s=Gh.lastIndex=Kh.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(n=Gh.exec(e))&&(r=Kh.exec(t));)(a=r.index)>s&&(a=t.slice(s,a),o[i]?o[i]+=a:o[++i]=a),(n=n[0])===(r=r[0])?o[i]?o[i]+=r:o[++i]=r:(o[++i]=null,l.push({i:i,x:Vh(n,r)})),s=Kh.lastIndex;return s<t.length&&(a=t.slice(s),o[i]?o[i]+=a:o[++i]=a),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)o[(n=l[r]).i]=n.x(e);return o.join("")})}function Xh(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,a=t.slice();return function(s){for(n=0;n<r;++n)a[n]=e[n]*(1-s)+t[n]*s;return a}}function Jh(e,t){var n,r,a=typeof t;return null==t||"boolean"===a?Fh(t):("number"===a?Vh:"string"===a?(n=vh(t))?(t=n,Uh):Yh:t instanceof vh?Uh:t instanceof Date?Wh:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?qh:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Hh:Vh:Xh))(e,t)}function Qh(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Zh(e){return+e}var $h=[0,1];function ef(e){return e}function tf(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function nf(e,t,n){var r=e[0],a=e[1],s=t[0],i=t[1];return a<r?(r=tf(a,r),s=n(i,s)):(r=tf(r,a),s=n(s,i)),function(e){return s(r(e))}}function rf(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)a[i]=tf(e[i],e[i+1]),s[i]=n(t[i],t[i+1]);return function(t){var n=eh(e,t,1,r)-1;return s[n](a[n](t))}}function af(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sf(){var e,t,n,r,a,s,i=$h,o=$h,l=Jh,c=ef;function d(){var e=Math.min(i.length,o.length);return c!==ef&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(i[0],i[e-1])),r=e>2?rf:nf,a=s=null,u}function u(t){return null==t||isNaN(t=+t)?n:(a||(a=r(i.map(e),o,l)))(e(c(t)))}return u.invert=function(n){return c(t((s||(s=r(o,i.map(e),Vh)))(n)))},u.domain=function(e){return arguments.length?(i=Array.from(e,Zh),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=Qh,d()},u.clamp=function(e){return arguments.length?(c=!!e||ef,d()):c!==ef},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(n=e,u):n},function(n,r){return e=n,t=r,d()}}function of(){return sf()(ef,ef)}var lf,cf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function df(e){if(!(t=cf.exec(e)))throw new Error("invalid format: "+e);var t;return new uf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function uf(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function mf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pf(e){return(e=mf(Math.abs(e)))?e[1]:NaN}function hf(e,t){var n=mf(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}df.prototype=uf.prototype,uf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ff={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hf(100*e,t),r:hf,s:function(e,t){var n=mf(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(lf=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,i=r.length;return s===i?r:s>i?r+new Array(s-i+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+mf(e,Math.max(0,t+s-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xf(e){return e}var gf,yf,vf,bf=Array.prototype.map,jf=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function wf(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?xf:(t=bf.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var a=e.length,s=[],i=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(e.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[i=(i+1)%t.length];return s.reverse().join(n)}),a=void 0===e.currency?"":e.currency[0]+"",s=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?xf:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(bf.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=df(e)).fill,n=e.align,u=e.sign,m=e.symbol,p=e.zero,h=e.width,f=e.comma,x=e.precision,g=e.trim,y=e.type;"n"===y?(f=!0,y="g"):ff[y]||(void 0===x&&(x=12),g=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var v="$"===m?a:"#"===m&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===m?s:/[%p]/.test(y)?l:"",j=ff[y],w=/[defgprs%]/.test(y);function N(e){var a,s,l,m=v,N=b;if("c"===y)N=j(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),x),g&&(e=function(e){e:for(var t,n=e.length,r=1,a=-1;r<n;++r)switch(e[r]){case".":a=t=r;break;case"0":0===a&&(a=r),t=r;break;default:if(!+e[r])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),m=(k?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===y?jf[8+lf/3]:"")+N+(k&&"("===u?")":""),w)for(a=-1,s=e.length;++a<s;)if(48>(l=e.charCodeAt(a))||l>57){N=(46===l?i+e.slice(a+1):e.slice(a))+N,e=e.slice(0,a);break}}f&&!p&&(e=r(e,1/0));var S=m.length+e.length+N.length,_=S<h?new Array(h-S+1).join(t):"";switch(f&&p&&(e=r(_+e,_.length?h-N.length:1/0),_=""),n){case"<":e=m+e+N+_;break;case"=":e=m+_+e+N;break;case"^":e=_.slice(0,S=_.length>>1)+m+e+N+_.slice(S);break;default:e=_+m+e+N}return o(e)}return x=void 0===x?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var n=u(((e=df(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(pf(t)/3))),a=Math.pow(10,-r),s=jf[8+r/3];return function(e){return n(a*e)+s}}}}function Nf(e,t,n,r){var a,s=Gp(e,t,n);switch((r=df(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(a=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pf(t)/3)))-pf(Math.abs(e)))}(s,i))||(r.precision=a),vf(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pf(t)-pf(e))+1}(s,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(e){return Math.max(0,-pf(Math.abs(e)))}(s))||(r.precision=a-2*("%"===r.type))}return yf(r)}function kf(e){var t=e.domain;return e.ticks=function(e){var n=t();return Vp(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Nf(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,s=t(),i=0,o=s.length-1,l=s[i],c=s[o],d=10;for(c<l&&(a=l,l=c,c=a,a=i,i=o,o=a);d-- >0;){if((a=Hp(l,c,n))===r)return s[i]=l,s[o]=c,t(s);if(a>0)l=Math.floor(l/a)*a,c=Math.ceil(c/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,c=Math.floor(c*a)/a}r=a}return e},e}function Sf(){var e=of();return e.copy=function(){return af(e,Sf())},Hm.apply(e,arguments),kf(e)}function _f(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,Zh),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return _f(e).unknown(t)},e=arguments.length?Array.from(e,Zh):[0,1],kf(n)}function Cf(e,t){var n,r=0,a=(e=e.slice()).length-1,s=e[r],i=e[a];return i<s&&(n=r,r=a,a=n,n=s,s=i,i=n),e[r]=t.floor(s),e[a]=t.ceil(i),e}function Of(e){return Math.log(e)}function Af(e){return Math.exp(e)}function Pf(e){return-Math.log(-e)}function Ef(e){return-Math.exp(-e)}function Tf(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mf(e){return(t,n)=>-e(-t,n)}function If(e){const t=e(Of,Af),n=t.domain;let r,a,s=10;function i(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(s),a=function(e){return 10===e?Tf:e===Math.E?Math.exp:t=>Math.pow(e,t)}(s),n()[0]<0?(r=Mf(r),a=Mf(a),e(Pf,Ef)):e(Of,Af),t}return t.base=function(e){return arguments.length?(s=+e,i()):s},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=r(i),m=r(o);const p=null==e?10:+e;let h=[];if(!(s%1)&&m-u<p){if(u=Math.floor(u),m=Math.ceil(m),i>0){for(;u<=m;++u)for(c=1;c<s;++c)if(d=u<0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;h.push(d)}}else for(;u<=m;++u)for(c=s-1;c>=1;--c)if(d=u>0?c/a(-u):c*a(u),!(d<i)){if(d>o)break;h.push(d)}2*h.length<p&&(h=Vp(i,o,p))}else h=Vp(u,m,Math.min(m-u,p)).map(a);return l?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===s?"s":","),"function"!==typeof n&&(s%1||null!=(n=df(n)).precision||(n.trim=!0),n=yf(n)),e===1/0)return n;const i=Math.max(1,s*e/t.ticks().length);return e=>{let t=e/a(Math.round(r(e)));return t*s<s-.5&&(t*=s),t<=i?n(e):""}},t.nice=()=>n(Cf(n(),{floor:e=>a(Math.floor(r(e))),ceil:e=>a(Math.ceil(r(e)))})),t}function Df(){const e=If(sf()).domain([1,10]);return e.copy=()=>af(e,Df()).base(e.base()),Hm.apply(e,arguments),e}function Ff(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Rf(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lf(e){var t=1,n=e(Ff(t),Rf(t));return n.constant=function(n){return arguments.length?e(Ff(t=+n),Rf(t)):t},kf(n)}function Bf(){var e=Lf(sf());return e.copy=function(){return af(e,Bf()).constant(e.constant())},Hm.apply(e,arguments)}function Uf(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zf(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qf(e){return e<0?-e*e:e*e}function Wf(e){var t=e(ef,ef),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(ef,ef):.5===n?e(zf,qf):e(Uf(n),Uf(1/n)):n},kf(t)}function Vf(){var e=Wf(sf());return e.copy=function(){return af(e,Vf()).exponent(e.exponent())},Hm.apply(e,arguments),e}function Hf(){return Vf.apply(null,arguments).exponent(.5)}function Gf(e){return Math.sign(e)*e*e}function Kf(){var e,t=of(),n=[0,1],r=!1;function a(n){var a=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(a)?e:r?Math.round(a):a}return a.invert=function(e){return t.invert(Gf(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain()},a.range=function(e){return arguments.length?(t.range((n=Array.from(e,Zh)).map(Gf)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(r=!!e,a):r},a.clamp=function(e){return arguments.length?(t.clamp(e),a):t.clamp()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return Kf(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},Hm.apply(a,arguments),kf(a)}function Yf(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}function Xf(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}function Jf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kp;if(e===Kp)return Qf;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Qf(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Zf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,a=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=void 0===a?Qf:Jf(a);r>n;){if(r-n>600){const s=r-n+1,i=t-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(i-s/2<0?-1:1);Zf(e,t,Math.max(n,Math.floor(t-i*l/s+c)),Math.min(r,Math.floor(t+(s-i)*l/s+c)),a)}const s=e[t];let i=n,o=r;for($f(e,n,t),a(e[r],s)>0&&$f(e,n,r);i<o;){for($f(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}0===a(e[n],s)?$f(e,n,o):(++o,$f(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function $f(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ex(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return Xf(e);if(t>=1)return Yf(e);var r,a=(r-1)*t,s=Math.floor(a),i=Yf(Zf(e,s).subarray(0,s+1));return i+(Xf(e.subarray(s+1))-i)*(a-s)}}function tx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qp;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),i=+n(e[s],s,e);return i+(+n(e[s+1],s+1,e)-i)*(a-s)}}function nx(){var e,t=[],n=[],r=[];function a(){var e=0,a=Math.max(1,n.length);for(r=new Array(a-1);++e<a;)r[e-1]=tx(t,e/a);return s}function s(t){return null==t||isNaN(t=+t)?e:n[eh(r,t)]}return s.invertExtent=function(e){var a=n.indexOf(e);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},s.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Kp),a()},s.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},s.unknown=function(t){return arguments.length?(e=t,s):e},s.quantiles=function(){return r.slice()},s.copy=function(){return nx().domain(t).range(n).unknown(e)},Hm.apply(s,arguments)}function rx(){var e,t=0,n=1,r=1,a=[.5],s=[0,1];function i(t){return null!=t&&t<=t?s[eh(a,t,0,r)]:e}function o(){var e=-1;for(a=new Array(r);++e<r;)a[e]=((e+1)*n-(e-r)*t)/(r+1);return i}return i.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,o()):[t,n]},i.range=function(e){return arguments.length?(r=(s=Array.from(e)).length-1,o()):s.slice()},i.invertExtent=function(e){var i=s.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=r?[a[r-1],n]:[a[i-1],a[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return rx().domain([t,n]).range(s).unknown(e)},Hm.apply(kf(i),arguments)}function ax(){var e,t=[.5],n=[0,1],r=1;function a(a){return null!=a&&a<=a?n[eh(t,a,0,r)]:e}return a.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return ax().domain(t).range(n).unknown(e)},Hm.apply(a,arguments)}gf=wf({thousands:",",grouping:[3],currency:["$",""]}),yf=gf.format,vf=gf.formatPrefix;const sx=1e3,ix=6e4,ox=36e5,lx=864e5,cx=6048e5,dx=2592e6,ux=31536e6,mx=new Date,px=new Date;function hx(e,t,n,r){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),a.round=e=>{const t=a(e),n=a.ceil(e);return e-t<n-e?t:n},a.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),a.range=(n,r,s)=>{const i=[];if(n=a.ceil(n),s=null==s?1:Math.floor(s),!(n<r)||!(s>0))return i;let o;do{i.push(o=new Date(+n)),t(n,s),e(n)}while(o<n&&n<r);return i},a.filter=n=>hx(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(a.count=(t,r)=>(mx.setTime(+t),px.setTime(+r),e(mx),e(px),Math.floor(n(mx,px))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(r?t=>r(t)%e===0:t=>a.count(0,t)%e===0):a:null)),a}const fx=hx(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fx.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?hx(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):fx:null);fx.range;const xx=hx(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*sx)},(e,t)=>(t-e)/sx,e=>e.getUTCSeconds()),gx=(xx.range,hx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sx)},(e,t)=>{e.setTime(+e+t*ix)},(e,t)=>(t-e)/ix,e=>e.getMinutes())),yx=(gx.range,hx(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ix)},(e,t)=>(t-e)/ix,e=>e.getUTCMinutes())),vx=(yx.range,hx(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*sx-e.getMinutes()*ix)},(e,t)=>{e.setTime(+e+t*ox)},(e,t)=>(t-e)/ox,e=>e.getHours())),bx=(vx.range,hx(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ox)},(e,t)=>(t-e)/ox,e=>e.getUTCHours())),jx=(bx.range,hx(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ix)/lx,e=>e.getDate()-1)),wx=(jx.range,hx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lx,e=>e.getUTCDate()-1)),Nx=(wx.range,hx(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/lx,e=>Math.floor(e/lx)));Nx.range;function kx(e){return hx(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ix)/cx)}const Sx=kx(0),_x=kx(1),Cx=kx(2),Ox=kx(3),Ax=kx(4),Px=kx(5),Ex=kx(6);Sx.range,_x.range,Cx.range,Ox.range,Ax.range,Px.range,Ex.range;function Tx(e){return hx(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/cx)}const Mx=Tx(0),Ix=Tx(1),Dx=Tx(2),Fx=Tx(3),Rx=Tx(4),Lx=Tx(5),Bx=Tx(6),Ux=(Mx.range,Ix.range,Dx.range,Fx.range,Rx.range,Lx.range,Bx.range,hx(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),zx=(Ux.range,hx(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),qx=(zx.range,hx(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));qx.every=e=>isFinite(e=Math.floor(e))&&e>0?hx(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null;qx.range;const Wx=hx(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Wx.every=e=>isFinite(e=Math.floor(e))&&e>0?hx(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null;Wx.range;function Vx(e,t,n,r,a,s){const i=[[xx,1,sx],[xx,5,5e3],[xx,15,15e3],[xx,30,3e4],[s,1,ix],[s,5,3e5],[s,15,9e5],[s,30,18e5],[a,1,ox],[a,3,108e5],[a,6,216e5],[a,12,432e5],[r,1,lx],[r,2,1728e5],[n,1,cx],[t,1,dx],[t,3,7776e6],[e,1,ux]];function o(t,n,r){const a=Math.abs(n-t)/r,s=Xp(e=>{let[,,t]=e;return t}).right(i,a);if(s===i.length)return e.every(Gp(t/ux,n/ux,r));if(0===s)return fx.every(Math.max(Gp(t,n,r),1));const[o,l]=i[a/i[s-1][2]<i[s][2]/a?s-1:s];return o.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const a=n&&"function"===typeof n.range?n:o(e,t,n),s=a?a.range(e,+t+1):[];return r?s.reverse():s},o]}const[Hx,Gx]=Vx(Wx,zx,Mx,Nx,bx,yx),[Kx,Yx]=Vx(qx,Ux,Sx,jx,vx,gx);function Xx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qx(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Zx,$x,eg,tg={"-":"",_:" ",0:"0"},ng=/^\s*\d+/,rg=/^%/,ag=/[\\^$*+?|[\]().{}]/g;function sg(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function ig(e){return e.replace(ag,"\\$&")}function og(e){return new RegExp("^(?:"+e.map(ig).join("|")+")","i")}function lg(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function cg(e,t,n){var r=ng.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dg(e,t,n){var r=ng.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ug(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function mg(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pg(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hg(e,t,n){var r=ng.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function fg(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function xg(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gg(e,t,n){var r=ng.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function yg(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function vg(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function bg(e,t,n){var r=ng.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function jg(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function wg(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ng(e,t,n){var r=ng.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function kg(e,t,n){var r=ng.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Sg(e,t,n){var r=ng.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _g(e,t,n){var r=rg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Cg(e,t,n){var r=ng.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Og(e,t,n){var r=ng.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ag(e,t){return sg(e.getDate(),t,2)}function Pg(e,t){return sg(e.getHours(),t,2)}function Eg(e,t){return sg(e.getHours()%12||12,t,2)}function Tg(e,t){return sg(1+jx.count(qx(e),e),t,3)}function Mg(e,t){return sg(e.getMilliseconds(),t,3)}function Ig(e,t){return Mg(e,t)+"000"}function Dg(e,t){return sg(e.getMonth()+1,t,2)}function Fg(e,t){return sg(e.getMinutes(),t,2)}function Rg(e,t){return sg(e.getSeconds(),t,2)}function Lg(e){var t=e.getDay();return 0===t?7:t}function Bg(e,t){return sg(Sx.count(qx(e)-1,e),t,2)}function Ug(e){var t=e.getDay();return t>=4||0===t?Ax(e):Ax.ceil(e)}function zg(e,t){return e=Ug(e),sg(Ax.count(qx(e),e)+(4===qx(e).getDay()),t,2)}function qg(e){return e.getDay()}function Wg(e,t){return sg(_x.count(qx(e)-1,e),t,2)}function Vg(e,t){return sg(e.getFullYear()%100,t,2)}function Hg(e,t){return sg((e=Ug(e)).getFullYear()%100,t,2)}function Gg(e,t){return sg(e.getFullYear()%1e4,t,4)}function Kg(e,t){var n=e.getDay();return sg((e=n>=4||0===n?Ax(e):Ax.ceil(e)).getFullYear()%1e4,t,4)}function Yg(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+sg(t/60|0,"0",2)+sg(t%60,"0",2)}function Xg(e,t){return sg(e.getUTCDate(),t,2)}function Jg(e,t){return sg(e.getUTCHours(),t,2)}function Qg(e,t){return sg(e.getUTCHours()%12||12,t,2)}function Zg(e,t){return sg(1+wx.count(Wx(e),e),t,3)}function $g(e,t){return sg(e.getUTCMilliseconds(),t,3)}function ey(e,t){return $g(e,t)+"000"}function ty(e,t){return sg(e.getUTCMonth()+1,t,2)}function ny(e,t){return sg(e.getUTCMinutes(),t,2)}function ry(e,t){return sg(e.getUTCSeconds(),t,2)}function ay(e){var t=e.getUTCDay();return 0===t?7:t}function sy(e,t){return sg(Mx.count(Wx(e)-1,e),t,2)}function iy(e){var t=e.getUTCDay();return t>=4||0===t?Rx(e):Rx.ceil(e)}function oy(e,t){return e=iy(e),sg(Rx.count(Wx(e),e)+(4===Wx(e).getUTCDay()),t,2)}function ly(e){return e.getUTCDay()}function cy(e,t){return sg(Ix.count(Wx(e)-1,e),t,2)}function dy(e,t){return sg(e.getUTCFullYear()%100,t,2)}function uy(e,t){return sg((e=iy(e)).getUTCFullYear()%100,t,2)}function my(e,t){return sg(e.getUTCFullYear()%1e4,t,4)}function py(e,t){var n=e.getUTCDay();return sg((e=n>=4||0===n?Rx(e):Rx.ceil(e)).getUTCFullYear()%1e4,t,4)}function hy(){return"+0000"}function fy(){return"%"}function xy(e){return+e}function gy(e){return Math.floor(+e/1e3)}function yy(e){return new Date(e)}function vy(e){return e instanceof Date?+e:+new Date(+e)}function by(e,t,n,r,a,s,i,o,l,c){var d=of(),u=d.invert,m=d.domain,p=c(".%L"),h=c(":%S"),f=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y");function j(e){return(l(e)<e?p:o(e)<e?h:i(e)<e?f:s(e)<e?x:r(e)<e?a(e)<e?g:y:n(e)<e?v:b)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,vy)):m().map(yy)},d.ticks=function(t){var n=m();return e(n[0],n[n.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var n=m();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?m(Cf(n,e)):d},d.copy=function(){return af(d,by(e,t,n,r,a,s,i,o,l,c))},d}function jy(){return Hm.apply(by(Kx,Yx,qx,Ux,Sx,jx,vx,gx,xx,$x).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wy(){return Hm.apply(by(Hx,Gx,Wx,zx,Mx,wx,bx,yx,xx,eg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ny(){var e,t,n,r,a,s=0,i=1,o=ef,l=!1;function c(t){return null==t||isNaN(t=+t)?a:o(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var n,r;return arguments.length?([n,r]=t,o=e(n,r),c):[o(0),o(1)]}}return c.domain=function(a){return arguments.length?([s,i]=a,e=r(s=+s),t=r(i=+i),n=e===t?0:1/(t-e),c):[s,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(Jh),c.rangeRound=d(Qh),c.unknown=function(e){return arguments.length?(a=e,c):a},function(a){return r=a,e=a(s),t=a(i),n=e===t?0:1/(t-e),c}}function ky(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Sy(){var e=kf(Ny()(ef));return e.copy=function(){return ky(e,Sy())},Gm.apply(e,arguments)}function _y(){var e=If(Ny()).domain([1,10]);return e.copy=function(){return ky(e,_y()).base(e.base())},Gm.apply(e,arguments)}function Cy(){var e=Lf(Ny());return e.copy=function(){return ky(e,Cy()).constant(e.constant())},Gm.apply(e,arguments)}function Oy(){var e=Wf(Ny());return e.copy=function(){return ky(e,Oy()).exponent(e.exponent())},Gm.apply(e,arguments)}function Ay(){return Oy.apply(null,arguments).exponent(.5)}function Py(){var e=[],t=ef;function n(n){if(null!=n&&!isNaN(n=+n))return t((eh(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Kp),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((n,r)=>t(r/(e.length-1)))},n.quantiles=function(t){return Array.from({length:t+1},(n,r)=>ex(e,r/t))},n.copy=function(){return Py(t).domain(e)},Gm.apply(n,arguments)}function Ey(){var e,t,n,r,a,s,i,o=0,l=.5,c=1,d=1,u=ef,m=!1;function p(e){return isNaN(e=+e)?i:(e=.5+((e=+s(e))-t)*(d*e<d*t?r:a),u(m?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,u=function(e,t){void 0===t&&(t=e,e=Jh);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return s[t](e-t)}}(e,[n,r,a]),p):[u(0),u(.5),u(1)]}}return p.domain=function(i){return arguments.length?([o,l,c]=i,e=s(o=+o),t=s(l=+l),n=s(c=+c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,p):[o,l,c]},p.clamp=function(e){return arguments.length?(m=!!e,p):m},p.interpolator=function(e){return arguments.length?(u=e,p):u},p.range=h(Jh),p.rangeRound=h(Qh),p.unknown=function(e){return arguments.length?(i=e,p):i},function(i){return s=i,e=i(o),t=i(l),n=i(c),r=e===t?0:.5/(t-e),a=t===n?0:.5/(n-t),d=t<e?-1:1,p}}function Ty(){var e=kf(Ey()(ef));return e.copy=function(){return ky(e,Ty())},Gm.apply(e,arguments)}function My(){var e=If(Ey()).domain([.1,1,10]);return e.copy=function(){return ky(e,My()).base(e.base())},Gm.apply(e,arguments)}function Iy(){var e=Lf(Ey());return e.copy=function(){return ky(e,Iy()).constant(e.constant())},Gm.apply(e,arguments)}function Dy(){var e=Wf(Ey());return e.copy=function(){return ky(e,Dy()).exponent(e.exponent())},Gm.apply(e,arguments)}function Fy(){return Dy.apply(null,arguments).exponent(.5)}function Ry(e,t){if((a=e.length)>1)for(var n,r,a,s=1,i=e[t[0]],o=i.length;s<a;++s)for(r=i,i=e[t[s]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){Zx=function(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=og(a),d=lg(a),u=og(s),m=lg(s),p=og(i),h=lg(i),f=og(o),x=lg(o),g=og(l),y=lg(l),v={a:function(e){return i[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:Ag,e:Ag,f:Ig,g:Hg,G:Kg,H:Pg,I:Eg,j:Tg,L:Mg,m:Dg,M:Fg,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:xy,s:gy,S:Rg,u:Lg,U:Bg,V:zg,w:qg,W:Wg,x:null,X:null,y:Vg,Y:Gg,Z:Yg,"%":fy},b={a:function(e){return i[e.getUTCDay()]},A:function(e){return s[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Xg,e:Xg,f:ey,g:uy,G:py,H:Jg,I:Qg,j:Zg,L:$g,m:ty,M:ny,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:xy,s:gy,S:ry,u:ay,U:sy,V:oy,w:ly,W:cy,x:null,X:null,y:dy,Y:my,Z:hy,"%":fy},j={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:vg,e:vg,f:Sg,g:fg,G:hg,H:jg,I:jg,j:bg,L:kg,m:yg,M:wg,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=d.get(r[0].toLowerCase()),n+r[0].length):-1},q:gg,Q:Cg,s:Og,S:Ng,u:dg,U:ug,V:mg,w:cg,W:pg,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:fg,Y:hg,Z:xg,"%":_g};function w(e,t){return function(n){var r,a,s,i=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(a=tg[r=e.charAt(++o)])?r=e.charAt(++o):a="e"===r?" ":"0",(s=t[r])&&(r=s(n,a)),i.push(r),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(n){var r,a,s=Qx(1900,void 0,1);if(k(s,e,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(t&&!("Z"in s)&&(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(a=(r=Jx(Qx(s.y,0,1))).getUTCDay(),r=a>4||0===a?Ix.ceil(r):Ix(r),r=wx.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(a=(r=Xx(Qx(s.y,0,1))).getDay(),r=a>4||0===a?_x.ceil(r):_x(r),r=jx.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),a="Z"in s?Jx(Qx(s.y,0,1)).getUTCDay():Xx(Qx(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(a+5)%7:s.w+7*s.U-(a+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,Jx(s)):Xx(s)}}function k(e,t,n,r){for(var a,s,i=0,o=t.length,l=n.length;i<o;){if(r>=l)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(s=j[a in tg?t.charAt(i++):a])||(r=s(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return v.x=w(n,v),v.X=w(r,v),v.c=w(t,v),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),$x=Zx.format,Zx.parse,eg=Zx.utcFormat,Zx.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function Ly(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function By(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Uy(e,t){return e[t]}function zy(e){const t=[];return t.key=e,t}var qy=n(539),Wy=n.n(qy),Vy=n(6745),Hy=n.n(Vy),Gy=n(3538),Ky=n.n(Gy),Yy=n(9853),Xy=n.n(Yy),Jy=n(8210),Qy=n.n(Jy);function Zy(e){return function(e){if(Array.isArray(e))return $y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ev=function(e){return e},tv={"@@functional/placeholder":!0},nv=function(e){return e===tv},rv=function(e){return function t(){return 0===arguments.length||1===arguments.length&&nv(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},av=function e(t,n){return 1===t?n:rv(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var i=a.filter(function(e){return e!==tv}).length;return i>=t?n.apply(void 0,a):e(t-i,rv(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s=a.map(function(e){return nv(e)?t.shift():e});return n.apply(void 0,Zy(s).concat(t))}))})},sv=function(e){return av(e.length,e)},iv=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ov=sv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),lv=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return ev;var r=t.reverse(),a=r[0],s=r.slice(1);return function(){return s.reduce(function(e,t){return t(e)},a.apply(void 0,arguments))}},cv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dv=function(e){var t=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t&&a.every(function(e,n){return e===t[n]})?n:(t=a,n=e.apply(void 0,a))}};var uv=sv(function(e,t,n){var r=+e;return r+n*(+t-r)}),mv=sv(function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)}),pv=sv(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const hv={rangeStep:function(e,t,n){for(var r=new(Qy())(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s},getDigitCount:function(e){return 0===e?1:Math.floor(new(Qy())(e).abs().log(10).toNumber())+1},interpolateNumber:uv,uninterpolateNumber:mv,uninterpolateTruncation:pv};function fv(e){return function(e){if(Array.isArray(e))return yv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){a=!0,s=l}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}return n}(e,t)||gv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(e,t){if(e){if("string"===typeof e)return yv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yv(e,t):void 0}}function yv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vv(e){var t=xv(e,2),n=t[0],r=t[1],a=n,s=r;return n>r&&(a=r,s=n),[a,s]}function bv(e,t,n){if(e.lte(0))return new(Qy())(0);var r=hv.getDigitCount(e.toNumber()),a=new(Qy())(10).pow(r),s=e.div(a),i=1!==r?.05:.1,o=new(Qy())(Math.ceil(s.div(i).toNumber())).add(n).mul(i).mul(a);return t?o:new(Qy())(Math.ceil(o))}function jv(e,t,n){var r=1,a=new(Qy())(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new(Qy())(10).pow(hv.getDigitCount(e)-1),a=new(Qy())(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new(Qy())(Math.floor(e)))}else 0===e?a=new(Qy())(Math.floor((t-1)/2)):n||(a=new(Qy())(Math.floor(e)));var i=Math.floor((t-1)/2),o=lv(ov(function(e){return a.add(new(Qy())(e-i).mul(r)).toNumber()}),iv);return o(0,t)}function wv(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(Qy())(0),tickMin:new(Qy())(0),tickMax:new(Qy())(0)};var s,i=bv(new(Qy())(t).sub(e).div(n-1),r,a);s=e<=0&&t>=0?new(Qy())(0):(s=new(Qy())(e).add(t).div(2)).sub(new(Qy())(s).mod(i));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new(Qy())(t).sub(s).div(i).toNumber()),c=o+l+1;return c>n?wv(e,t,n,r,a+1):(c<n&&(l=t>0?l+(n-c):l,o=t>0?o:o+(n-c)),{step:i,tickMin:s.sub(new(Qy())(o).mul(i)),tickMax:s.add(new(Qy())(l).mul(i))})}var Nv=dv(function(e){var t=xv(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),o=xv(vv([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(fv(iv(0,a-1).map(function(){return 1/0}))):[].concat(fv(iv(0,a-1).map(function(){return-1/0})),[c]);return n>r?cv(d):d}if(l===c)return jv(l,a,s);var u=wv(l,c,i,s),m=u.step,p=u.tickMin,h=u.tickMax,f=hv.rangeStep(p,h.add(new(Qy())(.1).mul(m)),m);return n>r?cv(f):f}),kv=(dv(function(e){var t=xv(e,2),n=t[0],r=t[1],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(a,2),o=xv(vv([n,r]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return jv(l,a,s);var d=bv(new(Qy())(c).sub(l).div(i-1),s,0),u=lv(ov(function(e){return new(Qy())(l).add(new(Qy())(e).mul(d)).toNumber()}),iv),m=u(0,i).filter(function(e){return e>=l&&e<=c});return n>r?cv(m):m}),dv(function(e,t){var n=xv(e,2),r=n[0],a=n[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=xv(vv([r,a]),2),o=i[0],l=i[1];if(o===-1/0||l===1/0)return[r,a];if(o===l)return[o];var c=Math.max(t,2),d=bv(new(Qy())(l).sub(o).div(c-1),s,0),u=[].concat(fv(hv.rangeStep(new(Qy())(o),new(Qy())(l).sub(new(Qy())(.99).mul(d)),d)),[l]);return r>a?cv(u):u})),Sv=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _v(e){return _v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(e)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cv.apply(this,arguments)}function Ov(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Av(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Av(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Av(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pv(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ev(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rv(r.key),r)}}function Tv(e,t,n){return t=Iv(t),function(e,t){if(t&&("object"===_v(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Mv()?Reflect.construct(t,n||[],Iv(e).constructor):t.apply(e,n))}function Mv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Mv=function(){return!!e})()}function Iv(e){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Iv(e)}function Dv(e,t){return Dv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dv(e,t)}function Fv(e,t,n){return(t=Rv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rv(e){var t=function(e,t){if("object"!=_v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_v(t)?t:t+""}var Lv=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tv(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dv(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,s=e.dataKey,i=e.data,o=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,d=Pv(e,Sv),u=fl(d,!1);"x"===this.props.direction&&"number"!==l.type&&El(!1);var m=i.map(function(e){var i=o(e,s),d=i.x,m=i.y,p=i.value,h=i.errorVal;if(!h)return null;var f,x,g=[];if(Array.isArray(h)){var y=Ov(h,2);f=y[0],x=y[1]}else f=x=h;if("vertical"===n){var v=l.scale,b=m+t,j=b+r,w=b-r,N=v(p-f),k=v(p+x);g.push({x1:k,y1:j,x2:k,y2:w}),g.push({x1:N,y1:b,x2:k,y2:b}),g.push({x1:N,y1:j,x2:N,y2:w})}else if("horizontal"===n){var S=c.scale,_=d+t,C=_-r,O=_+r,A=S(p-f),P=S(p+x);g.push({x1:C,y1:P,x2:O,y2:P}),g.push({x1:_,y1:A,x2:_,y2:P}),g.push({x1:C,y1:A,x2:O,y2:A})}return a.createElement(Bl,Cv({className:"recharts-errorBar",key:"bar-".concat(g.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},u),g.map(function(e){return a.createElement("line",Cv({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return a.createElement(Bl,{className:"recharts-errorBars"},m)}}],r&&Ev(n.prototype,r),s&&Ev(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.Component);function Bv(e){return Bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(e)}function Uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uv(Object(n),!0).forEach(function(t){qv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Bv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Fv(Lv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),Fv(Lv,"displayName","ErrorBar");var Wv=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,a=e.legendContent,s=ul(t,tu);if(!s)return null;var i,o=tu.defaultProps,l=void 0!==o?zv(zv({},o),s.props):{};return i=s.props&&s.props.payload?s.props&&s.props.payload:"children"===a?(n||[]).reduce(function(e,t){var n=t.item,r=t.props,a=r.sectors||r.data||[];return e.concat(a.map(function(e){return{type:s.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(n||[]).map(function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?zv(zv({},n),t.props):{},a=r.dataKey,s=r.name,i=r.legendType;return{inactive:r.hide,dataKey:a,type:l.iconType||i||"square",color:Zv(t),value:s||a,payload:r}}),zv(zv(zv({},l),tu.getWithHeight(s,r)),{},{payload:i,item:s})};function Vv(e){return Vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(e)}function Hv(e){return function(e){if(Array.isArray(e))return Gv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Gv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kv(Object(n),!0).forEach(function(t){Xv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xv(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Vv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vv(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jv(e,t,n){return Ao()(e)||Ao()(t)?n:Mo(t)?So()(e,t,n):Wo()(t)?t(e):n}function Qv(e,t,n,r){var a=Ky()(e,function(e){return Jv(e,t)});if("number"===n){var s=a.filter(function(e){return To(e)||parseFloat(e)});return s.length?[Hy()(s),Wy()(s)]:[1/0,-1/0]}return(r?a.filter(function(e){return!Ao()(e)}):a).map(function(e){return Mo(e)||e instanceof Date?e:""})}var Zv=function(e){var t,n,r=e.type.displayName,a=null!==(t=e.type)&&void 0!==t&&t.defaultProps?Yv(Yv({},e.type.defaultProps),e.props):e.props,s=a.stroke,i=a.fill;switch(r){case"Line":n=s;break;case"Area":case"Radar":n=s&&"none"!==s?s:i;break;default:n=i}return n},$v=function(e,t,n,r,a){var s=dl(t.props.children,Lv).filter(function(e){return function(e,t,n){return!!Ao()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,a,e.props.direction)});if(s&&s.length){var i=s.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var r=Jv(t,n);if(Ao()(r))return e;var a=Array.isArray(r)?[Hy()(r),Wy()(r)]:[r,r],s=i.reduce(function(e,n){var r=Jv(t,n,0),s=a[0]-Math.abs(Array.isArray(r)?r[0]:r),i=a[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(s,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(s[0],e[0]),Math.max(s[1],e[1])]},[1/0,-1/0])}return null},eb=function(e,t,n,r,a){var s=t.map(function(t){var s=t.props.dataKey;return"number"===n&&s&&$v(e,t,s,r)||Qv(e,s,n,a)});if("number"===n)return s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return s.reduce(function(e,t){for(var n=0,r=t.length;n<r;n++)i[t[n]]||(i[t[n]]=!0,e.push(t[n]));return e},[])},tb=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},nb=function(e,t,n,r){if(r)return e.map(function(e){return e.coordinate});var a,s,i=e.map(function(e){return e.coordinate===t&&(a=!0),e.coordinate===n&&(s=!0),e.coordinate});return a||i.push(t),s||i.push(n),i},rb=function(e,t,n){if(!e)return null;var r=e.scale,a=e.duplicateDomain,s=e.type,i=e.range,o="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===s&&r.bandwidth?r.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null===i||void 0===i?void 0:i.length)>=2?2*Po(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=a?a.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}}).filter(function(e){return!No()(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}}):r.ticks&&!n?r.ticks(e.tickCount).map(function(e){return{coordinate:r(e)+l,value:e,offset:l}}):r.domain().map(function(e,t){return{coordinate:r(e)+l,value:a?a[e]:e,index:t,offset:l}})},ab=new WeakMap,sb=function(e,t){if("function"!==typeof t)return e;ab.has(e)||ab.set(e,new WeakMap);var n=ab.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},ib=1e-4,ob={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0,i=0;i<t;++i){var o=No()(e[i][n][1])?e[i][n][0]:e[i][n][1];o>=0?(e[i][n][0]=a,e[i][n][1]=a+o,a=e[i][n][1]):(e[i][n][0]=s,e[i][n][1]=s+o,s=e[i][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,a,s=0,i=e[0].length;s<i;++s){for(a=n=0;n<r;++n)a+=e[n][s][1]||0;if(a)for(n=0;n<r;++n)e[n][s][1]/=a}Ry(e,t)}},none:Ry,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,a=e[t[0]],s=a.length;r<s;++r){for(var i=0,o=0;i<n;++i)o+=e[i][r][1]||0;a[r][1]+=a[r][0]=-o/2}Ry(e,t)}},wiggle:function(e,t){if((a=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,a,s=0,i=1;i<r;++i){for(var o=0,l=0,c=0;o<a;++o){for(var d=e[t[o]],u=d[i][1]||0,m=(u-(d[i-1][1]||0))/2,p=0;p<o;++p){var h=e[t[p]];m+=(h[i][1]||0)-(h[i-1][1]||0)}l+=u,c+=m*u}n[i-1][1]+=n[i-1][0]=s,l&&(s-=c/l)}n[i-1][1]+=n[i-1][0]=s,Ry(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var a=0,s=0;s<t;++s){var i=No()(e[s][n][1])?e[s][n][0]:e[s][n][1];i>=0?(e[s][n][0]=a,e[s][n][1]=a+i,a=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}}},lb=function(e,t,n){var r=t.map(function(e){return e.props.dataKey}),a=ob[n],s=function(){var e=Zc([]),t=By,n=Ry,r=Uy;function a(a){var s,i,o=Array.from(e.apply(this,arguments),zy),l=o.length,c=-1;for(const e of a)for(s=0,++c;s<l;++s)(o[s][c]=[0,+r(e,o[s].key,c,a)]).data=e;for(s=0,i=Ly(t(o));s<l;++s)o[i[s]].index=s;return n(o,i),o}return a.keys=function(t){return arguments.length?(e="function"===typeof t?t:Zc(Array.from(t)),a):e},a.value=function(e){return arguments.length?(r="function"===typeof e?e:Zc(+e),a):r},a.order=function(e){return arguments.length?(t=null==e?By:"function"===typeof e?e:Zc(Array.from(e)),a):t},a.offset=function(e){return arguments.length?(n=null==e?Ry:e,a):n},a}().keys(r).value(function(e,t){return+Jv(e,t,0)}).order(By).offset(a);return s(e)};function cb(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,s=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ao()(a[t.dataKey])){var o=Bo(n,"value",a[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Jv(a,Ao()(i)?t.dataKey:i);return Ao()(l)?null:t.scale(l)}var db=function(e){var t=e.axis,n=e.ticks,r=e.offset,a=e.bandSize,s=e.entry,i=e.index;if("category"===t.type)return n[i]?n[i].coordinate+r:null;var o=Jv(s,t.dataKey,t.domain[i]);return Ao()(o)?null:t.scale(o)-a/2+r},ub=function(e,t,n){return Object.keys(e).reduce(function(r,a){var s=e[a].stackedData.reduce(function(e,r){var a=function(e){return e.reduce(function(e,t){return[Hy()(t.concat([e[0]]).filter(To)),Wy()(t.concat([e[1]]).filter(To))]},[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],a[0]),Math.max(e[1],a[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},mb=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pb=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hb=function(e,t,n){if(Wo()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(To(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(mb.test(e[0])){var a=+mb.exec(e[0])[1];r[0]=t[0]-a}else Wo()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(To(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(pb.test(e[1])){var s=+pb.exec(e[1])[1];r[1]=t[1]+s}else Wo()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},fb=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Al()(t,function(e){return e.coordinate}),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},xb=function(e,t,n){return e&&e.length?Xy()(e,So()(n,"type.defaultProps.domain"))?t:e:t},gb=function(e,t){var n=e.type.defaultProps?Yv(Yv({},e.type.defaultProps),e.props):e.props,r=n.dataKey,a=n.name,s=n.unit,i=n.formatter,o=n.tooltipType,l=n.chartType,c=n.hide;return Yv(Yv({},fl(e,!1)),{},{dataKey:r,unit:s,formatter:i,name:a||r,color:Zv(e),value:Jv(t,r),type:o,payload:t,chartType:l,hide:c})};function yb(e){return yb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(e)}function vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vb(Object(n),!0).forEach(function(t){jb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=yb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wb=["Webkit","Moz","O","ms"];function Nb(e){return Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kb.apply(this,arguments)}function Sb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sb(Object(n),!0).forEach(function(t){Tb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mb(r.key),r)}}function Ob(e,t,n){return t=Pb(t),function(e,t){if(t&&("object"===Nb(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ab()?Reflect.construct(t,n||[],Pb(e).constructor):t.apply(e,n))}function Ab(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ab=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pb(e)}function Eb(e,t){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eb(e,t)}function Tb(e,t,n){return(t=Mb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mb(e){var t=function(e,t){if("object"!=Nb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nb(t)?t:t+""}var Ib=function(e){return e.changedTouches&&!!e.changedTouches.length},Db=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tb(n=Ob(this,t,[e]),"handleDrag",function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)}),Tb(n,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])}),Tb(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,a=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:a})}),n.detachDragEndListener()}),Tb(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Tb(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Tb(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Tb(n,"handleSlideDragStart",function(e){var t=Ib(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eb(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,a=this.state.scaleValues,s=this.props,i=s.gap,o=s.data.length-1,l=Math.min(n,r),c=Math.max(n,r),d=t.getIndexInRange(a,l),u=t.getIndexInRange(a,c);return{startIndex:d-d%i,endIndex:u===o?o:u-u%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,a=t.dataKey,s=Jv(n[e],a,e);return Wo()(r)?r(s,e):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,a=t.endX,s=this.props,i=s.x,o=s.width,l=s.travellerWidth,c=s.startIndex,d=s.endIndex,u=s.onChange,m=e.pageX-n;m>0?m=Math.min(m,i+o-l-a,i+o-l-r):m<0&&(m=Math.max(m,i-r,i-a));var p=this.getIndex({startX:r+m,endX:a+m});p.startIndex===c&&p.endIndex===d||!u||u(p),this.setState({startX:r+m,endX:a+m,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Ib(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,a=t.endX,s=t.startX,i=this.state[r],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,m=o.gap,p=o.data,h={startX:this.state.startX,endX:this.state.endX},f=e.pageX-n;f>0?f=Math.min(f,l+c-d-i):f<0&&(f=Math.max(f,l-i)),h[r]=i+f;var x=this.getIndex(h),g=x.startIndex,y=x.endIndex;this.setState(Tb(Tb({},r,i+f),"brushMoveStartX",e.pageX),function(){u&&function(){var e=p.length-1;return"startX"===r&&(a>s?g%m===0:y%m===0)||a<s&&y===e||"endX"===r&&(a>s?y%m===0:g%m===0)||a>s&&y===e}()&&u(x)})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,a=r.scaleValues,s=r.startX,i=r.endX,o=this.state[t],l=a.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=a.length)){var d=a[c];"startX"===t&&d>=i||"endX"===t&&d<=s||this.setState(Tb({},t,d),function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,s=e.height,i=e.fill,o=e.stroke;return a.createElement("rect",{stroke:o,fill:i,x:t,y:n,width:r,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,s=e.height,i=e.data,o=e.children,l=e.padding,c=a.Children.only(o);return c?a.cloneElement(c,{x:t,y:n,width:r,height:s,margin:l,compact:!0,data:i}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,s,i=this,o=this.props,l=o.y,c=o.travellerWidth,d=o.height,u=o.traveller,m=o.ariaLabel,p=o.data,h=o.startIndex,f=o.endIndex,x=Math.max(e,this.props.x),g=_b(_b({},fl(this.props,!1)),{},{x:x,y:l,width:c,height:d}),y=m||"Min value: ".concat(null===(r=p[h])||void 0===r?void 0:r.name,", Max value: ").concat(null===(s=p[f])||void 0===s?void 0:s.name);return a.createElement(Bl,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),i.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){i.setState({isTravellerFocused:!0})},onBlur:function(){i.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(u,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,s=n.height,i=n.stroke,o=n.travellerWidth,l=Math.min(e,t)+o,c=Math.max(Math.abs(t-e)-o,0);return a.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:i,fillOpacity:.2,x:l,y:r,width:c,height:s})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,s=e.height,i=e.travellerWidth,o=e.stroke,l=this.state,c=l.startX,d=l.endX,u={pointerEvents:"none",fill:o};return a.createElement(Bl,{className:"recharts-brush-texts"},a.createElement(Bp,kb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,d)-5,y:r+s/2},u),this.getTextOfTick(t)),a.createElement(Bp,kb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,d)+i+5,y:r+s/2},u),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,s=e.x,i=e.y,o=e.width,l=e.height,c=e.alwaysShowText,d=this.state,u=d.startX,m=d.endX,p=d.isTextActive,h=d.isSlideMoving,f=d.isTravellerMoving,x=d.isTravellerFocused;if(!t||!t.length||!To(s)||!To(i)||!To(o)||!To(l)||o<=0||l<=0)return null;var g=go("recharts-brush",n),y=1===a.Children.count(r),v=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,function(e){return e.toUpperCase()}),r=wb.reduce(function(e,r){return bb(bb({},e),{},jb({},r+n,t))},{});return r[e]=t,r}("userSelect","none");return a.createElement(Bl,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(u,m),this.renderTravellerLayer(u,"startX"),this.renderTravellerLayer(m,"endX"),(p||h||f||x||c)&&this.renderText())}}],s=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,s=e.height,i=e.stroke,o=Math.floor(n+s/2)-1;return a.createElement(a.Fragment,null,a.createElement("rect",{x:t,y:n,width:r,height:s,fill:i,stroke:"none"}),a.createElement("line",{x1:t+1,y1:o,x2:t+r-1,y2:o,fill:"none",stroke:"#fff"}),a.createElement("line",{x1:t+1,y1:o+2,x2:t+r-1,y2:o+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return a.isValidElement(e)?a.cloneElement(e,n):Wo()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,a=e.x,s=e.travellerWidth,i=e.updateId,o=e.startIndex,l=e.endIndex;if(n!==t.prevData||i!==t.prevUpdateId)return _b({prevData:n,prevTravellerWidth:s,prevUpdateId:i,prevX:a,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,a=e.x,s=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=np().domain(Cl()(0,o)).range([a,a+s-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:a,travellerWidth:s,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||a!==t.prevX||s!==t.prevTravellerWidth)){t.scale.range([a,a+r-s]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:n,prevTravellerWidth:s,prevUpdateId:i,prevX:a,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var a=Math.floor((n+r)/2);e[a]>t?r=a:n=a}return t>=e[r]?r:n}}],r&&Cb(n.prototype,r),s&&Cb(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.PureComponent);function Fb(e){return Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(e)}function Rb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rb(Object(n),!0).forEach(function(t){Bb(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Bb(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Fb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Fb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Tb(Db,"displayName","Brush"),Tb(Db,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ub=Math.PI/180,zb=function(e){return 180*e/Math.PI},qb=function(e,t,n,r){return{x:e+Math.cos(-Ub*r)*n,y:t+Math.sin(-Ub*r)*n}},Wb=function(e,t){var n=e.x,r=e.y,a=t.cx,s=t.cy,i=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(r-s,2))}({x:n,y:r},{x:a,y:s});if(i<=0)return{radius:i};var o=(n-a)/i,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:i,angle:zb(l),angleInRadian:l}},Vb=function(e,t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),s=Math.floor(r/360);return e+360*Math.min(a,s)},Hb=function(e,t){var n=e.x,r=e.y,a=Wb({x:n,y:r},t),s=a.radius,i=a.angle,o=t.innerRadius,l=t.outerRadius;if(s<o||s>l)return!1;if(0===s)return!0;var c,d=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:t-360*s,endAngle:n-360*s}}(t),u=d.startAngle,m=d.endAngle,p=i;if(u<=m){for(;p>m;)p-=360;for(;p<u;)p+=360;c=p>=u&&p<=m}else{for(;p>u;)p-=360;for(;p<m;)p+=360;c=p>=m&&p<=u}return c?Lb(Lb({},t),{},{radius:s,angle:Vb(p,t)}):null};function Gb(e){return Gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gb(e)}var Kb=["offset"];function Yb(e){return function(e){if(Array.isArray(e))return Xb(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Xb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xb(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jb(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Qb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qb(Object(n),!0).forEach(function(t){$b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $b(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Gb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Gb(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ej(){return ej=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ej.apply(this,arguments)}var tj=function(e,t,n){var r,s,i=e.position,o=e.viewBox,l=e.offset,c=e.className,d=o,u=d.cx,m=d.cy,p=d.innerRadius,h=d.outerRadius,f=d.startAngle,x=d.endAngle,g=d.clockWise,y=(p+h)/2,v=function(e,t){return Po(t-e)*Math.min(Math.abs(t-e),360)}(f,x),b=v>=0?1:-1;"insideStart"===i?(r=f+b*l,s=g):"insideEnd"===i?(r=x-b*l,s=!g):"end"===i&&(r=x+b*l,s=g),s=v<=0?s:!s;var j=qb(u,m,y,r),w=qb(u,m,y,r+359*(s?1:-1)),N="M".concat(j.x,",").concat(j.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(s?0:1,",\n    ").concat(w.x,",").concat(w.y),k=Ao()(e.id)?Do("recharts-radial-line-"):e.id;return a.createElement("text",ej({},n,{dominantBaseline:"central",className:go("recharts-radial-bar-label",c)}),a.createElement("defs",null,a.createElement("path",{id:k,d:N})),a.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function nj(e){var t,n=e.offset,r=Zb({offset:void 0===n?5:n},Jb(e,Kb)),s=r.viewBox,i=r.position,o=r.value,l=r.children,c=r.content,d=r.className,u=void 0===d?"":d,m=r.textBreakAll;if(!s||Ao()(o)&&Ao()(l)&&!(0,a.isValidElement)(c)&&!Wo()(c))return null;if((0,a.isValidElement)(c))return(0,a.cloneElement)(c,r);if(Wo()(c)){if(t=(0,a.createElement)(c,r),(0,a.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=Ao()(e.children)?t:e.children;return Wo()(n)?n(r):r}(r);var p=function(e){return"cx"in e&&To(e.cx)}(s),h=fl(r,!0);if(p&&("insideStart"===i||"insideEnd"===i||"end"===i))return tj(r,t,h);var f=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,a=t,s=a.cx,i=a.cy,o=a.innerRadius,l=a.outerRadius,c=(a.startAngle+a.endAngle)/2;if("outside"===r){var d=qb(s,i,l+n,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=qb(s,i,(o+l)/2,c);return{x:m.x,y:m.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,a=e.position,s=t,i=s.x,o=s.y,l=s.width,c=s.height,d=c>=0?1:-1,u=d*r,m=d>0?"end":"start",p=d>0?"start":"end",h=l>=0?1:-1,f=h*r,x=h>0?"end":"start",g=h>0?"start":"end";if("top"===a)return Zb(Zb({},{x:i+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:m}),n?{height:Math.max(o-n.y,0),width:l}:{});if("bottom"===a)return Zb(Zb({},{x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(o+c),0),width:l}:{});if("left"===a){var y={x:i-f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return Zb(Zb({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===a){var v={x:i+l+f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return Zb(Zb({},v),n?{width:Math.max(n.x+n.width-v.x,0),height:c}:{})}var b=n?{width:l,height:c}:{};return"insideLeft"===a?Zb({x:i+f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},b):"insideRight"===a?Zb({x:i+l-f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},b):"insideTop"===a?Zb({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:p},b):"insideBottom"===a?Zb({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:m},b):"insideTopLeft"===a?Zb({x:i+f,y:o+u,textAnchor:g,verticalAnchor:p},b):"insideTopRight"===a?Zb({x:i+l-f,y:o+u,textAnchor:x,verticalAnchor:p},b):"insideBottomLeft"===a?Zb({x:i+f,y:o+c-u,textAnchor:g,verticalAnchor:m},b):"insideBottomRight"===a?Zb({x:i+l-f,y:o+c-u,textAnchor:x,verticalAnchor:m},b):Ho()(a)&&(To(a.x)||Eo(a.x))&&(To(a.y)||Eo(a.y))?Zb({x:i+Fo(a.x,l),y:o+Fo(a.y,c),textAnchor:"end",verticalAnchor:"end"},b):Zb({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(r);return a.createElement(Bp,ej({className:go("recharts-label",u)},h,f,{breakAll:m}),t)}nj.displayName="Label";var rj=function(e){var t=e.cx,n=e.cy,r=e.angle,a=e.startAngle,s=e.endAngle,i=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,m=e.top,p=e.left,h=e.width,f=e.height,x=e.clockWise,g=e.labelViewBox;if(g)return g;if(To(h)&&To(f)){if(To(d)&&To(u))return{x:d,y:u,width:h,height:f};if(To(m)&&To(p))return{x:m,y:p,width:h,height:f}}return To(d)&&To(u)?{x:d,y:u,width:0,height:0}:To(t)&&To(n)?{cx:t,cy:n,startAngle:a||r||0,endAngle:s||r||0,innerRadius:l||0,outerRadius:c||o||i||0,clockWise:x}:e.viewBox?e.viewBox:{}};nj.parseViewBox=rj,nj.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=rj(e),i=dl(r,nj).map(function(e,n){return(0,a.cloneElement)(e,{viewBox:t||s,key:"label-".concat(n)})});if(!n)return i;var o=function(e,t){return e?!0===e?a.createElement(nj,{key:"label-implicit",viewBox:t}):Mo(e)?a.createElement(nj,{key:"label-implicit",viewBox:t,value:e}):(0,a.isValidElement)(e)?e.type===nj?(0,a.cloneElement)(e,{key:"label-implicit",viewBox:t}):a.createElement(nj,{key:"label-implicit",content:e,viewBox:t}):Wo()(e)?a.createElement(nj,{key:"label-implicit",content:e,viewBox:t}):Ho()(e)?a.createElement(nj,ej({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||s);return[o].concat(Yb(i))};var aj=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},sj=n(1733),ij=n.n(sj),oj=n(7002),lj=n.n(oj),cj=function(e){return null};cj.displayName="Cell";var dj=n(4065),uj=n.n(dj);function mj(e){return mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mj(e)}var pj=["valueAccessor"],hj=["data","dataKey","clockWise","id","textBreakAll"];function fj(e){return function(e){if(Array.isArray(e))return xj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return xj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xj(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gj(){return gj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gj.apply(this,arguments)}function yj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yj(Object(n),!0).forEach(function(t){bj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bj(e,t,n){return t=function(e){var t=function(e,t){if("object"!=mj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jj(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wj=function(e){return Array.isArray(e.value)?uj()(e.value):e.value};function Nj(e){var t=e.valueAccessor,n=void 0===t?wj:t,r=jj(e,pj),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,d=jj(r,hj);return s&&s.length?a.createElement(Bl,{className:"recharts-label-list"},s.map(function(e,t){var r=Ao()(i)?n(e,t):Jv(e&&e.payload,i),s=Ao()(l)?{}:{id:"".concat(l,"-").concat(t)};return a.createElement(nj,gj({},fl(e,!0),d,s,{parentViewBox:e.parentViewBox,value:r,textBreakAll:c,viewBox:nj.parseViewBox(Ao()(o)?e:vj(vj({},e),{},{clockWise:o})),key:"label-".concat(t),index:t}))})):null}Nj.displayName="LabelList",Nj.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=dl(e.children,Nj).map(function(e,n){return(0,a.cloneElement)(e,{data:t,key:"labelList-".concat(n)})});if(!n)return r;var s=function(e,t){return e?!0===e?a.createElement(Nj,{key:"labelList-implicit",data:t}):a.isValidElement(e)||Wo()(e)?a.createElement(Nj,{key:"labelList-implicit",data:t,content:e}):Ho()(e)?a.createElement(Nj,gj({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[s].concat(fj(r))};var kj=n(2322),Sj=n.n(kj),_j=n(6361),Cj=n.n(_j);function Oj(e){return Oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oj(e)}function Aj(){return Aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aj.apply(this,arguments)}function Pj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ej(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(t){Ij(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ij(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Oj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Oj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dj=function(e,t,n,r,a){var s,i=n-r;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+n,",").concat(t),s+="L ".concat(e+n-i/2,",").concat(t+a),s+="L ".concat(e+n-i/2-r,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z")},Fj={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rj=function(e){var t=Mj(Mj({},Fj),e),n=(0,a.useRef)(),r=Pj((0,a.useState)(-1),2),s=r[0],i=r[1];(0,a.useEffect)(function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var o=t.x,l=t.y,c=t.upperWidth,d=t.lowerWidth,u=t.height,m=t.className,p=t.animationEasing,h=t.animationDuration,f=t.animationBegin,x=t.isUpdateAnimationActive;if(o!==+o||l!==+l||c!==+c||d!==+d||u!==+u||0===c&&0===d||0===u)return null;var g=go("recharts-trapezoid",m);return x?a.createElement(Mm,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:u,x:o,y:l},to:{upperWidth:c,lowerWidth:d,height:u,x:o,y:l},duration:h,animationEasing:p,isActive:x},function(e){var r=e.upperWidth,i=e.lowerWidth,o=e.height,l=e.x,c=e.y;return a.createElement(Mm,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:p},a.createElement("path",Aj({},fl(t,!0),{className:g,d:Dj(l,c,r,i,o),ref:n})))}):a.createElement("g",null,a.createElement("path",Aj({},fl(t,!0),{className:g,d:Dj(o,l,c,d,u)})))};function Lj(e){return Lj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lj(e)}function Bj(){return Bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bj.apply(this,arguments)}function Uj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uj(Object(n),!0).forEach(function(t){qj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function qj(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Lj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wj=function(e){var t=e.cx,n=e.cy,r=e.radius,a=e.angle,s=e.sign,i=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(i?1:-1)+r,d=Math.asin(o/c)/Ub,u=l?a:a+s*d,m=l?a-s*d:a;return{center:qb(t,n,c,u),circleTangency:qb(t,n,r,u),lineTangency:qb(t,n,c*Math.cos(d*Ub),m),theta:d}},Vj=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.startAngle,i=function(e,t){return Po(t-e)*Math.min(Math.abs(t-e),359.999)}(s,e.endAngle),o=s+i,l=qb(t,n,a,s),c=qb(t,n,a,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(a,",").concat(a,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(s>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var u=qb(t,n,r,s),m=qb(t,n,r,o);d+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(s<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(n," Z");return d},Hj={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Gj=function(e){var t=zj(zj({},Hj),e),n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,m=t.className;if(i<s||d===u)return null;var p,h=go("recharts-sector",m),f=i-s,x=Fo(o,f,0,!0);return p=x>0&&Math.abs(d-u)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,a=e.outerRadius,s=e.cornerRadius,i=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=Po(c-l),u=Wj({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),m=u.circleTangency,p=u.lineTangency,h=u.theta,f=Wj({cx:t,cy:n,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=f.circleTangency,g=f.lineTangency,y=f.theta,v=o?Math.abs(l-c):Math.abs(l-c)-h-y;if(v<0)return i?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*s,",0\n        a").concat(s,",").concat(s,",0,0,1,").concat(2*-s,",0\n      "):Vj({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(p.x,",").concat(p.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var j=Wj({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),w=j.circleTangency,N=j.lineTangency,k=j.theta,S=Wj({cx:t,cy:n,radius:r,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),_=S.circleTangency,C=S.lineTangency,O=S.theta,A=o?Math.abs(l-c):Math.abs(l-c)-k-O;if(A<0&&0===s)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(C.x,",").concat(C.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:n,cy:r,innerRadius:s,outerRadius:i,cornerRadius:Math.min(x,f/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):Vj({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:d,endAngle:u}),a.createElement("path",Bj({},fl(t,!0),{className:h,d:p,role:"img"}))},Kj=["option","shapeType","propTransformer","activeClassName","isActive"];function Yj(e){return Yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yj(e)}function Xj(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jj(Object(n),!0).forEach(function(t){Zj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zj(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Yj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yj(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $j(e,t){return Qj(Qj({},t),e)}function ew(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return a.createElement(Vm,n);case"trapezoid":return a.createElement(Rj,n);case"sector":return a.createElement(Gj,n);case"symbols":if(function(e){return"symbols"===e}(t))return a.createElement(Ad,n);break;default:return null}}function tw(e){var t,n=e.option,r=e.shapeType,s=e.propTransformer,i=void 0===s?$j:s,o=e.activeClassName,l=void 0===o?"recharts-active-shape":o,c=e.isActive,d=Xj(e,Kj);if((0,a.isValidElement)(n))t=(0,a.cloneElement)(n,Qj(Qj({},d),function(e){return(0,a.isValidElement)(e)?e.props:e}(n)));else if(Wo()(n))t=n(d);else if(Sj()(n)&&!Cj()(n)){var u=i(n,d);t=a.createElement(ew,{shapeType:r,elementProps:u})}else{var m=d;t=a.createElement(ew,{shapeType:r,elementProps:m})}return c?a.createElement(Bl,{className:l},t):t}function nw(e,t){return null!=t&&"trapezoids"in e.props}function rw(e,t){return null!=t&&"sectors"in e.props}function aw(e,t){return null!=t&&"points"in e.props}function sw(e,t){var n,r,a=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,s=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return a&&s}function iw(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function ow(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function lw(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=function(e,t){var n;return nw(e,t)?n="trapezoids":rw(e,t)?n="sectors":aw(e,t)&&(n="points"),n}(n,t),s=function(e,t){var n,r;return nw(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:rw(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:aw(e,t)?t.payload:{}}(n,t),i=r.filter(function(e,r){var i=Xy()(s,e),o=n.props[a].filter(function(e){var r=function(e,t){var n;return nw(e,t)?n=sw:rw(e,t)?n=iw:aw(e,t)&&(n=ow),n}(n,t);return r(e,t)}),l=n.props[a].indexOf(o[o.length-1]);return i&&r===l});return r.indexOf(i[i.length-1])}var cw=["x","y"];function dw(e){return dw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dw(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(this,arguments)}function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mw(Object(n),!0).forEach(function(t){hw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function hw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fw(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xw(e,t){var n=e.x,r=e.y,a=fw(e,cw),s="".concat(n),i=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),u="".concat(t.width||a.width),m=parseInt(u,10);return pw(pw(pw(pw(pw({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function gw(e){return a.createElement(tw,uw({shapeType:"rectangle",propTransformer:xw,activeClassName:"recharts-active-bar"},e))}var yw,vw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var a=To(n)||function(e){return Ao()(e)}(n);return a?e(n,r):(a||El(!1),t)}},bw=["value","background"];function jw(e){return jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(e)}function ww(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nw.apply(this,arguments)}function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Sw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kw(Object(n),!0).forEach(function(t){Ew(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tw(r.key),r)}}function Cw(e,t,n){return t=Aw(t),function(e,t){if(t&&("object"===jw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ow()?Reflect.construct(t,n||[],Aw(e).constructor):t.apply(e,n))}function Ow(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ow=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Aw(e)}function Pw(e,t){return Pw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pw(e,t)}function Ew(e,t,n){return(t=Tw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tw(e){var t=function(e,t){if("object"!=jw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jw(t)?t:t+""}var Mw=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return Ew(e=Cw(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),Ew(e,"id",Do("recharts-bar-")),Ew(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()}),Ew(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pw(e,t)}(t,e),n=t,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,s=n.dataKey,i=n.activeIndex,o=n.activeBar,l=fl(this.props,!1);return e&&e.map(function(e,n){var c=n===i,d=c?o:r,u=Sw(Sw(Sw({},l),e),{},{isActive:c,option:d,index:n,dataKey:s,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return a.createElement(Bl,Nw({className:"recharts-bar-rectangle"},el(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),a.createElement(gw,u))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,s=t.isAnimationActive,i=t.animationBegin,o=t.animationDuration,l=t.animationEasing,c=t.animationId,d=this.state.prevData;return a.createElement(Mm,{begin:i,duration:o,isActive:s,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var s=t.t,i=n.map(function(e,t){var n=d&&d[t];if(n){var a=Lo(n.x,e.x),i=Lo(n.y,e.y),o=Lo(n.width,e.width),l=Lo(n.height,e.height);return Sw(Sw({},e),{},{x:a(s),y:i(s),width:o(s),height:l(s)})}if("horizontal"===r){var c=Lo(0,e.height)(s);return Sw(Sw({},e),{},{y:e.y+e.height-c,height:c})}var u=Lo(0,e.width)(s);return Sw(Sw({},e),{},{width:u})});return a.createElement(Bl,null,e.renderRectanglesStatically(i))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&Xy()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,s=t.activeIndex,i=fl(this.props.background,!1);return n.map(function(t,n){t.value;var o=t.background,l=ww(t,bw);if(!o)return null;var c=Sw(Sw(Sw(Sw(Sw({},l),{},{fill:"#eee"},o),i),el(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return a.createElement(gw,Nw({key:"background-bar-".concat(n),option:e.props.background,isActive:n===s},c))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,s=n.xAxis,i=n.yAxis,o=n.layout,l=dl(n.children,Lv);if(!l)return null;var c="vertical"===o?r[0].height/2:r[0].width/2,d=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Jv(e,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(Bl,u,l.map(function(e){return a.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:s,yAxis:i,layout:o,offset:c,dataPointFormatter:d})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,s=e.xAxis,i=e.yAxis,o=e.left,l=e.top,c=e.width,d=e.height,u=e.isAnimationActive,m=e.background,p=e.id;if(t||!n||!n.length)return null;var h=this.state.isAnimationFinished,f=go("recharts-bar",r),x=s&&s.allowDataOverflow,g=i&&i.allowDataOverflow,y=x||g,v=Ao()(p)?this.id:p;return a.createElement(Bl,{className:f},x||g?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(v)},a.createElement("rect",{x:x?o:o-c/2,y:g?l:l-d/2,width:x?c:2*c,height:g?d:2*d}))):null,a.createElement(Bl,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(v,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,v),(!u||h)&&Nj.renderCallByParent(this.props,n))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],r&&_w(n.prototype,r),s&&_w(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.PureComponent);function Iw(e){return Iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iw(e)}function Dw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bw(r.key),r)}}function Fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fw(Object(n),!0).forEach(function(t){Lw(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Lw(e,t,n){return(t=Bw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bw(e){var t=function(e,t){if("object"!=Iw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Iw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Iw(t)?t:t+""}yw=Mw,Ew(Mw,"displayName","Bar"),Ew(Mw,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),Ew(Mw,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,m=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var h=t.layout,f=n.type.defaultProps,x=void 0!==f?Sw(Sw({},f),n.props):n.props,g=x.dataKey,y=x.children,v=x.minPointSize,b="horizontal"===h?i:s,j=c?b.scale.domain():null,w=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]}({numericAxis:b}),N=dl(y,cj),k=u.map(function(e,t){var r,u,m,f,x,y;c?r=function(e,t){if(!t||2!==t.length||!To(t[0])||!To(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!To(e[0])||e[0]<n)&&(a[0]=n),(!To(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a}(c[d+t],j):(r=Jv(e,g),Array.isArray(r)||(r=[w,r]));var b=vw(v,yw.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var k,S=[i.scale(r[0]),i.scale(r[1])],_=S[0],C=S[1];u=db({axis:s,ticks:o,bandSize:a,offset:p.offset,entry:e,index:t}),m=null!==(k=null!==C&&void 0!==C?C:_)&&void 0!==k?k:void 0,f=p.size;var O=_-C;if(x=Number.isNaN(O)?0:O,y={x:u,y:i.y,width:f,height:i.height},Math.abs(b)>0&&Math.abs(x)<Math.abs(b)){var A=Po(x||b)*(Math.abs(b)-Math.abs(x));m-=A,x+=A}}else{var P=[s.scale(r[0]),s.scale(r[1])],E=P[0],T=P[1];if(u=E,m=db({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:e,index:t}),f=T-E,x=p.size,y={x:s.x,y:m,width:s.width,height:x},Math.abs(b)>0&&Math.abs(f)<Math.abs(b))f+=Po(f||b)*(Math.abs(b)-Math.abs(f))}return Sw(Sw(Sw({},e),{},{x:u,y:m,width:f,height:x,value:c?r:r[1],payload:e,background:y},N&&N[t]&&N[t].props),{},{tooltipPayload:[gb(n,e)],tooltipPosition:{x:u+f/2,y:m+x/2}})});return Sw({data:k,layout:h},m)});var Uw=function(e,n,r,a,s){var i=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),u={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},m=!!ul(c,Mw);return d.reduce(function(i,o){var c,d,p,h,f,x=n[o],g=x.orientation,y=x.domain,v=x.padding,b=void 0===v?{}:v,j=x.mirror,w=x.reversed,N="".concat(g).concat(j?"Mirror":"");if("number"===x.type&&("gap"===x.padding||"no-gap"===x.padding)){var k=y[1]-y[0],S=1/0,_=x.categoricalDomain.sort(Uo);if(_.forEach(function(e,t){t>0&&(S=Math.min((e||0)-(_[t-1]||0),S))}),Number.isFinite(S)){var C=S/k,O="vertical"===x.layout?r.height:r.width;if("gap"===x.padding&&(c=C*O/2),"no-gap"===x.padding){var A=Fo(e.barCategoryGap,C*O),P=C*O/2;c=P-A-(P-A)/O*A}}}d="xAxis"===a?[r.left+(b.left||0)+(c||0),r.left+r.width-(b.right||0)-(c||0)]:"yAxis"===a?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(c||0),r.top+r.height-(b.bottom||0)-(c||0)]:x.range,w&&(d=[d[1],d[0]]);var E=function(e,n,r){var a=e.scale,s=e.type,i=e.layout,o=e.axisType;if("auto"===a)return"radial"===i&&"radiusAxis"===o?{scale:ep(),realScaleType:"band"}:"radial"===i&&"angleAxis"===o?{scale:Sf(),realScaleType:"linear"}:"category"===s&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:np(),realScaleType:"point"}:"category"===s?{scale:ep(),realScaleType:"band"}:{scale:Sf(),realScaleType:"linear"};if(jo()(a)){var l="scale".concat(Ac()(a));return{scale:(t[l]||np)(),realScaleType:t[l]?l:"point"}}return Wo()(a)?{scale:a}:{scale:np(),realScaleType:"point"}}(x,s,m),T=E.scale,M=E.realScaleType;T.domain(y).range(d),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-ib,s=Math.max(r[0],r[1])+ib,i=e(t[0]),o=e(t[n-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[n-1]])}}(T);var I=function(e,t){var n=t.realScaleType,r=t.type,a=t.tickCount,s=t.originalDomain,i=t.allowDecimals,o=n||t.scale;if("auto"!==o&&"linear"!==o)return null;if(a&&"number"===r&&s&&("auto"===s[0]||"auto"===s[1])){var l=e.domain();if(!l.length)return null;var c=Nv(l,a,i);return e.domain([Hy()(c),Wy()(c)]),{niceTicks:c}}if(a&&"number"===r){var d=e.domain();return{niceTicks:kv(d,a,i)}}return null}(T,Rw(Rw({},x),{},{realScaleType:M}));"xAxis"===a?(f="top"===g&&!j||"bottom"===g&&j,p=r.left,h=u[N]-f*x.height):"yAxis"===a&&(f="left"===g&&!j||"right"===g&&j,p=u[N]-f*x.width,h=r.top);var D=Rw(Rw(Rw({},x),I),{},{realScaleType:M,x:p,y:h,scale:T,width:"xAxis"===a?r.width:x.width,height:"yAxis"===a?r.height:x.height});return D.bandSize=fb(D,I),x.hide||"xAxis"!==a?x.hide||(u[N]+=(f?-1:1)*D.width):u[N]+=(f?-1:1)*D.height,Rw(Rw({},i),{},Lw({},o,D))},{})},zw=function(e,t){var n=e.x,r=e.y,a=t.x,s=t.y;return{x:Math.min(n,a),y:Math.min(r,s),width:Math.abs(a-n),height:Math.abs(s-r)}},qw=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a;case"end":var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}if(n){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&Dw(t.prototype,n),r&&Dw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();Lw(qw,"EPS",1e-4);var Ww=function(e){var t=Object.keys(e).reduce(function(t,n){return Rw(Rw({},t),{},Lw({},n,qw.create(e[n])))},{});return Rw(Rw({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,a=n.position;return ij()(e,function(e,n){return t[n].apply(e,{bandAware:r,position:a})})},isInRange:function(e){return lj()(e,function(e,n){return t[n].isInRange(e)})}})};function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vw.apply(this,arguments)}function Hw(e){return Hw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hw(e)}function Gw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gw(Object(n),!0).forEach(function(t){$w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gw(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eN(r.key),r)}}function Xw(e,t,n){return t=Qw(t),function(e,t){if(t&&("object"===Hw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Jw()?Reflect.construct(t,n||[],Qw(e).constructor):t.apply(e,n))}function Jw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Jw=function(){return!!e})()}function Qw(e){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qw(e)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zw(e,t)}function $w(e,t,n){return(t=eN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eN(e){var t=function(e,t){if("object"!=Hw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hw(t)?t:t+""}var tN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xw(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,s=e.r,i=e.alwaysShow,o=e.clipPathId,l=Mo(n),c=Mo(r);if(zo(void 0===i,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var d=function(e){var t=e.x,n=e.y,r=e.xAxis,a=e.yAxis,s=Ww({x:r.scale,y:a.scale}),i=s.apply({x:t,y:n},{bandAware:!0});return aj(e,"discard")&&!s.isInRange(i)?null:i}(this.props);if(!d)return null;var u=d.x,m=d.y,p=this.props,h=p.shape,f=p.className,x=Kw(Kw({clipPath:aj(this.props,"hidden")?"url(#".concat(o,")"):void 0},fl(this.props,!0)),{},{cx:u,cy:m});return a.createElement(Bl,{className:go("recharts-reference-dot",f)},t.renderDot(h,x),nj.renderCallByParent(this.props,{x:u-s,y:m-s,width:2*s,height:2*s}))}}],r&&Yw(n.prototype,r),s&&Yw(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.Component);$w(tN,"displayName","ReferenceDot"),$w(tN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),$w(tN,"renderDot",function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):Wo()(e)?e(t):a.createElement(ru,Vw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var nN=n(4597),rN=n.n(nN),aN=n(8990),sN=n.n(aN),iN=n(5797),oN=n.n(iN)()(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")});var lN=(0,a.createContext)(void 0),cN=(0,a.createContext)(void 0),dN=(0,a.createContext)(void 0),uN=(0,a.createContext)({}),mN=(0,a.createContext)(void 0),pN=(0,a.createContext)(0),hN=(0,a.createContext)(0),fN=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,s=t.offset,i=e.clipPathId,o=e.children,l=e.width,c=e.height,d=oN(s);return a.createElement(lN.Provider,{value:n},a.createElement(cN.Provider,{value:r},a.createElement(uN.Provider,{value:s},a.createElement(dN.Provider,{value:d},a.createElement(mN.Provider,{value:i},a.createElement(pN.Provider,{value:c},a.createElement(hN.Provider,{value:l},o)))))))};var xN=function(e){var t=(0,a.useContext)(lN);null==t&&El(!1);var n=t[e];return null==n&&El(!1),n},gN=function(e){var t=(0,a.useContext)(cN);null==t&&El(!1);var n=t[e];return null==n&&El(!1),n},yN=function(){return(0,a.useContext)(hN)},vN=function(){return(0,a.useContext)(pN)};function bN(e){return bN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bN(e)}function jN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AN(r.key),r)}}function wN(e,t,n){return t=kN(t),function(e,t){if(t&&("object"===bN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,NN()?Reflect.construct(t,n||[],kN(e).constructor):t.apply(e,n))}function NN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(NN=function(){return!!e})()}function kN(e){return kN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kN(e)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SN(e,t)}function _N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(n),!0).forEach(function(t){ON(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ON(e,t,n){return(t=AN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AN(e){var t=function(e,t){if("object"!=bN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bN(t)?t:t+""}function PN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return EN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TN.apply(this,arguments)}function MN(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=(0,a.useContext)(mN),u=xN(s),m=gN(i),p=(0,a.useContext)(dN);if(!d||!p)return null;zo(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,a,s,i,o,l){var c=a.x,d=a.y,u=a.width,m=a.height;if(n){var p=l.y,h=e.y.apply(p,{position:s});if(aj(l,"discard")&&!e.y.isInRange(h))return null;var f=[{x:c+u,y:h},{x:c,y:h}];return"left"===o?f.reverse():f}if(t){var x=l.x,g=e.x.apply(x,{position:s});if(aj(l,"discard")&&!e.x.isInRange(g))return null;var y=[{x:g,y:d+m},{x:g,y:d}];return"top"===i?y.reverse():y}if(r){var v=l.segment.map(function(t){return e.apply(t,{position:s})});return aj(l,"discard")&&rN()(v,function(t){return!e.isInRange(t)})?null:v}return null}(Ww({x:u.scale,y:m.scale}),Mo(t),Mo(n),r&&2===r.length,p,e.position,u.orientation,m.orientation,e);if(!h)return null;var f=PN(h,2),x=f[0],g=x.x,y=x.y,v=f[1],b=v.x,j=v.y,w=CN(CN({clipPath:aj(e,"hidden")?"url(#".concat(d,")"):void 0},fl(e,!0)),{},{x1:g,y1:y,x2:b,y2:j});return a.createElement(Bl,{className:go("recharts-reference-line",l)},function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):Wo()(e)?e(t):a.createElement("line",TN({},t,{className:"recharts-reference-line-line"}))}(o,w),nj.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2;return zw({x:t,y:n},{x:r,y:a})}({x1:g,y1:y,x2:b,y2:j})))}var IN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.createElement(MN,this.props)}}])&&jN(n.prototype,r),s&&jN(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.Component);function DN(){return DN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DN.apply(this,arguments)}function FN(e){return FN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FN(e)}function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(t){VN(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HN(r.key),r)}}function UN(e,t,n){return t=qN(t),function(e,t){if(t&&("object"===FN(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zN()?Reflect.construct(t,n||[],qN(e).constructor):t.apply(e,n))}function zN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(zN=function(){return!!e})()}function qN(e){return qN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qN(e)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},WN(e,t)}function VN(e,t,n){return(t=HN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HN(e){var t=function(e,t){if("object"!=FN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FN(t)?t:t+""}ON(IN,"displayName","ReferenceLine"),ON(IN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var GN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),UN(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,s=e.y1,i=e.y2,o=e.className,l=e.alwaysShow,c=e.clipPathId;zo(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Mo(n),u=Mo(r),m=Mo(s),p=Mo(i),h=this.props.shape;if(!d&&!u&&!m&&!p&&!h)return null;var f=function(e,t,n,r,a){var s=a.x1,i=a.x2,o=a.y1,l=a.y2,c=a.xAxis,d=a.yAxis;if(!c||!d)return null;var u=Ww({x:c.scale,y:d.scale}),m={x:e?u.x.apply(s,{position:"start"}):u.x.rangeMin,y:n?u.y.apply(o,{position:"start"}):u.y.rangeMin},p={x:t?u.x.apply(i,{position:"end"}):u.x.rangeMax,y:r?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!aj(a,"discard")||u.isInRange(m)&&u.isInRange(p)?zw(m,p):null}(d,u,m,p,this.props);if(!f&&!h)return null;var x=aj(this.props,"hidden")?"url(#".concat(c,")"):void 0;return a.createElement(Bl,{className:go("recharts-reference-area",o)},t.renderRect(h,LN(LN({clipPath:x},fl(this.props,!0)),f)),nj.renderCallByParent(this.props,f))}}])&&BN(n.prototype,r),s&&BN(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.Component);function KN(e){return function(e){if(Array.isArray(e))return YN(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return YN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YN(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}VN(GN,"displayName","ReferenceArea"),VN(GN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),VN(GN,"renderRect",function(e,t){return a.isValidElement(e)?a.cloneElement(e,t):Wo()(e)?e(t):a.createElement(Vm,DN({},t,{className:"recharts-reference-area-rect"}))});var XN=function(e,t,n,r,a){var s=dl(e,IN),i=dl(e,tN),o=[].concat(KN(s),KN(i)),l=dl(e,GN),c="".concat(r,"Id"),d=r[0],u=t;if(o.length&&(u=o.reduce(function(e,t){if(t.props[c]===n&&aj(t.props,"extendDomain")&&To(t.props[d])){var r=t.props[d];return[Math.min(e[0],r),Math.max(e[1],r)]}return e},u)),l.length){var m="".concat(d,"1"),p="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===n&&aj(t.props,"extendDomain")&&To(t.props[m])&&To(t.props[p])){var r=t.props[m],a=t.props[p];return[Math.min(e[0],r,a),Math.max(e[1],r,a)]}return e},u)}return a&&a.length&&(u=a.reduce(function(e,t){return To(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},JN=n(7283),QN=new(n.n(JN)()),ZN="recharts.syncMouseEvents";function $N(e){return $N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$N(e)}function ek(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nk(r.key),r)}}function tk(e,t,n){return(t=nk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nk(e){var t=function(e,t){if("object"!=$N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$N(t)?t:t+""}var rk=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),tk(this,"activeIndex",0),tk(this,"coordinateList",[]),tk(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,a=e.container,s=void 0===a?null:a,i=e.layout,o=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==s&&void 0!==s?s:this.container,this.layout=null!==o&&void 0!==o?o:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==u&&void 0!==u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,a=n.y,s=n.height,i=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+i+o,d=a+this.offset.top+s/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}],t&&ek(e.prototype,t),n&&ek(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function ak(){}function sk(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ik(e){this._context=e}function ok(e){this._context=e}function lk(e){this._context=e}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ok.prototype={areaStart:ak,areaEnd:ak,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},lk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sk(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class ck{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function dk(e){this._context=e}function uk(e){this._context=e}function mk(e){return new uk(e)}function pk(e){return e<0?-1:1}function hk(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),i=(n-e._y1)/(a||r<0&&-0),o=(s*a+i*r)/(r+a);return(pk(s)+pk(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function fk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xk(e,t,n){var r=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,a+o*t,s-o,i-o*n,s,i)}function gk(e){this._context=e}function yk(e){this._context=new vk(e)}function vk(e){this._context=e}function bk(e){this._context=e}function jk(e){var t,n,r=e.length-1,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function wk(e,t){this._context=e,this._t=t}function Nk(e){return e[0]}function kk(e){return e[1]}function Sk(e,t){var n=Zc(!0),r=null,a=mk,s=null,i=vd(o);function o(o){var l,c,d,u=(o=Ly(o)).length,m=!1;for(null==r&&(s=a(d=i())),l=0;l<=u;++l)!(l<u&&n(c=o[l],l,o))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(c,l,o),+t(c,l,o));if(d)return s=null,d+""||null}return e="function"===typeof e?e:void 0===e?Nk:Zc(e),t="function"===typeof t?t:void 0===t?kk:Zc(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:Zc(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:Zc(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:Zc(!!e),o):n},o.curve=function(e){return arguments.length?(a=e,null!=r&&(s=a(r)),o):a},o.context=function(e){return arguments.length?(null==e?r=s=null:s=a(r=e),o):r},o}function _k(e,t,n){var r=null,a=Zc(!0),s=null,i=mk,o=null,l=vd(c);function c(c){var d,u,m,p,h,f=(c=Ly(c)).length,x=!1,g=new Array(f),y=new Array(f);for(null==s&&(o=i(h=l())),d=0;d<=f;++d){if(!(d<f&&a(p=c[d],d,c))===x)if(x=!x)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=u;--m)o.point(g[m],y[m]);o.lineEnd(),o.areaEnd()}x&&(g[d]=+e(p,d,c),y[d]=+t(p,d,c),o.point(r?+r(p,d,c):g[d],n?+n(p,d,c):y[d]))}if(h)return o=null,h+""||null}function d(){return Sk().defined(a).curve(i).context(s)}return e="function"===typeof e?e:void 0===e?Nk:Zc(+e),t="function"===typeof t?t:Zc(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?kk:Zc(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Zc(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Zc(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Zc(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Zc(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Zc(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Zc(+e),c):n},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(n)},c.lineX1=function(){return d().x(r).y(t)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:Zc(!!e),c):a},c.curve=function(e){return arguments.length?(i=e,null!=s&&(o=i(s)),c):i},c.context=function(e){return arguments.length?(null==e?s=o=null:o=i(s=e),c):s},c}function Ck(e){return Ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ck(e)}function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ok.apply(this,arguments)}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(t){Ek(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ek(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Ck(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ck(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ck(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}dk.prototype={areaStart:ak,areaEnd:ak,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},uk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},gk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xk(this,this._t0,fk(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xk(this,fk(this,n=hk(this,e,t)),n);break;default:xk(this,this._t0,n=hk(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(yk.prototype=Object.create(gk.prototype)).point=function(e,t){gk.prototype.point.call(this,t,e)},vk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}},bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=jk(e),a=jk(t),s=0,i=1;i<n;++s,++i)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Tk={curveBasisClosed:function(e){return new ok(e)},curveBasisOpen:function(e){return new lk(e)},curveBasis:function(e){return new ik(e)},curveBumpX:function(e){return new ck(e,!0)},curveBumpY:function(e){return new ck(e,!1)},curveLinearClosed:function(e){return new dk(e)},curveLinear:mk,curveMonotoneX:function(e){return new gk(e)},curveMonotoneY:function(e){return new yk(e)},curveNatural:function(e){return new bk(e)},curveStep:function(e){return new wk(e,.5)},curveStepAfter:function(e){return new wk(e,1)},curveStepBefore:function(e){return new wk(e,0)}},Mk=function(e){return e.x===+e.x&&e.y===+e.y},Ik=function(e){return e.x},Dk=function(e){return e.y},Fk=function(e){var t,n=e.type,r=void 0===n?"linear":n,a=e.points,s=void 0===a?[]:a,i=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(Wo()(e))return e;var n="curve".concat(Ac()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?Tk[n]||mk:Tk["".concat(n).concat("vertical"===t?"Y":"X")]}(r,o),u=c?s.filter(function(e){return Mk(e)}):s;if(Array.isArray(i)){var m=c?i.filter(function(e){return Mk(e)}):i,p=u.map(function(e,t){return Pk(Pk({},e),{},{base:m[t]})});return t="vertical"===o?_k().y(Dk).x1(Ik).x0(function(e){return e.base.x}):_k().x(Ik).y1(Dk).y0(function(e){return e.base.y}),t.defined(Mk).curve(d),t(p)}return(t="vertical"===o&&To(i)?_k().y(Dk).x1(Ik).x0(i):To(i)?_k().x(Ik).y1(Dk).y0(i):Sk().x(Ik).y(Dk)).defined(Mk).curve(d),t(u)},Rk=function(e){var t=e.className,n=e.points,r=e.path,s=e.pathRef;if((!n||!n.length)&&!r)return null;var i=n&&n.length?Fk(e):r;return a.createElement("path",Ok({},fl(e,!1),$o(e),{className:go("recharts-curve",t),d:i,ref:s}))};function Lk(e){return Lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lk(e)}var Bk=["x","y","top","left","width","height","className"];function Uk(){return Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uk.apply(this,arguments)}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Lk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Lk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wk(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Vk=function(e,t,n,r,a,s){return"M".concat(e,",").concat(a,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n)},Hk=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,s=void 0===r?0:r,i=e.top,o=void 0===i?0:i,l=e.left,c=void 0===l?0:l,d=e.width,u=void 0===d?0:d,m=e.height,p=void 0===m?0:m,h=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(t){qk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:n,y:s,top:o,left:c,width:u,height:p},Wk(e,Bk));return To(n)&&To(s)&&To(u)&&To(p)&&To(o)&&To(c)?a.createElement("path",Uk({},fl(f,!0),{className:go("recharts-cross",h),d:Vk(n,s,u,p,o,c)})):null};function Gk(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,s=e.endAngle;return{points:[qb(t,n,r,a),qb(t,n,r,s)],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function Kk(e,t,n){var r,a,s,i;if("horizontal"===e)s=r=t.x,a=n.top,i=n.top+n.height;else if("vertical"===e)i=a=t.y,r=n.left,s=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Gk(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,m=qb(o,l,c,u),p=qb(o,l,d,u);r=m.x,a=m.y,s=p.x,i=p.y}return[{x:r,y:a},{x:s,y:i}]}function Yk(e){return Yk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yk(e)}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(t){Qk(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qk(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Yk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yk(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zk(e){var t,n,r,s=e.element,i=e.tooltipEventType,o=e.isActive,l=e.activeCoordinate,c=e.activePayload,d=e.offset,u=e.activeTooltipIndex,m=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,f=null!==(t=s.props.cursor)&&void 0!==t?t:null===(n=s.type.defaultProps)||void 0===n?void 0:n.cursor;if(!s||!f||!o||!l||"ScatterChart"!==h&&"axis"!==i)return null;var x=Rk;if("ScatterChart"===h)r=l,x=Hk;else if("BarChart"===h)r=function(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-a:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-a,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,d,m),x=Vm;else if("radial"===p){var g=Gk(l),y=g.cx,v=g.cy,b=g.radius;r={cx:y,cy:v,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},x=Gj}else r={points:Kk(p,l,d)},x=Rk;var j=Jk(Jk(Jk(Jk({stroke:"#ccc",pointerEvents:"none"},d),r),fl(f,!1)),{},{payload:c,payloadIndex:u,className:go("recharts-tooltip-cursor",f.className)});return(0,a.isValidElement)(f)?(0,a.cloneElement)(f,j):(0,a.createElement)(x,j)}var $k=["item"],eS=["children","className","width","height","style","compact","title","desc"];function tS(e){return tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tS(e)}function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nS.apply(this,arguments)}function rS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,s,i,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return o}}(e,t)||uS(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function sS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xS(r.key),r)}}function iS(e,t,n){return t=lS(t),function(e,t){if(t&&("object"===tS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,oS()?Reflect.construct(t,n||[],lS(e).constructor):t.apply(e,n))}function oS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oS=function(){return!!e})()}function lS(e){return lS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lS(e)}function cS(e,t){return cS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cS(e,t)}function dS(e){return function(e){if(Array.isArray(e))return mS(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||uS(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uS(e,t){if(e){if("string"===typeof e)return mS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mS(e,t):void 0}}function mS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pS(Object(n),!0).forEach(function(t){fS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fS(e,t,n){return(t=xS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xS(e){var t=function(e,t){if("object"!=tS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tS(t)?t:t+""}var gS={xAxis:["bottom","top"],yAxis:["left","right"]},yS={width:"100%",height:"100%"},vS={x:0,y:0};function bS(e){return e}var jS=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,a=t.dataEndIndex,s=(null!==n&&void 0!==n?n:[]).reduce(function(e,t){var n=t.props.data;return n&&n.length?[].concat(dS(e),dS(n)):e},[]);return s.length>0?s:e&&e.length&&To(r)&&To(a)?e.slice(r,a+1):[]};function wS(e){return"number"===e?[0,"auto"]:void 0}var NS=function(e,t,n,r){var a=e.graphicalItems,s=e.tooltipAxis,i=jS(t,e);return n<0||!a||!a.length||n>=i.length?null:a.reduce(function(a,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),s.dataKey&&!s.allowDuplicatedCategory)?c=Bo(void 0===d?i:d,s.dataKey,r):c=d&&d[n]||i[n];return c?[].concat(dS(a),[gb(o,c)]):a},[])},kS=function(e,t,n,r){var a=r||{x:e.chartX,y:e.chartY},s=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(a,n),i=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,i=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(i<=1)return 0;if(a&&"angleAxis"===a.axisType&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var o=a.range,l=0;l<i;l++){var c=l>0?r[l-1].coordinate:r[i-1].coordinate,d=r[l].coordinate,u=l>=i-1?r[0].coordinate:r[l+1].coordinate,m=void 0;if(Po(d-c)!==Po(u-d)){var p=[];if(Po(u-d)===Po(o[1]-o[0])){m=u;var h=d+o[1]-o[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{m=c;var f=u+o[1]-o[0];p[0]=Math.min(d,(f+d)/2),p[1]=Math.max(d,(f+d)/2)}var x=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>x[0]&&e<=x[1]||e>=p[0]&&e<=p[1]){s=r[l].index;break}}else{var g=Math.min(c,u),y=Math.max(c,u);if(e>(g+d)/2&&e<=(y+d)/2){s=r[l].index;break}}}else for(var v=0;v<i;v++)if(0===v&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v>0&&v<i-1&&e>(n[v].coordinate+n[v-1].coordinate)/2&&e<=(n[v].coordinate+n[v+1].coordinate)/2||v===i-1&&e>(n[v].coordinate+n[v-1].coordinate)/2){s=n[v].index;break}return s}(s,i,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=NS(e,t,c,d),m=function(e,t,n,r){var a=t.find(function(e){return e&&e.index===n});if(a){if("horizontal"===e)return{x:a.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:a.coordinate};if("centric"===e){var s=a.coordinate,i=r.radius;return hS(hS(hS({},r),qb(r.cx,r.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,l=r.angle;return hS(hS(hS({},r),qb(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return vS}(n,i,c,a);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:m}}return null},SS=function(e,t){var n=t.axes,r=t.graphicalItems,a=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,m=tb(c,a);return n.reduce(function(t,n){var p,h=void 0!==n.type.defaultProps?hS(hS({},n.type.defaultProps),n.props):n.props,f=h.type,x=h.dataKey,g=h.allowDataOverflow,y=h.allowDuplicatedCategory,v=h.scale,b=h.ticks,j=h.includeHidden,w=h[s];if(t[w])return t;var N,k,S,_=jS(e.data,{graphicalItems:r.filter(function(e){var t;return(s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s])===w}),dataStartIndex:o,dataEndIndex:l}),C=_.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],a=null===e||void 0===e?void 0:e[1];if(r&&a&&To(r)&&To(a))return!0}return!1})(h.domain,g,f)&&(N=hb(h.domain,null,g),!m||"number"!==f&&"auto"===v||(S=Qv(_,x,"category")));var O=wS(f);if(!N||0===N.length){var A,P=null!==(A=h.domain)&&void 0!==A?A:O;if(x){if(N=Qv(_,x,f),"category"===f&&m){var E=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(N);y&&E?(k=N,N=Cl()(0,C)):y||(N=xb(P,N,n).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(dS(e),[t])},[]))}else if("category"===f)N=y?N.filter(function(e){return""!==e&&!Ao()(e)}):xb(P,N,n).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Ao()(t)?e:[].concat(dS(e),[t])},[]);else if("number"===f){var T=function(e,t,n,r,a){var s=t.map(function(t){return $v(e,t,n,a,r)}).filter(function(e){return!Ao()(e)});return s&&s.length?s.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(_,r.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===w&&(j||!a)}),x,a,c);T&&(N=T)}!m||"number"!==f&&"auto"===v||(S=Qv(_,x,"category"))}else N=m?Cl()(0,C):i&&i[w]&&i[w].hasStack&&"number"===f?"expand"===u?[0,1]:ub(i[w].stackGroups,o,l):eb(_,r.filter(function(e){var t=s in e.props?e.props[s]:e.type.defaultProps[s],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!n)}),f,c,!0);if("number"===f)N=XN(d,N,w,a,b),P&&(N=hb(P,N,g));else if("category"===f&&P){var M=P;N.every(function(e){return M.indexOf(e)>=0})&&(N=M)}}return hS(hS({},t),{},fS({},w,hS(hS({},h),{},{axisType:a,domain:N,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(p=h.domain)&&void 0!==p?p:O,isCategorical:m,layout:c})))},{})},_S=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,a=t.AxisComp,s=t.graphicalItems,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(r,"Id"),u=dl(c,a),m={};return u&&u.length?m=SS(e,{axes:u,graphicalItems:s,axisType:r,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l}):s&&s.length&&(m=function(e,t){var n=t.graphicalItems,r=t.Axis,a=t.axisType,s=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=jS(e.data,{graphicalItems:n,dataStartIndex:o,dataEndIndex:l}),m=u.length,p=tb(c,a),h=-1;return n.reduce(function(e,t){var f,x=(void 0!==t.type.defaultProps?hS(hS({},t.type.defaultProps),t.props):t.props)[s],g=wS("number");return e[x]?e:(h++,p?f=Cl()(0,m):i&&i[x]&&i[x].hasStack?(f=ub(i[x].stackGroups,o,l),f=XN(d,f,x,a)):(f=hb(g,eb(u,n.filter(function(e){var t,n,r=s in e.props?e.props[s]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[s],a="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===x&&!a}),"number",c),r.defaultProps.allowDataOverflow),f=XN(d,f,x,a)),hS(hS({},e),{},fS({},x,hS(hS({axisType:a},r.defaultProps),{},{hide:!0,orientation:So()(gS,"".concat(a,".").concat(h%2),null),domain:f,originalDomain:g,isCategorical:p,layout:c}))))},{})}(e,{Axis:a,graphicalItems:s,axisType:r,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l})),m},CS=function(e){var t=e.children,n=e.defaultShowTooltip,r=ul(t,Db),a=0,s=0;return e.data&&0!==e.data.length&&(s=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(a=r.props.startIndex),r.props.endIndex>=0&&(s=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},OS=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},AS=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),a=void 0===r?{}:r,s=e.yAxisMap,i=void 0===s?{}:s,o=n.width,l=n.height,c=n.children,d=n.margin||{},u=ul(c,Db),m=ul(c,tu),p=Object.keys(i).reduce(function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:hS(hS({},e),{},fS({},r,e[r]+n.width))},{left:d.left||0,right:d.right||0}),h=Object.keys(a).reduce(function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:hS(hS({},e),{},fS({},r,So()(e,"".concat(r))+n.height))},{top:d.top||0,bottom:d.bottom||0}),f=hS(hS({},h),p),x=f.bottom;u&&(f.bottom+=u.props.height||Db.defaultProps.height),m&&t&&(f=function(e,t,n,r){var a=n.children,s=n.width,i=n.margin,o=s-(i.left||0)-(i.right||0),l=Wv({children:a,legendWidth:o});if(l){var c=r||{},d=c.width,u=c.height,m=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==m&&To(e[m]))return Yv(Yv({},e),{},Xv({},m,e[m]+(d||0)));if(("horizontal"===h||"vertical"===h&&"center"===m)&&"middle"!==p&&To(e[p]))return Yv(Yv({},e),{},Xv({},p,e[p]+(u||0)))}return e}(f,0,n,t));var g=o-f.left-f.right,y=l-f.top-f.bottom;return hS(hS({brushBottom:x},f),{},{width:Math.max(g,0),height:Math.max(y,0)})},PS=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},ES=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,s=void 0===r?"axis":r,i=e.validateTooltipEventTypes,o=void 0===i?["axis"]:i,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,m=function(e,t){var n=t.graphicalItems,r=t.stackGroups,a=t.offset,s=t.updateId,i=t.dataStartIndex,o=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,m=e.barCategoryGap,p=e.maxBarSize,h=OS(d),f=h.numericAxisName,x=h.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=il(e&&e.type);return t&&t.indexOf("Bar")>=0})}(n),y=[];return n.forEach(function(n,h){var v=jS(e.data,{graphicalItems:[n],dataStartIndex:i,dataEndIndex:o}),b=void 0!==n.type.defaultProps?hS(hS({},n.type.defaultProps),n.props):n.props,j=b.dataKey,w=b.maxBarSize,N=b["".concat(f,"Id")],k=b["".concat(x,"Id")],S=l.reduce(function(e,n){var r=t["".concat(n.axisType,"Map")],a=b["".concat(n.axisType,"Id")];r&&r[a]||"zAxis"===n.axisType||El(!1);var s=r[a];return hS(hS({},e),{},fS(fS({},n.axisType,s),"".concat(n.axisType,"Ticks"),rb(s)))},{}),_=S[x],C=S["".concat(x,"Ticks")],O=r&&r[N]&&r[N].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?Yv(Yv({},e.type.defaultProps),e.props):e.props).stackId;if(Mo(r)){var a=t[r];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null}(n,r[N].stackGroups),A=il(n.type).indexOf("Bar")>=0,P=fb(_,C),E=[],T=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,a=void 0===r?{}:r;if(!a)return{};for(var s={},i=Object.keys(a),o=0,l=i.length;o<l;o++)for(var c=a[i[o]].stackGroups,d=Object.keys(c),u=0,m=d.length;u<m;u++){var p=c[d[u]],h=p.items,f=p.cateAxisId,x=h.filter(function(e){return il(e.type).indexOf("Bar")>=0});if(x&&x.length){var g=x[0].type.defaultProps,y=void 0!==g?Yv(Yv({},g),x[0].props):x[0].props,v=y.barSize,b=y[f];s[b]||(s[b]=[]);var j=Ao()(v)?t:v;s[b].push({item:x[0],stackList:x.slice(1),barSize:Ao()(j)?void 0:Fo(j,n,0)})}}return s}({barSize:c,stackGroups:r,totalSize:PS(S,x)});if(A){var M,I,D=Ao()(w)?p:w,F=null!==(M=null!==(I=fb(_,C,!0))&&void 0!==I?I:D)&&void 0!==M?M:0;E=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,a=e.sizeList,s=void 0===a?[]:a,i=e.maxBarSize,o=s.length;if(o<1)return null;var l,c=Fo(t,r,0,!0),d=[];if(s[0].barSize===+s[0].barSize){var u=!1,m=r/o,p=s.reduce(function(e,t){return e+t.barSize||0},0);(p+=(o-1)*c)>=r&&(p-=(o-1)*c,c=0),p>=r&&m>0&&(u=!0,p=o*(m*=.9));var h={offset:((r-p)/2|0)-c,size:0};l=s.reduce(function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+c,size:u?m:t.barSize}},r=[].concat(Hv(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:h})}),r},d)}else{var f=Fo(n,r,0,!0);r-2*f-(o-1)*c<=0&&(c=0);var x=(r-2*f-(o-1)*c)/o;x>1&&(x>>=0);var g=i===+i?Math.min(x,i):x;l=s.reduce(function(e,t,n){var r=[].concat(Hv(e),[{item:t.item,position:{offset:f+(x+c)*n+(x-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){r.push({item:e,position:r[r.length-1].position})}),r},d)}return l}({barGap:u,barCategoryGap:m,bandSize:F!==P?F:P,sizeList:T[k],maxBarSize:D}),F!==P&&(E=E.map(function(e){return hS(hS({},e),{},{position:hS(hS({},e.position),{},{offset:e.position.offset-F/2})})}))}var R,L,B=n&&n.type&&n.type.getComposedData;B&&y.push({props:hS(hS({},B(hS(hS({},S),{},{displayedData:v,props:e,dataKey:j,item:n,bandSize:P,barPosition:E,offset:a,stackedData:O,layout:d,dataStartIndex:i,dataEndIndex:o}))),{},fS(fS(fS({key:n.key||"item-".concat(h)},f,S[f]),x,S[x]),"animationId",s)),childIndex:(R=n,L=e.children,cl(L).indexOf(R)),item:n})}),y},p=function(e,r){var a=e.props,s=e.dataStartIndex,i=e.dataEndIndex,o=e.updateId;if(!ml({props:a}))return null;var c=a.children,u=a.layout,p=a.stackOffset,h=a.data,f=a.reverseStackOrder,x=OS(u),g=x.numericAxisName,y=x.cateAxisName,v=dl(c,n),b=function(e,t,n,r,a,s){if(!e)return null;var i=(s?t.reverse():t).reduce(function(e,t){var a,s=null!==(a=t.type)&&void 0!==a&&a.defaultProps?Yv(Yv({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(s.hide)return e;var o=s[n],l=e[o]||{hasStack:!1,stackGroups:{}};if(Mo(i)){var c=l.stackGroups[i]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[Do("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return Yv(Yv({},e),{},Xv({},o,l))},{});return Object.keys(i).reduce(function(t,s){var o=i[s];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,s){var i=o.stackGroups[s];return Yv(Yv({},t),{},Xv({},s,{numericAxisId:n,cateAxisId:r,items:i.items,stackedData:lb(e,i.items,a)}))},{})),Yv(Yv({},t),{},Xv({},s,o))},{})}(h,v,"".concat(g,"Id"),"".concat(y,"Id"),p,f),j=l.reduce(function(e,t){var n="".concat(t.axisType,"Map");return hS(hS({},e),{},fS({},n,_S(a,hS(hS({},t),{},{graphicalItems:v,stackGroups:t.axisType===g&&b,dataStartIndex:s,dataEndIndex:i}))))},{}),w=AS(hS(hS({},j),{},{props:a,graphicalItems:v}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(j).forEach(function(e){j[e]=d(a,j[e],w,e.replace("Map",""),t)});var N=function(e){var t=Ro(e),n=rb(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Al()(n,function(e){return e.coordinate}),tooltipAxis:t,tooltipAxisBandSize:fb(t,n)}}(j["".concat(y,"Map")]),k=m(a,hS(hS({},j),{},{dataStartIndex:s,dataEndIndex:i,updateId:o,graphicalItems:v,stackGroups:b,offset:w}));return hS(hS({formattedGraphicalItems:k,graphicalItems:v,offset:w,stackGroups:b},N),j)},h=function(e){function n(e){var r,s,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),fS(i=iS(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),fS(i,"accessibilityManager",new rk),fS(i,"handleLegendBBoxUpdate",function(e){if(e){var t=i.state,n=t.dataStartIndex,r=t.dataEndIndex,a=t.updateId;i.setState(hS({legendBBox:e},p({props:i.props,dataStartIndex:n,dataEndIndex:r,updateId:a},hS(hS({},i.state),{},{legendBBox:e}))))}}),fS(i,"handleReceiveSyncEvent",function(e,t,n){if(i.props.syncId===e){if(n===i.eventEmitterSymbol&&"function"!==typeof i.props.syncMethod)return;i.applySyncEvent(t)}}),fS(i,"handleBrushChange",function(e){var t=e.startIndex,n=e.endIndex;if(t!==i.state.dataStartIndex||n!==i.state.dataEndIndex){var r=i.state.updateId;i.setState(function(){return hS({dataStartIndex:t,dataEndIndex:n},p({props:i.props,dataStartIndex:t,dataEndIndex:n,updateId:r},i.state))}),i.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}}),fS(i,"handleMouseEnter",function(e){var t=i.getMouseInfo(e);if(t){var n=hS(hS({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseEnter;Wo()(r)&&r(n,e)}}),fS(i,"triggeredAfterMouseMove",function(e){var t=i.getMouseInfo(e),n=t?hS(hS({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};i.setState(n),i.triggerSyncEvent(n);var r=i.props.onMouseMove;Wo()(r)&&r(n,e)}),fS(i,"handleItemMouseEnter",function(e){i.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),fS(i,"handleItemMouseLeave",function(){i.setState(function(){return{isTooltipActive:!1}})}),fS(i,"handleMouseMove",function(e){e.persist(),i.throttleTriggeredAfterMouseMove(e)}),fS(i,"handleMouseLeave",function(e){i.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};i.setState(t),i.triggerSyncEvent(t);var n=i.props.onMouseLeave;Wo()(n)&&n(t,e)}),fS(i,"handleOuterEvent",function(e){var t,n=function(e){var t=e&&e.type;return t&&sl[t]?sl[t]:null}(e),r=So()(i.props,"".concat(n));n&&Wo()(r)&&r(null!==(t=/.*touch.*/i.test(n)?i.getMouseInfo(e.changedTouches[0]):i.getMouseInfo(e))&&void 0!==t?t:{},e)}),fS(i,"handleClick",function(e){var t=i.getMouseInfo(e);if(t){var n=hS(hS({},t),{},{isTooltipActive:!0});i.setState(n),i.triggerSyncEvent(n);var r=i.props.onClick;Wo()(r)&&r(n,e)}}),fS(i,"handleMouseDown",function(e){var t=i.props.onMouseDown;Wo()(t)&&t(i.getMouseInfo(e),e)}),fS(i,"handleMouseUp",function(e){var t=i.props.onMouseUp;Wo()(t)&&t(i.getMouseInfo(e),e)}),fS(i,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),fS(i,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseDown(e.changedTouches[0])}),fS(i,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&i.handleMouseUp(e.changedTouches[0])}),fS(i,"handleDoubleClick",function(e){var t=i.props.onDoubleClick;Wo()(t)&&t(i.getMouseInfo(e),e)}),fS(i,"handleContextMenu",function(e){var t=i.props.onContextMenu;Wo()(t)&&t(i.getMouseInfo(e),e)}),fS(i,"triggerSyncEvent",function(e){void 0!==i.props.syncId&&QN.emit(ZN,i.props.syncId,e,i.eventEmitterSymbol)}),fS(i,"applySyncEvent",function(e){var t=i.props,n=t.layout,r=t.syncMethod,a=i.state.updateId,s=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)i.setState(hS({dataStartIndex:s,dataEndIndex:o},p({props:i.props,dataStartIndex:s,dataEndIndex:o,updateId:a},i.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=i.state,m=u.offset,h=u.tooltipTicks;if(!m)return;if("function"===typeof r)d=r(h,e);else if("value"===r){d=-1;for(var f=0;f<h.length;f++)if(h[f].value===e.activeLabel){d=f;break}}var x=hS(hS({},m),{},{x:m.left,y:m.top}),g=Math.min(l,x.x+x.width),y=Math.min(c,x.y+x.height),v=h[d]&&h[d].value,b=NS(i.state,i.props.data,d),j=h[d]?{x:"horizontal"===n?h[d].coordinate:g,y:"horizontal"===n?y:h[d].coordinate}:vS;i.setState(hS(hS({},e),{},{activeLabel:v,activeCoordinate:j,activePayload:b,activeTooltipIndex:d}))}else i.setState(e)}),fS(i,"renderCursor",function(e){var n,r=i.state,s=r.isTooltipActive,o=r.activeCoordinate,l=r.activePayload,c=r.offset,d=r.activeTooltipIndex,u=r.tooltipAxisBandSize,m=i.getTooltipEventType(),p=null!==(n=e.props.active)&&void 0!==n?n:s,h=i.props.layout,f=e.key||"_recharts-cursor";return a.createElement(Zk,{key:f,activeCoordinate:o,activePayload:l,activeTooltipIndex:d,chartName:t,element:e,isActive:p,layout:h,offset:c,tooltipAxisBandSize:u,tooltipEventType:m})}),fS(i,"renderPolarAxis",function(e,t,n){var r=So()(e,"type.axisType"),s=So()(i.state,"".concat(r,"Map")),o=e.type.defaultProps,l=void 0!==o?hS(hS({},o),e.props):e.props,c=s&&s[l["".concat(r,"Id")]];return(0,a.cloneElement)(e,hS(hS({},c),{},{className:go(r,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:rb(c,!0)}))}),fS(i,"renderPolarGrid",function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,s=t.polarRadius,o=i.state,l=o.radiusAxisMap,c=o.angleAxisMap,d=Ro(l),u=Ro(c),m=u.cx,p=u.cy,h=u.innerRadius,f=u.outerRadius;return(0,a.cloneElement)(e,{polarAngles:Array.isArray(r)?r:rb(u,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:rb(d,!0).map(function(e){return e.coordinate}),cx:m,cy:p,innerRadius:h,outerRadius:f,key:e.key||"polar-grid",radialLines:n})}),fS(i,"renderLegend",function(){var e=i.state.formattedGraphicalItems,t=i.props,n=t.children,r=t.width,s=t.height,o=i.props.margin||{},l=r-(o.left||0)-(o.right||0),d=Wv({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!d)return null;var u=d.item,m=aS(d,$k);return(0,a.cloneElement)(u,hS(hS({},m),{},{chartWidth:r,chartHeight:s,margin:o,onBBoxUpdate:i.handleLegendBBoxUpdate}))}),fS(i,"renderTooltip",function(){var e,t=i.props,n=t.children,r=t.accessibilityLayer,s=ul(n,Cc);if(!s)return null;var o=i.state,l=o.isTooltipActive,c=o.activeCoordinate,d=o.activePayload,u=o.activeLabel,m=o.offset,p=null!==(e=s.props.active)&&void 0!==e?e:l;return(0,a.cloneElement)(s,{viewBox:hS(hS({},m),{},{x:m.left,y:m.top}),active:p,label:u,payload:p?d:[],coordinate:c,accessibilityLayer:r})}),fS(i,"renderBrush",function(e){var t=i.props,n=t.margin,r=t.data,s=i.state,o=s.offset,l=s.dataStartIndex,c=s.dataEndIndex,d=s.updateId;return(0,a.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:sb(i.handleBrushChange,e.props.onChange),data:r,x:To(e.props.x)?e.props.x:o.left,y:To(e.props.y)?e.props.y:o.top+o.height+o.brushBottom-(n.bottom||0),width:To(e.props.width)?e.props.width:o.width,startIndex:l,endIndex:c,updateId:"brush-".concat(d)})}),fS(i,"renderReferenceElement",function(e,t,n){if(!e)return null;var r=i.clipPathId,s=i.state,o=s.xAxisMap,l=s.yAxisMap,c=s.offset,d=e.type.defaultProps||{},u=e.props,m=u.xAxisId,p=void 0===m?d.xAxisId:m,h=u.yAxisId,f=void 0===h?d.yAxisId:h;return(0,a.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:o[p],yAxis:l[f],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:r})}),fS(i,"renderActivePoints",function(e){var t=e.item,r=e.activePoint,a=e.basePoint,s=e.childIndex,i=e.isRange,o=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?hS(hS({},t.item.type.defaultProps),t.item.props):t.item.props,d=c.activeDot,u=hS(hS({index:s,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:Zv(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},fl(d,!1)),$o(d));return o.push(n.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(s))),a?o.push(n.renderActiveDot(d,hS(hS({},u),{},{cx:a.x,cy:a.y}),"".concat(l,"-basePoint-").concat(s))):i&&o.push(null),o}),fS(i,"renderGraphicChild",function(e,t,n){var r=i.filterFormatItem(e,t,n);if(!r)return null;var s=i.getTooltipEventType(),o=i.state,l=o.isTooltipActive,c=o.tooltipAxis,d=o.activeTooltipIndex,u=o.activeLabel,m=ul(i.props.children,Cc),p=r.props,h=p.points,f=p.isRange,x=p.baseLine,g=void 0!==r.item.type.defaultProps?hS(hS({},r.item.type.defaultProps),r.item.props):r.item.props,y=g.activeDot,v=g.hide,b=g.activeBar,j=g.activeShape,w=Boolean(!v&&l&&m&&(y||b||j)),N={};"axis"!==s&&m&&"click"===m.props.trigger?N={onClick:sb(i.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(N={onMouseLeave:sb(i.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:sb(i.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,a.cloneElement)(e,hS(hS({},r.props),N));if(w){if(!(d>=0)){var S,_=(null!==(S=i.getItemByXY(i.state.activeCoordinate))&&void 0!==S?S:{graphicalItem:k}).graphicalItem,C=_.item,O=void 0===C?e:C,A=_.childIndex,P=hS(hS(hS({},r.props),N),{},{activeIndex:A});return[(0,a.cloneElement)(O,P),null,null]}var E,T;if(c.dataKey&&!c.allowDuplicatedCategory){var M="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());E=Bo(h,M,u),T=f&&x&&Bo(x,M,u)}else E=null===h||void 0===h?void 0:h[d],T=f&&x&&x[d];if(j||b){var I=void 0!==e.props.activeIndex?e.props.activeIndex:d;return[(0,a.cloneElement)(e,hS(hS(hS({},r.props),N),{},{activeIndex:I})),null,null]}if(!Ao()(E))return[k].concat(dS(i.renderActivePoints({item:r,activePoint:E,basePoint:T,childIndex:d,isRange:f})))}return f?[k,null,null]:[k,null]}),fS(i,"renderCustomized",function(e,t,n){return(0,a.cloneElement)(e,hS(hS({key:"recharts-customized-".concat(n)},i.props),i.state))}),fS(i,"renderMap",{CartesianGrid:{handler:bS,once:!0},ReferenceArea:{handler:i.renderReferenceElement},ReferenceLine:{handler:bS},ReferenceDot:{handler:i.renderReferenceElement},XAxis:{handler:bS},YAxis:{handler:bS},Brush:{handler:i.renderBrush,once:!0},Bar:{handler:i.renderGraphicChild},Line:{handler:i.renderGraphicChild},Area:{handler:i.renderGraphicChild},Radar:{handler:i.renderGraphicChild},RadialBar:{handler:i.renderGraphicChild},Scatter:{handler:i.renderGraphicChild},Pie:{handler:i.renderGraphicChild},Funnel:{handler:i.renderGraphicChild},Tooltip:{handler:i.renderCursor,once:!0},PolarGrid:{handler:i.renderPolarGrid,once:!0},PolarAngleAxis:{handler:i.renderPolarAxis},PolarRadiusAxis:{handler:i.renderPolarAxis},Customized:{handler:i.renderCustomized}}),i.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:Do("recharts"),"-clip"),i.throttleTriggeredAfterMouseMove=vo()(i.triggeredAfterMouseMove,null!==(s=e.throttleDelay)&&void 0!==s?s:1e3/60),i.state={},i}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cS(e,t)}(n,e),r=n,i=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,a=e.layout,s=ul(t,Cc);if(s){var i=s.props.defaultIndex;if(!("number"!==typeof i||i<0||i>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=NS(this.state,n,i,o),c=this.state.tooltipTicks[i].coordinate,d=(this.state.offset.top+r)/2,u="horizontal"===a?{x:c,y:d}:{y:c,x:d},m=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});m&&(u=hS(hS({},u),m.props.points[i].tooltipPosition),l=m.props.points[i].tooltipPayload);var p={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(p),this.renderCursor(s),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){xl([ul(e.children,Cc)],[ul(this.props.children,Cc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=ul(this.props.children,Cc);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return o.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),a={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},s={chartX:Math.round(e.pageX-a.left),chartY:Math.round(e.pageY-a.top)},i=r.width/n.offsetWidth||1,o=this.inRange(s.chartX,s.chartY,i);if(!o)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),m=kS(this.state,this.props.data,this.props.layout,o);if("axis"!==u&&c&&d){var p=Ro(c).scale,h=Ro(d).scale,f=p&&p.invert?p.invert(s.chartX):null,x=h&&h.invert?h.invert(s.chartY):null;return hS(hS({},s),{},{xValue:f,yValue:x},m)}return m?hS(hS({},s),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,a=e/n,s=t/n;if("horizontal"===r||"vertical"===r){var i=this.state.offset;return a>=i.left&&a<=i.left+i.width&&s>=i.top&&s<=i.top+i.height?{x:a,y:s}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=Ro(l);return Hb({x:a,y:s},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=ul(e,Cc),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),hS(hS({},$o(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){QN.on(ZN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){QN.removeListener(ZN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,a=0,s=r.length;a<s;a++){var i=r[a];if(i.item===e||i.props.key===e.key||t===il(i.item.type)&&n===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,s=t.height,i=t.width;return a.createElement("defs",null,a.createElement("clipPath",{id:e},a.createElement("rect",{x:n,y:r,height:s,width:i})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=rS(t,2),r=n[0],a=n[1];return hS(hS({},e),{},fS({},r,a.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var n=rS(t,2),r=n[0],a=n[1];return hS(hS({},e),{},fS({},r,a.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var a=0,s=n.length;a<s;a++){var i=n[a],o=i.props,l=i.item,c=void 0!==l.type.defaultProps?hS(hS({},l.type.defaultProps),l.props):l.props,d=il(l.type);if("Bar"===d){var u=(o.data||[]).find(function(t){return qm(e,t)});if(u)return{graphicalItem:i,payload:u}}else if("RadialBar"===d){var m=(o.data||[]).find(function(t){return Hb(e,t)});if(m)return{graphicalItem:i,payload:m}}else if(nw(i,r)||rw(i,r)||aw(i,r)){var p=lw({graphicalItem:i,activeTooltipItem:r,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:hS(hS({},i),{},{childIndex:h}),payload:aw(i,r)?c.data[p]:i.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!ml(this))return null;var t,n,r=this.props,s=r.children,i=r.className,o=r.width,l=r.height,c=r.style,d=r.compact,u=r.title,m=r.desc,p=aS(r,eS),h=fl(p,!1);if(d)return a.createElement(fN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement(Dl,nS({},h,{width:o,height:l,title:u,desc:m}),this.renderClipPath(),yl(s,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(n=this.props.role)&&void 0!==n?n:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return a.createElement(fN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},a.createElement("div",nS({className:go("recharts-wrapper",i),style:hS({position:"relative",cursor:"default",width:o,height:l},c)},f,{ref:function(t){e.container=t}}),a.createElement(Dl,nS({},h,{width:o,height:l,title:u,desc:m,style:yS}),this.renderClipPath(),yl(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],i&&sS(r.prototype,i),l&&sS(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,l}(a.Component);fS(h,"displayName",t),fS(h,"defaultProps",hS({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),fS(h,"getDerivedStateFromProps",function(e,t){var n=e.dataKey,r=e.data,a=e.children,s=e.width,i=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var m=CS(e);return hS(hS(hS({},m),{},{updateId:0},p(hS(hS({props:e},m),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(n!==t.prevDataKey||r!==t.prevData||s!==t.prevWidth||i!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!Ko(c,t.prevMargin)){var h=CS(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},x=hS(hS({},kS(t,r,o)),{},{updateId:t.updateId+1}),g=hS(hS(hS({},h),f),x);return hS(hS(hS({},g),p(hS({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:s,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:a})}if(!xl(a,t.prevChildren)){var y,v,b,j,w=ul(a,Db),N=w&&null!==(y=null===(v=w.props)||void 0===v?void 0:v.startIndex)&&void 0!==y?y:d,k=w&&null!==(b=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==b?b:u,S=N!==d||k!==u,_=!Ao()(r)&&!S?t.updateId:t.updateId+1;return hS(hS({updateId:_},p(hS(hS({props:e},t),{},{updateId:_,dataStartIndex:N,dataEndIndex:k}),t)),{},{prevChildren:a,dataStartIndex:N,dataEndIndex:k})}return null}),fS(h,"renderActiveDot",function(e,t,n){var r;return r=(0,a.isValidElement)(e)?(0,a.cloneElement)(e,t):Wo()(e)?e(t):a.createElement(ru,t),a.createElement(Bl,{className:"recharts-active-dot",key:n},r)});var f=(0,a.forwardRef)(function(e,t){return a.createElement(h,nS({},e,{ref:t}))});return f.displayName=h.displayName,f},TS=["type","layout","connectNulls","ref"],MS=["key"];function IS(e){return IS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IS(e)}function DS(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FS.apply(this,arguments)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function LS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(t){GS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BS(e){return function(e){if(Array.isArray(e))return US(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return US(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return US(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function US(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KS(r.key),r)}}function qS(e,t,n){return t=VS(t),function(e,t){if(t&&("object"===IS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WS()?Reflect.construct(t,n||[],VS(e).constructor):t.apply(e,n))}function WS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(WS=function(){return!!e})()}function VS(e){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VS(e)}function HS(e,t){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HS(e,t)}function GS(e,t,n){return(t=KS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KS(e){var t=function(e,t){if("object"!=IS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IS(t)?t:t+""}var YS=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return GS(e=qS(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),GS(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),GS(e,"getStrokeDasharray",function(n,r,a){var s=a.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(r,n);for(var i=Math.floor(n/s),o=n%s,l=r-n,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>o){c=[].concat(BS(a.slice(0,d)),[o-u]);break}var m=c.length%2===0?[0,l]:[l];return[].concat(BS(t.repeat(a,i)),BS(c),m).map(function(e){return"".concat(e,"px")}).join(", ")}),GS(e,"id",Do("recharts-line-")),GS(e,"pathRef",function(t){e.mainCurve=t}),GS(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),GS(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HS(e,t)}(t,e),n=t,r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,s=n.xAxis,i=n.yAxis,o=n.layout,l=dl(n.children,Lv);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:Jv(e.payload,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(Bl,d,l.map(function(e){return a.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:s,yAxis:i,layout:o,dataPointFormatter:c})}))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.dot,o=s.points,l=s.dataKey,c=fl(this.props,!1),d=fl(i,!0),u=o.map(function(e,n){var r=LS(LS(LS({key:"dot-".concat(n),r:3},c),d),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:o});return t.renderDotItem(i,r)}),m={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return a.createElement(Bl,FS({className:"recharts-line-dots",key:"dots"},m),u)}},{key:"renderCurveStatically",value:function(e,t,n,r){var s=this.props,i=s.type,o=s.layout,l=s.connectNulls,c=(s.ref,DS(s,TS)),d=LS(LS(LS({},fl(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:i,layout:o,connectNulls:l});return a.createElement(Rk,FS({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,s=r.points,i=r.strokeDasharray,o=r.isAnimationActive,l=r.animationBegin,c=r.animationDuration,d=r.animationEasing,u=r.animationId,m=r.animateNewValues,p=r.width,h=r.height,f=this.state,x=f.prevPoints,g=f.totalLength;return a.createElement(Mm,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(r){var a=r.t;if(x){var o=x.length/s.length,l=s.map(function(e,t){var n=Math.floor(t*o);if(x[n]){var r=x[n],s=Lo(r.x,e.x),i=Lo(r.y,e.y);return LS(LS({},e),{},{x:s(a),y:i(a)})}if(m){var l=Lo(2*p,e.x),c=Lo(h/2,e.y);return LS(LS({},e),{},{x:l(a),y:c(a)})}return LS(LS({},e),{},{x:e.x,y:e.y})});return n.renderCurveStatically(l,e,t)}var c,d=Lo(0,g)(a);if(i){var u="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=n.getStrokeDasharray(d,g,u)}else c=n.generateSimpleStrokeDasharray(g,d);return n.renderCurveStatically(s,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,a=n.isAnimationActive,s=this.state,i=s.prevPoints,o=s.totalLength;return a&&r&&r.length&&(!i&&o>0||!Xy()(i,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,s=t.points,i=t.className,o=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,m=t.height,p=t.isAnimationActive,h=t.id;if(n||!s||!s.length)return null;var f=this.state.isAnimationFinished,x=1===s.length,g=go("recharts-line",i),y=o&&o.allowDataOverflow,v=l&&l.allowDataOverflow,b=y||v,j=Ao()(h)?this.id:h,w=null!==(e=fl(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},N=w.r,k=void 0===N?3:N,S=w.strokeWidth,_=void 0===S?2:S,C=(function(e){return e&&"object"===al(e)&&"clipDot"in e}(r)?r:{}).clipDot,O=void 0===C||C,A=2*k+_;return a.createElement(Bl,{className:g},y||v?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(j)},a.createElement("rect",{x:y?d:d-u/2,y:v?c:c-m/2,width:y?u:2*u,height:v?m:2*m})),!O&&a.createElement("clipPath",{id:"clipPath-dots-".concat(j)},a.createElement("rect",{x:d-A/2,y:c-A/2,width:u+A,height:m+A}))):null,!x&&this.renderCurve(b,j),this.renderErrorBar(b,j),(x||r)&&this.renderDots(b,O,j),(!p||f)&&Nj.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(BS(e),[0]):e,r=[],a=0;a<t;++a)r=[].concat(BS(r),BS(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(a.isValidElement(e))n=a.cloneElement(e,t);else if(Wo()(e))n=e(t);else{var r=t.key,s=DS(t,MS),i=go("recharts-line-dot","boolean"!==typeof e?e.className:"");n=a.createElement(ru,FS({key:r},s,{className:i}))}return n}}],r&&zS(n.prototype,r),s&&zS(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.PureComponent);function XS(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],a=0;a<e.length;a+=t){if(void 0!==n&&!0!==n(e[a]))return;r.push(e[a])}return r}function JS(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),a=r*Math.PI/180,s=Math.atan(n/t),i=a>s&&a<Math.PI-s?n/Math.sin(a):t/Math.cos(a);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},n)}function QS(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function ZS(e){return ZS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZS(e)}function $S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$S(Object(n),!0).forEach(function(t){t_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=ZS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n_(e,t,n){var r=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!a||!a.length||!r)return[];if(To(l)||mc.isSsr)return function(e,t){return XS(e,t+1)}(a,"number"===typeof l&&To(l)?l:0);var m=[],p="top"===o||"bottom"===o?"width":"height",h=d&&"width"===p?dp(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},f=function(e,r){var a=Wo()(c)?c(e.value,r):e.value;return"width"===p?JS(dp(a,{fontSize:t,letterSpacing:n}),h,u):dp(a,{fontSize:t,letterSpacing:n})[p]},x=a.length>=2?Po(a[1].coordinate-a[0].coordinate):1,g=function(e,t,n){var r="width"===n,a=e.x,s=e.y,i=e.width,o=e.height;return 1===t?{start:r?a:s,end:r?a+i:s+o}:{start:r?a+i:s+o,end:r?a:s}}(s,x,p);return"equidistantPreserveStart"===l?function(e,t,n,r,a){for(var s,i=(r||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,m=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:XS(r,d)};var s,i=c,m=function(){return void 0===s&&(s=n(t,i)),s},p=t.coordinate,h=0===c||QS(e,p,m,u,l);h||(c=0,u=o,d+=1),h&&(u=p+e*(m()/2+a),c+=d)};d<=i.length;)if(s=m())return s.v;return[]}(x,g,f,a,i):(m="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,a,s){var i=(r||[]).slice(),o=i.length,l=t.start,c=t.end;if(s){var d=r[o-1],u=n(d,o-1),m=e*(d.coordinate+e*u/2-c);i[o-1]=d=e_(e_({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),QS(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+a),i[o-1]=e_(e_({},d),{},{isShow:!0}))}for(var p=s?o-1:o,h=function(t){var r,s=i[t],o=function(){return void 0===r&&(r=n(s,t)),r};if(0===t){var d=e*(s.coordinate-e*o()/2-l);i[t]=s=e_(e_({},s),{},{tickCoord:d<0?s.coordinate-d*e:s.coordinate})}else i[t]=s=e_(e_({},s),{},{tickCoord:s.coordinate});QS(e,s.tickCoord,o,l,c)&&(l=s.tickCoord+e*(o()/2+a),i[t]=e_(e_({},s),{},{isShow:!0}))},f=0;f<p;f++)h(f);return i}(x,g,f,a,i,"preserveStartEnd"===l):function(e,t,n,r,a){for(var s=(r||[]).slice(),i=s.length,o=t.start,l=t.end,c=function(t){var r,c=s[t],d=function(){return void 0===r&&(r=n(c,t)),r};if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);s[t]=c=e_(e_({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else s[t]=c=e_(e_({},c),{},{tickCoord:c.coordinate});QS(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+a),s[t]=e_(e_({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return s}(x,g,f,a,i),m.filter(function(e){return e.isShow}))}GS(YS,"displayName","Line"),GS(YS,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),GS(YS,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout,u=l.map(function(e,t){var l=Jv(e,i);return"horizontal"===d?{x:cb({axis:n,ticks:a,bandSize:o,entry:e,index:t}),y:Ao()(l)?null:r.scale(l),value:l,payload:e}:{x:Ao()(l)?null:n.scale(l),y:cb({axis:r,ticks:s,bandSize:o,entry:e,index:t}),value:l,payload:e}});return LS({points:u,layout:d},c)});var r_=["viewBox"],a_=["viewBox"],s_=["ticks"];function i_(e){return i_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i_(e)}function o_(){return o_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o_.apply(this,arguments)}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(t){x_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d_(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g_(r.key),r)}}function m_(e,t,n){return t=h_(t),function(e,t){if(t&&("object"===i_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p_()?Reflect.construct(t,n||[],h_(e).constructor):t.apply(e,n))}function p_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p_=function(){return!!e})()}function h_(e){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h_(e)}function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f_(e,t)}function x_(e,t,n){return(t=g_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g_(e){var t=function(e,t){if("object"!=i_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i_(t)?t:t+""}var y_=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m_(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}(t,e),n=t,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=d_(e,r_),a=this.props,s=a.viewBox,i=d_(a,a_);return!Ko(n,s)||!Ko(r,i)||!Ko(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,a,s,i,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,m=o.orientation,p=o.tickSize,h=o.mirror,f=o.tickMargin,x=h?-1:1,g=e.tickSize||p,y=To(e.tickCoord)?e.tickCoord:e.coordinate;switch(m){case"top":t=n=e.coordinate,i=(r=(a=c+ +!h*u)-x*g)-x*f,s=y;break;case"left":r=a=e.coordinate,s=(t=(n=l+ +!h*d)-x*g)-x*f,i=y;break;case"right":r=a=e.coordinate,s=(t=(n=l+ +h*d)+x*g)+x*f,i=y;break;default:t=n=e.coordinate,i=(r=(a=c+ +h*u)+x*g)+x*f,s=y}return{line:{x1:t,y1:r,x2:n,y2:a},tick:{x:s,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,s=e.height,i=e.orientation,o=e.mirror,l=e.axisLine,c=c_(c_(c_({},fl(this.props,!1)),fl(l,!1)),{},{fill:"none"});if("top"===i||"bottom"===i){var d=+("top"===i&&!o||"bottom"===i&&o);c=c_(c_({},c),{},{x1:t,y1:n+d*s,x2:t+r,y2:n+d*s})}else{var u=+("left"===i&&!o||"right"===i&&o);c=c_(c_({},c),{},{x1:t+u*r,y1:n,x2:t+u*r,y2:n+s})}return a.createElement("line",o_({},c,{className:go("recharts-cartesian-axis-line",So()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var s=this,i=this.props,o=i.tickLine,l=i.stroke,c=i.tick,d=i.tickFormatter,u=i.unit,m=n_(c_(c_({},this.props),{},{ticks:e}),n,r),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=fl(this.props,!1),x=fl(c,!1),g=c_(c_({},f),{},{fill:"none"},fl(o,!1)),y=m.map(function(e,n){var r=s.getTickLineCoord(e),i=r.line,y=r.tick,v=c_(c_(c_(c_({textAnchor:p,verticalAnchor:h},f),{},{stroke:"none",fill:l},x),y),{},{index:n,payload:e,visibleTicksCount:m.length,tickFormatter:d});return a.createElement(Bl,o_({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},el(s.props,e,n)),o&&a.createElement("line",o_({},g,i,{className:go("recharts-cartesian-axis-tick-line",So()(o,"className"))})),c&&t.renderTickItem(c,v,"".concat(Wo()(d)?d(e.value,n):e.value).concat(u||"")))});return a.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,s=t.height,i=t.ticksGenerator,o=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,d=d_(l,s_),u=c;return Wo()(i)&&(u=c&&c.length>0?i(this.props):i(d)),r<=0||s<=0||!u||!u.length?null:a.createElement(Bl,{className:go("recharts-cartesian-axis",o),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(u,this.state.fontSize,this.state.letterSpacing),nj.renderCallByParent(this.props))}}],s=[{key:"renderTickItem",value:function(e,t,n){var r=go(t.className,"recharts-cartesian-axis-tick-value");return a.isValidElement(e)?a.cloneElement(e,c_(c_({},t),{},{className:r})):Wo()(e)?e(c_(c_({},t),{},{className:r})):a.createElement(Bp,o_({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],r&&u_(n.prototype,r),s&&u_(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.Component);function v_(e){return v_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(e)}function b_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,__(r.key),r)}}function j_(e,t,n){return t=N_(t),function(e,t){if(t&&("object"===v_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,w_()?Reflect.construct(t,n||[],N_(e).constructor):t.apply(e,n))}function w_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(w_=function(){return!!e})()}function N_(e){return N_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},N_(e)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k_(e,t)}function S_(e,t,n){return(t=__(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __(e){var t=function(e,t){if("object"!=v_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v_(t)?t:t+""}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(this,arguments)}function O_(e){var t=e.xAxisId,n=yN(),r=vN(),s=xN(t);return null==s?null:a.createElement(y_,C_({},s,{className:go("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return rb(e,!0)}}))}x_(y_,"displayName","CartesianAxis"),x_(y_,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var A_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.createElement(O_,this.props)}}])&&b_(n.prototype,r),s&&b_(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.Component);function P_(e){return P_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P_(e)}function E_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,R_(r.key),r)}}function T_(e,t,n){return t=I_(t),function(e,t){if(t&&("object"===P_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,M_()?Reflect.construct(t,n||[],I_(e).constructor):t.apply(e,n))}function M_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(M_=function(){return!!e})()}function I_(e){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I_(e)}function D_(e,t){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D_(e,t)}function F_(e,t,n){return(t=R_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R_(e){var t=function(e,t){if("object"!=P_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P_(t)?t:t+""}function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L_.apply(this,arguments)}S_(A_,"displayName","XAxis"),S_(A_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var B_=function(e){var t=e.yAxisId,n=yN(),r=vN(),s=gN(t);return null==s?null:a.createElement(y_,L_({},s,{className:go("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return rb(e,!0)}}))},U_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),T_(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D_(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return a.createElement(B_,this.props)}}])&&E_(n.prototype,r),s&&E_(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,s}(a.Component);F_(U_,"displayName","YAxis"),F_(U_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var z_=ES({chartName:"LineChart",GraphicalChild:YS,axisComponents:[{axisType:"xAxis",AxisComp:A_},{axisType:"yAxis",AxisComp:U_}],formatAxisMap:Uw}),q_=["x1","y1","x2","y2","key"],W_=["offset"];function V_(e){return V_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V_(e)}function H_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function G_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H_(Object(n),!0).forEach(function(t){K_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K_(e,t,n){return t=function(e){var t=function(e,t){if("object"!=V_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V_(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y_.apply(this,arguments)}function X_(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var J_=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,s=e.y,i=e.width,o=e.height,l=e.ry;return a.createElement("rect",{x:r,y:s,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Q_(e,t){var n;if(a.isValidElement(e))n=a.cloneElement(e,t);else if(Wo()(e))n=e(t);else{var r=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=X_(t,q_),d=fl(c,!1),u=(d.offset,X_(d,W_));n=a.createElement("line",Y_({},u,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function Z_(e){var t=e.x,n=e.width,r=e.horizontal,s=void 0===r||r,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(r,a){var i=G_(G_({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(a),index:a});return Q_(s,i)});return a.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function $_(e){var t=e.y,n=e.height,r=e.vertical,s=void 0===r||r,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(r,a){var i=G_(G_({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(a),index:a});return Q_(s,i)});return a.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function eC(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var d=l.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==d[0]&&d.unshift(0);var u=d.map(function(e,l){var c=!d[l+1]?s+o-e:d[l+1]-e;if(c<=0)return null;var u=l%t.length;return a.createElement("rect",{key:"react-".concat(l),y:e,x:r,height:c,width:i,stroke:"none",fill:t[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return a.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function tC(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var u=d.map(function(e){return Math.round(e+i-i)}).sort(function(e,t){return e-t});i!==u[0]&&u.unshift(0);var m=u.map(function(e,t){var n=!u[t+1]?i+l-e:u[t+1]-e;if(n<=0)return null;var d=t%r.length;return a.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:n,height:c,stroke:"none",fill:r[d],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return a.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var nC=function(e,t){var n=e.xAxis,r=e.width,a=e.height,s=e.offset;return nb(n_(G_(G_(G_({},y_.defaultProps),n),{},{ticks:rb(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,t)},rC=function(e,t){var n=e.yAxis,r=e.width,a=e.height,s=e.offset;return nb(n_(G_(G_(G_({},y_.defaultProps),n),{},{ticks:rb(n,!0),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,t)},aC={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sC(e){var t,n,r,s,i,o,l=yN(),c=vN(),d=(0,a.useContext)(uN),u=G_(G_({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:aC.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:aC.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:aC.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:aC.horizontalFill,vertical:null!==(i=e.vertical)&&void 0!==i?i:aC.vertical,verticalFill:null!==(o=e.verticalFill)&&void 0!==o?o:aC.verticalFill,x:To(e.x)?e.x:d.left,y:To(e.y)?e.y:d.top,width:To(e.width)?e.width:d.width,height:To(e.height)?e.height:d.height}),m=u.x,p=u.y,h=u.width,f=u.height,x=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,v=function(){var e=(0,a.useContext)(lN);return Ro(e)}(),b=function(){var e=(0,a.useContext)(cN);return sN()(e,function(e){return lj()(e.domain,Number.isFinite)})||Ro(e)}();if(!To(h)||h<=0||!To(f)||f<=0||!To(m)||m!==+m||!To(p)||p!==+p)return null;var j=u.verticalCoordinatesGenerator||nC,w=u.horizontalCoordinatesGenerator||rC,N=u.horizontalPoints,k=u.verticalPoints;if((!N||!N.length)&&Wo()(w)){var S=g&&g.length,_=w({yAxis:b?G_(G_({},b),{},{ticks:S?g:b.ticks}):void 0,width:l,height:c,offset:d},!!S||x);zo(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(V_(_),"]")),Array.isArray(_)&&(N=_)}if((!k||!k.length)&&Wo()(j)){var C=y&&y.length,O=j({xAxis:v?G_(G_({},v),{},{ticks:C?y:v.ticks}):void 0,width:l,height:c,offset:d},!!C||x);zo(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(V_(O),"]")),Array.isArray(O)&&(k=O)}return a.createElement("g",{className:"recharts-cartesian-grid"},a.createElement(J_,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),a.createElement(Z_,Y_({},u,{offset:d,horizontalPoints:N,xAxis:v,yAxis:b})),a.createElement($_,Y_({},u,{offset:d,verticalPoints:k,xAxis:v,yAxis:b})),a.createElement(eC,Y_({},u,{horizontalPoints:N})),a.createElement(tC,Y_({},u,{verticalPoints:k})))}sC.displayName="CartesianGrid";const iC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/profanity-stats",{params:e})},oC={getOverviewSummary:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/overview/summary",{params:e})},getOverviewTrends:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/overview/trends",{params:e})},getOverviewAgents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/overview/agents",{params:e})},getOverviewMetrics:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/overview",{params:e})},getAgentsList:()=>Ma.get("/analytics/overview/agents"),getAdvancedIntents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/top-intents",{params:e})},getAdvancedTopics:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/topics",{params:e})},getCallsReport:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/calls",{params:e})},getCallDetails:e=>Ma.get("/analytics/calls/".concat(e,"/details")),getCallTranscription:e=>Ma.get("/analytics/calls/".concat(e,"/transcript")),getCallAnalytics:e=>Ma.get("/analytics/calls/".concat(e,"/analytics")),exportCallsReport:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";return Ma.get("/analytics/calls/export/".concat(t),{params:e,responseType:"blob"})},getChatReport:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/chats",{params:e})},getChatSessionDetails:e=>Ma.get("/analytics/chats/".concat(e,"/details")),getChatMessages:e=>Ma.get("/analytics/chats/".concat(e,"/messages")),getChatAnalytics:e=>Ma.get("/analytics/chats/".concat(e,"/analytics")),exportChatReport:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv";return Ma.get("/analytics/chats/export/".concat(t),{params:e,responseType:"blob"})},getSentimentTrends:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/sentiment-trends",{params:e})},getIntentDistribution:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/intent-distribution",{params:e})},getKeywordAnalysis:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/keywords",{params:e})},getLanguageDistribution:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/language-distribution",{params:e})},getEmotionAnalysis:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/emotions",{params:e})},getTopicAnalysis:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/topics",{params:e})},getTopIntents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/top-intents",{params:e})},getProfanityStats:iC,getTopKeywords:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/advanced/top-keywords",{params:e})},getProfanityStats:iC,getCostOverview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/costs/overview",{params:e})},getCostTrends:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/costs/trends",{params:e})},getCostBreakdown:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/costs/breakdown",{params:e})},getAgentPerformance:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/agents/performance",{params:e})},getSatisfactionOverview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/satisfaction/overview",{params:e})},getSatisfactionTrends:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/satisfaction/trends",{params:e})},getSatisfactionFeedback:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/satisfaction/feedback",{params:e})},getSatisfactionByAgent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/satisfaction/by-agent",{params:e})},getSatisfactionByIntent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ma.get("/analytics/satisfaction/by-intent",{params:e})},getDateRangePresets:()=>{const e=new Date,t=e=>e.toISOString().split("T")[0];return{today:{label:"Today",date_from:t(e),date_to:t(e)},yesterday:{label:"Yesterday",date_from:t(new Date(e.getTime()-864e5)),date_to:t(new Date(e.getTime()-864e5))},last7days:{label:"Last 7 Days",date_from:t(new Date(e.getTime()-6048e5)),date_to:t(e)},last30days:{label:"Last 30 Days",date_from:t(new Date(e.getTime()-2592e6)),date_to:t(e)},thisMonth:{label:"This Month",date_from:t(new Date(e.getFullYear(),e.getMonth(),1)),date_to:t(e)},lastMonth:{label:"Last Month",date_from:t(new Date(e.getFullYear(),e.getMonth()-1,1)),date_to:t(new Date(e.getFullYear(),e.getMonth(),0))}}},formatCurrency:e=>"$".concat(parseFloat(e||0).toFixed(2)),formatPercentage:e=>"".concat(parseFloat(e||0).toFixed(1),"%"),formatDuration:e=>{const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,"m ").concat(n,"s")},formatDate:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";const n=new Date(e);switch(t){case"short":return n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"long":return n.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});case"time":return n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});case"datetime":return"".concat(n.toLocaleDateString("en-US",{month:"short",day:"numeric"})," ").concat(n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}));default:return n.toLocaleDateString()}}},lC=oC,cC=()=>{const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[f,x]=(0,a.useState)([]),[g,y]=(0,a.useState)([]),[v,b]=(0,a.useState)({date_from:new Date(Date.now()-2592e6).toISOString().split("T")[0],date_to:(new Date).toISOString().split("T")[0],agent_id:""}),[j,w]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{const e=await lC.getOverviewAgents();w(e.data.data.agents||[])}catch(e){console.error("Failed to fetch agents:",e)}})()},[]),(0,a.useEffect)(()=>{N()},[v]);const N=async()=>{t(!0),r(null);try{const e=qe({},v);e.agent_id||delete e.agent_id;const[t,n,r,a,s,o,c]=await Promise.all([lC.getOverviewSummary(e),lC.getOverviewTrends(e),lC.getOverviewAgents(e),lC.getAdvancedIntents(e),lC.getAdvancedTopics(e),lC.getAdvancedTopics(e),lC.getCostBreakdown(e)]);i(t.data.data),l(n.data.data.trends||[]),d(r.data.data.agents||[]),m(a.data.data.intents||[]),h(s.data.data.topics||[]),x(s.data.data.keywords||[]),y(c.data.data.breakdown||[])}catch(a){var e,n;console.error("Failed to fetch overview data:",a),r((null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to load analytics data")}finally{t(!1)}};if(e&&!s)return(0,Ia.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(ws,{className:"w-16 h-16 text-primary-600 mx-auto mb-4 animate-pulse"}),(0,Ia.jsx)("p",{className:"text-lg text-gray-600",children:"Loading analytics dashboard..."})]})});const k=(null===s||void 0===s?void 0:s.negative_count)||0,S=k>10,_=[{name:"Positive",value:(null===s||void 0===s?void 0:s.positive_percentage)||0,color:"#2ecc71"},{name:"Neutral",value:(null===s||void 0===s?void 0:s.neutral_percentage)||0,color:"#95a5a6"},{name:"Negative",value:(null===s||void 0===s?void 0:s.negative_percentage)||0,color:"#e74c3c"},{name:"Mixed",value:(null===s||void 0===s?void 0:s.mixed_percentage)||0,color:"#f39c12"}];return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,Ia.jsx)("a",{href:"/analytics",className:"text-primary-600 hover:text-primary-700",children:"Dashboard"})," ","/"," ","Overview"]}),(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udcca Analytics Dashboard"}),(0,Ia.jsx)("p",{className:"text-gray-600 mt-2",children:"Complete overview of your AiVA platform performance"})]}),(0,Ia.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,Ia.jsx)("input",{type:"date",value:v.date_from,onChange:e=>b(t=>qe(qe({},t),{},{date_from:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsx)("span",{className:"text-gray-500",children:"to"}),(0,Ia.jsx)("input",{type:"date",value:v.date_to,onChange:e=>b(t=>qe(qe({},t),{},{date_to:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsxs)("select",{value:v.agent_id,onChange:e=>b(t=>qe(qe({},t),{},{agent_id:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Agents"}),j.map(e=>(0,Ia.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Ia.jsx)("button",{onClick:()=>{N()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Apply Filters"}),(0,Ia.jsxs)("button",{className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold flex items-center gap-2",children:[(0,Ia.jsx)(gi,{className:"w-4 h-4"}),"Export Report"]})]})]}),n&&(0,Ia.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),S&&(0,Ia.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg shadow",children:(0,Ia.jsxs)("div",{className:"flex items-start",children:[(0,Ia.jsx)(Zi,{className:"w-6 h-6 text-yellow-600 mr-3 flex-shrink-0"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-yellow-800 font-semibold text-base mb-1",children:"Action Required"}),(0,Ia.jsxs)("p",{className:"text-yellow-700 text-sm",children:[k," interactions detected with negative sentiment today. Consider reviewing for quality improvement."]})]})]})}),s&&(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(ws,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Total Interactions"}),(0,Ia.jsx)("div",{className:"text-4xl font-bold mb-2",children:(s.total_interactions||0).toLocaleString()}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"12.5% from last period"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(Ka,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Voice Calls"}),(0,Ia.jsx)("div",{className:"text-4xl font-bold mb-2",children:(s.total_calls||0).toLocaleString()}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"8.3% from last period"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(es,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Chat Messages"}),(0,Ia.jsx)("div",{className:"text-4xl font-bold mb-2",children:(s.total_chats||0).toLocaleString()}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"15.7% from last period"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-indigo-500 to-indigo-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(js,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Avg Call Duration"}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold mb-2",children:[Math.floor((s.avg_call_duration||0)/60),":",String(Math.round((s.avg_call_duration||0)%60)).padStart(2,"0")]}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4 mr-1 rotate-180"}),"5.2% from last period"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-teal-500 to-teal-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(is,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Customer Satisfaction"}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold mb-2",children:[(s.satisfaction_rate||0).toFixed(1),"%"]}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"3.1% from last period"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500 to-cyan-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(is,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Issue Resolution Rate"}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold mb-2",children:[(s.resolution_rate||0).toFixed(1),"%"]}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"6.4% from last period"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(oi,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Profanity Incidents"}),(0,Ia.jsx)("div",{className:"text-4xl font-bold mb-2",children:s.profanity_incidents||0}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Zi,{className:"w-4 h-4 mr-1"}),"Monitor closely"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-gradient-to-br from-pink-500 to-pink-600 text-white rounded-lg shadow-lg p-6 relative overflow-hidden",children:[(0,Ia.jsx)("div",{className:"absolute top-0 right-0 -mt-4 -mr-4 opacity-20",children:(0,Ia.jsx)(Ha,{className:"w-32 h-32"})}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("div",{className:"text-sm uppercase tracking-wide opacity-90 mb-2",children:"Total Cost (USD)"}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold mb-2",children:["$",(s.total_cost||0).toFixed(2)]}),(0,Ia.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4 mr-1"}),"9.8% from last period"]})]})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Ia.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcc8 Interaction Trends (Last 30 Days)"}),(0,Ia.jsx)(Sl,{width:"100%",height:300,children:(0,Ia.jsxs)(z_,{data:o,children:[(0,Ia.jsx)(sC,{strokeDasharray:"3 3"}),(0,Ia.jsx)(A_,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,Ia.jsx)(U_,{}),(0,Ia.jsx)(Cc,{labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,Ia.jsx)(tu,{}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"calls",stroke:"#8b5cf6",strokeWidth:2,name:"Voice Calls"}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"chats",stroke:"#10b981",strokeWidth:2,name:"Chat Sessions"})]})})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\ude0a Sentiment Distribution"}),(0,Ia.jsx)("div",{className:"space-y-4",children:_.map((e,t)=>(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ia.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,Ia.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name})]}),(0,Ia.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[e.value.toFixed(1),"%"]})]}),(0,Ia.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ia.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.value,"%"),backgroundColor:e.color}})})]},t))})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200 flex items-center gap-2",children:"\ud83c\udfaf Top Customer Intents"}),(0,Ia.jsxs)("ul",{className:"space-y-3",children:[u.slice(0,5).map((e,t)=>(0,Ia.jsxs)("li",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:e.intent||e.name}),(0,Ia.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.count," (",parseFloat(e.percentage||0).toFixed(0),"%)"]})]},t)),0===u.length&&(0,Ia.jsx)("li",{className:"text-gray-500 text-sm",children:"No data available"})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200 flex items-center gap-2",children:"\ud83d\udcac Most Discussed Topics"}),(0,Ia.jsxs)("ul",{className:"space-y-3",children:[p.slice(0,5).map((e,t)=>(0,Ia.jsxs)("li",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:e.topic||e.name}),(0,Ia.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.count," mentions"]})]},t)),0===p.length&&(0,Ia.jsx)("li",{className:"text-gray-500 text-sm",children:"No data available"})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200 flex items-center gap-2",children:"\ud83d\udd11 Top Keywords"}),(0,Ia.jsxs)("ul",{className:"space-y-3",children:[f.slice(0,5).map((e,t)=>(0,Ia.jsxs)("li",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:e.keyword||e.word}),(0,Ia.jsxs)("span",{className:"font-semibold text-gray-900",children:[e.count," times"]})]},t)),0===f.length&&(0,Ia.jsx)("li",{className:"text-gray-500 text-sm",children:"No data available"})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200 flex items-center gap-2",children:"\ud83d\udcb0 Cost Breakdown"}),(0,Ia.jsxs)("ul",{className:"space-y-3",children:[g.slice(0,5).map((e,t)=>(0,Ia.jsxs)("li",{className:"flex items-center justify-between text-sm",children:[(0,Ia.jsx)("span",{className:"text-gray-600",children:e.category||e.name||e.type}),(0,Ia.jsxs)("span",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.cost||0).toFixed(2)," (",parseFloat(e.percentage||0).toFixed(1),"%)"]})]},t)),0===g.length&&(0,Ia.jsx)("li",{className:"text-gray-500 text-sm",children:"No data available"})]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udc65 Top Performing Agents"}),c.length>0?(0,Ia.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.slice(0,6).map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Ia.jsxs)("div",{className:"flex-shrink-0 w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center text-primary-700 font-bold",children:["#",t+1]}),(0,Ia.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ia.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Ia.jsxs)("p",{className:"text-xs text-gray-500",children:[e.total_interactions," interactions \u2022 ",(100*e.avg_sentiment).toFixed(0),"% sentiment"]})]})]}),(0,Ia.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["$",(e.total_cost||0).toFixed(2)]})]},e.id))}):(0,Ia.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No agent data available"})]}),s&&(0,Ia.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-center flex-wrap gap-6 text-sm",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(is,{className:"w-4 h-4 text-green-500 mr-2"}),(0,Ia.jsxs)("span",{className:"text-gray-700",children:["Completed Calls: ",(0,Ia.jsx)("strong",{children:s.completed_calls})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(ki,{className:"w-4 h-4 text-red-500 mr-2"}),(0,Ia.jsxs)("span",{className:"text-gray-700",children:["Failed Calls: ",(0,Ia.jsx)("strong",{children:s.failed_calls})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Ka,{className:"w-4 h-4 text-purple-500 mr-2"}),(0,Ia.jsxs)("span",{className:"text-gray-700",children:["Call Costs: ",(0,Ia.jsxs)("strong",{children:["$",(s.call_costs||0).toFixed(2)]})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(es,{className:"w-4 h-4 text-green-500 mr-2"}),(0,Ia.jsxs)("span",{className:"text-gray-700",children:["Chat Costs: ",(0,Ia.jsxs)("strong",{children:["$",(s.chat_costs||0).toFixed(2)]})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Vs,{className:"w-4 h-4 text-blue-500 mr-2"}),(0,Ia.jsxs)("span",{className:"text-gray-700",children:["Active Agents: ",(0,Ia.jsx)("strong",{children:s.active_agents})]})]})]})})]})},dC=()=>{var e,t,n,r,s,i,o;const[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(null),[h,f]=(0,a.useState)({page:1,limit:20,total:0}),[x,g]=(0,a.useState)({date_from:new Date(Date.now()-6048e5).toISOString().split("T")[0],date_to:(new Date).toISOString().split("T")[0],agent_id:"",status:"",sentiment:"",search:""}),[y,v]=(0,a.useState)([]),[b,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),[_,C]=(0,a.useState)([]),[O,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{const e=await lC.getAgentsList();v(e.data.data.agents||[])}catch(e){console.error("Failed to fetch agents:",e)}})()},[]),(0,a.useEffect)(()=>{P()},[h.page]);const P=async()=>{c(!0),u(null);try{const e=qe({page:h.page,limit:h.limit},x);Object.keys(e).forEach(t=>{e[t]||delete e[t]});const t=await lC.getCallsReport(e);p(t.data.data),f(e=>qe(qe({},e),{},{total:t.data.data.pagination.total,pages:t.data.data.pagination.pages}))}catch(n){var e,t;console.error("Failed to fetch calls:",n),u((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load calls")}finally{c(!1)}},E=async e=>{j(e),N(!0),A(!0),S(null),C([]);try{const n=await lC.getCallDetails(e.id);S(n.data.data);try{const t=await lC.getCallTranscription(e.id);console.log("Transcript response:",t.data),C(t.data.data.messages||[])}catch(t){console.error("Failed to fetch transcript:",t),C([])}}catch(n){console.error("Failed to fetch call details:",n),S(null),C([])}finally{A(!1)}},T=e=>{let{status:t}=e;const n={completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",in_progress:"bg-yellow-100 text-yellow-800",insufficient_credits:"bg-orange-100 text-orange-800"};return(0,Ia.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(n[t]||n.in_progress),children:(null===t||void 0===t?void 0:t.replace("_"," "))||"Unknown"})},M=e=>{let{sentiment:t}=e;const n={positive:"bg-green-100 text-green-800",negative:"bg-red-100 text-red-800",neutral:"bg-gray-100 text-gray-800",mixed:"bg-yellow-100 text-yellow-800"};return(0,Ia.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(n[t]||n.neutral),children:t||"N/A"})},I=(null===m||void 0===m?void 0:m.stats)||{},D=(null===m||void 0===m?void 0:m.calls)||[];return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,Ia.jsx)("a",{href:"/analytics",className:"text-primary-600 hover:text-primary-700",children:"Dashboard"})," ","/"," ","Calls Report"]}),(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udcde Voice Calls Report"})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3 items-end",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),(0,Ia.jsx)("input",{type:"date",value:x.date_from,onChange:e=>g(t=>qe(qe({},t),{},{date_from:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),(0,Ia.jsx)("input",{type:"date",value:x.date_to,onChange:e=>g(t=>qe(qe({},t),{},{date_to:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]}),(0,Ia.jsxs)("div",{className:"md:col-span-2",children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),(0,Ia.jsx)("input",{type:"text",placeholder:"Phone number, session ID...",value:x.search,onChange:e=>g(t=>qe(qe({},t),{},{search:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),(0,Ia.jsxs)("select",{value:x.status,onChange:e=>g(t=>qe(qe({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Status"}),(0,Ia.jsx)("option",{value:"completed",children:"Completed"}),(0,Ia.jsx)("option",{value:"failed",children:"Failed"}),(0,Ia.jsx)("option",{value:"in_progress",children:"In Progress"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sentiment"}),(0,Ia.jsxs)("select",{value:x.sentiment,onChange:e=>g(t=>qe(qe({},t),{},{sentiment:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Sentiments"}),(0,Ia.jsx)("option",{value:"positive",children:"Positive"}),(0,Ia.jsx)("option",{value:"negative",children:"Negative"}),(0,Ia.jsx)("option",{value:"neutral",children:"Neutral"}),(0,Ia.jsx)("option",{value:"mixed",children:"Mixed"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Agent"}),(0,Ia.jsxs)("select",{value:x.agent_id,onChange:e=>g(t=>qe(qe({},t),{},{agent_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Agents"}),y.map(e=>(0,Ia.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Ia.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,Ia.jsx)("button",{onClick:()=>{f(e=>qe(qe({},e),{},{page:1})),P()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Apply Filters"}),(0,Ia.jsxs)("button",{onClick:async()=>{try{const e=qe({},x);Object.keys(e).forEach(t=>{e[t]||delete e[t]});const t=await lC.exportCallsReport(e,"csv"),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","calls_report_".concat(Date.now(),".csv")),document.body.appendChild(r),r.click(),r.remove()}catch(e){console.error("Failed to export:",e),alert("Failed to export report")}},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold flex items-center gap-2",children:[(0,Ia.jsx)(gi,{className:"w-4 h-4"}),"Export CSV"]})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Total Calls"}),(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(null===(e=I.total_calls)||void 0===e?void 0:e.toLocaleString())||0})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Avg Duration"}),(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:lC.formatDuration(I.avg_duration_seconds||0)})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Total Minutes"}),(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(null===(t=I.total_minutes)||void 0===t?void 0:t.toLocaleString())||0})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Success Rate"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[I.success_rate||0,"%"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Avg Satisfaction"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[I.avg_satisfaction||0,"%"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Ia.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Ia.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Call Records (",(null===(n=I.total_calls)||void 0===n?void 0:n.toLocaleString())||0," total)"]})}),l?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(Ka,{className:"w-12 h-12 text-primary-600 mx-auto mb-4 animate-pulse"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"Loading calls..."})]})}):d?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(oi,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),(0,Ia.jsx)("p",{className:"text-red-600",children:d})]})}):0===D.length?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(Ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"No calls found"})]})}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("div",{className:"overflow-x-auto",children:(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date/Time"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Phone Number"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Agent"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Duration"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Sentiment"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Intent"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Cost"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(e=>(0,Ia.jsxs)("tr",{onClick:()=>E(e),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lC.formatDate(e.start_time,"datetime")}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.caller_id||"Unknown"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.agent_name||"N/A"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lC.formatDuration(e.duration_seconds||0)}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)(T,{status:e.status})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)(M,{sentiment:e.overall_sentiment})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.primary_intent||"N/A"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lC.formatCurrency(e.final_cost)}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Ia.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e)},className:"px-3 py-1 bg-primary-600 text-white rounded text-xs font-semibold hover:bg-primary-700",children:"View"})})]},e.id))})]})}),(0,Ia.jsxs)("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex items-center justify-center gap-2",children:[(0,Ia.jsx)("button",{onClick:()=>f(e=>qe(qe({},e),{},{page:Math.max(1,e.page-1)})),disabled:1===h.page,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(Math.min(5,h.pages))].map((e,t)=>{const n=t+1;return(0,Ia.jsx)("button",{onClick:()=>f(e=>qe(qe({},e),{},{page:n})),className:"px-4 py-2 border rounded-lg text-sm font-medium ".concat(h.page===n?"bg-primary-600 text-white border-primary-600":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:n},n)}),(0,Ia.jsx)("button",{onClick:()=>f(e=>qe(qe({},e),{},{page:Math.min(e.pages,e.page+1)})),disabled:h.page===h.pages,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),w&&(0,Ia.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ia.jsxs)("div",{className:"px-8 py-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[(0,Ia.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900",children:["\ud83d\udcde Call Details - Session #",null===b||void 0===b||null===(r=b.session_id)||void 0===r?void 0:r.substring(0,12),"..."]}),(0,Ia.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"w-6 h-6"})})]}),(0,Ia.jsx)("div",{className:"px-8 py-6",children:O?(0,Ia.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-3 gap-5 mb-8",children:[(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Date & Time"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:lC.formatDate(null===b||void 0===b?void 0:b.start_time,"datetime")})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Phone Number"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:(null===b||void 0===b?void 0:b.caller_id)||"Unknown"})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Agent"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:(null===b||void 0===b?void 0:b.agent_name)||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Duration"}),(0,Ia.jsxs)("div",{className:"text-base font-semibold text-gray-900",children:[lC.formatDuration((null===b||void 0===b?void 0:b.duration_seconds)||0)," min"]})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Status"}),(0,Ia.jsx)("div",{className:"text-base font-semibold",children:(0,Ia.jsx)(T,{status:null===b||void 0===b?void 0:b.status})})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Total Cost"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:lC.formatCurrency(null===b||void 0===b?void 0:b.final_cost)})]})]}),(null===k||void 0===k?void 0:k.analytics)&&(0,Ia.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"\ud83d\udcca Call Analytics"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Overall Sentiment"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-green-600",children:k.analytics.overall_sentiment||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Sentiment Score"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:k.analytics.overall_sentiment_score?parseFloat(k.analytics.overall_sentiment_score).toFixed(2):"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Primary Intent"}),(0,Ia.jsx)("div",{className:"text-sm font-bold text-gray-900",children:(null===(s=k.analytics.primary_intents)||void 0===s?void 0:s[0])||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Customer Satisfaction"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-green-600",children:k.analytics.customer_satisfaction_indicator||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Issue Resolved"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-green-600",children:k.analytics.issue_resolved?"\u2713 Yes":"\u2717 No"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Profanity"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:k.analytics.profanity_incidents||0})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Total Messages"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:k.analytics.total_exchanges||_.length})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Language"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(null===(i=k.analytics.languages_detected)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.toUpperCase())||"EN"})]})]})]}),(null===k||void 0===k?void 0:k.cost_breakdown)&&(0,Ia.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"\ud83d\udcb0 Cost Breakdown"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"LLM Completion"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.llm_completion]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Transcription"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.transcription]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Analysis"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.analysis]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Knowledge Search"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.knowledge_search]})]})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"\ud83d\udcac Full Transcript"}),(0,Ia.jsx)("div",{className:"space-y-5",children:0===_.length?(0,Ia.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[(0,Ia.jsx)("p",{className:"text-gray-500",children:"No transcript available for this call"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Transcription may not have been generated yet"})]}):_.map((e,t)=>{return(0,Ia.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg border-l-4 ".concat("agent"===e.speaker?"border-green-500":"border-red-500"),children:[(0,Ia.jsxs)("div",{className:"min-w-[120px]",children:[(0,Ia.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:e.speaker}),(0,Ia.jsx)("div",{className:"text-xs text-gray-400",children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():e.created_at?lC.formatDate(e.created_at,"time"):"N/A"})]}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-900 mb-3 leading-relaxed",children:e.original_message}),(0,Ia.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.sentiment&&(0,Ia.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold bg-white border border-green-200 text-green-700 rounded-full",children:[(n=e.sentiment,{positive:"\ud83d\ude0a",negative:"\ud83d\ude1e",neutral:"\ud83d\ude10",mixed:"\ud83d\ude15"}[n]||"\ud83d\ude10")," ",e.sentiment]}),e.primary_intent&&(0,Ia.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold bg-white border border-gray-200 text-gray-700 rounded-full",children:["\ud83c\udfaf ",e.primary_intent]}),e.keywords&&e.keywords.length>0&&(0,Ia.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold bg-white border border-gray-200 text-gray-700 rounded-full",children:["\ud83d\udd11 ",e.keywords.slice(0,3).join(", ")]})]})]})]},t);var n})})]})]})})]})})]})},uC=()=>{var e,t,n,r,s,i,o;const[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(null),[m,p]=(0,a.useState)(null),[h,f]=(0,a.useState)({page:1,limit:20,total:0}),[x,g]=(0,a.useState)({date_from:new Date(Date.now()-6048e5).toISOString().split("T")[0],date_to:(new Date).toISOString().split("T")[0],agent_id:"",status:"",sentiment:"",search:""}),[y,v]=(0,a.useState)([]),[b,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),[_,C]=(0,a.useState)([]),[O,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{const e=await lC.getAgentsList();v(e.data.data.agents||[])}catch(e){console.error("Failed to fetch agents:",e)}})()},[]),(0,a.useEffect)(()=>{P()},[h.page]);const P=async()=>{c(!0),u(null);try{const e=qe({page:h.page,limit:h.limit},x);Object.keys(e).forEach(t=>{e[t]||delete e[t]});const t=await lC.getChatReport(e);p(t.data.data),f(e=>qe(qe({},e),{},{total:t.data.data.pagination.total,pages:t.data.data.pagination.pages}))}catch(n){var e,t;console.error("Failed to fetch chats:",n),u((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load chat sessions")}finally{c(!1)}},E=async e=>{j(e),N(!0),A(!0),S(null),C([]);try{const n=await lC.getChatSessionDetails(e.id);S(n.data.data);try{const t=await lC.getChatMessages(e.id);console.log("Messages response:",t.data),C(t.data.data.messages||[])}catch(t){console.error("Failed to fetch messages:",t),C([])}}catch(n){console.error("Failed to fetch chat details:",n),S(null),C([])}finally{A(!1)}},T=e=>{let{status:t}=e;const n={ended:"bg-green-100 text-green-800",active:"bg-blue-100 text-blue-800",expired:"bg-gray-100 text-gray-800"};return(0,Ia.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(n[t]||n.expired),children:t||"Unknown"})},M=e=>{let{sentiment:t}=e;const n={positive:"bg-green-100 text-green-800",negative:"bg-red-100 text-red-800",neutral:"bg-gray-100 text-gray-800",mixed:"bg-yellow-100 text-yellow-800"};return(0,Ia.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(n[t]||n.neutral),children:t||"N/A"})},I=(null===m||void 0===m?void 0:m.stats)||{},D=(null===m||void 0===m?void 0:m.chats)||[];return(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,Ia.jsx)("a",{href:"/analytics",className:"text-primary-600 hover:text-primary-700",children:"Dashboard"})," ","/"," ","Chat Report"]}),(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udcac Chat Sessions Report"})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3 items-end",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"From Date"}),(0,Ia.jsx)("input",{type:"date",value:x.date_from,onChange:e=>g(t=>qe(qe({},t),{},{date_from:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"To Date"}),(0,Ia.jsx)("input",{type:"date",value:x.date_to,onChange:e=>g(t=>qe(qe({},t),{},{date_to:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]}),(0,Ia.jsxs)("div",{className:"md:col-span-2",children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search"}),(0,Ia.jsx)("input",{type:"text",placeholder:"Session ID, name...",value:x.search,onChange:e=>g(t=>qe(qe({},t),{},{search:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),(0,Ia.jsxs)("select",{value:x.status,onChange:e=>g(t=>qe(qe({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Status"}),(0,Ia.jsx)("option",{value:"ended",children:"Ended"}),(0,Ia.jsx)("option",{value:"active",children:"Active"}),(0,Ia.jsx)("option",{value:"expired",children:"Expired"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Sentiment"}),(0,Ia.jsxs)("select",{value:x.sentiment,onChange:e=>g(t=>qe(qe({},t),{},{sentiment:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Sentiments"}),(0,Ia.jsx)("option",{value:"positive",children:"Positive"}),(0,Ia.jsx)("option",{value:"negative",children:"Negative"}),(0,Ia.jsx)("option",{value:"neutral",children:"Neutral"}),(0,Ia.jsx)("option",{value:"mixed",children:"Mixed"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Agent"}),(0,Ia.jsxs)("select",{value:x.agent_id,onChange:e=>g(t=>qe(qe({},t),{},{agent_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Agents"}),y.map(e=>(0,Ia.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Ia.jsxs)("div",{className:"flex gap-3 mt-4",children:[(0,Ia.jsx)("button",{onClick:()=>{f(e=>qe(qe({},e),{},{page:1})),P()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Apply Filters"}),(0,Ia.jsxs)("button",{onClick:async()=>{try{const e=qe({},x);Object.keys(e).forEach(t=>{e[t]||delete e[t]});const t=await lC.exportChatReport(e,"csv"),n=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=n,r.setAttribute("download","chat_sessions_".concat(Date.now(),".csv")),document.body.appendChild(r),r.click(),r.remove()}catch(e){console.error("Failed to export:",e),alert("Failed to export report")}},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold flex items-center gap-2",children:[(0,Ia.jsx)(gi,{className:"w-4 h-4"}),"Export CSV"]})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Total Chats"}),(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(null===(e=I.total_chats)||void 0===e?void 0:e.toLocaleString())||0})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Avg Messages"}),(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:I.avg_messages?I.avg_messages.toFixed(1):"0.0"})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Total Messages"}),(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:(null===(t=I.total_messages)||void 0===t?void 0:t.toLocaleString())||0})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Success Rate"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[I.success_rate||0,"%"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-2",children:"Avg Satisfaction"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[I.avg_satisfaction||0,"%"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Ia.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Ia.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["Chat Sessions (",(null===(n=I.total_chats)||void 0===n?void 0:n.toLocaleString())||0," total)"]})}),l?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(es,{className:"w-12 h-12 text-primary-600 mx-auto mb-4 animate-pulse"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"Loading chat sessions..."})]})}):d?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(oi,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),(0,Ia.jsx)("p",{className:"text-red-600",children:d})]})}):0===D.length?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"No chat sessions found"})]})}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsx)("div",{className:"overflow-x-auto",children:(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date/Time"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Session Name"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Agent"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Messages"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Status"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Sentiment"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Intent"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Cost"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(e=>(0,Ia.jsxs)("tr",{onClick:()=>E(e),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lC.formatDate(e.start_time,"datetime")}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.session_name||e.id.substring(0,12)+"..."}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.agent_name||"N/A"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.total_messages||0}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)(T,{status:e.status})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsx)(M,{sentiment:e.overall_sentiment})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.primary_intent||"N/A"}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:lC.formatCurrency(e.total_cost)}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Ia.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e)},className:"px-3 py-1 bg-primary-600 text-white rounded text-xs font-semibold hover:bg-primary-700",children:"View"})})]},e.id))})]})}),(0,Ia.jsxs)("div",{className:"px-6 py-4 bg-white border-t border-gray-200 flex items-center justify-center gap-2",children:[(0,Ia.jsx)("button",{onClick:()=>f(e=>qe(qe({},e),{},{page:Math.max(1,e.page-1)})),disabled:1===h.page,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(Math.min(5,h.pages))].map((e,t)=>{const n=t+1;return(0,Ia.jsx)("button",{onClick:()=>f(e=>qe(qe({},e),{},{page:n})),className:"px-4 py-2 border rounded-lg text-sm font-medium ".concat(h.page===n?"bg-primary-600 text-white border-primary-600":"border-gray-300 text-gray-700 hover:bg-gray-50"),children:n},n)}),(0,Ia.jsx)("button",{onClick:()=>f(e=>qe(qe({},e),{},{page:Math.min(e.pages,e.page+1)})),disabled:h.page===h.pages,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),w&&(0,Ia.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 overflow-y-auto",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ia.jsxs)("div",{className:"px-8 py-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white z-10",children:[(0,Ia.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900",children:["\ud83d\udcac Chat Session - ",(null===b||void 0===b?void 0:b.session_name)||(null===b||void 0===b||null===(r=b.id)||void 0===r?void 0:r.substring(0,12))+"..."]}),(0,Ia.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"w-6 h-6"})})]}),(0,Ia.jsx)("div",{className:"px-8 py-6",children:O?(0,Ia.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Ia.jsxs)(Ia.Fragment,{children:[(0,Ia.jsxs)("div",{className:"grid grid-cols-3 gap-5 mb-8",children:[(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Start Time"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:lC.formatDate(null===b||void 0===b?void 0:b.start_time,"datetime")})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"End Time"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:null!==b&&void 0!==b&&b.end_time?lC.formatDate(b.end_time,"datetime"):"Active"})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Agent"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:(null===b||void 0===b?void 0:b.agent_name)||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Total Messages"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:(null===b||void 0===b?void 0:b.total_messages)||0})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Status"}),(0,Ia.jsx)("div",{className:"text-base font-semibold",children:(0,Ia.jsx)(T,{status:null===b||void 0===b?void 0:b.status})})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Total Cost"}),(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:lC.formatCurrency(null===b||void 0===b?void 0:b.total_cost)})]})]}),(null===k||void 0===k?void 0:k.analytics)&&(0,Ia.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"\ud83d\udcca Session Analytics"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Overall Sentiment"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-green-600",children:k.analytics.overall_sentiment||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Sentiment Score"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:k.analytics.overall_sentiment_score?parseFloat(k.analytics.overall_sentiment_score).toFixed(2):"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Primary Intent"}),(0,Ia.jsx)("div",{className:"text-sm font-bold text-gray-900",children:(null===(s=k.analytics.primary_intents)||void 0===s?void 0:s[0])||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Customer Satisfaction"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-green-600",children:k.analytics.customer_satisfaction_indicator||"N/A"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Issue Resolved"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-green-600",children:k.analytics.issue_resolved?"\u2713 Yes":"\u2717 No"})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Profanity"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:k.analytics.profanity_incidents||0})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Total Exchanges"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:k.analytics.total_exchanges||_.length})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Language"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(null===(i=k.analytics.languages_detected)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.toUpperCase())||"EN"})]})]})]}),(null===k||void 0===k?void 0:k.cost_breakdown)&&(0,Ia.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"\ud83d\udcb0 Cost Breakdown"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"LLM Completion"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.llm_completion]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Analysis"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.analysis]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Knowledge Search"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.knowledge_search]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Image Processing"}),(0,Ia.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:["$",k.cost_breakdown.image_processing]})]})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"\ud83d\udcac Chat Messages"}),(0,Ia.jsx)("div",{className:"space-y-5",children:0===_.length?(0,Ia.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[(0,Ia.jsx)("p",{className:"text-gray-500",children:"No messages available for this session"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Messages may not have been loaded yet"})]}):_.map((e,t)=>(0,Ia.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg border-l-4 ".concat("assistant"===e.role?"border-green-500":"border-blue-500"),children:[(0,Ia.jsxs)("div",{className:"min-w-[120px]",children:[(0,Ia.jsx)("div",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"assistant"===e.role?"Agent":"User"}),(0,Ia.jsx)("div",{className:"text-xs text-gray-400",children:lC.formatDate(e.created_at,"time")})]}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-900 mb-3 leading-relaxed",dangerouslySetInnerHTML:{__html:e.content_html||e.content}}),(0,Ia.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.sources&&e.sources.length>0&&(0,Ia.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold bg-white border border-blue-200 text-blue-700 rounded-full",children:["\ud83d\udcda ",e.sources.length," sources"]}),e.images&&e.images.length>0&&(0,Ia.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold bg-white border border-purple-200 text-purple-700 rounded-full",children:["\ud83d\uddbc\ufe0f ",e.images.length," images"]}),e.products&&e.products.length>0&&(0,Ia.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold bg-white border border-orange-200 text-orange-700 rounded-full",children:["\ud83d\udecd\ufe0f ",e.products.length," products"]}),e.cost&&parseFloat(e.cost)>0&&(0,Ia.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold bg-white border border-gray-200 text-gray-700 rounded-full",children:["\ud83d\udcb5 $",parseFloat(e.cost).toFixed(4)]})]})]})]},t))})]})]})})]})})]})},mC=()=>{var e,t,n;const[r,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)(null),[h,f]=(0,a.useState)([]),[x,g]=(0,a.useState)([]),[y,v]=(0,a.useState)({date_from:new Date(Date.now()-2592e6).toISOString().split("T")[0],date_to:(new Date).toISOString().split("T")[0],channel:"",agent_id:""}),[b,j]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{const e=await lC.getAgentsList();j(e.data.data.agents||[])}catch(e){console.error("Failed to fetch agents:",e)}})()},[]),(0,a.useEffect)(()=>{w()},[]);const w=async()=>{s(!0),o(null);try{const e=qe({},y);Object.keys(e).forEach(t=>{e[t]||delete e[t]});const[t,n,r,a,s]=await Promise.all([lC.getSentimentTrends(e),lC.getTopIntents(qe(qe({},e),{},{limit:5})),lC.getProfanityStats(e),lC.getTopKeywords(qe(qe({},e),{},{limit:15})),lC.getLanguageDistribution(e)]);c(t.data.data.trends||[]),u(n.data.data.intents||[]),p(r.data.data||{}),f(a.data.data.keywords||[]),g(s.data.data.distribution||[])}catch(n){var e,t;console.error("Failed to fetch analytics:",n),o((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to load analytics")}finally{s(!1)}},N=["linear-gradient(135deg, #e74c3c, #c0392b)","linear-gradient(135deg, #3498db, #2980b9)","linear-gradient(135deg, #f39c12, #e67e22)","linear-gradient(135deg, #9b59b6, #8e44ad)","linear-gradient(135deg, #1abc9c, #16a085)","linear-gradient(135deg, #34495e, #2c3e50)"];return r&&0===l.length?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(Ya,{className:"w-16 h-16 text-primary-600 mx-auto mb-4 animate-pulse"}),(0,Ia.jsx)("p",{className:"text-lg text-gray-600",children:"Loading advanced analytics..."})]})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,Ia.jsx)("a",{href:"/analytics",className:"text-primary-600 hover:text-primary-700",children:"Dashboard"})," ","/"," ","Advanced Analytics"]}),(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udd2c Advanced Analytics"})]}),(0,Ia.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,Ia.jsx)("input",{type:"date",value:y.date_from,onChange:e=>v(t=>qe(qe({},t),{},{date_from:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsx)("span",{className:"text-gray-500",children:"to"}),(0,Ia.jsx)("input",{type:"date",value:y.date_to,onChange:e=>v(t=>qe(qe({},t),{},{date_to:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsxs)("select",{value:y.channel,onChange:e=>v(t=>qe(qe({},t),{},{channel:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Channels"}),(0,Ia.jsx)("option",{value:"voice",children:"Voice Calls"}),(0,Ia.jsx)("option",{value:"chat",children:"Chat Messages"})]}),(0,Ia.jsxs)("select",{value:y.agent_id,onChange:e=>v(t=>qe(qe({},t),{},{agent_id:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Agents"}),b.map(e=>(0,Ia.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Ia.jsx)("button",{onClick:()=>{w()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Apply Filters"}),(0,Ia.jsxs)("button",{className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold flex items-center gap-2",children:[(0,Ia.jsx)(gi,{className:"w-4 h-4"}),"Export Report"]})]})]}),i&&(0,Ia.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcc8 Sentiment Trends Over Time"}),(0,Ia.jsx)(Sl,{width:"100%",height:300,children:(0,Ia.jsxs)(z_,{data:l,children:[(0,Ia.jsx)(sC,{strokeDasharray:"3 3"}),(0,Ia.jsx)(A_,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,Ia.jsx)(U_,{}),(0,Ia.jsx)(Cc,{labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,Ia.jsx)(tu,{}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"positive",stroke:"#2ecc71",strokeWidth:2,name:"Positive"}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"neutral",stroke:"#95a5a6",strokeWidth:2,name:"Neutral"}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"negative",stroke:"#e74c3c",strokeWidth:2,name:"Negative"}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"mixed",stroke:"#f39c12",strokeWidth:2,name:"Mixed"})]})})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcca Daily Sentiment Distribution"}),(0,Ia.jsx)("div",{className:"space-y-5",children:l.slice(0,7).reverse().map((e,t)=>(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"min-w-[80px] text-sm font-semibold text-gray-500",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,Ia.jsx)("div",{className:"flex-1 h-10 bg-gray-100 rounded-lg overflow-hidden",children:(0,Ia.jsxs)("div",{className:"h-full flex",children:[parseFloat(e.positive_pct)>0&&(0,Ia.jsx)("div",{className:"bg-green-500 flex items-center justify-center text-white text-xs font-semibold hover:brightness-110 transition-all",style:{width:"".concat(e.positive_pct,"%")},children:parseFloat(e.positive_pct)>10&&"".concat(e.positive_pct,"%")}),parseFloat(e.neutral_pct)>0&&(0,Ia.jsx)("div",{className:"bg-gray-400 flex items-center justify-center text-white text-xs font-semibold hover:brightness-110 transition-all",style:{width:"".concat(e.neutral_pct,"%")},children:parseFloat(e.neutral_pct)>10&&"".concat(e.neutral_pct,"%")}),parseFloat(e.negative_pct)>0&&(0,Ia.jsx)("div",{className:"bg-red-500 flex items-center justify-center text-white text-xs font-semibold hover:brightness-110 transition-all",style:{width:"".concat(e.negative_pct,"%")},children:parseFloat(e.negative_pct)>10&&"".concat(e.negative_pct,"%")}),parseFloat(e.mixed_pct)>0&&(0,Ia.jsx)("div",{className:"bg-orange-500 flex items-center justify-center text-white text-xs font-semibold hover:brightness-110 transition-all",style:{width:"".concat(e.mixed_pct,"%")},children:parseFloat(e.mixed_pct)>10&&"".concat(e.mixed_pct,"%")})]})})]},t))})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83c\udfaf Top Customer Intents"}),(0,Ia.jsx)("ul",{className:"space-y-3",children:d.map((e,t)=>{return(0,Ia.jsxs)("li",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all hover:translate-x-1",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"w-10 h-10 rounded-lg bg-white flex items-center justify-center text-2xl",children:(n=e.intent,{"Product Inquiry":"\ud83d\udecd\ufe0f","Support Request":"\ud83c\udd98","Order Status":"\ud83d\udce6",Complaint:"\ud83d\ude20","Return/Refund":"\u21a9\ufe0f",Billing:"\ud83d\udcb3","Technical Support":"\ud83d\udd27",Account:"\ud83d\udc64","General Inquiry":"\u2753"}[n]||"\ud83d\udcac")}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.intent}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Customer requests"})]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-900",children:e.count}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500",children:[e.percentage,"%"]})]})]},t);var n})})]})]}),m&&m.total_incidents>0&&(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ia.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ia.jsxs)("h2",{className:"text-lg font-semibold text-red-800 flex items-center gap-2",children:[(0,Ia.jsx)(Zi,{className:"w-5 h-5"}),"Profanity Incidents Detected"]}),(0,Ia.jsxs)("div",{className:"text-3xl font-bold text-red-600",children:[m.total_incidents," Total"]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Sessions"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-red-600",children:m.sessions_with_profanity})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Severity: Low"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-red-600",children:(null===(e=m.by_severity)||void 0===e?void 0:e.low)||0})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Severity: Medium"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-red-600",children:(null===(t=m.by_severity)||void 0===t?void 0:t.medium)||0})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Severity: High"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-red-600",children:(null===(n=m.by_severity)||void 0===n?void 0:n.high)||0})]}),(0,Ia.jsxs)("div",{className:"bg-white p-4 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Avg Score"}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-red-600",children:m.avg_score})]})]})]})}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udd11 Top Keywords"}),(0,Ia.jsx)("div",{className:"flex flex-wrap gap-3",children:h.map((e,t)=>(0,Ia.jsxs)("div",{className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold flex items-center gap-2 hover:shadow-lg hover:-translate-y-1 transition-all cursor-pointer",style:{fontSize:"".concat(14-.5*t,"px"),opacity:1-.03*t},children:[(0,Ia.jsx)("span",{children:e.keyword}),(0,Ia.jsx)("span",{className:"bg-white/30 px-2 py-0.5 rounded-full text-xs",children:e.count})]},t))})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcac Topic Heatmap"}),(0,Ia.jsx)("div",{className:"grid grid-cols-3 gap-3",children:d.slice(0,6).map((e,t)=>(0,Ia.jsxs)("div",{className:"aspect-square rounded-lg text-white font-semibold flex flex-col items-center justify-center p-3 hover:scale-105 transition-all cursor-pointer",style:{background:N[t]},children:[(0,Ia.jsx)("div",{className:"text-sm text-center mb-2",children:e.intent.split(" ")[0]}),(0,Ia.jsx)("div",{className:"text-2xl font-bold",children:e.count})]},t))})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83c\udf0d Language Distribution"}),(0,Ia.jsx)("div",{className:"space-y-5",children:x.map((e,t)=>{return(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"text-4xl",children:(r=e.language,{english:"\ud83c\uddfa\ud83c\uddf8",en:"\ud83c\uddfa\ud83c\uddf8",spanish:"\ud83c\uddea\ud83c\uddf8",es:"\ud83c\uddea\ud83c\uddf8",urdu:"\ud83c\uddf5\ud83c\uddf0",ur:"\ud83c\uddf5\ud83c\uddf0",french:"\ud83c\uddeb\ud83c\uddf7",fr:"\ud83c\uddeb\ud83c\uddf7",arabic:"\ud83c\uddf8\ud83c\udde6",ar:"\ud83c\uddf8\ud83c\udde6",chinese:"\ud83c\udde8\ud83c\uddf3",zh:"\ud83c\udde8\ud83c\uddf3"}[r.toLowerCase()]||"\ud83c\udf10")}),(0,Ia.jsxs)("div",{className:"flex-1",children:[(0,Ia.jsx)("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:(n=e.language,{en:"English",es:"Spanish",ur:"Urdu",fr:"French",ar:"Arabic",zh:"Chinese"}[n]||n.toUpperCase())}),(0,Ia.jsx)("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,Ia.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-600 to-blue-600 rounded-full transition-all",style:{width:"".concat(e.percentage,"%")}})})]}),(0,Ia.jsxs)("div",{className:"text-right min-w-[100px]",children:[(0,Ia.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[e.percentage,"%"]}),(0,Ia.jsxs)("div",{className:"text-xs text-gray-500",children:[e.count," interactions"]})]})]},t);var n,r})})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\ude0a Emotion Detection"}),(0,Ia.jsx)("div",{className:"grid grid-cols-3 gap-4",children:[{icon:"\ud83d\ude0a",label:"Happy",count:l.reduce((e,t)=>e+t.positive,0)},{icon:"\ud83d\ude10",label:"Neutral",count:l.reduce((e,t)=>e+t.neutral,0)},{icon:"\ud83d\ude20",label:"Frustrated",count:l.reduce((e,t)=>e+t.negative,0)},{icon:"\ud83d\ude15",label:"Confused",count:Math.floor(.6*l.reduce((e,t)=>e+t.mixed,0))},{icon:"\ud83d\ude0c",label:"Satisfied",count:Math.floor(.5*l.reduce((e,t)=>e+t.positive,0))},{icon:"\ud83d\ude24",label:"Angry",count:Math.floor(.4*l.reduce((e,t)=>e+t.negative,0))}].map((e,t)=>(0,Ia.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center hover:bg-white hover:shadow-md hover:-translate-y-1 transition-all cursor-pointer",children:[(0,Ia.jsx)("div",{className:"text-4xl mb-2",children:e.icon}),(0,Ia.jsx)("div",{className:"text-sm font-semibold text-gray-900 mb-1",children:e.label}),(0,Ia.jsx)("div",{className:"text-xl font-bold text-gray-700",children:e.count})]},t))})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udd00 Intent Flow & Transitions"}),(0,Ia.jsx)("div",{className:"h-80 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg flex items-center justify-center text-white text-center p-8",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-xl font-semibold mb-2",children:"Sankey Diagram: Customer Journey"}),(0,Ia.jsx)("div",{className:"text-sm opacity-90",children:"Initial Intent \u2192 Conversation Flow \u2192 Resolution Intent"}),(0,Ia.jsx)("div",{className:"text-xs opacity-75 mt-4",children:"(Advanced visualization - requires additional charting library)"})]})})]})]})},pC=Va("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),hC=()=>{const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,h]=(0,a.useState)({date_from:new Date(Date.now()-18144e5).toISOString().split("T")[0],date_to:(new Date).toISOString().split("T")[0],channel:""});(0,a.useEffect)(()=>{f()},[]);const f=async()=>{t(!0),r(null);try{const e=qe({},p);e.channel||delete e.channel;const[t,n,r,a]=await Promise.all([lC.getCostOverview(e),lC.getCostTrends(e),lC.getCostBreakdown(e),lC.getAgentPerformance(e)]);i(t.data.data),l(n.data.data.trends||[]),d(r.data.data.breakdown||[]),m(a.data.data.agents||[])}catch(a){var e,n;console.error("Failed to fetch cost analytics:",a),r((null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to load cost analytics")}finally{t(!1)}},x=e=>{const t=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)"];return t[e%t.length]};return e&&!s?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(Ha,{className:"w-16 h-16 text-primary-600 mx-auto mb-4 animate-pulse"}),(0,Ia.jsx)("p",{className:"text-lg text-gray-600",children:"Loading cost analytics..."})]})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,Ia.jsx)("a",{href:"/analytics",className:"text-primary-600 hover:text-primary-700",children:"Dashboard"})," ","/"," ","Cost Analytics & Performance"]}),(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udcb0 Cost Analytics & Agent Performance"})]}),(0,Ia.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,Ia.jsx)("input",{type:"date",value:p.date_from,onChange:e=>h(t=>qe(qe({},t),{},{date_from:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsx)("span",{className:"text-gray-500",children:"to"}),(0,Ia.jsx)("input",{type:"date",value:p.date_to,onChange:e=>h(t=>qe(qe({},t),{},{date_to:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsxs)("select",{value:p.channel,onChange:e=>h(t=>qe(qe({},t),{},{channel:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[(0,Ia.jsx)("option",{value:"",children:"All Channels"}),(0,Ia.jsx)("option",{value:"voice",children:"Voice Calls"}),(0,Ia.jsx)("option",{value:"chat",children:"Chat Messages"})]}),(0,Ia.jsx)("button",{onClick:()=>{f()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Apply Filters"}),(0,Ia.jsxs)("button",{className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold flex items-center gap-2",children:[(0,Ia.jsx)(gi,{className:"w-4 h-4"}),"Export Report"]})]})]}),n&&(0,Ia.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),s&&(0,Ia.jsxs)("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 text-white rounded-lg shadow-lg p-8",children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ia.jsx)(pC,{className:"w-8 h-8"}),(0,Ia.jsx)("h2",{className:"text-2xl font-bold",children:"Current Credit Balance"})]}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold",children:["$",parseFloat(s.credits.balance).toFixed(2)]})]}),(0,Ia.jsx)("div",{className:"mb-6",children:(0,Ia.jsx)("div",{className:"h-5 bg-white/30 rounded-full overflow-hidden",children:(0,Ia.jsx)("div",{className:"h-full bg-white rounded-full transition-all",style:{width:"".concat(s.credits.usage_percentage,"%")}})})}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Total Purchased"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold",children:["$",parseFloat(s.credits.purchased).toFixed(2)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Used This Period"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold",children:["$",parseFloat(s.credits.used_period).toFixed(2)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Total Used"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold",children:["$",parseFloat(s.credits.used_total).toFixed(2)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-sm opacity-90 mb-1",children:"Estimated Remaining Days"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold",children:[s.credits.estimated_days_remaining," days"]})]})]})]}),s&&(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-purple-500",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold mb-2",children:"Total Cost"}),(0,Ia.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["$",parseFloat(s.period.total_cost).toFixed(2)]}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[s.period.total_interactions.toLocaleString()," interactions"]}),(0,Ia.jsxs)("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4"}),"9.8% from last period"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-pink-500",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold mb-2",children:"LLM Completions"}),(0,Ia.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["$",parseFloat(s.period.llm_cost).toFixed(2)]}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[s.period.llm_percentage,"% of total"]}),(0,Ia.jsxs)("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4"}),"11.2% from last period"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-blue-500",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold mb-2",children:"Transcription"}),(0,Ia.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["$",parseFloat(s.period.transcription_cost).toFixed(2)]}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[s.period.transcription_percentage,"% of total"]}),(0,Ia.jsxs)("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4"}),"8.5% from last period"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-l-4 border-green-500",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold mb-2",children:"Analysis Services"}),(0,Ia.jsxs)("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:["$",parseFloat(s.period.analysis_cost).toFixed(2)]}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[s.period.analysis_percentage,"% of total"]}),(0,Ia.jsxs)("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,Ia.jsx)(xs,{className:"w-4 h-4"}),"2.3% from last period"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcc8 Daily Cost Trends"}),(0,Ia.jsx)(Sl,{width:"100%",height:300,children:(0,Ia.jsxs)(z_,{data:o,children:[(0,Ia.jsx)(sC,{strokeDasharray:"3 3"}),(0,Ia.jsx)(A_,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,Ia.jsx)(U_,{tickFormatter:e=>"$".concat(e.toFixed(2))}),(0,Ia.jsx)(Cc,{formatter:e=>"$".concat(parseFloat(e).toFixed(2)),labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,Ia.jsx)(tu,{}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"llm_cost",stroke:"#f093fb",strokeWidth:2,name:"LLM"}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"transcription_cost",stroke:"#4facfe",strokeWidth:2,name:"Transcription"}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"analysis_cost",stroke:"#43e97b",strokeWidth:2,name:"Analysis"}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"total_cost",stroke:"#667eea",strokeWidth:3,name:"Total"})]})})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcb8 Detailed Cost Breakdown"}),(0,Ia.jsx)("ul",{className:"space-y-3",children:c.map((e,t)=>(0,Ia.jsxs)("li",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"w-10 h-10 rounded-lg bg-white flex items-center justify-center text-2xl",children:e.icon}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",e.cost.toFixed(2)]}),(0,Ia.jsxs)("div",{className:"text-xs text-gray-500",children:[e.percentage,"%"]})]})]},t))})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcca Cost per Interaction"}),(0,Ia.jsx)("div",{className:"h-80 bg-gradient-to-br from-purple-600 to-blue-600 rounded-lg flex items-center justify-center text-white text-center p-8",children:(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-xl font-semibold mb-2",children:"Bar Chart: Average Cost by Type"}),(0,Ia.jsx)("div",{className:"text-sm opacity-90",children:"Voice Calls vs Chat Messages"}),(0,Ia.jsx)("div",{className:"text-xs opacity-75 mt-4",children:"(Requires additional data aggregation)"})]})})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Ia.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"\ud83d\udc65 Agent Performance Metrics"})}),(0,Ia.jsx)("ul",{className:"divide-y divide-gray-200",children:u.map((e,t)=>{return(0,Ia.jsxs)("li",{className:"p-6 hover:bg-gray-50 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white text-xl font-bold",style:{background:x(t)},children:(n=e.agent_name,n.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2))}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:e.agent_name}),(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:e.agent_email||"Support Agent"})]})]}),(0,Ia.jsx)("div",{children:(0,Ia.jsxs)("span",{className:"px-4 py-2 rounded-full text-sm font-bold text-white ".concat("good"===e.performance_grade?"bg-gradient-to-r from-green-500 to-green-600":"average"===e.performance_grade?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-red-500 to-red-600"),children:[e.performance_score,"%"]})})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Total Interactions"}),(0,Ia.jsx)("div",{className:"text-lg font-bold text-gray-900",children:e.total_interactions})]}),(0,Ia.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Avg Sentiment"}),(0,Ia.jsx)("div",{className:"text-lg font-bold",style:{color:parseFloat(e.avg_sentiment)>=.7?"#2ecc71":parseFloat(e.avg_sentiment)>=.5?"#f39c12":"#e74c3c"},children:e.avg_sentiment})]}),(0,Ia.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Resolution Rate"}),(0,Ia.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:[e.resolution_rate,"%"]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Avg Duration"}),(0,Ia.jsx)("div",{className:"text-lg font-bold text-gray-900",children:e.avg_duration_formatted})]}),(0,Ia.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Total Cost"}),(0,Ia.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",e.total_cost]})]}),(0,Ia.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[(0,Ia.jsx)("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"Cost/Interaction"}),(0,Ia.jsxs)("div",{className:"text-lg font-bold text-gray-900",children:["$",e.cost_per_interaction]})]})]})]},e.agent_id);var n})})]})]})},fC=Va("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);var xC=ES({chartName:"BarChart",GraphicalChild:Mw,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:A_},{axisType:"yAxis",AxisComp:U_}],formatAxisMap:Uw});const gC=()=>{const[e,t]=(0,a.useState)(!0),[n,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[f,x]=(0,a.useState)([]),[g,y]=(0,a.useState)({date_from:new Date(Date.now()-18144e5).toISOString().split("T")[0],date_to:(new Date).toISOString().split("T")[0],agent_id:""});(0,a.useEffect)(()=>{v()},[]);const v=async()=>{t(!0),r(null);try{const e=qe({},g);e.agent_id||delete e.agent_id;const[t,n,r,a,s,o]=await Promise.all([lC.getSatisfactionOverview(e),lC.getSatisfactionTrends(e),lC.getSatisfactionFeedback(qe(qe({},e),{},{rating:"GOOD",limit:5})),lC.getSatisfactionFeedback(qe(qe({},e),{},{rating:"BAD",limit:5})),lC.getSatisfactionByAgent(e),lC.getSatisfactionByIntent(e)]);i(t.data.data),l(n.data.data.trends||[]),d(r.data.data.feedback||[]),m(a.data.data.feedback||[]),h(s.data.data.agents||[]),x(o.data.data.intents||[])}catch(a){var e,n;console.error("Failed to fetch satisfaction data:",a),r((null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Failed to load satisfaction data")}finally{t(!1)}};return e&&!s?(0,Ia.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ia.jsxs)("div",{className:"text-center",children:[(0,Ia.jsx)(fC,{className:"w-16 h-16 text-green-600 mx-auto mb-4 animate-pulse"}),(0,Ia.jsx)("p",{className:"text-lg text-gray-600",children:"Loading satisfaction data..."})]})}):(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"mb-4",children:[(0,Ia.jsxs)("div",{className:"text-sm text-gray-500 mb-2",children:[(0,Ia.jsx)("a",{href:"/analytics",className:"text-primary-600 hover:text-primary-700",children:"Dashboard"})," ","/"," ","Customer Satisfaction & Feedback"]}),(0,Ia.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\u2b50 Customer Satisfaction & Feedback"})]}),(0,Ia.jsxs)("div",{className:"flex flex-wrap gap-3 items-center",children:[(0,Ia.jsx)("input",{type:"date",value:g.date_from,onChange:e=>y(t=>qe(qe({},t),{},{date_from:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsx)("span",{className:"text-gray-500",children:"to"}),(0,Ia.jsx)("input",{type:"date",value:g.date_to,onChange:e=>y(t=>qe(qe({},t),{},{date_to:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm"}),(0,Ia.jsx)("button",{onClick:()=>{v()},className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 font-semibold",children:"Apply Filters"}),(0,Ia.jsxs)("button",{className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold flex items-center gap-2",children:[(0,Ia.jsx)(gi,{className:"w-4 h-4"}),"Export Report"]})]})]}),n&&(0,Ia.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:n}),s&&(0,Ia.jsxs)("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg shadow-lg p-10 text-center",children:[(0,Ia.jsxs)("div",{className:"text-7xl font-bold mb-3",children:[s.satisfaction.satisfaction_rate,"%"]}),(0,Ia.jsx)("div",{className:"text-2xl mb-8 opacity-95",children:"Overall Customer Satisfaction"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white/20 rounded-lg p-5",children:[(0,Ia.jsx)("div",{className:"text-3xl font-bold mb-2",children:s.satisfaction.good_count}),(0,Ia.jsx)("div",{className:"text-sm opacity-90",children:"Satisfied"})]}),(0,Ia.jsxs)("div",{className:"bg-white/20 rounded-lg p-5",children:[(0,Ia.jsx)("div",{className:"text-3xl font-bold mb-2",children:s.satisfaction.total_feedback-s.satisfaction.good_count-s.satisfaction.bad_count}),(0,Ia.jsx)("div",{className:"text-sm opacity-90",children:"Neutral"})]}),(0,Ia.jsxs)("div",{className:"bg-white/20 rounded-lg p-5",children:[(0,Ia.jsx)("div",{className:"text-3xl font-bold mb-2",children:s.satisfaction.bad_count}),(0,Ia.jsx)("div",{className:"text-sm opacity-90",children:"Unsatisfied"})]})]})]}),s&&(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold",children:"Resolution Rate"}),(0,Ia.jsx)(is,{className:"w-8 h-8 text-green-500"})]}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:[s.resolution.resolution_rate,"%"]}),(0,Ia.jsxs)("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4"}),"Good performance"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold",children:"First Contact Resolution"}),(0,Ia.jsx)(qs,{className:"w-8 h-8 text-blue-500"})]}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:[s.escalation.first_contact_resolution_rate,"%"]}),(0,Ia.jsxs)("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,Ia.jsx)(Ya,{className:"w-4 h-4"}),"Strong efficiency"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold",children:"Avg Response Time"}),(0,Ia.jsx)(js,{className:"w-8 h-8 text-purple-500"})]}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:[s.response_time.avg_seconds,"s"]}),(0,Ia.jsxs)("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,Ia.jsx)(xs,{className:"w-4 h-4"}),"Fast responses"]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500 uppercase font-semibold",children:"Escalation Rate"}),(0,Ia.jsx)(oi,{className:"w-8 h-8 text-orange-500"})]}),(0,Ia.jsxs)("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:[s.escalation.escalation_rate,"%"]}),(0,Ia.jsxs)("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[(0,Ia.jsx)(xs,{className:"w-4 h-4"}),"Low escalations"]})]})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcc8 Satisfaction Trends Over Time"}),(0,Ia.jsx)(Sl,{width:"100%",height:300,children:(0,Ia.jsxs)(z_,{data:o,children:[(0,Ia.jsx)(sC,{strokeDasharray:"3 3"}),(0,Ia.jsx)(A_,{dataKey:"date",tickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),(0,Ia.jsx)(U_,{tickFormatter:e=>"".concat(e,"%")}),(0,Ia.jsx)(Cc,{formatter:e=>"".concat(parseFloat(e).toFixed(1),"%"),labelFormatter:e=>new Date(e).toLocaleDateString()}),(0,Ia.jsx)(tu,{}),(0,Ia.jsx)(YS,{type:"monotone",dataKey:"satisfaction_rate",stroke:"#2ecc71",strokeWidth:3,name:"Satisfaction Rate"})]})})]}),s&&(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83c\udfaf Resolution Funnel"}),(0,Ia.jsxs)("div",{className:"space-y-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center text-2xl",children:"\ud83d\udcde"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:"Total Interactions"}),(0,Ia.jsx)("div",{className:"h-2 bg-gray-200 rounded-full w-48 mt-2",children:(0,Ia.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"100%"}})})]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.resolution.total_interactions}),(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:"100%"})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center text-2xl",children:"\u2705"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:"Issue Resolved"}),(0,Ia.jsx)("div",{className:"h-2 bg-gray-200 rounded-full w-48 mt-2",children:(0,Ia.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(s.resolution.resolution_rate,"%")}})})]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.resolution.resolved_count}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500",children:[s.resolution.resolution_rate,"%"]})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center text-2xl",children:"\ud83d\ude0a"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:"Customer Satisfied"}),(0,Ia.jsx)("div",{className:"h-2 bg-gray-200 rounded-full w-48 mt-2",children:(0,Ia.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(s.satisfaction.satisfaction_rate,"%")}})})]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.satisfaction.good_count}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500",children:[s.satisfaction.satisfaction_rate,"%"]})]})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-5 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ia.jsx)("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center text-2xl",children:"\ud83c\udfaf"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"text-base font-semibold text-gray-900",children:"First Contact Resolution"}),(0,Ia.jsx)("div",{className:"h-2 bg-gray-200 rounded-full w-48 mt-2",children:(0,Ia.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(s.escalation.first_contact_resolution_rate,"%")}})})]})]}),(0,Ia.jsxs)("div",{className:"text-right",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:s.escalation.total_sessions-s.escalation.escalated_sessions}),(0,Ia.jsxs)("div",{className:"text-sm text-gray-500",children:[s.escalation.first_contact_resolution_rate,"%"]})]})]})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udd0d Top Satisfaction Drivers"}),(0,Ia.jsx)("ul",{className:"space-y-4",children:c.map(e=>(0,Ia.jsxs)("li",{className:"bg-green-50 border-l-4 border-green-500 p-5 rounded-lg",children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ia.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-semibold",children:"Positive"}),(0,Ia.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Ia.jsx)("div",{className:"text-xl",children:"GOOD"===e.rating?"\ud83d\udc4d":"\u2b50\u2b50\u2b50\u2b50\u2b50"})]}),(0,Ia.jsx)("div",{className:"text-sm text-gray-700 mb-3",children:e.comment||"Customer rated this interaction positively"}),(0,Ia.jsx)("div",{className:"flex gap-2",children:e.intents&&e.intents.slice(0,3).map((e,t)=>(0,Ia.jsx)("span",{className:"px-2 py-1 bg-white border border-gray-300 rounded-md text-xs text-gray-600",children:e},t))})]},e.id))})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\u26a0\ufe0f Areas for Improvement"}),(0,Ia.jsx)("ul",{className:"space-y-4",children:u.map(e=>(0,Ia.jsxs)("li",{className:"bg-red-50 border-l-4 border-red-500 p-5 rounded-lg",children:[(0,Ia.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Ia.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ia.jsx)("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-semibold",children:"Negative"}),(0,Ia.jsx)("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Ia.jsx)("div",{className:"text-xl",children:"BAD"===e.rating?"\ud83d\udc4e":"\u2b50\u2b50"})]}),(0,Ia.jsx)("div",{className:"text-sm text-gray-700 mb-3",children:e.comment||"Customer rated this interaction negatively"}),(0,Ia.jsx)("div",{className:"flex gap-2",children:e.intents&&e.intents.slice(0,3).map((e,t)=>(0,Ia.jsx)("span",{className:"px-2 py-1 bg-white border border-gray-300 rounded-md text-xs text-gray-600",children:e},t))})]},e.id))})]})]}),(0,Ia.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udc65 Satisfaction by Agent"}),(0,Ia.jsx)(Sl,{width:"100%",height:300,children:(0,Ia.jsxs)(xC,{data:p,children:[(0,Ia.jsx)(sC,{strokeDasharray:"3 3"}),(0,Ia.jsx)(A_,{dataKey:"agent_name"}),(0,Ia.jsx)(U_,{tickFormatter:e=>"".concat(e,"%")}),(0,Ia.jsx)(Cc,{formatter:e=>"".concat(parseFloat(e).toFixed(1),"%")}),(0,Ia.jsx)(Mw,{dataKey:"satisfaction_rate",fill:"#2ecc71"})]})})]}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 pb-4 border-b border-gray-200",children:"\ud83d\udcca Satisfaction by Intent"}),(0,Ia.jsx)(Sl,{width:"100%",height:300,children:(0,Ia.jsxs)(xC,{data:f,children:[(0,Ia.jsx)(sC,{strokeDasharray:"3 3"}),(0,Ia.jsx)(A_,{dataKey:"intent"}),(0,Ia.jsx)(U_,{tickFormatter:e=>"".concat(e,"%")}),(0,Ia.jsx)(Cc,{formatter:e=>"".concat(parseFloat(e).toFixed(1),"%")}),(0,Ia.jsx)(Mw,{dataKey:"satisfaction_rate",fill:"#3498db"})]})})]})]})]})},yC=Va("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),vC=e=>{let{onClose:t,onCreated:n}=e;const[r,s]=(0,a.useState)({name:"",company_name:"",admin_name:"",admin_email:"",admin_password:"",initial_credits:0}),[i,o]=(0,a.useState)(!1);return(0,Ia.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold",children:"Create New Tenant"}),(0,Ia.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"h-5 w-5"})})]}),(0,Ia.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0);try{await Ma.post("/tenants",r),rn.success("Tenant created successfully"),n()}catch(s){var t,a;rn.error((null===(t=s.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to create tenant")}finally{o(!1)}},className:"p-4 space-y-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tenant Name *"}),(0,Ia.jsx)("input",{type:"text",required:!0,value:r.name,onChange:e=>s(qe(qe({},r),{},{name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Acme Corp"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),(0,Ia.jsx)("input",{type:"text",value:r.company_name,onChange:e=>s(qe(qe({},r),{},{company_name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Acme Corporation Inc."})]}),(0,Ia.jsx)("hr",{}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Name *"}),(0,Ia.jsx)("input",{type:"text",required:!0,value:r.admin_name,onChange:e=>s(qe(qe({},r),{},{admin_name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., John Smith"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Email *"}),(0,Ia.jsx)("input",{type:"email",required:!0,value:r.admin_email,onChange:e=>s(qe(qe({},r),{},{admin_email:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., john@acme.com"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Password *"}),(0,Ia.jsx)("input",{type:"password",required:!0,minLength:8,value:r.admin_password,onChange:e=>s(qe(qe({},r),{},{admin_password:e.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Min 8 characters"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Initial Credits"}),(0,Ia.jsx)("input",{type:"number",min:"0",step:"0.01",value:r.initial_credits,onChange:e=>s(qe(qe({},r),{},{initial_credits:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"0.00"})]}),(0,Ia.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Ia.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Ia.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:i?"Creating...":"Create Tenant"})]})]})]})})},bC=e=>{var t;let{tenant:n,onClose:r}=e;return(0,Ia.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold",children:n.name}),(0,Ia.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"h-5 w-5"})})]}),(0,Ia.jsxs)("div",{className:"p-4 space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Basic Information"}),(0,Ia.jsxs)("dl",{className:"grid grid-cols-2 gap-4",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-xs text-gray-500",children:"Company Name"}),(0,Ia.jsx)("dd",{className:"text-sm font-medium",children:n.company_name||"-"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-xs text-gray-500",children:"Status"}),(0,Ia.jsx)("dd",{children:n.is_active?(0,Ia.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}):(0,Ia.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inactive"})})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-xs text-gray-500",children:"Credit Balance"}),(0,Ia.jsxs)("dd",{className:"text-sm font-medium",children:["$",parseFloat(n.credit_balance||0).toFixed(4)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("dt",{className:"text-xs text-gray-500",children:"Created"}),(0,Ia.jsx)("dd",{className:"text-sm",children:new Date(n.created_at).toLocaleDateString()})]})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Usage Statistics"}),(0,Ia.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Ia.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:n.user_count}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Users"})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:n.agent_count}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Agents"})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-green-600",children:n.total_calls}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Calls"})]}),(0,Ia.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[(0,Ia.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:n.total_chat_sessions}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:"Chat Sessions"})]})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"API Key"}),n.api_key?(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("code",{className:"bg-gray-100 px-3 py-2 rounded text-sm flex-1",children:n.api_key}),(0,Ia.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(n.api_key),rn.success("Copied to clipboard")},className:"p-2 text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(Ds,{className:"h-5 w-5"})})]}):(0,Ia.jsx)("p",{className:"text-sm text-gray-400",children:"No API key generated"})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:["Users (",(null===(t=n.users)||void 0===t?void 0:t.length)||0,")"]}),n.users&&n.users.length>0?(0,Ia.jsx)("div",{className:"space-y-2",children:n.users.map(e=>(0,Ia.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,Ia.jsx)("div",{className:"text-xs text-gray-500",children:e.email})]}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat("admin"===e.role?"bg-purple-100 text-purple-800":"agent_manager"===e.role?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.role}),e.is_active?(0,Ia.jsx)(is,{className:"h-4 w-4 text-green-500"}):(0,Ia.jsx)(ki,{className:"h-4 w-4 text-red-500"})]})]},e.id))}):(0,Ia.jsx)("p",{className:"text-sm text-gray-400",children:"No users"})]}),n.agents&&n.agents.length>0&&(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Recent Agents"}),(0,Ia.jsx)("div",{className:"space-y-2",children:n.agents.map(e=>(0,Ia.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Ga,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,Ia.jsxs)("div",{className:"text-xs text-gray-500",children:[e.type," \u2022 ",e.provider]})]})]}),(0,Ia.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})]},e.id))})]})]}),(0,Ia.jsx)("div",{className:"p-4 border-t bg-gray-50",children:(0,Ia.jsx)("button",{onClick:r,className:"w-full px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Close"})})]})})},jC=e=>{let{tenant:t,onClose:n,onAdded:r}=e;const[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1);return(0,Ia.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,Ia.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,Ia.jsxs)("h2",{className:"text-lg font-semibold",children:["Add Credits to ",t.name]}),(0,Ia.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Ia.jsx)(rs,{className:"h-5 w-5"})})]}),(0,Ia.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!s||parseFloat(s)<=0)rn.error("Please enter a valid amount");else{d(!0);try{await Ma.post("/tenants/".concat(t.id,"/credits"),{amount:parseFloat(s),note:o}),rn.success("Credits added successfully"),r()}catch(i){var n,a;rn.error((null===(n=i.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to add credits")}finally{d(!1)}}},className:"p-4 space-y-4",children:[(0,Ia.jsxs)("div",{className:"bg-gray-50 p-3 rounded-lg",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:"Current Balance"}),(0,Ia.jsxs)("div",{className:"text-2xl font-bold",children:["$",parseFloat(t.credit_balance||0).toFixed(4)]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount to Add *"}),(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,Ia.jsx)("input",{type:"number",required:!0,min:"0.01",step:"0.01",value:s,onChange:e=>i(e.target.value),className:"w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"0.00"})]})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note (optional)"}),(0,Ia.jsx)("textarea",{value:o,onChange:e=>l(e.target.value),rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"e.g., Initial credit allocation"})]}),s&&parseFloat(s)>0&&(0,Ia.jsx)("div",{className:"bg-green-50 p-3 rounded-lg",children:(0,Ia.jsxs)("div",{className:"text-sm text-green-700",children:["New Balance: ",(0,Ia.jsxs)("strong",{children:["$",(parseFloat(t.credit_balance||0)+parseFloat(s)).toFixed(4)]})]})}),(0,Ia.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Ia.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Ia.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:c?"Adding...":"Add Credits"})]})]})]})})},wC=()=>{const{user:e,login:t}=Fa(),[n,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)(!0),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(1),[j,w]=(0,a.useState)(0);(0,a.useEffect)(()=>{N(),k()},[v,c]);const N=async()=>{try{l(!0);const e=await Ma.get("/tenants",{params:{search:c,limit:20,offset:20*(v-1)}});r(e.data.data.tenants||[]),w(e.data.data.total||0)}catch(e){console.error("Failed to fetch tenants:",e),rn.error("Failed to load tenants")}finally{l(!1)}},k=async()=>{try{const e=await Ma.get("/tenants/stats");i(e.data.data)}catch(e){console.error("Failed to fetch stats:",e)}},S=Math.ceil(j/20);return(0,Ia.jsxs)("div",{className:"space-y-6",children:["true"===localStorage.getItem("emulation_active")&&(0,Ia.jsxs)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 flex items-center justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Li,{className:"h-5 w-5 text-yellow-600 mr-2"}),(0,Ia.jsxs)("span",{className:"text-yellow-800",children:["You are viewing as: ",(0,Ia.jsx)("strong",{children:localStorage.getItem("emulated_tenant_name")})]})]}),(0,Ia.jsx)("button",{onClick:()=>{const e=localStorage.getItem("original_token");e&&(localStorage.setItem("token",e),localStorage.removeItem("original_token"),localStorage.removeItem("emulation_active"),localStorage.removeItem("emulated_tenant_name"),window.location.href="/aiva/tenants")},className:"bg-yellow-600 text-white px-4 py-1 rounded hover:bg-yellow-700",children:"Exit Emulation"})]}),(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tenant Manager"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"Manage your customer tenants"})]}),(0,Ia.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:[(0,Ia.jsx)(Ja,{className:"w-5 h-5 mr-2"}),"Create Tenant"]})]}),s&&(0,Ia.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Ks,{className:"h-8 w-8 text-primary-600"}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Total Tenants"}),(0,Ia.jsx)("p",{className:"text-2xl font-bold",children:s.total_tenants})]})]})}),(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Vs,{className:"h-8 w-8 text-green-600"}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Total Users"}),(0,Ia.jsx)("p",{className:"text-2xl font-bold",children:s.total_users})]})]})}),(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Ga,{className:"h-8 w-8 text-purple-600"}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Total Agents"}),(0,Ia.jsx)("p",{className:"text-2xl font-bold",children:s.total_agents})]})]})}),(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)(Ha,{className:"h-8 w-8 text-yellow-600"}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Total Credits"}),(0,Ia.jsxs)("p",{className:"text-2xl font-bold",children:["$",parseFloat(s.total_credits||0).toFixed(2)]})]})]})})]}),(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow p-4",children:(0,Ia.jsxs)("div",{className:"relative",children:[(0,Ia.jsx)(ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,Ia.jsx)("input",{type:"text",placeholder:"Search tenants by name, company, or email...",value:c,onChange:e=>{d(e.target.value),b(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,Ia.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ia.jsx)("thead",{className:"bg-gray-50",children:(0,Ia.jsxs)("tr",{children:[(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tenant"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Credits"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"API Key"}),(0,Ia.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ia.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o?(0,Ia.jsx)("tr",{children:(0,Ia.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Ia.jsx)(ui,{className:"h-8 w-8 animate-spin mx-auto text-gray-400"}),(0,Ia.jsx)("p",{className:"mt-2 text-gray-500",children:"Loading tenants..."})]})}):0===n.length?(0,Ia.jsx)("tr",{children:(0,Ia.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:[(0,Ia.jsx)(Ks,{className:"h-12 w-12 mx-auto text-gray-400"}),(0,Ia.jsx)("p",{className:"mt-2 text-gray-500",children:"No tenants found"})]})}):n.map(e=>(0,Ia.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Ia.jsx)(Ks,{className:"h-5 w-5 text-primary-600"})}),(0,Ia.jsxs)("div",{className:"ml-4",children:[(0,Ia.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:e.company_name})]})]})}),(0,Ia.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ia.jsx)("div",{className:"text-sm text-gray-900",children:e.admin_name||"-"}),(0,Ia.jsx)("div",{className:"text-sm text-gray-500",children:e.admin_email||"-"})]}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsxs)("div",{className:"flex space-x-4 text-sm text-gray-500",children:[(0,Ia.jsxs)("span",{className:"flex items-center",children:[(0,Ia.jsx)(Vs,{className:"h-4 w-4 mr-1"}),e.user_count]}),(0,Ia.jsxs)("span",{className:"flex items-center",children:[(0,Ia.jsx)(Ga,{className:"h-4 w-4 mr-1"}),e.agent_count]}),(0,Ia.jsxs)("span",{className:"flex items-center",children:[(0,Ia.jsx)(Ka,{className:"h-4 w-4 mr-1"}),e.total_calls]})]})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ia.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",parseFloat(e.credit_balance||0).toFixed(2)]})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.is_active?(0,Ia.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Ia.jsx)(is,{className:"h-3 w-3 mr-1"}),"Active"]}):(0,Ia.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[(0,Ia.jsx)(ki,{className:"h-3 w-3 mr-1"}),"Inactive"]})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.api_key_masked?(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("code",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.api_key_masked}),(0,Ia.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(e.api_key),rn.success("API key copied")},className:"ml-2 text-gray-400 hover:text-gray-600",title:"Copy full key",children:(0,Ia.jsx)(Ds,{className:"h-4 w-4"})})]}):(0,Ia.jsx)("span",{className:"text-gray-400 text-sm",children:"No key"})}),(0,Ia.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Ia.jsx)("button",{onClick:()=>(async e=>{try{const t=await Ma.get("/tenants/".concat(e));y(t.data.data),h(!0),setActiveDropdown(null)}catch(t){rn.error("Failed to load tenant details")}})(e.id),className:"p-1.5 text-gray-500 hover:text-primary-600 hover:bg-primary-50 rounded",title:"View Details",children:(0,Ia.jsx)(Li,{className:"h-4 w-4"})}),(0,Ia.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to login as ".concat(e.name,"? You will have admin access to their account.")))try{const t=await Ma.post("/tenants/".concat(e.id,"/emulate")),{token:n,user:r,tenant:a}=t.data.data;localStorage.setItem("original_token",localStorage.getItem("token")),localStorage.setItem("emulation_active","true"),localStorage.setItem("emulated_tenant_name",a.name),localStorage.setItem("token",n),rn.success("Now viewing as ".concat(a.name)),window.location.href="/aiva"}catch(r){var t,n;rn.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to emulate tenant")}})(e),className:"p-1.5 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded",title:"Login As",children:(0,Ia.jsx)(yC,{className:"h-4 w-4"})}),(0,Ia.jsx)("button",{onClick:()=>{y(e),x(!0)},className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded",title:"Add Credits",children:(0,Ia.jsx)(Ha,{className:"h-4 w-4"})}),(0,Ia.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Generate new API key? This will invalidate any existing key."))try{const t=(await Ma.post("/tenants/".concat(e,"/api-key"))).data.data.api_key;navigator.clipboard.writeText(t),rn.success("New API key generated and copied to clipboard!"),N(),setActiveDropdown(null)}catch(t){rn.error("Failed to generate API key")}})(e.id),className:"p-1.5 text-gray-500 hover:text-yellow-600 hover:bg-yellow-50 rounded",title:"Generate API Key",children:(0,Ia.jsx)(Ys,{className:"h-4 w-4"})}),e.is_active?(0,Ia.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Deactivate ".concat(e.name,"? All users will be unable to login.")))try{await Ma.post("/tenants/".concat(e.id,"/deactivate")),rn.success("Tenant deactivated"),N(),setActiveDropdown(null)}catch(t){rn.error("Failed to deactivate tenant")}})(e),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded",title:"Deactivate",children:(0,Ia.jsx)(ki,{className:"h-4 w-4"})}):(0,Ia.jsx)("button",{onClick:()=>(async e=>{try{await Ma.post("/tenants/".concat(e.id,"/reactivate")),rn.success("Tenant reactivated"),N(),setActiveDropdown(null)}catch(t){rn.error("Failed to reactivate tenant")}})(e),className:"p-1.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded",title:"Reactivate",children:(0,Ia.jsx)(is,{className:"h-4 w-4"})})]})})]},e.id))})]}),S>1&&(0,Ia.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t",children:[(0,Ia.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing ",20*(v-1)+1," to ",Math.min(20*v,j)," of ",j]}),(0,Ia.jsxs)("div",{className:"flex space-x-2",children:[(0,Ia.jsx)("button",{onClick:()=>b(e=>Math.max(1,e-1)),disabled:1===v,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Previous"}),(0,Ia.jsx)("button",{onClick:()=>b(e=>Math.min(S,e+1)),disabled:v===S,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Next"})]})]})]}),u&&(0,Ia.jsx)(vC,{onClose:()=>m(!1),onCreated:()=>{N(),k(),m(!1)}}),p&&g&&(0,Ia.jsx)(bC,{tenant:g,onClose:()=>{h(!1),y(null)}}),f&&g&&(0,Ia.jsx)(jC,{tenant:g,onClose:()=>{x(!1),y(null)},onAdded:()=>{N(),k(),x(!1),y(null)}})]})},NC=Va("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),kC=Va("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),SC=Va("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),_C=()=>{const{user:e}=Fa(),[t,n]=(0,a.useState)(null),[r,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1);(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{u(!0);const e=await Ma.get("/auth/api-key");n(e.data.api_key),s(e.data.masked_key),o(e.data.has_key)}catch(e){console.error("Failed to fetch API key:",e),rn.error("Failed to load API key")}finally{u(!1)}},f=async()=>{const e=i?"regenerate":"generate";if(!i||window.confirm("Are you sure you want to regenerate your API key? The current key will be invalidated immediately and any integrations using it will stop working."))try{p(!0);const t=await Ma.post("/auth/api-key/generate");n(t.data.api_key),s("".concat(t.data.api_key.substring(0,7),"...").concat(t.data.api_key.substring(t.data.api_key.length-4))),o(!0),c(!0),navigator.clipboard.writeText(t.data.api_key),rn.success("API key ".concat(e,"d and copied to clipboard!"))}catch(t){rn.error("Failed to ".concat(e," API key"))}finally{p(!1)}};return d?(0,Ia.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Ia.jsx)(ui,{className:"h-8 w-8 animate-spin text-gray-400"})}):(0,Ia.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"API Settings"}),(0,Ia.jsx)("p",{className:"text-gray-600",children:"Manage your API key for programmatic access"})]}),(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,Ia.jsxs)("div",{className:"p-6",children:[(0,Ia.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ia.jsxs)("div",{className:"flex items-center",children:[(0,Ia.jsx)("div",{className:"flex-shrink-0 h-12 w-12 rounded-lg bg-primary-100 flex items-center justify-center",children:(0,Ia.jsx)(Ys,{className:"h-6 w-6 text-primary-600"})}),(0,Ia.jsxs)("div",{className:"ml-4",children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"API Key"}),(0,Ia.jsx)("p",{className:"text-sm text-gray-500",children:"Use this key to authenticate API requests"})]})]}),(0,Ia.jsx)("div",{className:"flex items-center space-x-2",children:i?(0,Ia.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,Ia.jsx)(is,{className:"h-3 w-3 mr-1"}),"Active"]}):(0,Ia.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"No Key"})})]}),i?(0,Ia.jsxs)("div",{className:"mt-6",children:[(0,Ia.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your API Key"}),(0,Ia.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ia.jsxs)("div",{className:"flex-1 relative",children:[(0,Ia.jsx)("input",{type:l?"text":"password",readOnly:!0,value:l?t:r||"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-lg font-mono text-sm"}),(0,Ia.jsx)("button",{onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?(0,Ia.jsx)(po,{className:"h-5 w-5"}):(0,Ia.jsx)(Li,{className:"h-5 w-5"})})]}),(0,Ia.jsx)("button",{onClick:()=>{t&&(navigator.clipboard.writeText(t),rn.success("API key copied to clipboard"))},className:"p-3 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",title:"Copy to clipboard",children:(0,Ia.jsx)(Ds,{className:"h-5 w-5 text-gray-600"})})]}),(0,Ia.jsxs)("div",{className:"mt-4 flex space-x-3",children:[(0,Ia.jsxs)("button",{onClick:f,disabled:m,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[(0,Ia.jsx)(ui,{className:"h-4 w-4 mr-2 ".concat(m?"animate-spin":"")}),m?"Regenerating...":"Regenerate Key"]}),(0,Ia.jsx)("button",{onClick:async()=>{if(window.confirm("Are you sure you want to revoke your API key? Any integrations using it will stop working immediately."))try{await Ma.delete("/auth/api-key"),n(null),s(null),o(!1),c(!1),rn.success("API key revoked successfully")}catch(e){rn.error("Failed to revoke API key")}},className:"flex items-center px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Revoke Key"})]})]}):(0,Ia.jsx)("div",{className:"mt-6",children:(0,Ia.jsxs)("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,Ia.jsx)(Ys,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,Ia.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No API Key Generated"}),(0,Ia.jsx)("p",{className:"text-gray-500 mb-4",children:"Generate an API key to start using the AIVA API for your integrations."}),(0,Ia.jsxs)("button",{onClick:f,disabled:m,className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50",children:[(0,Ia.jsx)(Ys,{className:"h-4 w-4 mr-2"}),m?"Generating...":"Generate API Key"]})]})})]})}),(0,Ia.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,Ia.jsxs)("div",{className:"flex",children:[(0,Ia.jsx)(Zi,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),(0,Ia.jsxs)("div",{className:"ml-3",children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-yellow-800",children:"Keep your API key secure"}),(0,Ia.jsxs)("ul",{className:"mt-2 text-sm text-yellow-700 list-disc list-inside space-y-1",children:[(0,Ia.jsx)("li",{children:"Never share your API key in public repositories or client-side code"}),(0,Ia.jsx)("li",{children:"Store it securely in environment variables on your server"}),(0,Ia.jsx)("li",{children:"Regenerate immediately if you suspect it has been compromised"}),(0,Ia.jsx)("li",{children:"Each tenant can only have one active API key at a time"})]})]})]})}),(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,Ia.jsxs)("div",{className:"p-6",children:[(0,Ia.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(NC,{className:"h-5 w-5 mr-2"}),"Usage Examples"]}),(0,Ia.jsxs)("div",{className:"space-y-6",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsxs)("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[(0,Ia.jsx)(kC,{className:"h-4 w-4 mr-1"}),"cURL"]}),(0,Ia.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:(0,Ia.jsx)("pre",{className:"text-green-400 text-sm font-mono",children:'curl -X GET "'.concat(window.location.origin,'/aiva/api/agents" \\\n  -H "X-API-Key: ').concat(t||"your_api_key",'" \\\n  -H "Content-Type: application/json"')})})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"JavaScript / Node.js"}),(0,Ia.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:(0,Ia.jsx)("pre",{className:"text-green-400 text-sm font-mono",children:"const response = await fetch('".concat(window.location.origin,"/aiva/api/agents', {\n  method: 'GET',\n  headers: {\n    'X-API-Key': '").concat(t||"your_api_key","',\n    'Content-Type': 'application/json'\n  }\n});\n\nconst data = await response.json();\nconsole.log(data);")})})]}),(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Python"}),(0,Ia.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:(0,Ia.jsx)("pre",{className:"text-green-400 text-sm font-mono",children:"import requests\n\nresponse = requests.get(\n    '".concat(window.location.origin,"/aiva/api/agents',\n    headers={\n        'X-API-Key': '").concat(t||"your_api_key","',\n        'Content-Type': 'application/json'\n    }\n)\n\nprint(response.json())")})})]})]})]})}),(0,Ia.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ia.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ia.jsxs)("div",{children:[(0,Ia.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"API Documentation"}),(0,Ia.jsx)("p",{className:"text-gray-500",children:"View the complete API reference with all available endpoints"})]}),(0,Ia.jsxs)("a",{href:"/aiva/swagger/api-docs",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:[(0,Ia.jsx)(_i,{className:"h-4 w-4 mr-2"}),"View Swagger Docs"]})]})}),(0,Ia.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ia.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Ia.jsx)(SC,{className:"h-5 w-5 mr-2"}),"API Key Permissions"]}),(0,Ia.jsxs)("p",{className:"text-gray-600 mb-4",children:["Your API key has ",(0,Ia.jsx)("strong",{children:"admin-level"})," access to your tenant's resources. This includes:"]}),(0,Ia.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["List and manage agents","Access knowledge bases","Start chat sessions","View call logs","Manage functions","Access credit information"].map((e,t)=>(0,Ia.jsxs)("li",{className:"flex items-center text-sm text-gray-600",children:[(0,Ia.jsx)(is,{className:"h-4 w-4 text-green-500 mr-2"}),e]},t))})]})]})},CC=e=>{let{children:t}=e;const{user:n,loading:r}=Fa(),a=Z();return r?(0,Ia.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ia.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?t:(0,Ia.jsx)(ge,{to:"/login",replace:!0,state:{from:a}})};const OC=function(){return(0,Ia.jsx)(Ra,{children:(0,Ia.jsxs)(Pe,{basename:"/aiva",children:[(0,Ia.jsxs)(je,{children:[(0,Ia.jsx)(ve,{path:"/login",element:(0,Ia.jsx)(Ba,{})}),(0,Ia.jsx)(ve,{path:"/chat/:agentId",element:(0,Ia.jsx)(ro,{})}),(0,Ia.jsxs)(ve,{path:"/",element:(0,Ia.jsx)(CC,{children:(0,Ia.jsx)(ei,{})}),children:[(0,Ia.jsx)(ve,{index:!0,element:(0,Ia.jsx)(Xa,{})}),(0,Ia.jsx)(ve,{path:"monitor",element:(0,Ia.jsx)(Ns,{})}),(0,Ia.jsx)(ve,{path:"analytics/dashboard",element:(0,Ia.jsx)(cC,{})}),(0,Ia.jsx)(ve,{path:"analytics/calls",element:(0,Ia.jsx)(dC,{})}),(0,Ia.jsx)(ve,{path:"analytics/chats",element:(0,Ia.jsx)(uC,{})}),(0,Ia.jsx)(ve,{path:"analytics/advanced",element:(0,Ia.jsx)(mC,{})}),(0,Ia.jsx)(ve,{path:"analytics/costs",element:(0,Ia.jsx)(hC,{})}),(0,Ia.jsx)(ve,{path:"analytics/satisfaction",element:(0,Ia.jsx)(gC,{})}),(0,Ia.jsx)(ve,{path:"tenants",element:(0,Ia.jsx)(wC,{})}),(0,Ia.jsx)(ve,{path:"settings/api",element:(0,Ia.jsx)(_C,{})}),(0,Ia.jsx)(ve,{path:"agents",element:(0,Ia.jsx)(ns,{})}),(0,Ia.jsx)(ve,{path:"agents/test",element:(0,Ia.jsx)(Cs,{})}),(0,Ia.jsx)(ve,{path:"agents/new",element:(0,Ia.jsx)(fs,{})}),(0,Ia.jsx)(ve,{path:"agents/:id",element:(0,Ia.jsx)(fs,{})}),(0,Ia.jsx)(ve,{path:"agents/:id/chat-integration",element:(0,Ia.jsx)(to,{})}),(0,Ia.jsx)(ve,{path:"/agents/:id/conversation-strategy",element:(0,Ia.jsx)(Ji,{})}),(0,Ia.jsx)(ve,{path:"credits",element:(0,Ia.jsx)(gs,{})}),(0,Ia.jsx)(ve,{path:"calls",element:(0,Ia.jsx)(ys,{})}),(0,Ia.jsx)(ve,{path:"/test",element:(0,Ia.jsx)(Cs,{})}),(0,Ia.jsx)(ve,{path:"agent-test",element:(0,Ia.jsx)(Ls,{})}),(0,Ia.jsx)(ve,{path:"knowledge",element:(0,Ia.jsx)(si,{})}),(0,Ia.jsx)(ve,{path:"knowledge/new",element:(0,Ia.jsx)(li,{})}),(0,Ia.jsx)(ve,{path:"knowledge/:id/edit",element:(0,Ia.jsx)(li,{})}),(0,Ia.jsx)(ve,{path:"knowledge/:id/documents",element:(0,Ia.jsx)(bi,{})}),(0,Ia.jsx)(ve,{path:"knowledge/:id/search",element:(0,Ia.jsx)(ji,{})}),(0,Ia.jsx)(ve,{path:"knowledge/:id/stats",element:(0,Ia.jsx)(wi,{})}),(0,Ia.jsx)(ve,{path:"knowledge/:id/chat",element:(0,Ia.jsx)(Ni,{})}),(0,Ia.jsx)(ve,{path:"settings/system",element:(0,Ia.jsx)(ho,{})}),(0,Ia.jsx)(ve,{path:"settings/notifications",element:(0,Ia.jsx)(fo,{})}),(0,Ia.jsx)(ve,{path:"help",element:(0,Ia.jsx)(io,{})}),(0,Ia.jsx)(ve,{path:"help/:articleId",element:(0,Ia.jsx)(lo,{})}),(0,Ia.jsx)(ve,{path:"shopify",element:(0,Ia.jsx)(Ti,{})}),(0,Ia.jsx)(ve,{path:"shopify/connect",element:(0,Ia.jsx)(Mi,{})}),(0,Ia.jsx)(ve,{path:"shopify/stores/:storeId",element:(0,Ia.jsx)(Wi,{})}),(0,Ia.jsx)(ve,{path:"shopify/products",element:(0,Ia.jsx)(qi,{})}),(0,Ia.jsx)(ve,{path:"/shopify/products/:id",element:(0,Ia.jsx)(Hi,{})}),(0,Ia.jsx)(ve,{path:"users",element:(0,Ia.jsx)(eo,{})})]})]}),(0,Ia.jsx)(nn,{position:"top-right"})]})})};i.createRoot(document.getElementById("root")).render((0,Ia.jsx)(a.StrictMode,{children:(0,Ia.jsx)(OC,{})}))})()})();
//# sourceMappingURL=main.ef9d4bd3.js.map