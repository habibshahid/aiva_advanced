/*! For license information please see main.98bb71ca.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,h(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:n,type:e,key:l,ref:i,props:s,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return l=l(o=e),e=""===s?"."+E(o,0):s,j(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),O(l,t,a,"",function(e){return e})):null!=l&&(_(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);o+=O(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=O(i=i.value,t,a,d=s+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},A={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:A,ReactCurrentOwner:N};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:n,type:e.type,key:s,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,n))c<a&&0>s(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,f=!1,h=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(x=!1,b(e),!h)if(null!==r(c))h=!0,A(w);else{var t=r(d);null!==t&&L(j,t.startTime-e)}}function w(e,n){h=!1,x&&(x=!1,y(_),_=-1),f=!0;var s=p;try{for(b(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!O());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&a(c),b(n)}else a(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&L(j,u.startTime-n),o=!1}return o}finally{m=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,C=5,E=-1;function O(){return!(t.unstable_now()-E<C)}function T(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=T,N=function(){R.postMessage(null)}}else N=function(){g(T,0)};function A(e){S=e,k||(k=!0,N())}function L(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,A(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(x?(y(_),_=-1):x=!0,L(j,s-l))):(e.sortIndex=i,n(c,e),h||f||(h=!0,A(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function h(e,t,n,r,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(f,e)||!u.call(p,e)&&(m.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);x[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,D=Object.assign;function I(e){if(void 0===M)try{throw Error()}catch(Qe){var t=Qe.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ve){var r=Ve}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ve){r=Ve}e.call(t.prototype)}else{try{throw Error()}catch(Ve){r=Ve}e()}}catch(Ve){if(Ve&&r&&"string"===typeof Ve.stack){for(var a=Ve.stack.split("\n"),s=r.stack.split("\n"),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==s[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I(e):""}function B(e){switch(e.tag){case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(Qe){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var xe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,Ne=null;function ke(e){if(e=Ea(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=Ta(t),je(e.stateNode,e.type,t))}}function Se(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function _e(){if(we){var e=we,t=Ne;if(Ne=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Oe=!1;function Te(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==we||null!==Ne)&&(Ee(),_e())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=Ta(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(We){Re=!1}function Le(e,t,n,r,a,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Fe=!1,Me=null,De=!1,Ie=null,ze={onError:function(e){Fe=!0,Me=e}};function Ue(e,t,n,r,a,s,l,i,o){Fe=!1,Me=null,Le.apply(ze,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(s(188))}function Je(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Ke(a),e;if(l===r)return Ke(a),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,et=a.unstable_cancelCallback,nt=a.unstable_shouldYield,rt=a.unstable_requestPaint,at=a.unstable_now,st=a.unstable_getCurrentPriorityLevel,lt=a.unstable_ImmediatePriority,it=a.unstable_UserBlockingPriority,ot=a.unstable_NormalPriority,ct=a.unstable_LowPriority,dt=a.unstable_IdlePriority,ut=null,mt=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ft(e)/ht|0)|0},ft=Math.log,ht=Math.LN2;var xt=64,gt=4194304;function yt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~a;0!==i?r=yt(i):0!==(s&=l)&&(r=yt(s))}else 0!==(l=n&~a)?r=yt(l):0!==s&&(r=yt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-pt(t)),r|=e[n],t&=~a;return r}function bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Nt(){var e=xt;return 0===(4194240&(xt<<=1))&&(xt=64),e}function kt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ct=0;function Et(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ot,Tt,Pt,Rt,At,Lt=!1,Ft=[],Mt=null,Dt=null,It=null,Ut=new Map,Bt=new Map,qt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vt(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Wt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Ea(t))&&Tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function $t(e){var t=Ca(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void At(e.priority,function(){Pt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=an(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ea(n))&&Tt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Qt(e,t,n){Kt(e)&&n.delete(t)}function Jt(){Lt=!1,null!==Mt&&Kt(Mt)&&(Mt=null),null!==Dt&&Kt(Dt)&&(Dt=null),null!==It&&Kt(It)&&(It=null),Ut.forEach(Qt),Bt.forEach(Qt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Lt||(Lt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Jt)))}function Yt(e){function t(t){return Gt(t,e)}if(0<Ft.length){Gt(Ft[0],e);for(var n=1;n<Ft.length;n++){var r=Ft[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Gt(Mt,e),null!==Dt&&Gt(Dt,e),null!==It&&Gt(It,e),Ut.forEach(t),Bt.forEach(t),n=0;n<qt.length;n++)(r=qt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&null===(n=qt[0]).blockedOn;)$t(n),null===n.blockedOn&&qt.shift()}var Xt=b.ReactCurrentBatchConfig,Zt=!0;function en(e,t,n,r){var a=Ct,s=Xt.transition;Xt.transition=null;try{Ct=1,nn(e,t,n,r)}finally{Ct=a,Xt.transition=s}}function tn(e,t,n,r){var a=Ct,s=Xt.transition;Xt.transition=null;try{Ct=4,nn(e,t,n,r)}finally{Ct=a,Xt.transition=s}}function nn(e,t,n,r){if(Zt){var a=an(e,t,n,r);if(null===a)Zr(e,t,r,rn,n),Vt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Mt=Wt(Mt,e,t,n,r,a),!0;case"dragenter":return Dt=Wt(Dt,e,t,n,r,a),!0;case"mouseover":return It=Wt(It,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ut.set(s,Wt(Ut.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Bt.set(s,Wt(Bt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Vt(e,r),4&t&&-1<Ht.indexOf(e)){for(;null!==a;){var s=Ea(a);if(null!==s&&Ot(s),null===(s=an(e,t,n,r))&&Zr(e,t,r,rn,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var rn=null;function an(e,t,n,r){if(rn=null,null!==(e=Ca(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rn=e,null}function sn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(st()){case lt:return 1;case it:return 4;case ot:case ct:return 16;case dt:return 536870912;default:return 16}default:return 16}}var ln=null,on=null,cn=null;function dn(){if(cn)return cn;var e,t,n=on,r=n.length,a="value"in ln?ln.value:ln.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return cn=a.slice(e,1<t?1-t:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function mn(){return!0}function pn(){return!1}function fn(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?mn:pn,this.isPropagationStopped=pn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),t}var hn,xn,gn,yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=fn(yn),bn=D({},yn,{view:0,detail:0}),jn=fn(bn),wn=D({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ln,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&"mousemove"===e.type?(hn=e.screenX-gn.screenX,xn=e.screenY-gn.screenY):xn=hn=0,gn=e),hn)},movementY:function(e){return"movementY"in e?e.movementY:xn}}),Nn=fn(wn),kn=fn(D({},wn,{dataTransfer:0})),Sn=fn(D({},bn,{relatedTarget:0})),_n=fn(D({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=D({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=fn(Cn),On=fn(D({},yn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Rn[e])&&!!t[e]}function Ln(){return An}var Fn=D({},bn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ln,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=fn(Fn),Dn=fn(D({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=fn(D({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ln})),zn=fn(D({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Un=D({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=fn(Un),qn=[9,13,27,32],Hn=d&&"CompositionEvent"in window,Vn=null;d&&"documentMode"in document&&(Vn=document.documentMode);var Wn=d&&"TextEvent"in window&&!Vn,$n=d&&(!Hn||Vn&&8<Vn&&11>=Vn),Kn=String.fromCharCode(32),Qn=!1;function Jn(e,t){switch(e){case"keyup":return-1!==qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function er(e,t,n,r){Se(r),0<(t=ta(t,"onChange")).length&&(n=new vn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var tr=null,nr=null;function rr(e){Kr(e,0)}function ar(e){if(K(Oa(e)))return e}function sr(e,t){if("change"===e)return t}var lr=!1;if(d){var ir;if(d){var or="oninput"in document;if(!or){var cr=document.createElement("div");cr.setAttribute("oninput","return;"),or="function"===typeof cr.oninput}ir=or}else ir=!1;lr=ir&&(!document.documentMode||9<document.documentMode)}function dr(){tr&&(tr.detachEvent("onpropertychange",ur),nr=tr=null)}function ur(e){if("value"===e.propertyName&&ar(nr)){var t=[];er(t,nr,e,be(e)),Te(rr,t)}}function mr(e,t,n){"focusin"===e?(dr(),nr=n,(tr=t).attachEvent("onpropertychange",ur)):"focusout"===e&&dr()}function pr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ar(nr)}function fr(e,t){if("click"===e)return ar(t)}function hr(e,t){if("input"===e||"change"===e)return ar(t)}var xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function gr(e,t){if(xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!xr(e[a],t[a]))return!1}return!0}function yr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vr(e,t){var n,r=yr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yr(r)}}function br(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?br(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function jr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(Xe){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Nr(e){var t=jr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&br(n.ownerDocument.documentElement,n)){if(null!==r&&wr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=vr(n,s);var l=vr(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kr=d&&"documentMode"in document&&11>=document.documentMode,Sr=null,_r=null,Cr=null,Er=!1;function Or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==Sr||Sr!==Q(r)||("selectionStart"in(r=Sr)&&wr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cr&&gr(Cr,r)||(Cr=r,0<(r=ta(_r,"onSelect")).length&&(t=new vn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sr)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionend:Tr("Transition","TransitionEnd")},Rr={},Ar={};function Lr(e){if(Rr[e])return Rr[e];if(!Pr[e])return e;var t,n=Pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return Rr[e]=n[t];return e}d&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);var Fr=Lr("animationend"),Mr=Lr("animationiteration"),Dr=Lr("animationstart"),Ir=Lr("transitionend"),zr=new Map,Ur="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){zr.set(e,t),o(t,[e])}for(var qr=0;qr<Ur.length;qr++){var Hr=Ur[qr];Br(Hr.toLowerCase(),"on"+(Hr[0].toUpperCase()+Hr.slice(1)))}Br(Fr,"onAnimationEnd"),Br(Mr,"onAnimationIteration"),Br(Dr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function $r(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,i,o,c){if(Ue.apply(this,arguments),Fe){if(!Fe)throw Error(s(198));var d=Me;Fe=!1,Me=null,De||(De=!0,Ie=d)}}(r,t,void 0,e),e.currentTarget=null}function Kr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;$r(a,i,c),s=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;$r(a,i,c),s=o}}}if(De)throw e=Ie,De=!1,Ie=null,e}function Qr(e,t){var n=t[ka];void 0===n&&(n=t[ka]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Jr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Gr]){e[Gr]=!0,l.forEach(function(t){"selectionchange"!==t&&(Wr.has(t)||Jr(t,!1,e),Jr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Jr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(sn(t)){case 1:var a=en;break;case 4:a=tn;break;default:a=nn}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=Ca(i)))return;if(5===(o=l.tag)||6===o){r=s=l;continue e}i=i.parentNode}}r=r.return}Te(function(){var r=s,a=be(n),l=[];e:{var i=zr.get(e);if(void 0!==i){var o=vn,c=e;switch(e){case"keypress":if(0===un(n))break e;case"keydown":case"keyup":o=Mn;break;case"focusin":c="focus",o=Sn;break;case"focusout":c="blur",o=Sn;break;case"beforeblur":case"afterblur":o=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=In;break;case Fr:case Mr:case Dr:o=_n;break;case Ir:o=zn;break;case"scroll":o=jn;break;case"wheel":o=Bn;break;case"copy":case"cut":case"paste":o=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Dn}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var p,f=r;null!==f;){var h=(p=f).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==m&&(null!=(h=Pe(f,m))&&d.push(ea(f,h,p)))),u)break;f=f.return}0<d.length&&(i=new o(i,c,null,n,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!Ca(c)&&!c[Na])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ca(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=Nn,h="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Dn,h="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?i:Oa(o),p=null==c?i:Oa(c),(i=new d(h,f+"leave",o,n,a)).target=u,i.relatedTarget=p,h=null,Ca(a)===r&&((d=new d(m,f+"enter",c,n,a)).target=p,d.relatedTarget=u,h=d),u=h,o&&c)e:{for(m=c,f=0,p=d=o;p;p=na(p))f++;for(p=0,h=m;h;h=na(h))p++;for(;0<f-p;)d=na(d),f--;for(;0<p-f;)m=na(m),p--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=na(d),m=na(m)}d=null}else d=null;null!==o&&ra(l,i,o,d,!1),null!==c&&null!==u&&ra(l,u,c,d,!0)}if("select"===(o=(i=r?Oa(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=sr;else if(Zn(i))if(lr)x=hr;else{x=pr;var g=mr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=fr);switch(x&&(x=x(e,r))?er(l,x,n,a):(g&&g(e,i,r),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=r?Oa(r):window,e){case"focusin":(Zn(g)||"true"===g.contentEditable)&&(Sr=g,_r=r,Cr=null);break;case"focusout":Cr=_r=Sr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Or(l,n,a);break;case"selectionchange":if(kr)break;case"keydown":case"keyup":Or(l,n,a)}var y;if(Hn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Yn?Jn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&($n&&"ko"!==n.locale&&(Yn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Yn&&(y=dn()):(on="value"in(ln=a)?ln.value:ln.textContent,Yn=!0)),0<(g=ta(r,v)).length&&(v=new On(v,e,null,n,a),l.push({event:v,listeners:g}),y?v.data=y:null!==(y=Gn(n))&&(v.data=y))),(y=Wn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Qn=!0,Kn);case"textInput":return(e=t.data)===Kn&&Qn?null:e;default:return null}}(e,n):function(e,t){if(Yn)return"compositionend"===e||!Hn&&Jn(e,t)?(e=dn(),cn=on=ln=null,Yn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=ta(r,"onBeforeInput")).length&&(a=new On("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=y))}Kr(l,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Pe(e,n))&&r.unshift(ea(e,s,a)),null!=(s=Pe(e,t))&&r.push(ea(e,s,a))),e=e.return}return r}function na(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function ra(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=Pe(n,s))&&l.unshift(ea(n,o,i)):a||null!=(o=Pe(n,s))&&l.push(ea(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var aa=/\r\n?/g,sa=/\u0000|\uFFFD/g;function la(e){return("string"===typeof e?e:""+e).replace(aa,"\n").replace(sa,"")}function ia(e,t,n){if(t=la(t),la(e)!==t&&n)throw Error(s(425))}function oa(){}var ca=null,da=null;function ua(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ma="function"===typeof setTimeout?setTimeout:void 0,pa="function"===typeof clearTimeout?clearTimeout:void 0,fa="function"===typeof Promise?Promise:void 0,ha="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof fa?function(e){return fa.resolve(null).then(e).catch(xa)}:ma;function xa(e){setTimeout(function(){throw e})}function ga(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Yt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Yt(t)}function ya(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function va(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ba=Math.random().toString(36).slice(2),ja="__reactFiber$"+ba,wa="__reactProps$"+ba,Na="__reactContainer$"+ba,ka="__reactEvents$"+ba,Sa="__reactListeners$"+ba,_a="__reactHandles$"+ba;function Ca(e){var t=e[ja];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Na]||n[ja]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=va(e);null!==e;){if(n=e[ja])return n;e=va(e)}return t}n=(e=n).parentNode}return null}function Ea(e){return!(e=e[ja]||e[Na])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Oa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ta(e){return e[wa]||null}var Pa=[],Ra=-1;function Aa(e){return{current:e}}function La(e){0>Ra||(e.current=Pa[Ra],Pa[Ra]=null,Ra--)}function Fa(e,t){Ra++,Pa[Ra]=e.current,e.current=t}var Ma={},Da=Aa(Ma),Ia=Aa(!1),za=Ma;function Ua(e,t){var n=e.type.contextTypes;if(!n)return Ma;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ba(e){return null!==(e=e.childContextTypes)&&void 0!==e}function qa(){La(Ia),La(Da)}function Ha(e,t,n){if(Da.current!==Ma)throw Error(s(168));Fa(Da,t),Fa(Ia,n)}function Va(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return D({},n,r)}function Wa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ma,za=Da.current,Fa(Da,e),Fa(Ia,Ia.current),!0}function $a(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Va(e,t,za),r.__reactInternalMemoizedMergedChildContext=e,La(Ia),La(Da),Fa(Da,e)):La(Ia),Fa(Ia,n)}var Ka=null,Qa=!1,Ja=!1;function Ga(e){null===Ka?Ka=[e]:Ka.push(e)}function Ya(){if(!Ja&&null!==Ka){Ja=!0;var e=0,t=Ct;try{var n=Ka;for(Ct=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ka=null,Qa=!1}catch(qe){throw null!==Ka&&(Ka=Ka.slice(e+1)),Ye(lt,Ya),qe}finally{Ct=t,Ja=!1}}return null}var Xa=[],Za=0,es=null,ts=0,ns=[],rs=0,as=null,ss=1,ls="";function is(e,t){Xa[Za++]=ts,Xa[Za++]=es,es=e,ts=t}function os(e,t,n){ns[rs++]=ss,ns[rs++]=ls,ns[rs++]=as,as=e;var r=ss;e=ls;var a=32-pt(r)-1;r&=~(1<<a),n+=1;var s=32-pt(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,ss=1<<32-pt(t)+a|n<<a|r,ls=s+e}else ss=1<<s|n<<a|r,ls=e}function cs(e){null!==e.return&&(is(e,1),os(e,1,0))}function ds(e){for(;e===es;)es=Xa[--Za],Xa[Za]=null,ts=Xa[--Za],Xa[Za]=null;for(;e===as;)as=ns[--rs],ns[rs]=null,ls=ns[--rs],ns[rs]=null,ss=ns[--rs],ns[rs]=null}var us=null,ms=null,ps=!1,fs=null;function hs(e,t){var n=Uc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function xs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,us=e,ms=ya(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,us=e,ms=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==as?{id:ss,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Uc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,us=e,ms=null,!0);default:return!1}}function gs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ys(e){if(ps){var t=ms;if(t){var n=t;if(!xs(e,t)){if(gs(e))throw Error(s(418));t=ya(n.nextSibling);var r=us;t&&xs(e,t)?hs(r,n):(e.flags=-4097&e.flags|2,ps=!1,us=e)}}else{if(gs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ps=!1,us=e}}}function vs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;us=e}function bs(e){if(e!==us)return!1;if(!ps)return vs(e),ps=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ua(e.type,e.memoizedProps)),t&&(t=ms)){if(gs(e))throw js(),Error(s(418));for(;t;)hs(e,t),t=ya(t.nextSibling)}if(vs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ms=ya(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ms=null}}else ms=us?ya(e.stateNode.nextSibling):null;return!0}function js(){for(var e=ms;e;)e=ya(e.nextSibling)}function ws(){ms=us=null,ps=!1}function Ns(e){null===fs?fs=[e]:fs.push(e)}var ks=b.ReactCurrentBatchConfig;function Ss(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cs(e){return(0,e._init)(e._payload)}function Es(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=$c(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Cs(s)===t.type)?((r=a(t,n.props)).ref=Ss(e,t,n),r.return=e,r):((r=Hc(n.type,n.key,n.props,null,e.mode,r)).ref=Ss(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Vc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=$c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Hc(t.type,t.key,t.props,null,e.mode,n)).ref=Ss(e,null,t),n.return=e,n;case w:return(t=Kc(t,e.mode,n)).return=e,t;case R:return m(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Vc(t,e.mode,n,null)).return=e,t;_s(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?d(e,t,n,r):null;case R:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:u(e,t,n,r,null);_s(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case R:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return u(t,e=e.get(n)||null,r,a,null);_s(t,r)}return null}function h(a,s,i,o){for(var c=null,d=null,u=s,h=s=0,x=null;null!==u&&h<i.length;h++){u.index>h?(x=u,u=null):x=u.sibling;var g=p(a,u,i[h],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,h),null===d?c=g:d.sibling=g,d=g,u=x}if(h===i.length)return n(a,u),ps&&is(a,h),c;if(null===u){for(;h<i.length;h++)null!==(u=m(a,i[h],o))&&(s=l(u,s,h),null===d?c=u:d.sibling=u,d=u);return ps&&is(a,h),c}for(u=r(a,u);h<i.length;h++)null!==(x=f(u,a,h,i[h],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?h:x.key),s=l(x,s,h),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(a,e)}),ps&&is(a,h),c}function x(a,i,o,c){var d=F(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,h=i,x=i=0,g=null,y=o.next();null!==h&&!y.done;x++,y=o.next()){h.index>x?(g=h,h=null):g=h.sibling;var v=p(a,h,y.value,c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(a,h),i=l(v,i,x),null===u?d=v:u.sibling=v,u=v,h=g}if(y.done)return n(a,h),ps&&is(a,x),d;if(null===h){for(;!y.done;x++,y=o.next())null!==(y=m(a,y.value,c))&&(i=l(y,i,x),null===u?d=y:u.sibling=y,u=y);return ps&&is(a,x),d}for(h=r(a,h);!y.done;x++,y=o.next())null!==(y=f(h,a,x,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?x:y.key),i=l(y,i,x),null===u?d=y:u.sibling=y,u=y);return e&&h.forEach(function(e){return t(a,e)}),ps&&is(a,x),d}return function e(r,s,l,o){if("object"===typeof l&&null!==l&&l.type===N&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===N){if(7===d.tag){n(r,d.sibling),(s=a(d,l.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Cs(c)===d.type){n(r,d.sibling),(s=a(d,l.props)).ref=Ss(r,d,l),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===N?((s=Vc(l.props.children,r.mode,o,l.key)).return=r,r=s):((o=Hc(l.type,l.key,l.props,null,r.mode,o)).ref=Ss(r,s,l),o.return=r,r=o)}return i(r);case w:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(r,s.sibling),(s=a(s,l.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Kc(l,r.mode,o)).return=r,r=s}return i(r);case R:return e(r,s,(d=l._init)(l._payload),o)}if(te(l))return h(r,s,l,o);if(F(l))return x(r,s,l,o);_s(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,l)).return=r,r=s):(n(r,s),(s=$c(l,r.mode,o)).return=r,r=s),i(r)):n(r,s)}}var Os=Es(!0),Ts=Es(!1),Ps=Aa(null),Rs=null,As=null,Ls=null;function Fs(){Ls=As=Rs=null}function Ms(e){var t=Ps.current;La(Ps),e._currentValue=t}function Ds(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Rs=e,Ls=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ci=!0),e.firstContext=null)}function zs(e){var t=e._currentValue;if(Ls!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===Rs)throw Error(s(308));As=e,Rs.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Us=null;function Bs(e){null===Us?Us=[e]:Us.push(e)}function qs(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Bs(t)):(n.next=a.next,a.next=n),t.interleaved=n,Hs(e,r)}function Hs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Vs=!1;function Ws(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $s(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ks(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Do)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Hs(e,n)}return null===(a=r.interleaved)?(t.next=t,Bs(r)):(t.next=a.next,a.next=t),r.interleaved=t,Hs(e,n)}function Js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Gs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ys(e,t,n,r){var a=e.updateQueue;Vs=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,p=i.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,h=i;switch(m=t,p=n,h.tag){case 1:if("function"===typeof(f=h.payload)){u=f.call(p,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=h.payload)?f.call(p,u,m):f)||void 0===m)break e;u=D({},u,m);break e;case 2:Vs=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Wo|=l,e.lanes=l,e.memoizedState=u}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Zs={},el=Aa(Zs),tl=Aa(Zs),nl=Aa(Zs);function rl(e){if(e===Zs)throw Error(s(174));return e}function al(e,t){switch(Fa(nl,t),Fa(tl,e),Fa(el,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}La(el),Fa(el,t)}function sl(){La(el),La(tl),La(nl)}function ll(e){rl(nl.current);var t=rl(el.current),n=oe(t,e.type);t!==n&&(Fa(tl,e),Fa(el,n))}function il(e){tl.current===e&&(La(el),La(tl))}var ol=Aa(0);function cl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function ul(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var ml=b.ReactCurrentDispatcher,pl=b.ReactCurrentBatchConfig,fl=0,hl=null,xl=null,gl=null,yl=!1,vl=!1,bl=0,jl=0;function wl(){throw Error(s(321))}function Nl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xr(e[n],t[n]))return!1;return!0}function kl(e,t,n,r,a,l){if(fl=l,hl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ml.current=null===e||null===e.memoizedState?ii:oi,e=n(r,a),vl){l=0;do{if(vl=!1,bl=0,25<=l)throw Error(s(301));l+=1,gl=xl=null,t.updateQueue=null,ml.current=ci,e=n(r,a)}while(vl)}if(ml.current=li,t=null!==xl&&null!==xl.next,fl=0,gl=xl=hl=null,yl=!1,t)throw Error(s(300));return e}function Sl(){var e=0!==bl;return bl=0,e}function _l(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gl?hl.memoizedState=gl=e:gl=gl.next=e,gl}function Cl(){if(null===xl){var e=hl.alternate;e=null!==e?e.memoizedState:null}else e=xl.next;var t=null===gl?hl.memoizedState:gl.next;if(null!==t)gl=t,xl=e;else{if(null===e)throw Error(s(310));e={memoizedState:(xl=e).memoizedState,baseState:xl.baseState,baseQueue:xl.baseQueue,queue:xl.queue,next:null},null===gl?hl.memoizedState=gl=e:gl=gl.next=e}return gl}function El(e,t){return"function"===typeof t?t(e):t}function Ol(e){var t=Cl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=xl,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((fl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=r):c=c.next=m,hl.lanes|=u,Wo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=r:c.next=o,xr(r,t.memoizedState)||(Ci=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,hl.lanes|=l,Wo|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Tl(e){var t=Cl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);xr(l,t.memoizedState)||(Ci=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Pl(){}function Rl(e,t){var n=hl,r=Cl(),a=t(),l=!xr(r.memoizedState,a);if(l&&(r.memoizedState=a,Ci=!0),r=r.queue,Vl(Fl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==gl&&1&gl.memoizedState.tag){if(n.flags|=2048,zl(9,Ll.bind(null,n,r,a,t),void 0,null),null===Io)throw Error(s(349));0!==(30&fl)||Al(n,t,a)}return a}function Al(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=hl.updateQueue)?(t={lastEffect:null,stores:null},hl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ll(e,t,n,r){t.value=n,t.getSnapshot=r,Ml(t)&&Dl(e)}function Fl(e,t,n){return n(function(){Ml(t)&&Dl(e)})}function Ml(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xr(e,n)}catch(Xe){return!0}}function Dl(e){var t=Hs(e,1);null!==t&&uc(t,e,1,-1)}function Il(e){var t=_l();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,hl,e),[t.memoizedState,e]}function zl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=hl.updateQueue)?(t={lastEffect:null,stores:null},hl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ul(){return Cl().memoizedState}function Bl(e,t,n,r){var a=_l();hl.flags|=e,a.memoizedState=zl(1|t,n,void 0,void 0===r?null:r)}function ql(e,t,n,r){var a=Cl();r=void 0===r?null:r;var s=void 0;if(null!==xl){var l=xl.memoizedState;if(s=l.destroy,null!==r&&Nl(r,l.deps))return void(a.memoizedState=zl(t,n,s,r))}hl.flags|=e,a.memoizedState=zl(1|t,n,s,r)}function Hl(e,t){return Bl(8390656,8,e,t)}function Vl(e,t){return ql(2048,8,e,t)}function Wl(e,t){return ql(4,2,e,t)}function $l(e,t){return ql(4,4,e,t)}function Kl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ql(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ql(4,4,Kl.bind(null,t,e),n)}function Jl(){}function Gl(e,t){var n=Cl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Nl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yl(e,t){var n=Cl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Nl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xl(e,t,n){return 0===(21&fl)?(e.baseState&&(e.baseState=!1,Ci=!0),e.memoizedState=n):(xr(n,t)||(n=Nt(),hl.lanes|=n,Wo|=n,e.baseState=!0),t)}function Zl(e,t){var n=Ct;Ct=0!==n&&4>n?n:4,e(!0);var r=pl.transition;pl.transition={};try{e(!1),t()}finally{Ct=n,pl.transition=r}}function ei(){return Cl().memoizedState}function ti(e,t,n){var r=dc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ri(e))ai(t,n);else if(null!==(n=qs(e,t,n,r))){uc(n,e,r,cc()),si(n,t,r)}}function ni(e,t,n){var r=dc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ri(e))ai(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(a.hasEagerState=!0,a.eagerState=i,xr(i,l)){var o=t.interleaved;return null===o?(a.next=a,Bs(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(Ve){}null!==(n=qs(e,t,a,r))&&(uc(n,e,r,a=cc()),si(n,t,r))}}function ri(e){var t=e.alternate;return e===hl||null!==t&&t===hl}function ai(e,t){vl=yl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function si(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var li={readContext:zs,useCallback:wl,useContext:wl,useEffect:wl,useImperativeHandle:wl,useInsertionEffect:wl,useLayoutEffect:wl,useMemo:wl,useReducer:wl,useRef:wl,useState:wl,useDebugValue:wl,useDeferredValue:wl,useTransition:wl,useMutableSource:wl,useSyncExternalStore:wl,useId:wl,unstable_isNewReconciler:!1},ii={readContext:zs,useCallback:function(e,t){return _l().memoizedState=[e,void 0===t?null:t],e},useContext:zs,useEffect:Hl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bl(4194308,4,Kl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bl(4,2,e,t)},useMemo:function(e,t){var n=_l();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_l();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ti.bind(null,hl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_l().memoizedState=e},useState:Il,useDebugValue:Jl,useDeferredValue:function(e){return _l().memoizedState=e},useTransition:function(){var e=Il(!1),t=e[0];return e=Zl.bind(null,e[1]),_l().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hl,a=_l();if(ps){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Io)throw Error(s(349));0!==(30&fl)||Al(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Hl(Fl.bind(null,r,l,e),[e]),r.flags|=2048,zl(9,Ll.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=_l(),t=Io.identifierPrefix;if(ps){var n=ls;t=":"+t+"R"+(n=(ss&~(1<<32-pt(ss)-1)).toString(32)+n),0<(n=bl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=jl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oi={readContext:zs,useCallback:Gl,useContext:zs,useEffect:Vl,useImperativeHandle:Ql,useInsertionEffect:Wl,useLayoutEffect:$l,useMemo:Yl,useReducer:Ol,useRef:Ul,useState:function(){return Ol(El)},useDebugValue:Jl,useDeferredValue:function(e){return Xl(Cl(),xl.memoizedState,e)},useTransition:function(){return[Ol(El)[0],Cl().memoizedState]},useMutableSource:Pl,useSyncExternalStore:Rl,useId:ei,unstable_isNewReconciler:!1},ci={readContext:zs,useCallback:Gl,useContext:zs,useEffect:Vl,useImperativeHandle:Ql,useInsertionEffect:Wl,useLayoutEffect:$l,useMemo:Yl,useReducer:Tl,useRef:Ul,useState:function(){return Tl(El)},useDebugValue:Jl,useDeferredValue:function(e){var t=Cl();return null===xl?t.memoizedState=e:Xl(t,xl.memoizedState,e)},useTransition:function(){return[Tl(El)[0],Cl().memoizedState]},useMutableSource:Pl,useSyncExternalStore:Rl,useId:ei,unstable_isNewReconciler:!1};function di(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ui(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mi={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cc(),a=dc(e),s=Ks(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,a))&&(uc(t,e,a,r),Js(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cc(),a=dc(e),s=Ks(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,a))&&(uc(t,e,a,r),Js(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),r=dc(e),a=Ks(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Qs(e,a,r))&&(uc(t,e,r,n),Js(t,e,r))}};function pi(e,t,n,r,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!gr(n,r)||!gr(a,s))}function fi(e,t,n){var r=!1,a=Ma,s=t.contextType;return"object"===typeof s&&null!==s?s=zs(s):(a=Ba(t)?za:Da.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ua(e,a):Ma),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function hi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function xi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ws(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=zs(s):(s=Ba(t)?za:Da.current,a.context=Ua(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ui(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&mi.enqueueReplaceState(a,a.state,null),Ys(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function gi(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(Ze){a="\nError generating stack: "+Ze.message+"\n"+Ze.stack}return{value:e,source:t,stack:a,digest:null}}function yi(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function vi(e,t){try{console.error(t.value)}catch(Qe){setTimeout(function(){throw Qe})}}var bi="function"===typeof WeakMap?WeakMap:Map;function ji(e,t,n){(n=Ks(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zo||(Zo=!0,ec=r),vi(0,t)},n}function wi(e,t,n){(n=Ks(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){vi(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){vi(0,t),"function"!==typeof r&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ni(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new bi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Lc.bind(null,e,t,n),t.then(e,e))}function ki(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Si(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ks(-1,1)).tag=2,Qs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var _i=b.ReactCurrentOwner,Ci=!1;function Ei(e,t,n,r){t.child=null===e?Ts(t,null,n,r):Os(t,e.child,n,r)}function Oi(e,t,n,r,a){n=n.render;var s=t.ref;return Is(t,a),r=kl(e,t,n,r,s,a),n=Sl(),null===e||Ci?(ps&&n&&cs(t),t.flags|=1,Ei(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xi(e,t,a))}function Ti(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Pi(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:gr)(l,r)&&e.ref===t.ref)return Xi(e,t,a)}return t.flags|=1,(e=qc(s,r)).ref=t.ref,e.return=t,t.child=e}function Pi(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(gr(s,r)&&e.ref===t.ref){if(Ci=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Xi(e,t,a);0!==(131072&e.flags)&&(Ci=!0)}}return Li(e,t,n,r,a)}function Ri(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fa(qo,Bo),Bo|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fa(qo,Bo),Bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Fa(qo,Bo),Bo|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fa(qo,Bo),Bo|=r;return Ei(e,t,a,n),t.child}function Ai(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Li(e,t,n,r,a){var s=Ba(n)?za:Da.current;return s=Ua(t,s),Is(t,a),n=kl(e,t,n,r,s,a),r=Sl(),null===e||Ci?(ps&&r&&cs(t),t.flags|=1,Ei(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Xi(e,t,a))}function Fi(e,t,n,r,a){if(Ba(n)){var s=!0;Wa(t)}else s=!1;if(Is(t,a),null===t.stateNode)Yi(e,t),fi(t,n,r),xi(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=zs(c):c=Ua(t,c=Ba(n)?za:Da.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||o!==c)&&hi(t,l,r,c),Vs=!1;var m=t.memoizedState;l.state=m,Ys(t,r,l,a),o=t.memoizedState,i!==r||m!==o||Ia.current||Vs?("function"===typeof d&&(ui(t,n,d,r),o=t.memoizedState),(i=Vs||pi(t,n,i,r,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=c,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,$s(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:di(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=zs(o):o=Ua(t,o=Ba(n)?za:Da.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&hi(t,l,r,o),Vs=!1,m=t.memoizedState,l.state=m,Ys(t,r,l,a);var f=t.memoizedState;i!==u||m!==f||Ia.current||Vs?("function"===typeof p&&(ui(t,n,p,r),f=t.memoizedState),(c=Vs||pi(t,n,c,r,m,f,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,f,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),l.props=r,l.state=f,l.context=o,r=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Mi(e,t,n,r,s,a)}function Mi(e,t,n,r,a,s){Ai(e,t);var l=0!==(128&t.flags);if(!r&&!l)return a&&$a(t,n,!1),Xi(e,t,s);r=t.stateNode,_i.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=Os(t,e.child,null,s),t.child=Os(t,null,i,s)):Ei(e,t,i,s),t.memoizedState=r.state,a&&$a(t,n,!0),t.child}function Di(e){var t=e.stateNode;t.pendingContext?Ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(0,t.context,!1),al(e,t.containerInfo)}function Ii(e,t,n,r,a){return ws(),Ns(a),t.flags|=256,Ei(e,t,n,r),t.child}var zi,Ui,Bi,qi,Hi={dehydrated:null,treeContext:null,retryLane:0};function Vi(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wi(e,t,n){var r,a=t.pendingProps,l=ol.current,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Fa(ol,1&l),null===e)return ys(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Wc(o,a,0,null),e=Vc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Vi(n),t.memoizedState=Hi,e):$i(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,i){if(n)return 256&t.flags?(t.flags&=-257,Ki(e,t,i,r=yi(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Wc({mode:"visible",children:r.children},a,0,null),(l=Vc(l,a,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&Os(t,e.child,null,i),t.child.memoizedState=Vi(i),t.memoizedState=Hi,l);if(0===(1&t.mode))return Ki(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,Ki(e,t,i,r=yi(l=Error(s(419)),r,void 0))}if(o=0!==(i&e.childLanes),Ci||o){if(null!==(r=Io)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Hs(e,a),uc(r,e,a,-1))}return kc(),Ki(e,t,i,r=yi(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ms=ya(a.nextSibling),us=t,ps=!0,fs=null,null!==e&&(ns[rs++]=ss,ns[rs++]=ls,ns[rs++]=as,ss=e.id,ls=e.overflow,as=t),t=$i(t,r.children),t.flags|=4096,t)}(e,t,o,a,r,l,n);if(i){i=a.fallback,o=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=qc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=qc(r,i):(i=Vc(i,o,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Vi(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Hi,a}return e=(i=e.child).sibling,a=qc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function $i(e,t){return(t=Wc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ki(e,t,n,r){return null!==r&&Ns(r),Os(t,e.child,null,n),(e=$i(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ds(e.return,t,n)}function Ji(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Gi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Ei(e,t,r.children,n),0!==(2&(r=ol.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qi(e,n,t);else if(19===e.tag)Qi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fa(ol,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===cl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ji(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===cl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ji(t,!0,n,null,s);break;case"together":Ji(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Wo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zi(e,t){if(!ps)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function eo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function to(e,t,n){var r=t.pendingProps;switch(ds(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eo(t),null;case 1:case 17:return Ba(t.type)&&qa(),eo(t),null;case 3:return r=t.stateNode,sl(),La(Ia),La(Da),ul(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(bs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==fs&&(hc(fs),fs=null))),Ui(e,t),eo(t),null;case 5:il(t);var a=rl(nl.current);if(n=t.type,null!==e&&null!=t.stateNode)Bi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return eo(t),null}if(e=rl(el.current),bs(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[ja]=t,r[wa]=l,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(a=0;a<Vr.length;a++)Qr(Vr[a],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":G(r,l),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Qr("invalid",r);break;case"textarea":ae(r,l),Qr("invalid",r)}for(var o in ge(n,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&ia(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&ia(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Qr("scroll",r)}switch(n){case"input":$(r),Z(r,l,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=oa)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ja]=t,e[wa]=r,zi(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),a=r;break;case"iframe":case"object":case"embed":Qr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Vr.length;a++)Qr(Vr[a],e);a=r;break;case"source":Qr("error",e),a=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),a=r;break;case"details":Qr("toggle",e),a=r;break;case"input":G(e,r),a=J(e,r),Qr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Qr("invalid",e)}for(l in ge(n,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?he(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Qr("scroll",e):null!=d&&v(e,l,d,o))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=oa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return eo(t),null;case 6:if(e&&null!=t.stateNode)qi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=rl(nl.current),rl(el.current),bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[ja]=t,(l=r.nodeValue!==n)&&null!==(e=us))switch(e.tag){case 3:ia(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ia(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ja]=t,t.stateNode=r}return eo(t),null;case 13:if(La(ol),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ps&&null!==ms&&0!==(1&t.mode)&&0===(128&t.flags))js(),ws(),t.flags|=98560,l=!1;else if(l=bs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[ja]=t}else ws(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;eo(t),l=!1}else null!==fs&&(hc(fs),fs=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ol.current)?0===Ho&&(Ho=3):kc())),null!==t.updateQueue&&(t.flags|=4),eo(t),null);case 4:return sl(),Ui(e,t),null===e&&Yr(t.stateNode.containerInfo),eo(t),null;case 10:return Ms(t.type._context),eo(t),null;case 19:if(La(ol),null===(l=t.memoizedState))return eo(t),null;if(r=0!==(128&t.flags),null===(o=l.rendering))if(r)Zi(l,!1);else{if(0!==Ho||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=cl(e))){for(t.flags|=128,Zi(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fa(ol,1&ol.current|2),t.child}e=e.sibling}null!==l.tail&&at()>Yo&&(t.flags|=128,r=!0,Zi(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cl(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Zi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!ps)return eo(t),null}else 2*at()-l.renderingStartTime>Yo&&1073741824!==n&&(t.flags|=128,r=!0,Zi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=at(),t.sibling=null,n=ol.current,Fa(ol,r?1&n|2:1&n),t):(eo(t),null);case 22:case 23:return bc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bo)&&(eo(t),6&t.subtreeFlags&&(t.flags|=8192)):eo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function no(e,t){switch(ds(t),t.tag){case 1:return Ba(t.type)&&qa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sl(),La(Ia),La(Da),ul(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return il(t),null;case 13:if(La(ol),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return La(ol),null;case 4:return sl(),null;case 10:return Ms(t.type._context),null;case 22:case 23:return bc(),null;default:return null}}zi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ui=function(){},Bi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,rl(el.current);var s,l=null;switch(n){case"input":a=J(e,a),r=J(e,r),l=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=oa)}for(d in ge(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Qr("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},qi=function(e,t,n,r){n!==r&&(t.flags|=4)};var ro=!1,ao=!1,so="function"===typeof WeakSet?WeakSet:Set,lo=null;function io(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(Xe){Ac(e,t,Xe)}else n.current=null}function oo(e,t,n){try{n()}catch(Xe){Ac(e,t,Xe)}}var co=!1;function uo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&oo(t,n,s)}a=a.next}while(a!==r)}}function mo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function po(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function fo(e){var t=e.alternate;null!==t&&(e.alternate=null,fo(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ja],delete t[wa],delete t[ka],delete t[Sa],delete t[_a])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ho(e){return 5===e.tag||3===e.tag||4===e.tag}function xo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ho(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function go(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=oa));else if(4!==r&&null!==(e=e.child))for(go(e,t,n),e=e.sibling;null!==e;)go(e,t,n),e=e.sibling}function yo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(yo(e,t,n),e=e.sibling;null!==e;)yo(e,t,n),e=e.sibling}var vo=null,bo=!1;function jo(e,t,n){for(n=n.child;null!==n;)wo(e,t,n),n=n.sibling}function wo(e,t,n){if(mt&&"function"===typeof mt.onCommitFiberUnmount)try{mt.onCommitFiberUnmount(ut,n)}catch(tt){}switch(n.tag){case 5:ao||io(n,t);case 6:var r=vo,a=bo;vo=null,jo(e,t,n),bo=a,null!==(vo=r)&&(bo?(e=vo,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):vo.removeChild(n.stateNode));break;case 18:null!==vo&&(bo?(e=vo,n=n.stateNode,8===e.nodeType?ga(e.parentNode,n):1===e.nodeType&&ga(e,n),Yt(e)):ga(vo,n.stateNode));break;case 4:r=vo,a=bo,vo=n.stateNode.containerInfo,bo=!0,jo(e,t,n),vo=r,bo=a;break;case 0:case 11:case 14:case 15:if(!ao&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&oo(n,t,l),a=a.next}while(a!==r)}jo(e,t,n);break;case 1:if(!ao&&(io(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(tt){Ac(n,t,tt)}jo(e,t,n);break;case 21:jo(e,t,n);break;case 22:1&n.mode?(ao=(r=ao)||null!==n.memoizedState,jo(e,t,n),ao=r):jo(e,t,n);break;default:jo(e,t,n)}}function No(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new so),t.forEach(function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ko(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:vo=o.stateNode,bo=!1;break e;case 3:case 4:vo=o.stateNode.containerInfo,bo=!0;break e}o=o.return}if(null===vo)throw Error(s(160));wo(l,i,a),vo=null,bo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(Ve){Ac(a,t,Ve)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)So(t,e),t=t.sibling}function So(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ko(t,e),_o(e),4&r){try{uo(3,e,e.return),mo(3,e)}catch(He){Ac(e,e.return,He)}try{uo(5,e,e.return)}catch(He){Ac(e,e.return,He)}}break;case 1:ko(t,e),_o(e),512&r&&null!==n&&io(n,n.return);break;case 5:if(ko(t,e),_o(e),512&r&&null!==n&&io(n,n.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(He){Ac(e,e.return,He)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Y(a,l),ye(o,i);var d=ye(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?he(a,m):"dangerouslySetInnerHTML"===u?de(a,m):"children"===u?ue(a,m):v(a,u,m,d)}switch(o){case"input":X(a,l);break;case"textarea":se(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var f=l.value;null!=f?ne(a,!!l.multiple,f,!1):p!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[wa]=l}catch(He){Ac(e,e.return,He)}}break;case 6:if(ko(t,e),_o(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(He){Ac(e,e.return,He)}}break;case 3:if(ko(t,e),_o(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Yt(t.containerInfo)}catch(He){Ac(e,e.return,He)}break;case 4:default:ko(t,e),_o(e);break;case 13:ko(t,e),_o(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Go=at())),4&r&&No(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(ao=(d=ao)||u,ko(t,e),ao=d):ko(t,e),_o(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(lo=e,u=e.child;null!==u;){for(m=lo=u;null!==lo;){switch(f=(p=lo).child,p.tag){case 0:case 11:case 14:case 15:uo(4,p,p.return);break;case 1:io(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(He){Ac(r,n,He)}}break;case 5:io(p,p.return);break;case 22:if(null!==p.memoizedState){To(m);continue}}null!==f?(f.return=p,lo=f):To(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",i))}catch(He){Ac(e,e.return,He)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(He){Ac(e,e.return,He)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ko(t,e),_o(e),4&r&&No(e);case 21:}}function _o(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ho(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(ue(a,""),r.flags&=-33),yo(e,xo(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;go(e,xo(e),l);break;default:throw Error(s(161))}}catch(wt){Ac(e,e.return,wt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Co(e,t,n){lo=e,Eo(e,t,n)}function Eo(e,t,n){for(var r=0!==(1&e.mode);null!==lo;){var a=lo,s=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||ro;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||ao;i=ro;var c=ao;if(ro=l,(ao=o)&&!c)for(lo=a;null!==lo;)o=(l=lo).child,22===l.tag&&null!==l.memoizedState?Po(a):null!==o?(o.return=l,lo=o):Po(a);for(;null!==s;)lo=s,Eo(s,t,n),s=s.sibling;lo=a,ro=i,ao=c}Oo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,lo=s):Oo(e)}}function Oo(e){for(;null!==lo;){var t=lo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ao||mo(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ao)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:di(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Xs(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xs(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Yt(m)}}}break;default:throw Error(s(163))}ao||512&t.flags&&po(t)}catch(p){Ac(t,t.return,p)}}if(t===e){lo=null;break}if(null!==(n=t.sibling)){n.return=t.return,lo=n;break}lo=t.return}}function To(e){for(;null!==lo;){var t=lo;if(t===e){lo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,lo=n;break}lo=t.return}}function Po(e){for(;null!==lo;){var t=lo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mo(4,t)}catch(wt){Ac(t,n,wt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(wt){Ac(t,a,wt)}}var s=t.return;try{po(t)}catch(wt){Ac(t,s,wt)}break;case 5:var l=t.return;try{po(t)}catch(wt){Ac(t,l,wt)}}}catch(wt){Ac(t,t.return,wt)}if(t===e){lo=null;break}var i=t.sibling;if(null!==i){i.return=t.return,lo=i;break}lo=t.return}}var Ro,Ao=Math.ceil,Lo=b.ReactCurrentDispatcher,Fo=b.ReactCurrentOwner,Mo=b.ReactCurrentBatchConfig,Do=0,Io=null,zo=null,Uo=0,Bo=0,qo=Aa(0),Ho=0,Vo=null,Wo=0,$o=0,Ko=0,Qo=null,Jo=null,Go=0,Yo=1/0,Xo=null,Zo=!1,ec=null,tc=null,nc=!1,rc=null,ac=0,sc=0,lc=null,ic=-1,oc=0;function cc(){return 0!==(6&Do)?at():-1!==ic?ic:ic=at()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Do)&&0!==Uo?Uo&-Uo:null!==ks.transition?(0===oc&&(oc=Nt()),oc):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:sn(e.type)}function uc(e,t,n,r){if(50<sc)throw sc=0,lc=null,Error(s(185));St(e,n,r),0!==(2&Do)&&e===Io||(e===Io&&(0===(2&Do)&&($o|=n),4===Ho&&xc(e,Uo)),mc(e,r),1===n&&0===Do&&0===(1&t.mode)&&(Yo=at()+500,Qa&&Ya()))}function mc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-pt(s),i=1<<l,o=a[l];-1===o?0!==(i&n)&&0===(i&r)||(a[l]=bt(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=vt(e,e===Io?Uo:0);if(0===r)null!==n&&et(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&et(n),1===t)0===e.tag?function(e){Qa=!0,Ga(e)}(gc.bind(null,e)):Ga(gc.bind(null,e)),ha(function(){0===(6&Do)&&Ya()}),n=null;else{switch(Et(r)){case 1:n=lt;break;case 4:n=it;break;case 16:default:n=ot;break;case 536870912:n=dt}n=Ic(n,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pc(e,t){if(ic=-1,oc=0,0!==(6&Do))throw Error(s(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var r=vt(e,e===Io?Uo:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Sc(e,r);else{t=r;var a=Do;Do|=2;var l=Nc();for(Io===e&&Uo===t||(Xo=null,Yo=at()+500,jc(e,t));;)try{Cc();break}catch(tt){wc(e,tt)}Fs(),Lo.current=l,Do=a,null!==zo?t=0:(Io=null,Uo=0,t=Ho)}if(0!==t){if(2===t&&(0!==(a=jt(e))&&(r=a,t=fc(e,a))),1===t)throw n=Vo,jc(e,0),xc(e,r),mc(e,at()),n;if(6===t)xc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!xr(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Sc(e,r))&&(0!==(l=jt(e))&&(r=l,t=fc(e,l))),1===t))throw n=Vo,jc(e,0),xc(e,r),mc(e,at()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Tc(e,Jo,Xo);break;case 3:if(xc(e,r),(130023424&r)===r&&10<(t=Go+500-at())){if(0!==vt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){cc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ma(Tc.bind(null,e,Jo,Xo),t);break}Tc(e,Jo,Xo);break;case 4:if(xc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-pt(r);l=1<<i,(i=t[i])>a&&(a=i),r&=~l}if(r=a,10<(r=(120>(r=at()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ao(r/1960))-r)){e.timeoutHandle=ma(Tc.bind(null,e,Jo,Xo),r);break}Tc(e,Jo,Xo);break;default:throw Error(s(329))}}}return mc(e,at()),e.callbackNode===n?pc.bind(null,e):null}function fc(e,t){var n=Qo;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Jo,Jo=n,null!==t&&hc(t)),e}function hc(e){null===Jo?Jo=e:Jo.push.apply(Jo,e)}function xc(e,t){for(t&=~Ko,t&=~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),r=1<<n;e[n]=-1,t&=~r}}function gc(e){if(0!==(6&Do))throw Error(s(327));Pc();var t=vt(e,0);if(0===(1&t))return mc(e,at()),null;var n=Sc(e,t);if(0!==e.tag&&2===n){var r=jt(e);0!==r&&(t=r,n=fc(e,r))}if(1===n)throw n=Vo,jc(e,0),xc(e,t),mc(e,at()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Jo,Xo),mc(e,at()),null}function yc(e,t){var n=Do;Do|=1;try{return e(t)}finally{0===(Do=n)&&(Yo=at()+500,Qa&&Ya())}}function vc(e){null!==rc&&0===rc.tag&&0===(6&Do)&&Pc();var t=Do;Do|=1;var n=Mo.transition,r=Ct;try{if(Mo.transition=null,Ct=1,e)return e()}finally{Ct=r,Mo.transition=n,0===(6&(Do=t))&&Ya()}}function bc(){Bo=qo.current,La(qo)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,pa(n)),null!==zo)for(n=zo.return;null!==n;){var r=n;switch(ds(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&qa();break;case 3:sl(),La(Ia),La(Da),ul();break;case 5:il(r);break;case 4:sl();break;case 13:case 19:La(ol);break;case 10:Ms(r.type._context);break;case 22:case 23:bc()}n=n.return}if(Io=e,zo=e=qc(e.current,null),Uo=Bo=t,Ho=0,Vo=null,Ko=$o=Wo=0,Jo=Qo=null,null!==Us){for(t=0;t<Us.length;t++)if(null!==(r=(n=Us[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var l=s.next;s.next=a,r.next=l}n.pending=r}Us=null}return e}function wc(e,t){for(;;){var n=zo;try{if(Fs(),ml.current=li,yl){for(var r=hl.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yl=!1}if(fl=0,gl=xl=hl=null,vl=!1,bl=0,Fo.current=null,null===n||null===n.return){Ho=1,Vo=t,zo=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=Uo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ki(i);if(null!==f){f.flags&=-257,Si(f,i,o,0,t),1&f.mode&&Ni(l,d,t),c=d;var h=(t=f).updateQueue;if(null===h){var x=new Set;x.add(c),t.updateQueue=x}else h.add(c);break e}if(0===(1&t)){Ni(l,d,t),kc();break e}c=Error(s(426))}else if(ps&&1&o.mode){var g=ki(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Si(g,i,o,0,t),Ns(gi(c,o));break e}}l=c=gi(c,o),4!==Ho&&(Ho=2),null===Qo?Qo=[l]:Qo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Gs(l,ji(0,c,t));break e;case 1:o=c;var y=l.type,v=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===tc||!tc.has(v)))){l.flags|=65536,t&=-t,l.lanes|=t,Gs(l,wi(l,o,t));break e}}l=l.return}while(null!==l)}Oc(n)}catch(b){t=b,zo===n&&null!==n&&(zo=n=n.return);continue}break}}function Nc(){var e=Lo.current;return Lo.current=li,null===e?li:e}function kc(){0!==Ho&&3!==Ho&&2!==Ho||(Ho=4),null===Io||0===(268435455&Wo)&&0===(268435455&$o)||xc(Io,Uo)}function Sc(e,t){var n=Do;Do|=2;var r=Nc();for(Io===e&&Uo===t||(Xo=null,jc(e,t));;)try{_c();break}catch(qe){wc(e,qe)}if(Fs(),Do=n,Lo.current=r,null!==zo)throw Error(s(261));return Io=null,Uo=0,Ho}function _c(){for(;null!==zo;)Ec(zo)}function Cc(){for(;null!==zo&&!nt();)Ec(zo)}function Ec(e){var t=Ro(e.alternate,e,Bo);e.memoizedProps=e.pendingProps,null===t?Oc(e):zo=t,Fo.current=null}function Oc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=to(n,t,Bo)))return void(zo=n)}else{if(null!==(n=no(n,t)))return n.flags&=32767,void(zo=n);if(null===e)return Ho=6,void(zo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(zo=t);zo=t=e}while(null!==t);0===Ho&&(Ho=5)}function Tc(e,t,n){var r=Ct,a=Mo.transition;try{Mo.transition=null,Ct=1,function(e,t,n,r){do{Pc()}while(null!==rc);if(0!==(6&Do))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-pt(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,l),e===Io&&(zo=Io=null,Uo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Ic(ot,function(){return Pc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Mo.transition,Mo.transition=null;var i=Ct;Ct=1;var o=Do;Do|=4,Fo.current=null,function(e,t){if(ca=Zt,wr(e=jr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(zt){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var f;m!==n||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++d===a&&(o=i),p===l&&++u===r&&(c=i),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:e,selectionRange:n},Zt=!1,lo=t;null!==lo;)if(e=(t=lo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,lo=e;else for(;null!==lo;){t=lo;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var x=h.memoizedProps,g=h.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:di(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(zt){Ac(t,t.return,zt)}if(null!==(e=t.sibling)){e.return=t.return,lo=e;break}lo=t.return}h=co,co=!1}(e,n),So(n,e),Nr(da),Zt=!!ca,da=ca=null,e.current=n,Co(n,e,a),rt(),Do=o,Ct=i,Mo.transition=l}else e.current=n;if(nc&&(nc=!1,rc=e,ac=a),l=e.pendingLanes,0===l&&(tc=null),function(e){if(mt&&"function"===typeof mt.onCommitFiberRoot)try{mt.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),mc(e,at()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Zo)throw Zo=!1,e=ec,ec=null,e;0!==(1&ac)&&0!==e.tag&&Pc(),l=e.pendingLanes,0!==(1&l)?e===lc?sc++:(sc=0,lc=e):sc=0,Ya()}(e,t,n,r)}finally{Mo.transition=a,Ct=r}return null}function Pc(){if(null!==rc){var e=Et(ac),t=Mo.transition,n=Ct;try{if(Mo.transition=null,Ct=16>e?16:e,null===rc)var r=!1;else{if(e=rc,rc=null,ac=0,0!==(6&Do))throw Error(s(331));var a=Do;for(Do|=4,lo=e.current;null!==lo;){var l=lo,i=l.child;if(0!==(16&lo.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(lo=d;null!==lo;){var u=lo;switch(u.tag){case 0:case 11:case 15:uo(8,u,l)}var m=u.child;if(null!==m)m.return=u,lo=m;else for(;null!==lo;){var p=(u=lo).sibling,f=u.return;if(fo(u),u===d){lo=null;break}if(null!==p){p.return=f,lo=p;break}lo=f}}}var h=l.alternate;if(null!==h){var x=h.child;if(null!==x){h.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}lo=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,lo=i;else e:for(;null!==lo;){if(0!==(2048&(l=lo).flags))switch(l.tag){case 0:case 11:case 15:uo(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,lo=y;break e}lo=l.return}}var v=e.current;for(lo=v;null!==lo;){var b=(i=lo).child;if(0!==(2064&i.subtreeFlags)&&null!==b)b.return=i,lo=b;else e:for(i=v;null!==lo;){if(0!==(2048&(o=lo).flags))try{switch(o.tag){case 0:case 11:case 15:mo(9,o)}}catch(w){Ac(o,o.return,w)}if(o===i){lo=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,lo=j;break e}lo=o.return}}if(Do=a,Ya(),mt&&"function"===typeof mt.onPostCommitFiberRoot)try{mt.onPostCommitFiberRoot(ut,e)}catch(w){}r=!0}return r}finally{Ct=n,Mo.transition=t}}return!1}function Rc(e,t,n){e=Qs(e,t=ji(0,t=gi(n,t),1),1),t=cc(),null!==e&&(St(e,1,t),mc(e,t))}function Ac(e,t,n){if(3===e.tag)Rc(e,e,n);else for(;null!==t;){if(3===t.tag){Rc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tc||!tc.has(r))){t=Qs(t,e=wi(t,e=gi(n,e),1),1),e=cc(),null!==t&&(St(t,1,e),mc(t,e));break}}t=t.return}}function Lc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Io===e&&(Uo&n)===n&&(4===Ho||3===Ho&&(130023424&Uo)===Uo&&500>at()-Go?jc(e,0):Ko|=n),mc(e,t)}function Fc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=gt,0===(130023424&(gt<<=1))&&(gt=4194304)));var n=cc();null!==(e=Hs(e,t))&&(St(e,t,n),mc(e,n))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fc(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Fc(e,n)}function Ic(e,t){return Ye(e,t)}function zc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uc(e,t,n,r){return new zc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=Uc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hc(e,t,n,r,a,l){var i=2;if(r=e,"function"===typeof e)Bc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Vc(n.children,a,l,t);case k:i=8,a|=8;break;case S:return(e=Uc(12,n,t,2|a)).elementType=S,e.lanes=l,e;case O:return(e=Uc(13,n,t,a)).elementType=O,e.lanes=l,e;case T:return(e=Uc(19,n,t,a)).elementType=T,e.lanes=l,e;case A:return Wc(n,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:i=10;break e;case C:i=9;break e;case E:i=11;break e;case P:i=14;break e;case R:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Uc(i,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Vc(e,t,n,r){return(e=Uc(7,e,r,t)).lanes=n,e}function Wc(e,t,n,r){return(e=Uc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function $c(e,t,n){return(e=Uc(6,e,null,t)).lanes=n,e}function Kc(e,t,n){return(t=Uc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kt(0),this.expirationTimes=kt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Jc(e,t,n,r,a,s,l,i,o){return e=new Qc(e,t,n,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Uc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ws(s),e}function Gc(e){if(!e)return Ma;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ba(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ba(n))return Va(e,n,t)}return t}function Yc(e,t,n,r,a,s,l,i,o){return(e=Jc(n,r,!0,e,0,s,0,i,o)).context=Gc(null),n=e.current,(s=Ks(r=cc(),a=dc(n))).callback=void 0!==t&&null!==t?t:null,Qs(n,s,a),e.current.lanes=a,St(e,a,r),mc(e,r),e}function Xc(e,t,n,r){var a=t.current,s=cc(),l=dc(a);return n=Gc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ks(s,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qs(a,t,l))&&(uc(e,a,l,s),Js(e,a,l)),l}function Zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Ro=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ia.current)Ci=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ci=!1,function(e,t,n){switch(t.tag){case 3:Di(t),ws();break;case 5:ll(t);break;case 1:Ba(t.type)&&Wa(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Fa(Ps,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Fa(ol,1&ol.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Wi(e,t,n):(Fa(ol,1&ol.current),null!==(e=Xi(e,t,n))?e.sibling:null);Fa(ol,1&ol.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fa(ol,ol.current),r)break;return null;case 22:case 23:return t.lanes=0,Ri(e,t,n)}return Xi(e,t,n)}(e,t,n);Ci=0!==(131072&e.flags)}else Ci=!1,ps&&0!==(1048576&t.flags)&&os(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yi(e,t),e=t.pendingProps;var a=Ua(t,Da.current);Is(t,n),a=kl(null,t,r,e,a,n);var l=Sl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ba(r)?(l=!0,Wa(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ws(t),a.updater=mi,t.stateNode=a,a._reactInternals=t,xi(t,r,e,n),t=Mi(null,t,r,!0,l,n)):(t.tag=0,ps&&l&&cs(t),Ei(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===P)return 14}return 2}(r),e=di(r,e),a){case 0:t=Li(null,t,r,e,n);break e;case 1:t=Fi(null,t,r,e,n);break e;case 11:t=Oi(null,t,r,e,n);break e;case 14:t=Ti(null,t,r,di(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Li(e,t,r,a=t.elementType===r?a:di(r,a),n);case 1:return r=t.type,a=t.pendingProps,Fi(e,t,r,a=t.elementType===r?a:di(r,a),n);case 3:e:{if(Di(t),null===e)throw Error(s(387));r=t.pendingProps,a=(l=t.memoizedState).element,$s(e,t),Ys(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ii(e,t,r,n,a=gi(Error(s(423)),t));break e}if(r!==a){t=Ii(e,t,r,n,a=gi(Error(s(424)),t));break e}for(ms=ya(t.stateNode.containerInfo.firstChild),us=t,ps=!0,fs=null,n=Ts(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ws(),r===a){t=Xi(e,t,n);break e}Ei(e,t,r,n)}t=t.child}return t;case 5:return ll(t),null===e&&ys(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,ua(r,a)?i=null:null!==l&&ua(r,l)&&(t.flags|=32),Ai(e,t),Ei(e,t,i,n),t.child;case 6:return null===e&&ys(t),null;case 13:return Wi(e,t,n);case 4:return al(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Os(t,null,r,n):Ei(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Oi(e,t,r,a=t.elementType===r?a:di(r,a),n);case 7:return Ei(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ei(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Fa(Ps,r._currentValue),r._currentValue=i,null!==l)if(xr(l.value,i)){if(l.children===a.children&&!Ia.current){t=Xi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Ks(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ds(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ds(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}Ei(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Is(t,n),r=r(a=zs(a)),t.flags|=1,Ei(e,t,r,n),t.child;case 14:return a=di(r=t.type,t.pendingProps),Ti(e,t,r,a=di(r.type,a),n);case 15:return Pi(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:di(r,a),Yi(e,t),t.tag=1,Ba(r)?(e=!0,Wa(t)):e=!1,Is(t,n),fi(t,r,a),xi(t,r,a,n),Mi(null,t,r,!0,e,n);case 19:return Gi(e,t,n);case 22:return Ri(e,t,n)}throw Error(s(156,t.tag))};var nd="function"===typeof reportError?reportError:function(e){console.error(e)};function rd(e){this._internalRoot=e}function ad(e){this._internalRoot=e}function sd(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function ld(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function id(){}function od(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof a){var i=a;a=function(){var e=Zc(l);i.call(e)}}Xc(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Zc(l);s.call(e)}}var l=Yc(t,r,e,0,null,!1,0,"",id);return e._reactRootContainer=l,e[Na]=l.current,Yr(8===e.nodeType?e.parentNode:e),vc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Zc(o);i.call(e)}}var o=Jc(e,0,!1,null,0,!1,0,"",id);return e._reactRootContainer=o,e[Na]=o.current,Yr(8===e.nodeType?e.parentNode:e),vc(function(){Xc(t,o,n,r)}),o}(n,t,e,a,r);return Zc(l)}ad.prototype.render=rd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xc(e,t,null,null)},ad.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc(function(){Xc(null,e,null,null)}),t[Na]=null}},ad.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&0!==t&&t<qt[n].priority;n++);qt.splice(n,0,e),0===n&&$t(e)}},Ot=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yt(t.pendingLanes);0!==n&&(_t(t,1|n),mc(t,at()),0===(6&Do)&&(Yo=at()+500,Ya()))}break;case 13:vc(function(){var t=Hs(e,1);if(null!==t){var n=cc();uc(t,e,1,n)}}),td(e,1)}},Tt=function(e){if(13===e.tag){var t=Hs(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},Pt=function(e){if(13===e.tag){var t=dc(e),n=Hs(e,t);if(null!==n)uc(n,e,t,cc());td(e,t)}},Rt=function(){return Ct},At=function(e,t){var n=Ct;try{return Ct=e,t()}finally{Ct=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Ta(r);if(!a)throw Error(s(90));K(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=yc,Ee=vc;var cd={usingClientEntryPoint:!1,Events:[Ea,Oa,Ta,Se,_e,yc]},dd={findFiberByHostInstance:Ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{ut=md.inject(ud),mt=md}catch(We){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sd(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!sd(e))throw Error(s(299));var n=!1,r="",a=nd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Jc(e,1,!1,null,0,n,0,r,a),e[Na]=t.current,Yr(8===e.nodeType?e.parentNode:e),new rd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,n){if(!ld(t))throw Error(s(200));return od(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!sd(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",i=nd;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Yc(t,null,e,1,null!=n?n:null,a,0,l,i),e[Na]=t.current,Yr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ad(t)},t.render=function(e,t,n){if(!ld(t))throw Error(s(200));return od(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ld(e))throw Error(s(40));return!!e._reactRootContainer&&(vc(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[Na]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ld(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return od(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>r[e]);return l.default=()=>r,n.d(s,l),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>cr,hasStandardBrowserEnv:()=>ur,hasStandardBrowserWebWorkerEnv:()=>mr,navigator:()=>dr,origin:()=>pr});var a,s=n(43),l=n.t(s,2),i=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(qe){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,i=s.history,u=a.Pop,h=null,x=g();function g(){return(i.state||{idx:null}).idx}function y(){u=a.Pop;let e=g(),t=null==e?null:e-x;x=e,h&&h({action:u,location:b.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,i.replaceState(o({},i.state,{idx:x}),""));let b={get action(){return u},get location(){return e(s,i)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),h=e,()=>{s.removeEventListener(c,y),h=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=a.Push;let r=p(b.location,e,t);n&&n(r,e),x=g()+1;let o=m(r,x),c=b.createHref(r);try{i.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;s.location.assign(c)}l&&h&&h({action:u,location:b.location,delta:1})},replace:function(e,t){u=a.Replace;let r=p(b.location,e,t);n&&n(r,e),x=g();let s=m(r,x),o=b.createHref(r);i.replaceState(s,"",o),l&&h&&h({action:u,location:b.location,delta:0})},go:e=>i.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=A(("string"===typeof t?h(t):t).pathname||"/",n);if(null==a)return null;let s=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let i=0;null==l&&i<s.length;++i){let e=R(a);l=T(s[i],e,r)}return l}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(r.length));let i=I([r,l.relativePath]),o=n.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),b(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:O(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of j(e.path))a(e,t,r);else a(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let l=j(r.join("/")),i=[];return i.push(...l.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,N=3,k=2,S=1,_=10,C=-2,E=e=>"*"===e;function O(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=C),t&&(r+=k),n.filter(e=>!E(e)).reduce((e,t)=>e+(w.test(t)?N:""===t?S:_),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",l=[];for(let i=0;i<r.length;++i){let e=r[i],o=i===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:I([s,d.pathname]),pathnameBase:z(I([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=I([s,d.pathnameBase]))}return l}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[r]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:l,pattern:e}}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function F(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=F(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=h(e):(a=o({},e),d(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),d(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),d(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,l=""===e||""===a.pathname,i=l?"/":a.pathname;if(null==i)s=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:B(a)}}(a,s),u=i&&"/"!==i&&i.endsWith("/"),m=(l||"."===i)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const I=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const $=s.createContext(null);const K=s.createContext(null);const Q=s.createContext(null);const J=s.createContext(null);const G=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=s.createContext(null);function X(){return null!=s.useContext(J)}function Z(){return X()||d(!1),s.useContext(J).location}function ee(e){s.useContext(Q).static||s.useLayoutEffect(e)}function te(){let{isDataRoute:e}=s.useContext(G);return e?function(){let{router:e}=pe(ue.UseNavigateStable),t=he(me.UseNavigateStable),n=s.useRef(!1);return ee(()=>{n.current=!0}),s.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},a)))},[e,t])}():function(){X()||d(!1);let e=s.useContext($),{basename:t,future:n,navigator:r}=s.useContext(Q),{matches:a}=s.useContext(G),{pathname:l}=Z(),i=JSON.stringify(M(a,n.v7_relativeSplatPath)),o=s.useRef(!1);return ee(()=>{o.current=!0}),s.useCallback(function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof n)return void r.go(n);let s=D(n,JSON.parse(i),l,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:I([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,i,l,e])}()}const ne=s.createContext(null);function re(){let{matches:e}=s.useContext(G),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(Q),{matches:a}=s.useContext(G),{pathname:l}=Z(),i=JSON.stringify(M(a,r.v7_relativeSplatPath));return s.useMemo(()=>D(e,JSON.parse(i),l,"path"===n),[e,i,l,n])}function se(e,t,n,r){X()||d(!1);let{navigator:l}=s.useContext(Q),{matches:i}=s.useContext(G),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,p=Z();if(t){var f;let e="string"===typeof t?h(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),m=e}else m=p;let x=m.pathname||"/",g=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=y(e,{pathname:g});let b=de(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:I([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:I([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,r);return t&&b?s.createElement(J.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:a.Pop}},b):b}function le(){let e=function(){var e;let t=s.useContext(Y),n=fe(me.UseRouteError),r=he(me.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const ie=s.createElement(le,null);class oe extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(G.Provider,{value:this.props.routeContext},s.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext($);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(G.Provider,{value:t},r)}function de(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=r)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(a=n)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let l,d=!1,m=null,p=null;var f;n&&(l=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||ie,c&&(u<0&&0===a?(f="route-fallback",!1||xe[f]||(xe[f]=!0),d=!0,p=null):u===a&&(d=!0,p=r.route.hydrateFallbackElement||null)));let h=t.concat(i.slice(0,a+1)),x=()=>{let t;return t=l?m:d?p:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(ce,{match:r,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(oe,{location:n.location,revalidation:n.revalidation,component:m,error:l,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):x()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function pe(e){let t=s.useContext($);return t||d(!1),t}function fe(e){let t=s.useContext(K);return t||d(!1),t}function he(e){let t=function(){let e=s.useContext(G);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const xe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function ye(e){let{to:t,replace:n,state:r,relative:a}=e;X()||d(!1);let{future:l,static:i}=s.useContext(Q),{matches:o}=s.useContext(G),{pathname:c}=Z(),u=te(),m=D(t,M(o,l.v7_relativeSplatPath),c,"path"===a),p=JSON.stringify(m);return s.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:a}),[u,p,a,n,r]),null}function ve(e){return function(e){let t=s.useContext(G).outlet;return t?s.createElement(ne.Provider,{value:e},t):t}(e.context)}function be(e){d(!1)}function je(e){let{basename:t="/",children:n=null,location:r,navigationType:l=a.Pop,navigator:i,static:o=!1,future:c}=e;X()&&d(!1);let u=t.replace(/^\/*/,"/"),m=s.useMemo(()=>({basename:u,navigator:i,static:o,future:W({v7_relativeSplatPath:!1},c)}),[u,c,i,o]);"string"===typeof r&&(r=h(r));let{pathname:p="/",search:f="",hash:x="",state:g=null,key:y="default"}=r,v=s.useMemo(()=>{let e=A(p,u);return null==e?null:{location:{pathname:e,search:f,hash:x,state:g,key:y},navigationType:l}},[u,p,f,x,g,y,l]);return null==v?null:s.createElement(Q.Provider,{value:m},s.createElement(J.Provider,{children:n,value:v}))}function we(e){let{children:t,location:n}=e;return se(Ne(t),n)}new Promise(()=>{});s.Component;function Ne(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,Ne(e.props.children,a));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=Ne(e.props.children,a)),n.push(l)}),n}var ke=n(950),Se=n.t(ke,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(qe){}new Map;const Oe=l.startTransition;Se.flushSync,l.useId;function Te(e){let{basename:t,children:n,future:r,window:a}=e,l=s.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),x(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return p("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,i)));let o=l.current,[c,d]=s.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},m=s.useCallback(e=>{u&&Oe?Oe(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>o.listen(m),[o,m]),s.useEffect(()=>ge(r),[r]),s.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const Pe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=s.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:m,viewTransition:p}=e,h=Ce(e,Ee),{basename:x}=s.useContext(Q),g=!1;if("string"===typeof u&&Re.test(u)&&(n=u,Pe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=A(t.pathname,x);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(qe){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||d(!1);let{basename:r,navigator:a}=s.useContext(Q),{hash:l,pathname:i,search:o}=ae(e,{relative:n}),c=i;return"/"!==r&&(c="/"===i?r:I([r,i])),a.createHref({pathname:c,search:o,hash:l})}(u,{relative:a}),v=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=te(),d=Z(),u=ae(e,{relative:i});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(d)===f(u);c(e,{replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,r,a,n,e,l,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:m,relative:a,viewTransition:p});return s.createElement("a",_e({},h,{href:n||y,onClick:g||l?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Le,Fe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));function Me(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Ie(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}function ze(e,t,n){return(t=Ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){ze(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let qe={data:""},He=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||qe},Ve=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,We=/\/\*[^]*?\*\/|  +/g,$e=/\n+/g,Ke=(e,t)=>{let n="",r="",a="";for(let s in e){let l=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+l+";":r+="f"==s[1]?Ke(l,s):s+"{"+Ke(l,"k"==s[1]?"":t)+"}":"object"==typeof l?r+=Ke(l,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=l&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ke.p?Ke.p(s,l):s+":"+l+";")}return n+(t&&a?t+"{"+a+"}":a)+r},Qe={},Je=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Je(e[n]);return t}return e},Ge=(e,t,n,r,a)=>{let s=Je(e),l=Qe[s]||(Qe[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!Qe[l]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=Ve.exec(e.replace(We,""));)t[4]?r.shift():t[3]?(n=t[3].replace($e," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace($e," ").trim();return r[0]})(e);Qe[l]=Ke(a?{["@keyframes "+l]:t}:t,n?"":"."+l)}let i=n&&Qe.g?Qe.g:null;return n&&(Qe.g=Qe[l]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Qe[l],t,r,i),l};function Ye(e){let t=this||{},n=e.call?e(t.p):e;return Ge(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":Ke(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,He(t.target),t.g,t.o,t.k)}Ye.bind({g:1});let Xe,Ze,et,tt=Ye.bind({k:1});function nt(e,t){let n=this||{};return function(){let r=arguments;function a(s,l){let i=Object.assign({},s),o=i.className||a.className;n.p=Object.assign({theme:Ze&&Ze()},i),n.o=/ *go\d+/.test(o),i.className=Ye.apply(n,r)+(o?" "+o:""),t&&(i.ref=l);let c=e;return e[0]&&(c=i.as||e,delete i.as),et&&c[0]&&et(i),Xe(c,i)}return t?t(a):a}}var rt,at,st,lt,it,ot,ct,dt,ut,mt,pt,ft,ht,xt,gt,yt,vt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,bt=(()=>{let e=0;return()=>(++e).toString()})(),jt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),wt="default",Nt=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Be(Be({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Be(Be({},e),t.toast):e)});case 2:let{toast:r}=t;return Nt(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:a}=t;return Be(Be({},e),{},{toasts:e.toasts.map(e=>e.id===a||void 0===a?Be(Be({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Be(Be({},e),{},{toasts:[]}):Be(Be({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Be(Be({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return Be(Be({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Be(Be({},e),{},{pauseDuration:e.pauseDuration+s}))})}},kt=[],St={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},_t={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt;_t[t]=Nt(_t[t]||St,e),kt.forEach(e=>{let[n,r]=e;n===t&&r(_t[t])})},Et=e=>Object.keys(_t).forEach(t=>Ct(e,t)),Ot=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt;return t=>{Ct(t,e)}},Tt={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Pt=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Be(Be({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||bt()})}(t,e,n);return Ot(r.toasterId||(e=>Object.keys(_t).find(t=>_t[t].toasts.some(t=>t.id===e)))(r.id))({type:2,toast:r}),r.id},Rt=(e,t)=>Pt("blank")(e,t);Rt.error=Pt("error"),Rt.success=Pt("success"),Rt.loading=Pt("loading"),Rt.custom=Pt("custom"),Rt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ot(t)(n):Et(n)},Rt.dismissAll=e=>Rt.dismiss(void 0,e),Rt.remove=(e,t)=>{let n={type:4,toastId:e};t?Ot(t)(n):Et(n)},Rt.removeAll=e=>Rt.remove(void 0,e),Rt.promise=(e,t,n)=>{let r=Rt.loading(t.loading,Be(Be({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?vt(t.success,e):void 0;return a?Rt.success(a,Be(Be({id:r},n),null==n?void 0:n.success)):Rt.dismiss(r),e}).catch(e=>{let a=t.error?vt(t.error,e):void 0;a?Rt.error(a,Be(Be({id:r},n),null==n?void 0:n.error)):Rt.dismiss(r)}),e};var At=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wt,[n,r]=(0,s.useState)(_t[t]||St),a=(0,s.useRef)(_t[t]);(0,s.useEffect)(()=>(a.current!==_t[t]&&r(_t[t]),kt.push([t,r]),()=>{let e=kt.findIndex(e=>{let[n]=e;return n===t});e>-1&&kt.splice(e,1)}),[t]);let l=n.toasts.map(t=>{var n,r,a;return Be(Be(Be(Be({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Tt[t.type],style:Be(Be(Be({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return Be(Be({},n),{},{toasts:l})}(e,t),a=(0,s.useRef)(new Map).current,l=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(a.has(e))return;let n=setTimeout(()=>{a.delete(e),i({type:4,toastId:e})},t);a.set(e,n)},[]);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),a=n.map(n=>{if(n.duration===1/0)return;let r=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(r<0))return setTimeout(()=>Rt.dismiss(n.id,t),r);n.visible&&Rt.dismiss(n.id)});return()=>{a.forEach(e=>e&&clearTimeout(e))}},[n,r,t]);let i=(0,s.useCallback)(Ot(t),[t]),o=(0,s.useCallback)(()=>{i({type:5,time:Date.now()})},[i]),c=(0,s.useCallback)((e,t)=>{i({type:1,toast:{id:e,height:t}})},[i]),d=(0,s.useCallback)(()=>{r&&i({type:6,time:Date.now()})},[r,i]),u=(0,s.useCallback)((e,t)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:s}=t||{},l=n.filter(t=>(t.position||s)===(e.position||s)&&t.height),i=l.findIndex(t=>t.id===e.id),o=l.filter((e,t)=>t<i&&e.visible).length;return l.filter(e=>e.visible).slice(...r?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+a,0)},[n]);return(0,s.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)l(e.id,e.removeDelay);else{let t=a.get(e.id);t&&(clearTimeout(t),a.delete(e.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},Lt=tt(rt||(rt=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Ft=tt(at||(at=Me(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Mt=tt(st||(st=Me(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Dt=nt("div")(lt||(lt=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Lt,Ft,e=>e.secondary||"#fff",Mt),It=tt(it||(it=Me(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),zt=nt("div")(ot||(ot=Me(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",It),Ut=tt(ct||(ct=Me(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Bt=tt(dt||(dt=Me(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),qt=nt("div")(ut||(ut=Me(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Ut,Bt,e=>e.secondary||"#fff"),Ht=nt("div")(mt||(mt=Me(["\n  position: absolute;\n"]))),Vt=nt("div")(pt||(pt=Me(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Wt=tt(ft||(ft=Me(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$t=nt("div")(ht||(ht=Me(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Wt),Kt=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:a}=t;return void 0!==n?"string"==typeof n?s.createElement($t,null,n):n:"blank"===r?null:s.createElement(Vt,null,s.createElement(zt,Be({},a)),"loading"!==r&&s.createElement(Ht,null,"error"===r?s.createElement(Dt,Be({},a)):s.createElement(qt,Be({},a))))},Qt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Jt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Gt=nt("div")(xt||(xt=Me(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Yt=nt("div")(gt||(gt=Me(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Xt=s.memo(e=>{let{toast:t,position:n,style:r,children:a}=e,l=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=jt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Qt(n),Jt(n)];return{animation:t?"".concat(tt(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(tt(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},i=s.createElement(Kt,{toast:t}),o=s.createElement(Yt,Be({},t.ariaProps),vt(t.message,t));return s.createElement(Gt,{className:t.className,style:Be(Be(Be({},l),r),t.style)},"function"==typeof a?a({icon:i,message:o}):s.createElement(s.Fragment,null,i,o))});!function(e,t,n,r){Ke.p=t,Xe=e,Ze=n,et=r}(s.createElement);var Zt=e=>{let{id:t,className:n,style:r,onHeightUpdate:a,children:l}=e,i=s.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;a(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return s.createElement("div",{ref:i,className:n,style:r},l)},en=Ye(yt||(yt=Me(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),tn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:a,children:l,toasterId:i,containerStyle:o,containerClassName:c}=e,{toasts:d,handlers:u}=At(r,i);return s.createElement("div",{"data-rht-toaster":i||"",style:Be({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let r=e.position||n,i=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Be(Be({left:0,right:0,display:"flex",position:"absolute",transition:jt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(r,u.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:n}));return s.createElement(Zt,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?en:"",style:i},"custom"===e.type?vt(e.message,e):l?l(e):s.createElement(Xt,{toast:e,position:r}))}))},nn=Rt;function rn(e,t){return function(){return e.apply(t,arguments)}}const{toString:an}=Object.prototype,{getPrototypeOf:sn}=Object,{iterator:ln,toStringTag:on}=Symbol,cn=(dn=Object.create(null),e=>{const t=an.call(e);return dn[t]||(dn[t]=t.slice(8,-1).toLowerCase())});var dn;const un=e=>(e=e.toLowerCase(),t=>cn(t)===e),mn=e=>t=>typeof t===e,{isArray:pn}=Array,fn=mn("undefined");function hn(e){return null!==e&&!fn(e)&&null!==e.constructor&&!fn(e.constructor)&&yn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xn=un("ArrayBuffer");const gn=mn("string"),yn=mn("function"),vn=mn("number"),bn=e=>null!==e&&"object"===typeof e,jn=e=>{if("object"!==cn(e))return!1;const t=sn(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(on in e)&&!(ln in e)},wn=un("Date"),Nn=un("File"),kn=un("Blob"),Sn=un("FileList"),_n=un("URLSearchParams"),[Cn,En,On,Tn]=["ReadableStream","Request","Response","Headers"].map(un);function Pn(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),pn(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(hn(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(n=0;n<s;n++)l=r[n],t.call(null,e[l],l,e)}}function Rn(e,t){if(hn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const An="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ln=e=>!fn(e)&&e!==An;const Fn=(Mn="undefined"!==typeof Uint8Array&&sn(Uint8Array),e=>Mn&&e instanceof Mn);var Mn;const Dn=un("HTMLFormElement"),In=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),zn=un("RegExp"),Un=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Pn(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const Bn=un("AsyncFunction"),qn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],An.addEventListener("message",e=>{let{source:t,data:a}=e;t===An&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),An.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,yn(An.postMessage)),Hn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(An):"undefined"!==typeof process&&process.nextTick||qn,Vn={isArray:pn,isArrayBuffer:xn,isBuffer:hn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||yn(e.append)&&("formdata"===(t=cn(e))||"object"===t&&yn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xn(e.buffer),t},isString:gn,isNumber:vn,isBoolean:e=>!0===e||!1===e,isObject:bn,isPlainObject:jn,isEmptyObject:e=>{if(!bn(e)||hn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(qe){return!1}},isReadableStream:Cn,isRequest:En,isResponse:On,isHeaders:Tn,isUndefined:fn,isDate:wn,isFile:Nn,isBlob:kn,isRegExp:zn,isFunction:yn,isStream:e=>bn(e)&&yn(e.pipe),isURLSearchParams:_n,isTypedArray:Fn,isFileList:Sn,forEach:Pn,merge:function e(){const{caseless:t,skipUndefined:n}=Ln(this)&&this||{},r={},a=(a,s)=>{const l=t&&Rn(r,s)||s;jn(r[l])&&jn(a)?r[l]=e(r[l],a):jn(a)?r[l]=e({},a):pn(a)?r[l]=a.slice():n&&fn(a)||(r[l]=a)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&Pn(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Pn(t,(t,r)=>{n&&yn(t)?e[r]=rn(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,l;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&sn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:cn,kindOfTest:un,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(pn(e))return e;let t=e.length;if(!vn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[ln]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Dn,hasOwnProperty:In,hasOwnProp:In,reduceDescriptors:Un,freezeMethods:e=>{Un(e,(t,n)=>{if(yn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];yn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return pn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Rn,global:An,isContextDefined:Ln,isSpecCompliantForm:function(e){return!!(e&&yn(e.append)&&"FormData"===e[on]&&e[ln])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(bn(e)){if(t.indexOf(e)>=0)return;if(hn(e))return e;if(!("toJSON"in e)){t[r]=e;const a=pn(e)?[]:{};return Pn(e,(e,t)=>{const s=n(e,r+1);!fn(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Bn,isThenable:e=>e&&(bn(e)||yn(e))&&yn(e.then)&&yn(e.catch),setImmediate:qn,asap:Hn,isIterable:e=>null!=e&&yn(e[ln])};function Wn(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Vn.inherits(Wn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vn.toJSONObject(this.config),code:this.code,status:this.status}}});const $n=Wn.prototype,Kn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Kn[e]={value:e}}),Object.defineProperties(Wn,Kn),Object.defineProperty($n,"isAxiosError",{value:!0}),Wn.from=(e,t,n,r,a,s)=>{const l=Object.create($n);Vn.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return Wn.call(l,i,o,n,r,a),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const Qn=Wn;function Jn(e){return Vn.isPlainObject(e)||Vn.isArray(e)}function Gn(e){return Vn.endsWith(e,"[]")?e.slice(0,-2):e}function Yn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Gn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Xn=Vn.toFlatObject(Vn,{},null,function(e){return/^is[A-Z]/.test(e)});const Zn=function(e,t,n){if(!Vn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Vn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Vn.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Vn.isSpecCompliantForm(t);if(!Vn.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Vn.isDate(e))return e.toISOString();if(Vn.isBoolean(e))return e.toString();if(!i&&Vn.isBlob(e))throw new Qn("Blob is not supported. Use a Buffer instead.");return Vn.isArrayBuffer(e)||Vn.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let i=e;if(e&&!a&&"object"===typeof e)if(Vn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Vn.isArray(e)&&function(e){return Vn.isArray(e)&&!e.some(Jn)}(e)||(Vn.isFileList(e)||Vn.endsWith(n,"[]"))&&(i=Vn.toArray(e)))return n=Gn(n),i.forEach(function(e,r){!Vn.isUndefined(e)&&null!==e&&t.append(!0===l?Yn([n],r,s):null===l?n:n+"[]",o(e))}),!1;return!!Jn(e)||(t.append(Yn(a,n,s),o(e)),!1)}const d=[],u=Object.assign(Xn,{defaultVisitor:c,convertValue:o,isVisitable:Jn});if(!Vn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Vn.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),Vn.forEach(n,function(n,s){!0===(!(Vn.isUndefined(n)||null===n)&&a.call(t,n,Vn.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function er(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function tr(e,t){this._pairs=[],e&&Zn(e,this,t)}const nr=tr.prototype;nr.append=function(e,t){this._pairs.push([e,t])},nr.toString=function(e){const t=e?function(t){return e.call(this,t,er)}:er;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const rr=tr;function ar(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function sr(e,t,n){if(!t)return e;const r=n&&n.encode||ar;Vn.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):Vn.isURLSearchParams(t)?t.toString():new rr(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const lr=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Vn.forEach(this.handlers,function(t){null!==t&&e(t)})}},ir={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},or={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:rr,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},cr="undefined"!==typeof window&&"undefined"!==typeof document,dr="object"===typeof navigator&&navigator||void 0,ur=cr&&(!dr||["ReactNative","NativeScript","NS"].indexOf(dr.product)<0),mr="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pr=cr&&window.location.href||"http://localhost",fr=Be(Be({},r),or);const hr=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),i=a>=e.length;if(s=!s&&Vn.isArray(r)?r.length:s,i)return Vn.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!l;r[s]&&Vn.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&Vn.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!l}if(Vn.isFormData(e)&&Vn.isFunction(e.entries)){const n={};return Vn.forEachEntry(e,(e,r)=>{t(function(e){return Vn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const xr={transitional:ir,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=Vn.isObject(e);a&&Vn.isHTMLForm(e)&&(e=new FormData(e));if(Vn.isFormData(e))return r?JSON.stringify(hr(e)):e;if(Vn.isArrayBuffer(e)||Vn.isBuffer(e)||Vn.isStream(e)||Vn.isFile(e)||Vn.isBlob(e)||Vn.isReadableStream(e))return e;if(Vn.isArrayBufferView(e))return e.buffer;if(Vn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Zn(e,new fr.classes.URLSearchParams,Be({visitor:function(e,t,n,r){return fr.isNode&&Vn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Vn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Zn(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(Vn.isString(e))try{return(t||JSON.parse)(e),Vn.trim(e)}catch(qe){if("SyntaxError"!==qe.name)throw qe}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Vn.isResponse(e)||Vn.isReadableStream(e))return e;if(e&&Vn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(qe){if(n){if("SyntaxError"===qe.name)throw Qn.from(qe,Qn.ERR_BAD_RESPONSE,this,null,this.response);throw qe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fr.classes.FormData,Blob:fr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Vn.forEach(["delete","get","head","post","put","patch"],e=>{xr.headers[e]={}});const gr=xr,yr=Vn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vr=Symbol("internals");function br(e){return e&&String(e).trim().toLowerCase()}function jr(e){return!1===e||null==e?e:Vn.isArray(e)?e.map(jr):String(e)}function wr(e,t,n,r,a){return Vn.isFunction(r)?r.call(this,t,n):(a&&(t=n),Vn.isString(t)?Vn.isString(r)?-1!==t.indexOf(r):Vn.isRegExp(r)?r.test(t):void 0:void 0)}class Nr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=br(t);if(!a)throw new Error("header name must be a non-empty string");const s=Vn.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=jr(e))}const s=(e,t)=>Vn.forEach(e,(e,n)=>a(e,n,t));if(Vn.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Vn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&yr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Vn.isObject(e)&&Vn.isIterable(e)){let n,r,a={};for(const t of e){if(!Vn.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?Vn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=br(e)){const n=Vn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Vn.isFunction(t))return t.call(this,e,n);if(Vn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=br(e)){const n=Vn.findKey(this,e);return!(!n||void 0===this[n]||t&&!wr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=br(e)){const a=Vn.findKey(n,e);!a||t&&!wr(0,n[a],a,t)||(delete n[a],r=!0)}}return Vn.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!wr(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return Vn.forEach(this,(r,a)=>{const s=Vn.findKey(n,a);if(s)return t[s]=jr(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();l!==a&&delete t[a],t[l]=jr(r),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Vn.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Vn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[vr]=this[vr]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=br(e);t[r]||(!function(e,t){const n=Vn.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return Vn.isArray(e)?e.forEach(r):r(e),this}}Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Vn.reduceDescriptors(Nr.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Vn.freezeMethods(Nr);const kr=Nr;function Sr(e,t){const n=this||gr,r=t||n,a=kr.from(r.headers);let s=r.data;return Vn.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function _r(e){return!(!e||!e.__CANCEL__)}function Cr(e,t,n){Qn.call(this,null==e?"canceled":e,Qn.ERR_CANCELED,t,n),this.name="CanceledError"}Vn.inherits(Cr,Qn,{__CANCEL__:!0});const Er=Cr;function Or(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Qn("Request failed with status code "+n.status,[Qn.ERR_BAD_REQUEST,Qn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Tr=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];a||(a=o),n[s]=i,r[s]=o;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Pr=function(e,t){let n,r,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=s?l(o,e):(n=o,r||(r=setTimeout(()=>{r=null,l(n)},s-t)))},()=>n&&l(n)]},Rr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Tr(50,250);return Pr(n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,i=s-r,o=a(i);r=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&s<=l?(l-s)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},Ar=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Lr=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vn.asap(()=>e(...n))},Fr=fr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,fr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(fr.origin),fr.navigator&&/(msie|trident)/i.test(fr.navigator.userAgent)):()=>!0,Mr=fr.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const l=[e+"="+encodeURIComponent(t)];Vn.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Vn.isString(r)&&l.push("path="+r),Vn.isString(a)&&l.push("domain="+a),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Dr(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ir=e=>e instanceof kr?Be({},e):e;function zr(e,t){t=t||{};const n={};function r(e,t,n,r){return Vn.isPlainObject(e)&&Vn.isPlainObject(t)?Vn.merge.call({caseless:r},e,t):Vn.isPlainObject(t)?Vn.merge({},t):Vn.isArray(t)?t.slice():t}function a(e,t,n,a){return Vn.isUndefined(t)?Vn.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!Vn.isUndefined(t))return r(void 0,t)}function l(e,t){return Vn.isUndefined(t)?Vn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const o={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>a(Ir(e),Ir(t),0,!0)};return Vn.forEach(Object.keys(Be(Be({},e),t)),function(r){const s=o[r]||a,l=s(e[r],t[r],r);Vn.isUndefined(l)&&s!==i||(n[r]=l)}),n}const Ur=e=>{const t=zr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:i}=t;if(t.headers=l=kr.from(l),t.url=sr(Dr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),Vn.isFormData(n))if(fr.hasStandardBrowserEnv||fr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Vn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&l.set(n,r)})}if(fr.hasStandardBrowserEnv&&(r&&Vn.isFunction(r)&&(r=r(t)),r||!1!==r&&Fr(t.url))){const e=a&&s&&Mr.read(s);e&&l.set(a,e)}return t},Br="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Ur(e);let a=r.data;const s=kr.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let h=new XMLHttpRequest;function x(){if(!h)return;const r=kr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Or(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=x:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(x)},h.onabort=function(){h&&(n(new Qn("Request aborted",Qn.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Qn(r,Qn.ERR_NETWORK,e,h);a.event=t||null,n(a),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||ir;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Qn(t,a.clarifyTimeoutError?Qn.ETIMEDOUT:Qn.ECONNABORTED,e,h)),h=null},void 0===a&&s.setContentType(null),"setRequestHeader"in h&&Vn.forEach(s.toJSON(),function(e,t){h.setRequestHeader(t,e)}),Vn.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),u&&"json"!==u&&(h.responseType=r.responseType),p&&([o,d]=Rr(p,!0),h.addEventListener("progress",o)),m&&h.upload&&([i,c]=Rr(m),h.upload.addEventListener("progress",i),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{h&&(n(!t||t.type?new Er(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===fr.protocols.indexOf(g)?n(new Qn("Unsupported protocol "+g+":",Qn.ERR_BAD_REQUEST,e)):h.send(a||null)})},qr=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Qn?t:new Er(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Qn("timeout ".concat(t," of ms exceeded"),Qn.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:i}=r;return i.unsubscribe=()=>Vn.asap(l),i}};function Hr(e,t){this.v=e,this.k=t}function Vr(e){return function(){return new Wr(e.apply(this,arguments))}}function Wr(e){var t,n;function r(t,n){try{var s=e[t](n),l=s.value,i=l instanceof Hr;Promise.resolve(i?l.v:l).then(function(n){if(i){var o="return"===t?"return":"next";if(!l.k||n.done)return r(o,n);n=e[o](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,l){var i={key:e,arg:a,resolve:s,reject:l,next:null};n?n=n.next=i:(t=n=i,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function $r(e){return new Hr(e,0)}function Kr(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Hr(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Qr(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Jr(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Jr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Jr=function(e){this.s=e,this.n=e.next},Jr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Jr(e)}Wr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Wr.prototype.next=function(e){return this._invoke("next",e)},Wr.prototype.throw=function(e){return this._invoke("throw",e)},Wr.prototype.return=function(e){return this._invoke("return",e)};const Gr=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Yr=function(){var e=Vr(function*(e,t){var n,r=!1,a=!1;try{for(var s,l=Qr(Xr(e));r=!(s=yield $r(l.next())).done;r=!1){const e=s.value;yield*Kr(Qr(Gr(e,t)))}}catch(i){a=!0,n=i}finally{try{r&&null!=l.return&&(yield $r(l.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Xr=function(){var e=Vr(function*(e){if(e[Symbol.asyncIterator])return void(yield*Kr(Qr(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield $r(t.read());if(e)break;yield n}}finally{yield $r(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Zr=(e,t,n,r)=>{const a=Yr(e,t);let s,l=0,i=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return i(),void e.close();let s=r.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},{isFunction:ea}=Vn,ta=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Vn.global),{ReadableStream:na,TextEncoder:ra}=Vn.global,aa=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(qe){return!1}},sa=e=>{e=Vn.merge.call({skipUndefined:!0},ta,e);const{fetch:t,Request:n,Response:r}=e,a=t?ea(t):"function"===typeof fetch,s=ea(n),l=ea(r);if(!a)return!1;const i=a&&ea(na),o=a&&("function"===typeof ra?(c=new ra,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=s&&i&&aa(()=>{let e=!1;const t=new n(fr.origin,{body:new na,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&i&&aa(()=>Vn.isReadableStream(new r("").body)),m={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Qn("Response type '".concat(e,"' is not supported"),Qn.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=Vn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Vn.isBlob(e))return e.size;if(Vn.isSpecCompliantForm(e)){const t=new n(fr.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Vn.isArrayBufferView(e)||Vn.isArrayBuffer(e)?e.byteLength:(Vn.isURLSearchParams(e)&&(e+=""),Vn.isString(e)?(await o(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:l,data:i,signal:o,cancelToken:c,timeout:f,onDownloadProgress:h,onUploadProgress:x,responseType:g,headers:y,withCredentials:v="same-origin",fetchOptions:b}=Ur(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let w=qr([o,c&&c.toAbortSignal()],f),N=null;const k=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let S;try{if(x&&d&&"get"!==l&&"head"!==l&&0!==(S=await p(y,i))){let e,t=new n(a,{method:"POST",body:i,duplex:"half"});if(Vn.isFormData(i)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=Ar(S,Rr(Lr(x)));i=Zr(t.body,65536,e,n)}}Vn.isString(v)||(v=v?"include":"omit");const t=s&&"credentials"in n.prototype,o=Be(Be({},b),{},{signal:w,method:l.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:t?v:void 0});N=s&&new n(a,o);let c=await(s?j(N,b):j(a,o));const f=u&&("stream"===g||"response"===g);if(u&&(h||f&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Vn.toFiniteNumber(c.headers.get("content-length")),[n,a]=h&&Ar(t,Rr(Lr(h),!0))||[];c=new r(Zr(c.body,65536,n,()=>{a&&a(),k&&k()}),e)}g=g||"text";let _=await m[Vn.findKey(m,g)||"text"](c,e);return!f&&k&&k(),await new Promise((t,n)=>{Or(t,n,{data:_,headers:kr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(_){if(k&&k(),_&&"TypeError"===_.name&&/Load failed|fetch/i.test(_.message))throw Object.assign(new Qn("Network Error",Qn.ERR_NETWORK,e,N),{cause:_.cause||_});throw Qn.from(_,_&&_.code,e,N)}}},la=new Map,ia=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let l,i,o=s.length,c=la;for(;o--;)l=s[o],i=c.get(l),void 0===i&&c.set(l,i=o?new Map:sa(t)),c=i;return i},oa=(ia(),{http:null,xhr:Br,fetch:{get:ia}});Vn.forEach(oa,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(qe){}Object.defineProperty(e,"adapterName",{value:t})}});const ca=e=>"- ".concat(e),da=e=>Vn.isFunction(e)||null===e||!1===e,ua=(e,t)=>{e=Vn.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let l=0;l<n;l++){let n;if(r=e[l],a=r,!da(r)&&(a=oa[(n=String(r)).toLowerCase()],void 0===a))throw new Qn("Unknown adapter '".concat(n,"'"));if(a&&(Vn.isFunction(a)||(a=a.get(t))))break;s[n||"#"+l]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(ca).join("\n"):" "+ca(e[0]):"as no adapter specified";throw new Qn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a};function ma(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Er(null,e)}function pa(e){ma(e),e.headers=kr.from(e.headers),e.data=Sr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ua(e.adapter||gr.adapter,e)(e).then(function(t){return ma(e),t.data=Sr.call(e,e.transformResponse,t),t.headers=kr.from(t.headers),t},function(t){return _r(t)||(ma(e),t&&t.response&&(t.response.data=Sr.call(e,e.transformResponse,t.response),t.response.headers=kr.from(t.response.headers))),Promise.reject(t)})}const fa="1.12.2",ha={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ha[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const xa={};ha.transitional=function(e,t,n){function r(e,t){return"[Axios v"+fa+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Qn(r(a," has been removed"+(t?" in "+t:"")),Qn.ERR_DEPRECATED);return t&&!xa[a]&&(xa[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},ha.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ga={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Qn("options must be an object",Qn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new Qn("option "+s+" must be "+n,Qn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Qn("Unknown option "+s,Qn.ERR_BAD_OPTION)}},validators:ha},ya=ga.validators;class va{constructor(e){this.defaults=e||{},this.interceptors={request:new lr,response:new lr}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(qe){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=zr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&ga.assertOptions(n,{silentJSONParsing:ya.transitional(ya.boolean),forcedJSONParsing:ya.transitional(ya.boolean),clarifyTimeoutError:ya.transitional(ya.boolean)},!1),null!=r&&(Vn.isFunction(r)?t.paramsSerializer={serialize:r}:ga.assertOptions(r,{encode:ya.function,serialize:ya.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ga.assertOptions(t,{baseUrl:ya.spelling("baseURL"),withXsrfToken:ya.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&Vn.merge(a.common,a[t.method]);a&&Vn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=kr.concat(s,a);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[pa.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=pa.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return sr(Dr((e=zr(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Vn.forEach(["delete","get","head","options"],function(e){va.prototype[e]=function(t,n){return this.request(zr(n||{},{method:e,url:t,data:(n||{}).data}))}}),Vn.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(zr(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}va.prototype[e]=t(),va.prototype[e+"Form"]=t(!0)});const ba=va;class ja{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Er(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ja(function(t){e=t});return{token:t,cancel:e}}}const wa=ja;const Na={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Na).forEach(e=>{let[t,n]=e;Na[n]=t});const ka=Na;const Sa=function e(t){const n=new ba(t),r=rn(ba.prototype.request,n);return Vn.extend(r,ba.prototype,n,{allOwnKeys:!0}),Vn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(zr(t,n))},r}(gr);Sa.Axios=ba,Sa.CanceledError=Er,Sa.CancelToken=wa,Sa.isCancel=_r,Sa.VERSION=fa,Sa.toFormData=Zn,Sa.AxiosError=Qn,Sa.Cancel=Sa.CanceledError,Sa.all=function(e){return Promise.all(e)},Sa.spread=function(e){return function(t){return e.apply(null,t)}},Sa.isAxiosError=function(e){return Vn.isObject(e)&&!0===e.isAxiosError},Sa.mergeConfig=zr,Sa.AxiosHeaders=kr,Sa.formToJSON=e=>hr(Vn.isHTMLForm(e)?new FormData(e):e),Sa.getAdapter=ua,Sa.HttpStatusCode=ka,Sa.default=Sa;const _a=Sa,Ca=_a.create({baseURL:"/aiva/api",headers:{"Content-Type":"application/json"}});Ca.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t?e.headers.Authorization="Bearer ".concat(t):console.log("NO TOKEN FOUND"),e},e=>Promise.reject(e)),Ca.interceptors.response.use(e=>e,e=>{var t,n,r;return console.log("=== API ERROR DEBUG ==="),console.log("Status:",null===(t=e.response)||void 0===t?void 0:t.status),console.log("Error data:",null===(n=e.response)||void 0===n?void 0:n.data),401===(null===(r=e.response)||void 0===r?void 0:r.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)});const Ea=e=>Ca.get("/agents",{params:e}),Oa=e=>Ca.get("/agents/".concat(e)),Ta=(e,t)=>Ca.put("/agents/".concat(e),t),Pa=()=>Ca.get("/credits/balance"),Ra=Ca;var Aa=n(579);const La=(0,s.createContext)(),Fa=()=>{const e=(0,s.useContext)(La);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Ma=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const e=JSON.parse(t);r(e),Ca.get("/auth/me").then(e=>{r(e.data.user),localStorage.setItem("user",JSON.stringify(e.data.user))}).catch(()=>{i()}).finally(()=>{l(!1)})}catch(n){i(),l(!1)}else l(!1)},[]);const i=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)};return(0,Aa.jsx)(La.Provider,{value:{user:n,login:async(e,t)=>{const n=await((e,t)=>Ca.post("/auth/login",{email:e,password:t}))(e,t),{token:a,user:s}=n.data;return localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),r(s),s},logout:i,loading:a},children:t})},Da=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[a,l]=(0,s.useState)(!1),{login:i}=Fa(),o=te(),c=Z();return(0,Aa.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,Aa.jsx)("div",{className:"w-full max-w-md",children:(0,Aa.jsxs)("div",{className:"px-8 py-10 bg-white rounded-lg shadow-md",children:[(0,Aa.jsx)("h2",{className:"mb-6 text-3xl font-bold text-center text-gray-900",children:"Agent Management"}),(0,Aa.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0);try{var r,a;await i(e,n),nn.success("Login successful");const t=(null===(r=c.state)||void 0===r||null===(a=r.from)||void 0===a?void 0:a.pathname)||"/";o(t,{replace:!0})}catch(u){var s,d;nn.error((null===(s=u.response)||void 0===s||null===(d=s.data)||void 0===d?void 0:d.error)||"Login failed")}finally{l(!1)}},className:"space-y-6",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Aa.jsx)("input",{id:"email",type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Aa.jsx)("input",{id:"password",type:"password",required:!0,value:n,onChange:e=>r(e.target.value),className:"block w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,Aa.jsx)("button",{type:"submit",disabled:a,className:"w-full px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:a?"Logging in...":"Login"})]})]})})})};function Ia(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var za={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ua=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Ba=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{color:a="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d}=n,u=Ia(n,Ua);return(0,s.createElement)("svg",Be(Be({ref:r},za),{},{width:l,height:l,stroke:a,strokeWidth:o?24*Number(i)/Number(l):i,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(d)?d:[d]]);var m});return n.displayName="".concat(e),n},qa=Ba("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ha=Ba("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Va=Ba("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Wa=Ba("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),$a=()=>{const[e,t]=(0,s.useState)({balance:0,agents:0,calls:0,totalCost:0}),[n,r]=(0,s.useState)(!0);(0,s.useEffect)(()=>{a()},[]);const a=async()=>{try{const[n,r,a]=await Promise.all([Pa(),(e=30,Ca.get("/calls/stats/summary",{params:{days:e}})),Ea({is_active:!0})]);t({balance:n.data.balance,agents:a.data.agents.length,calls:r.data.total_calls,totalCost:r.data.total_cost})}catch(n){console.error("Failed to load dashboard:",n)}finally{r(!1)}var e},l=[{name:"Credit Balance",value:"$".concat(e.balance.toFixed(2)),icon:qa,color:"bg-green-500",link:"/credits"},{name:"Active Agents",value:e.agents,icon:Ha,color:"bg-blue-500",link:"/agents"},{name:"Total Calls (30d)",value:e.calls,icon:Va,color:"bg-purple-500",link:"/calls"},{name:"Total Cost (30d)",value:"$".concat(e.totalCost.toFixed(2)),icon:Wa,color:"bg-orange-500",link:"/calls"}];return n?(0,Aa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of your agent management system"})]}),(0,Aa.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:l.map(e=>{const t=e.icon;return(0,Aa.jsx)(Ae,{to:e.link,className:"overflow-hidden bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:(0,Aa.jsx)("div",{className:"p-6",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 p-3 rounded-md ".concat(e.color),children:(0,Aa.jsx)(t,{className:"w-6 h-6 text-white"})}),(0,Aa.jsxs)("div",{className:"flex-1 ml-5",children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,Aa.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:e.value})]})]})})},e.name)})}),(0,Aa.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Aa.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,Aa.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,Aa.jsxs)(Ae,{to:"/agents/new",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Aa.jsx)(Ha,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Aa.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Create New Agent"})]}),(0,Aa.jsxs)(Ae,{to:"/credits",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Aa.jsx)(qa,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Aa.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Manage Credits"})]}),(0,Aa.jsxs)(Ae,{to:"/calls",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Aa.jsx)(Va,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Aa.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"View Call Logs"})]})]})]})]})},Ka=Ba("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Qa=Ba("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Ja=Ba("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Ga=Ba("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Ya=Ba("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xa=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)("all");(0,s.useEffect)(()=>{i()},[a]);const i=async()=>{try{const e="all"!==a?{is_active:"active"===a}:{},n=await Ea(e);t(n.data.agents)}catch(e){nn.error("Failed to load agents")}finally{r(!1)}},o=async e=>{var t;if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await(t=e.id,Ca.delete("/agents/".concat(t))),nn.success("Agent deleted"),i()}catch(n){nn.error("Failed to delete agent")}};return n?(0,Aa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agents"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your AI voice agents"})]}),(0,Aa.jsxs)(Ae,{to:"/agents/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Aa.jsx)(Ka,{className:"w-5 h-5 mr-2"}),"New Agent"]})]}),(0,Aa.jsxs)("div",{className:"flex space-x-4",children:[(0,Aa.jsx)("button",{onClick:()=>l("all"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("all"===a?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"All"}),(0,Aa.jsx)("button",{onClick:()=>l("active"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("active"===a?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"Active"}),(0,Aa.jsx)("button",{onClick:()=>l("inactive"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("inactive"===a?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"Inactive"})]}),(0,Aa.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,Aa.jsx)("ul",{className:"divide-y divide-gray-200",children:0===e.length?(0,Aa.jsx)("li",{className:"p-8 text-center text-gray-500",children:"No agents found. Create your first agent to get started."}):e.map(e=>(0,Aa.jsx)("li",{className:"p-6 hover:bg-gray-50",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,Aa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})]}),(0,Aa.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 space-x-4",children:[(0,Aa.jsxs)("span",{children:["Type: ",e.type]}),(0,Aa.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold ".concat("deepgram"===e.provider?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"deepgram"===e.provider?"Deepgram":"OpenAI"}),(0,Aa.jsxs)("span",{children:["Voice: ",e.voice||e.deepgram_voice||"N/A"]}),(0,Aa.jsxs)("span",{children:["Model: ",e.model||e.deepgram_model]})]}),(0,Aa.jsx)("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.instructions})]}),(0,Aa.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,Aa.jsx)("button",{onClick:()=>(async e=>{try{await Ta(e.id,{is_active:!e.is_active}),nn.success("Agent ".concat(e.is_active?"deactivated":"activated")),i()}catch(t){nn.error("Failed to update agent")}})(e),className:"p-2 text-gray-400 hover:text-gray-600",title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,Aa.jsx)(Qa,{className:"w-5 h-5"}):(0,Aa.jsx)(Ja,{className:"w-5 h-5"})}),(0,Aa.jsx)(Ae,{to:"/agents/".concat(e.id),className:"p-2 text-gray-400 hover:text-gray-600",title:"Edit",children:(0,Aa.jsx)(Ga,{className:"w-5 h-5"})}),(0,Aa.jsx)("button",{onClick:()=>o(e),className:"p-2 text-red-400 hover:text-red-600",title:"Delete",children:(0,Aa.jsx)(Ya,{className:"w-5 h-5"})})]})]})},e.id))})})]})},Za=Ba("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),es=Ba("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ts=e=>Ra.get("/knowledge",{params:e}),ns=e=>Ra.get("/knowledge/".concat(e)),rs=(e,t,n)=>Ra.post("/knowledge/".concat(e,"/documents"),t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n}),as=e=>Ra.post("/knowledge/search",e),ss=e=>Ra.get("/knowledge/".concat(e,"/stats")),ls=async(e,t,n)=>{try{const r={headers:{"Content-Type":"multipart/form-data"}};n&&(r.onUploadProgress=n);const a=await Ra.post("/knowledge/".concat(e,"/images/upload"),t,r);return a.data.data||a.data}catch(r){throw console.error("Upload image error:",r),r}},is=()=>{const{id:e}=re(),t=te(),[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)({name:"",type:"sales",instructions:"",voice:"shimmer",language:"ur",model:"gpt-4o-mini-realtime-preview-2024-12-17",provider:"openai",deepgram_model:"nova-2",deepgram_voice:"aura-asteria-en",deepgram_language:"en",temperature:.6,max_tokens:4096,vad_threshold:.5,silence_duration_ms:500,greeting:"",kb_id:null}),[p,f]=(0,s.useState)([]),[h,x]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),[v,b]=(0,s.useState)(!1),[j,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(""),[S,_]=(0,s.useState)(!1),[C,E]=(0,s.useState)(0),[O,T]=(0,s.useState)({name:"",description:"",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"json",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{},required:[]}}),[P,R]=(0,s.useState)({key:"",value:""}),[A,L]=(0,s.useState)(!1),[F,M]=(0,s.useState)([]),[D,I]=(0,s.useState)(""),[z,U]=(0,s.useState)(!1),[B,q]=(0,s.useState)({key:"",value:"",type:"text"}),[H,V]=(0,s.useState)(""),[W,$]=(0,s.useState)(!1),[K,Q]=(0,s.useState)({name:"",type:"string",description:"",required:!1,enum:"",properties:"",items:""}),[J,G]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{var e,t;const n=await ts();d((null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.knowledge_bases)||[])}catch(n){console.error("Failed to load knowledge bases:",n),d([])}})()},[]),(0,s.useEffect)(()=>{e&&Y()},[e]);const Y=async()=>{try{r(!0);const n=(await Oa(e)).data.agent;"openai"===n.provider?m(Be(Be({},n),{},{voice:n.voice||"shimmer",model:n.model||"gpt-4o-mini-realtime-preview-2024-12-17",language:n.language||"en",kb_id:n.kb_id||null})):"deepgram"===n.provider?m(Be(Be({},n),{},{deepgram_model:n.deepgram_model||"nova-2",deepgram_voice:n.deepgram_voice||"shimmer",deepgram_language:n.deepgram_language||"en",kb_id:n.kb_id||null})):m(Be(Be({},n),{},{provider:"openai",voice:n.voice||"shimmer",model:n.model||"gpt-4o-mini-realtime-preview-2024-12-17",language:n.language||"en",kb_id:n.kb_id||null}));const a=await(t=e,Ca.get("/functions/agent/".concat(t)));f(a.data.functions||[])}catch(n){nn.error("Failed to load agent"),console.error(n)}finally{r(!1)}var t},X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){y(e);let t=e.api_body_type||"json",n=[],r="";e.api_body&&("json"===t?r="string"===typeof e.api_body?e.api_body:JSON.stringify(e.api_body,null,2):"form-data"!==t&&"urlencoded"!==t||(n=Object.entries(e.api_body).map(e=>{let[t,n]=e;return{key:t,value:n,type:"text"}}))),T({name:e.name,description:e.description,execution_mode:e.execution_mode,handler_type:e.handler_type,api_endpoint:e.api_endpoint||"",api_method:e.api_method||"POST",api_headers:Array.isArray(e.api_headers)?e.api_headers:e.api_headers?Object.entries(e.api_headers).map(e=>{let[t,n]=e;return{key:t,value:n}}):[],api_body_type:t,api_body:e.api_body,timeout_ms:e.timeout_ms,retries:e.retries,parameters:e.parameters}),M(n),I(r),V(JSON.stringify(e.parameters,null,2))}else y(null),T({name:"",description:"",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"json",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{},required:[]}}),M([]),I(""),V(JSON.stringify({type:"object",properties:{},required:[]},null,2));x(!0)},Z=async e=>{if(window.confirm("Delete this function?"))try{await(e=>Ca.delete("/functions/".concat(e)))(e),nn.success("Function deleted"),Y()}catch(t){nn.error("Failed to delete function")}},ee=e=>{const t=O.api_headers.filter(e=>"content-type"!==e.key.toLowerCase());let n={key:"Content-Type",value:""};"json"===e?n.value="application/json":"urlencoded"===e?n.value="application/x-www-form-urlencoded":"form-data"===e&&(n.value="multipart/form-data"),n.value?T(Be(Be({},O),{},{api_body_type:e,api_headers:[...t,n]})):T(Be(Be({},O),{},{api_body_type:e}))},ne=e=>{const t={checkBalance:{name:"check_balance",description:"Check customer account balance",execution_mode:"sync",handler_type:"api",api_endpoint:"https://api.example.com/balance/{{customer_id}}",api_method:"GET",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"}],api_body_type:"none",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{customer_id:{type:"string",description:"Customer unique identifier"}},required:["customer_id"]}},bookAppointment:{name:"book_appointment",description:"Book an appointment for the customer",execution_mode:"async",handler_type:"api",api_endpoint:"https://api.example.com/appointments",api_method:"POST",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"},{key:"Content-Type",value:"application/json"}],api_body_type:"json",api_body:{customer_id:"{{customer_id}}",date:"{{date}}",time:"{{time}}",service_type:"{{service_type}}"},timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{customer_id:{type:"string",description:"Customer unique identifier"},date:{type:"string",description:"Appointment date in YYYY-MM-DD format"},time:{type:"string",description:"Appointment time in HH:MM format"},service_type:{type:"string",description:"Type of service",enum:["consultation","followup","emergency"]}},required:["customer_id","date","time"]}},sendSMS:{name:"send_sms",description:"Send SMS to customer",execution_mode:"async",handler_type:"api",api_endpoint:"https://api.example.com/sms/send",api_method:"POST",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"},{key:"Content-Type",value:"application/x-www-form-urlencoded"}],api_body_type:"urlencoded",api_body:{to:"{{phone_number}}",message:"{{message}}",from:"YourCompany"},timeout_ms:15e3,retries:3,parameters:{type:"object",properties:{phone_number:{type:"string",description:"Customer phone number"},message:{type:"string",description:"SMS message content"}},required:["phone_number","message"]}},transferCall:{name:"transfer_call",description:"Transfer call to another department",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"none",api_body:null,timeout_ms:5e3,retries:1,parameters:{type:"object",properties:{department:{type:"string",description:"Department to transfer to",enum:["sales","support","billing","technical"]},reason:{type:"string",description:"Reason for transfer"}},required:["department"]}}}[e];t&&(T(t),V(JSON.stringify(t.parameters,null,2)),"json"===t.api_body_type?(I(JSON.stringify(t.api_body,null,2)),M([])):"form-data"===t.api_body_type||"urlencoded"===t.api_body_type?(M(Object.entries(t.api_body).map(e=>{let[t,n]=e;return{key:t,value:n,type:"text"}})),I("")):(I(""),M([])))};return n?(0,Aa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:e?"Edit Agent":"Create Agent"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your AI voice agent"})]}),(0,Aa.jsxs)("div",{className:"flex space-x-3",children:[(0,Aa.jsxs)("button",{onClick:()=>t("/agents"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Aa.jsx)(Za,{className:"w-5 h-5 mr-2"}),"Cancel"]}),(0,Aa.jsxs)("button",{onClick:async()=>{if(u.name&&u.instructions){l(!0);try{if(e)await Ta(e,u),nn.success("Agent updated");else{const e=await(e=>Ca.post("/agents",e))(u);nn.success("Agent created"),t("/agents/".concat(e.data.agent.id))}}catch(a){var n,r;nn.error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to save agent")}finally{l(!1)}}else nn.error("Name and instructions are required")},disabled:a,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Aa.jsx)(es,{className:"w-5 h-5 mr-2"}),a?"Saving...":"Save"]})]})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Aa.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"})}),(0,Aa.jsxs)("div",{className:"px-6 py-5 space-y-6",children:[(0,Aa.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Agent Name"}),(0,Aa.jsx)("input",{type:"text",value:u.name,onChange:e=>m(Be(Be({},u),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Sales Assistant"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,Aa.jsxs)("select",{value:u.type,onChange:e=>m(Be(Be({},u),{},{type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"sales",children:"Sales"}),(0,Aa.jsx)("option",{value:"support",children:"Support"}),(0,Aa.jsx)("option",{value:"banking",children:"Banking"}),(0,Aa.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Provider"}),(0,Aa.jsxs)("select",{value:u.provider||"openai",onChange:e=>{var t;"openai"===(t=e.target.value)?(m(Be(Be({},u),{},{provider:"openai",voice:"shimmer",model:"gpt-4o-mini-realtime-preview-2024-12-17",language:"en",deepgram_model:null,deepgram_voice:null,deepgram_language:null})),nn.success("Switched to OpenAI - defaults applied")):"deepgram"===t&&(m(Be(Be({},u),{},{provider:"deepgram",deepgram_model:"nova-2",deepgram_voice:"shimmer",deepgram_language:"en",voice:null,model:null})),nn.success("Switched to Deepgram - defaults applied"))},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"openai",children:"OpenAI Realtime API"}),(0,Aa.jsx)("option",{value:"deepgram",children:"Deepgram"})]}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"deepgram"===u.provider?"Deepgram provides more natural sounding voices":"OpenAI provides superior conversation handling and function calling"})]}),"openai"===u.provider?(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Voice"}),(0,Aa.jsxs)("select",{value:u.voice,onChange:e=>m(Be(Be({},u),{},{voice:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"alloy",children:"Alloy"}),(0,Aa.jsx)("option",{value:"ash",children:"Ash"}),(0,Aa.jsx)("option",{value:"ballad",children:"Ballad"}),(0,Aa.jsx)("option",{value:"coral",children:"Coral"}),(0,Aa.jsx)("option",{value:"echo",children:"Echo"}),(0,Aa.jsx)("option",{value:"sage",children:"Sage"}),(0,Aa.jsx)("option",{value:"shimmer",children:"Shimmer"}),(0,Aa.jsx)("option",{value:"verse",children:"Verse"}),(0,Aa.jsx)("option",{value:"marin",children:"Marin"}),(0,Aa.jsx)("option",{value:"cedar",children:"Cedar"})]})]}):(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Speech-to-Text (STT) Model"}),(0,Aa.jsxs)("select",{value:u.deepgram_model||"nova-2",onChange:e=>m(Be(Be({},u),{},{deepgram_model:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsxs)("optgroup",{label:"Nova-3 (Recommended - Best Accuracy)",children:[(0,Aa.jsx)("option",{value:"nova-3",children:"Nova-3 General"}),(0,Aa.jsx)("option",{value:"nova-3-general",children:"Nova-3 General (Explicit)"}),(0,Aa.jsx)("option",{value:"nova-3-phonecall",children:"Nova-3 Phone Call"}),(0,Aa.jsx)("option",{value:"nova-3-medical",children:"Nova-3 Medical"}),(0,Aa.jsx)("option",{value:"nova-3-finance",children:"Nova-3 Finance"}),(0,Aa.jsx)("option",{value:"nova-3-conversationalai",children:"Nova-3 Conversational AI"}),(0,Aa.jsx)("option",{value:"nova-3-voicemail",children:"Nova-3 Voicemail"}),(0,Aa.jsx)("option",{value:"nova-3-video",children:"Nova-3 Video"}),(0,Aa.jsx)("option",{value:"nova-3-meeting",children:"Nova-3 Meeting"}),(0,Aa.jsx)("option",{value:"nova-3-drive_thru",children:"Nova-3 Drive-Thru"}),(0,Aa.jsx)("option",{value:"nova-3-automotive",children:"Nova-3 Automotive"})]}),(0,Aa.jsxs)("optgroup",{label:"Nova-2 (Good for Non-English)",children:[(0,Aa.jsx)("option",{value:"nova-2",children:"Nova-2 General"}),(0,Aa.jsx)("option",{value:"nova-2-general",children:"Nova-2 General (Explicit)"}),(0,Aa.jsx)("option",{value:"nova-2-phonecall",children:"Nova-2 Phone Call"}),(0,Aa.jsx)("option",{value:"nova-2-meeting",children:"Nova-2 Meeting"}),(0,Aa.jsx)("option",{value:"nova-2-voicemail",children:"Nova-2 Voicemail"}),(0,Aa.jsx)("option",{value:"nova-2-finance",children:"Nova-2 Finance"}),(0,Aa.jsx)("option",{value:"nova-2-conversationalai",children:"Nova-2 Conversational AI"}),(0,Aa.jsx)("option",{value:"nova-2-video",children:"Nova-2 Video"}),(0,Aa.jsx)("option",{value:"nova-2-medical",children:"Nova-2 Medical"}),(0,Aa.jsx)("option",{value:"nova-2-drivethru",children:"Nova-2 Drive-Thru"}),(0,Aa.jsx)("option",{value:"nova-2-automotive",children:"Nova-2 Automotive"})]}),(0,Aa.jsx)("optgroup",{label:"Flux (Voice Agents - NEW)",children:(0,Aa.jsx)("option",{value:"flux",children:"Flux (Conversational Flow)"})}),(0,Aa.jsxs)("optgroup",{label:"Legacy Models",children:[(0,Aa.jsx)("option",{value:"nova",children:"Nova-1"}),(0,Aa.jsx)("option",{value:"enhanced",children:"Enhanced General"}),(0,Aa.jsx)("option",{value:"enhanced-general",children:"Enhanced General (Explicit)"}),(0,Aa.jsx)("option",{value:"enhanced-phonecall",children:"Enhanced Phone Call"}),(0,Aa.jsx)("option",{value:"enhanced-meeting",children:"Enhanced Meeting"}),(0,Aa.jsx)("option",{value:"base",children:"Base General"}),(0,Aa.jsx)("option",{value:"base-general",children:"Base General (Explicit)"}),(0,Aa.jsx)("option",{value:"base-phonecall",children:"Base Phone Call"}),(0,Aa.jsx)("option",{value:"base-meeting",children:"Base Meeting"})]}),(0,Aa.jsxs)("optgroup",{label:"Whisper (Slower, Limited)",children:[(0,Aa.jsx)("option",{value:"whisper-tiny",children:"Whisper Tiny"}),(0,Aa.jsx)("option",{value:"whisper-base",children:"Whisper Base"}),(0,Aa.jsx)("option",{value:"whisper-small",children:"Whisper Small"}),(0,Aa.jsx)("option",{value:"whisper-medium",children:"Whisper Medium"}),(0,Aa.jsx)("option",{value:"whisper-large",children:"Whisper Large"})]})]}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Nova-3 offers best accuracy. Flux is optimized for voice agents with built-in turn detection."})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"STT Language"}),(0,Aa.jsxs)("select",{value:u.deepgram_language||"en",onChange:e=>m(Be(Be({},u),{},{deepgram_language:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("optgroup",{label:"Multilingual (Nova-2 & Nova-3)",children:(0,Aa.jsx)("option",{value:"multi",children:"\ud83c\udf0d Multi (10 Languages - Code Switching)"})}),(0,Aa.jsxs)("optgroup",{label:"Common Languages",children:[(0,Aa.jsx)("option",{value:"en",children:"\ud83c\uddfa\ud83c\uddf8 English"}),(0,Aa.jsx)("option",{value:"en-US",children:"\ud83c\uddfa\ud83c\uddf8 English (US)"}),(0,Aa.jsx)("option",{value:"en-GB",children:"\ud83c\uddec\ud83c\udde7 English (UK)"}),(0,Aa.jsx)("option",{value:"en-AU",children:"\ud83c\udde6\ud83c\uddfa English (Australia)"}),(0,Aa.jsx)("option",{value:"en-NZ",children:"\ud83c\uddf3\ud83c\uddff English (New Zealand)"}),(0,Aa.jsx)("option",{value:"en-IN",children:"\ud83c\uddee\ud83c\uddf3 English (India)"}),(0,Aa.jsx)("option",{value:"es",children:"\ud83c\uddea\ud83c\uddf8 Spanish"}),(0,Aa.jsx)("option",{value:"es-419",children:"\ud83c\uddf2\ud83c\uddfd Spanish (Latin America)"}),(0,Aa.jsx)("option",{value:"fr",children:"\ud83c\uddeb\ud83c\uddf7 French"}),(0,Aa.jsx)("option",{value:"fr-CA",children:"\ud83c\udde8\ud83c\udde6 French (Canada)"}),(0,Aa.jsx)("option",{value:"de",children:"\ud83c\udde9\ud83c\uddea German"}),(0,Aa.jsx)("option",{value:"hi",children:"\ud83c\uddee\ud83c\uddf3 Hindi"}),(0,Aa.jsx)("option",{value:"pt",children:"\ud83c\uddf5\ud83c\uddf9 Portuguese"}),(0,Aa.jsx)("option",{value:"pt-BR",children:"\ud83c\udde7\ud83c\uddf7 Portuguese (Brazil)"}),(0,Aa.jsx)("option",{value:"ru",children:"\ud83c\uddf7\ud83c\uddfa Russian"}),(0,Aa.jsx)("option",{value:"ja",children:"\ud83c\uddef\ud83c\uddf5 Japanese"}),(0,Aa.jsx)("option",{value:"it",children:"\ud83c\uddee\ud83c\uddf9 Italian"}),(0,Aa.jsx)("option",{value:"nl",children:"\ud83c\uddf3\ud83c\uddf1 Dutch"}),(0,Aa.jsx)("option",{value:"zh",children:"\ud83c\udde8\ud83c\uddf3 Chinese (Simplified)"}),(0,Aa.jsx)("option",{value:"zh-CN",children:"\ud83c\udde8\ud83c\uddf3 Chinese (Mandarin)"}),(0,Aa.jsx)("option",{value:"zh-TW",children:"\ud83c\uddf9\ud83c\uddfc Chinese (Taiwan)"}),(0,Aa.jsx)("option",{value:"ko",children:"\ud83c\uddf0\ud83c\uddf7 Korean"}),(0,Aa.jsx)("option",{value:"tr",children:"\ud83c\uddf9\ud83c\uddf7 Turkish"}),(0,Aa.jsx)("option",{value:"ar",children:"\ud83c\uddf8\ud83c\udde6 Arabic"})]}),(0,Aa.jsxs)("optgroup",{label:"European Languages",children:[(0,Aa.jsx)("option",{value:"pl",children:"\ud83c\uddf5\ud83c\uddf1 Polish"}),(0,Aa.jsx)("option",{value:"uk",children:"\ud83c\uddfa\ud83c\udde6 Ukrainian"}),(0,Aa.jsx)("option",{value:"sv",children:"\ud83c\uddf8\ud83c\uddea Swedish"}),(0,Aa.jsx)("option",{value:"da",children:"\ud83c\udde9\ud83c\uddf0 Danish"}),(0,Aa.jsx)("option",{value:"no",children:"\ud83c\uddf3\ud83c\uddf4 Norwegian"}),(0,Aa.jsx)("option",{value:"fi",children:"\ud83c\uddeb\ud83c\uddee Finnish"}),(0,Aa.jsx)("option",{value:"el",children:"\ud83c\uddec\ud83c\uddf7 Greek"}),(0,Aa.jsx)("option",{value:"cs",children:"\ud83c\udde8\ud83c\uddff Czech"}),(0,Aa.jsx)("option",{value:"ro",children:"\ud83c\uddf7\ud83c\uddf4 Romanian"}),(0,Aa.jsx)("option",{value:"hu",children:"\ud83c\udded\ud83c\uddfa Hungarian"}),(0,Aa.jsx)("option",{value:"bg",children:"\ud83c\udde7\ud83c\uddec Bulgarian"})]}),(0,Aa.jsxs)("optgroup",{label:"Asian Languages",children:[(0,Aa.jsx)("option",{value:"th",children:"\ud83c\uddf9\ud83c\udded Thai"}),(0,Aa.jsx)("option",{value:"vi",children:"\ud83c\uddfb\ud83c\uddf3 Vietnamese"}),(0,Aa.jsx)("option",{value:"id",children:"\ud83c\uddee\ud83c\udde9 Indonesian"}),(0,Aa.jsx)("option",{value:"ms",children:"\ud83c\uddf2\ud83c\uddfe Malay"}),(0,Aa.jsx)("option",{value:"ta",children:"\ud83c\uddee\ud83c\uddf3 Tamil"})]}),(0,Aa.jsxs)("optgroup",{label:"Other Languages",children:[(0,Aa.jsx)("option",{value:"he",children:"\ud83c\uddee\ud83c\uddf1 Hebrew"}),(0,Aa.jsx)("option",{value:"ur",children:"\ud83c\uddf5\ud83c\uddf0 Urdu"})]})]}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"multi"===u.deepgram_language?"\ud83c\udf0d Multi supports: English, Spanish, French, German, Hindi, Russian, Portuguese, Japanese, Italian, Dutch":'Select language for speech recognition. Use "Multi" for code-switching conversations.'})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Text-to-Speech (TTS) Voice"}),(0,Aa.jsxs)("select",{value:u.deepgram_voice||"shimmer",onChange:e=>m(Be(Be({},u),{},{deepgram_voice:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsxs)("optgroup",{label:"OpenAI Voices (Used with Deepgram STT)",children:[(0,Aa.jsx)("option",{value:"alloy",children:"Alloy (Neutral)"}),(0,Aa.jsx)("option",{value:"ash",children:"Ash (Warm Male)"}),(0,Aa.jsx)("option",{value:"ballad",children:"Ballad (Expressive)"}),(0,Aa.jsx)("option",{value:"coral",children:"Coral (Friendly Female)"}),(0,Aa.jsx)("option",{value:"echo",children:"Echo (Professional Male)"}),(0,Aa.jsx)("option",{value:"sage",children:"Sage (Calm Female)"}),(0,Aa.jsx)("option",{value:"shimmer",children:"Shimmer (Clear Female)"}),(0,Aa.jsx)("option",{value:"verse",children:"Verse (Conversational)"})]}),(0,Aa.jsxs)("optgroup",{label:"Deepgram Aura Voices (Alternative)",children:[(0,Aa.jsx)("option",{value:"aura-asteria-en",children:"Asteria (English - Female)"}),(0,Aa.jsx)("option",{value:"aura-luna-en",children:"Luna (English - Female)"}),(0,Aa.jsx)("option",{value:"aura-stella-en",children:"Stella (English - Female)"}),(0,Aa.jsx)("option",{value:"aura-athena-en",children:"Athena (English - Female)"}),(0,Aa.jsx)("option",{value:"aura-hera-en",children:"Hera (English - Female)"}),(0,Aa.jsx)("option",{value:"aura-orion-en",children:"Orion (English - Male)"}),(0,Aa.jsx)("option",{value:"aura-arcas-en",children:"Arcas (English - Male)"}),(0,Aa.jsx)("option",{value:"aura-perseus-en",children:"Perseus (English - Male)"}),(0,Aa.jsx)("option",{value:"aura-angus-en",children:"Angus (English - Irish Male)"}),(0,Aa.jsx)("option",{value:"aura-orpheus-en",children:"Orpheus (English - Male)"}),(0,Aa.jsx)("option",{value:"aura-helios-en",children:"Helios (English - Male)"}),(0,Aa.jsx)("option",{value:"aura-zeus-en",children:"Zeus (English - Male)"})]})]}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Currently using OpenAI TTS with Deepgram STT for best quality. Deepgram Aura voices coming soon."})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Language"}),(0,Aa.jsxs)("select",{value:u.language,onChange:e=>m(Be(Be({},u),{},{language:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"ur",children:"Urdu/English"}),(0,Aa.jsx)("option",{value:"en",children:"English"}),(0,Aa.jsx)("option",{value:"es",children:"Spanish"}),(0,Aa.jsx)("option",{value:"fr",children:"French"})]})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Instructions"}),(0,Aa.jsx)("button",{type:"button",onClick:async()=>{if(u.name){_(!0),w(!0);try{const e=await(e=>Ca.post("/ai-assist/generate-instructions",e))({agent_name:u.name,agent_type:u.type,language:u.language,existing_instructions:u.instructions});k(e.data.instructions),E(e.data.cost),nn.success("Instructions generated! Cost: $".concat(e.data.cost.toFixed(6)))}catch(e){nn.error("Failed to generate instructions"),w(!1)}finally{_(!1)}}else nn.error("Please enter an agent name first")},disabled:!u.name||S,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:S?(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,Aa.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Aa.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Aa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"AI Generate"]})})]}),(0,Aa.jsx)("textarea",{value:u.instructions,onChange:e=>m(Be(Be({},u),{},{instructions:e.target.value})),rows:10,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"You are a helpful sales assistant..."}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:'System instructions that define the agent\'s behavior. Click "AI Generate" for assistance.'})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Greeting"}),(0,Aa.jsx)("textarea",{value:u.greeting,onChange:e=>m(Be(Be({},u),{},{greeting:e.target.value})),rows:2,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Hello! How can I help you today?"}),(0,Aa.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[(0,Aa.jsx)("strong",{children:"Inbound Call:"})," On an inbound call setting a greeting will automatically start playback when the call connects with AiVA",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Outbound Call:"})," Not recommended to set up greeting on an Outbound Call because the AiVA should respond once the Caller answers the call and Starts Speaking"]})]})]})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base"}),(0,Aa.jsx)("div",{className:"space-y-4",children:(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Knowledge Base"}),(0,Aa.jsxs)("select",{value:u.kb_id||"",onChange:e=>m(Be(Be({},u),{},{kb_id:e.target.value||null})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"",children:"-- No Knowledge Base --"}),c.map(e=>{var t;return(0,Aa.jsxs)("option",{value:e.id,children:[e.name," (",(null===(t=e.stats)||void 0===t?void 0:t.document_count)||0," docs)"]},e.id)})]})]})})]}),(0,Aa.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,Aa.jsxs)("button",{type:"button",onClick:()=>o(!i),className:"flex items-center text-sm font-medium text-primary-600 hover:text-primary-800 mb-4",children:[i?(0,Aa.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Aa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):(0,Aa.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Aa.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Advanced Settings"]}),i&&(0,Aa.jsxs)("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),(0,Aa.jsxs)("select",{value:u.model,onChange:e=>m(Be(Be({},u),{},{model:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"gpt-4o-realtime-preview-2024-12-17",children:"GPT-4o Realtime (Latest)"}),(0,Aa.jsx)("option",{value:"gpt-4o-mini-realtime-preview-2024-12-17",children:"GPT-4o Mini Realtime (Faster, Cheaper)"})]}),(0,Aa.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[(0,Aa.jsx)("strong",{children:"GPT-4o:"})," Most capable model with better understanding and responses. Higher cost (~$0.06/min audio).",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"GPT-4o Mini:"})," Faster responses, lower cost (~$0.024/min audio), suitable for simple conversations."]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",(0,Aa.jsx)("span",{className:"text-primary-600 font-semibold",children:u.temperature})]}),(0,Aa.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:u.temperature,onChange:e=>m(Be(Be({},u),{},{temperature:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,Aa.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Aa.jsx)("span",{children:"0 (Focused)"}),(0,Aa.jsx)("span",{children:"0.5 (Balanced)"}),(0,Aa.jsx)("span",{children:"1.0 (Creative)"})]}),(0,Aa.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Controls response randomness and creativity.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Lower (0.0-0.4):"})," More focused, consistent, and deterministic. Best for factual Q&A, customer support.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Medium (0.5-0.7):"})," Balanced between consistency and variety. Good for most use cases.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Higher (0.8-1.0):"})," More creative and varied responses. Good for creative writing, brainstorming."]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Response Tokens"}),(0,Aa.jsx)("input",{type:"number",min:"200",max:"8192",step:"100",value:u.max_tokens,onChange:e=>m(Be(Be({},u),{},{max_tokens:parseInt(e.target.value)||200})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Aa.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Maximum length of each agent response (200-8192 tokens).",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Lower (200-1000):"})," Short, concise responses. Faster and cheaper. Good for quick Q&A.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Medium (1000-4096):"})," Standard length responses. Balanced cost/quality.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Higher (4096-8192):"})," Longer, detailed explanations. Higher cost per response.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("span",{className:"text-xs",children:"Note: ~1 token \u2248 0.75 words. 4096 tokens \u2248 3000 words."})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["VAD Threshold: ",(0,Aa.jsx)("span",{className:"text-primary-600 font-semibold",children:u.vad_threshold})]}),(0,Aa.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:u.vad_threshold,onChange:e=>m(Be(Be({},u),{},{vad_threshold:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,Aa.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Aa.jsx)("span",{children:"0.1 (Sensitive)"}),(0,Aa.jsx)("span",{children:"0.5 (Balanced)"}),(0,Aa.jsx)("span",{children:"1.0 (Strict)"})]}),(0,Aa.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Voice Activity Detection sensitivity - determines how sensitive the AI is to detecting speech.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Lower (0.1-0.3):"})," Very sensitive. Picks up quiet speech and whispers. May detect background noise as speech.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Medium (0.4-0.6):"})," Balanced. Good for normal phone conversations.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Higher (0.7-1.0):"})," Only detects clear, loud speech. Good for noisy environments but may miss quiet speakers.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("span",{className:"text-amber-600",children:"\u26a0\ufe0f If users complain the agent doesn't respond, lower this value. If it responds to background noise, increase it."})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Silence Duration (ms)"}),(0,Aa.jsx)("input",{type:"number",min:"200",max:"2000",step:"100",value:u.silence_duration_ms,onChange:e=>m(Be(Be({},u),{},{silence_duration_ms:parseInt(e.target.value)||500})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Aa.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["How long (in milliseconds) to wait after user stops speaking before agent responds (200-2000ms).",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Lower (200-400ms):"})," Agent responds very quickly. May interrupt users who pause mid-sentence.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Medium (500-700ms):"})," Balanced. Good for most conversations.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("strong",{children:"Higher (800-2000ms):"})," Agent waits longer. Better for users who speak slowly or pause often.",(0,Aa.jsx)("br",{}),(0,Aa.jsx)("span",{className:"text-xs",children:"Recommended: 500ms for English, 700ms for Urdu (allows for thinking pauses)"})]})]}),(0,Aa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Aa.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\ud83d\udca1 Quick Tips"}),(0,Aa.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Aa.jsx)("li",{children:"Start with default values and adjust based on user feedback"}),(0,Aa.jsx)("li",{children:"Test calls in your actual environment before going live"}),(0,Aa.jsx)("li",{children:"Lower temperature for consistent banking/support, higher for sales/creative"}),(0,Aa.jsx)("li",{children:"Higher VAD threshold if you have noisy call centers"}),(0,Aa.jsx)("li",{children:"Monitor call costs - higher tokens and GPT-4o increase costs significantly"})]})]})]})]}),e&&(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Aa.jsxs)("div",{className:"px-6 py-5 border-b border-gray-200 flex items-center justify-between",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Functions"}),(0,Aa.jsxs)("button",{onClick:()=>X(),className:"inline-flex items-center px-3 py-1 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Aa.jsx)(Ka,{className:"w-4 h-4 mr-1"}),"Add Function"]})]}),(0,Aa.jsx)("div",{className:"px-6 py-5",children:0===p.length?(0,Aa.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No functions defined. Add functions to extend agent capabilities."}):(0,Aa.jsx)("ul",{className:"space-y-3",children:p.map(e=>(0,Aa.jsx)("li",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,Aa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Aa.jsxs)("div",{className:"flex-1",children:[(0,Aa.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.description}),(0,Aa.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,Aa.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded",children:e.execution_mode}),(0,Aa.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded",children:e.handler_type}),e.api_endpoint&&(0,Aa.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded",children:e.api_method})]}),e.api_endpoint&&(0,Aa.jsx)("div",{className:"mt-2 text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded",children:e.api_endpoint})]}),(0,Aa.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,Aa.jsx)("button",{onClick:()=>X(e),className:"text-gray-400 hover:text-gray-600",children:(0,Aa.jsx)(Ga,{className:"w-4 h-4"})}),(0,Aa.jsx)("button",{onClick:()=>Z(e.id),className:"text-red-400 hover:text-red-600",children:(0,Aa.jsx)(Ya,{className:"w-4 h-4"})})]})]})},e.id))})})]}),h&&(0,Aa.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20",children:[(0,Aa.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>x(!1)}),(0,Aa.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Aa.jsx)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:g?"Edit Function":"Add Function"}),(0,Aa.jsxs)("div",{className:"flex space-x-2",children:[(0,Aa.jsx)("button",{onClick:()=>ne("checkBalance"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Check Balance"}),(0,Aa.jsx)("button",{onClick:()=>ne("bookAppointment"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Book Appointment"}),(0,Aa.jsx)("button",{onClick:()=>ne("sendSMS"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Send SMS"}),(0,Aa.jsx)("button",{onClick:()=>ne("transferCall"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Transfer Call"})]})]})}),(0,Aa.jsxs)("div",{className:"px-6 py-5 space-y-6",children:[(0,Aa.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Aa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Function Name *"}),(0,Aa.jsx)("input",{type:"text",value:O.name,onChange:e=>T(Be(Be({},O),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono",placeholder:"check_customer_balance"}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Use snake_case for function names"})]}),(0,Aa.jsxs)("div",{className:"sm:col-span-2",children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description *"}),(0,Aa.jsx)("textarea",{value:O.description,onChange:e=>T(Be(Be({},O),{},{description:e.target.value})),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Check the current balance of a customer account. Returns balance information including available credit and pending transactions."}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Clear description helps the AI understand when to call this function"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Execution Mode"}),(0,Aa.jsxs)("select",{value:O.execution_mode,onChange:e=>T(Be(Be({},O),{},{execution_mode:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"sync",children:"Synchronous (wait for response)"}),(0,Aa.jsx)("option",{value:"async",children:"Asynchronous (fire and forget)"})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Handler Type"}),(0,Aa.jsxs)("select",{value:O.handler_type,onChange:e=>T(Be(Be({},O),{},{handler_type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"inline",children:"Inline (handled by bridge)"}),(0,Aa.jsx)("option",{value:"api",children:"External API"})]})]})]}),"api"===O.handler_type&&(0,Aa.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[(0,Aa.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"API Configuration"}),(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{className:"flex space-x-2",children:[(0,Aa.jsx)("div",{className:"w-32",children:(0,Aa.jsxs)("select",{value:O.api_method,onChange:e=>T(Be(Be({},O),{},{api_method:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-semibold",children:[(0,Aa.jsx)("option",{value:"GET",children:"GET"}),(0,Aa.jsx)("option",{value:"POST",children:"POST"}),(0,Aa.jsx)("option",{value:"PUT",children:"PUT"}),(0,Aa.jsx)("option",{value:"PATCH",children:"PATCH"}),(0,Aa.jsx)("option",{value:"DELETE",children:"DELETE"})]})}),(0,Aa.jsx)("div",{className:"flex-1",children:(0,Aa.jsx)("input",{type:"text",value:O.api_endpoint,onChange:e=>T(Be(Be({},O),{},{api_endpoint:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"https://api.example.com/v1/customers/{{customer_id}}/balance"})})]}),(0,Aa.jsxs)("p",{className:"text-xs text-gray-500",children:["Use ","{{parameter_name}}"," for dynamic values from function parameters"]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Headers"}),(0,Aa.jsx)("button",{onClick:()=>L(!A),className:"text-sm text-primary-600 hover:text-primary-700",children:A?"Cancel":"+ Add Header"})]}),A&&(0,Aa.jsxs)("div",{className:"mb-3 p-3 border border-gray-300 rounded-md bg-white",children:[(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Aa.jsx)("input",{type:"text",value:P.key,onChange:e=>R(Be(Be({},P),{},{key:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"Authorization"}),(0,Aa.jsx)("input",{type:"text",value:P.value,onChange:e=>R(Be(Be({},P),{},{value:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"Bearer YOUR_API_KEY"})]}),(0,Aa.jsx)("button",{onClick:()=>{P.key?(T(Be(Be({},O),{},{api_headers:[...O.api_headers,Be({},P)]})),R({key:"",value:""}),L(!1)):nn.error("Header key is required")},className:"mt-2 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Header"})]}),O.api_headers.length>0&&(0,Aa.jsx)("div",{className:"space-y-2",children:O.api_headers.map((e,t)=>(0,Aa.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white border border-gray-200 rounded",children:[(0,Aa.jsxs)("span",{className:"text-sm font-mono text-gray-700 flex-1",children:[(0,Aa.jsx)("span",{className:"text-blue-600",children:e.key}),": ",e.value]}),(0,Aa.jsx)("button",{onClick:()=>(e=>{T(Be(Be({},O),{},{api_headers:O.api_headers.filter((t,n)=>n!==e)}))})(t),className:"text-red-400 hover:text-red-600",children:(0,Aa.jsx)(Za,{className:"w-4 h-4"})})]},t))})]}),["POST","PUT","PATCH"].includes(O.api_method)&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body"}),(0,Aa.jsxs)("div",{className:"flex space-x-2 mb-3",children:[(0,Aa.jsx)("button",{onClick:()=>ee("none"),className:"px-3 py-1 text-sm rounded ".concat("none"===O.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"None"}),(0,Aa.jsx)("button",{onClick:()=>ee("json"),className:"px-3 py-1 text-sm rounded ".concat("json"===O.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"JSON (raw)"}),(0,Aa.jsx)("button",{onClick:()=>ee("urlencoded"),className:"px-3 py-1 text-sm rounded ".concat("urlencoded"===O.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"x-www-form-urlencoded"}),(0,Aa.jsx)("button",{onClick:()=>ee("form-data"),className:"px-3 py-1 text-sm rounded ".concat("form-data"===O.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"form-data"})]}),"json"===O.api_body_type&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("textarea",{value:D,onChange:e=>I(e.target.value),rows:10,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-xs focus:outline-none focus:ring-primary-500 focus:border-primary-500 bg-gray-900 text-green-400",placeholder:'{\n  "customer_id": "{{customer_id}}",\n  "amount": "{{amount}}"\n}'}),(0,Aa.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Use ","{{parameter_name}}"," to inject parameter values into the body"]})]}),("form-data"===O.api_body_type||"urlencoded"===O.api_body_type)&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Aa.jsx)("span",{className:"text-xs text-gray-500",children:"Key-Value Pairs"}),(0,Aa.jsx)("button",{onClick:()=>U(!z),className:"text-sm text-primary-600 hover:text-primary-700",children:z?"Cancel":"+ Add Field"})]}),z&&(0,Aa.jsxs)("div",{className:"mb-3 p-3 border border-gray-300 rounded-md bg-white",children:[(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Aa.jsx)("input",{type:"text",value:B.key,onChange:e=>q(Be(Be({},B),{},{key:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"field_name"}),(0,Aa.jsx)("input",{type:"text",value:B.value,onChange:e=>q(Be(Be({},B),{},{value:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"{{parameter_name}} or value"})]}),(0,Aa.jsx)("button",{onClick:()=>{B.key?(M([...F,Be({},B)]),q({key:"",value:"",type:"text"}),U(!1)):nn.error("Key is required")},className:"mt-2 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Field"})]}),F.length>0?(0,Aa.jsx)("div",{className:"space-y-2",children:F.map((e,t)=>(0,Aa.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white border border-gray-200 rounded",children:[(0,Aa.jsxs)("span",{className:"text-sm font-mono text-gray-700 flex-1",children:[(0,Aa.jsx)("span",{className:"text-blue-600",children:e.key})," = ",e.value]}),(0,Aa.jsx)("button",{onClick:()=>(e=>{M(F.filter((t,n)=>n!==e))})(t),className:"text-red-400 hover:text-red-600",children:(0,Aa.jsx)(Za,{className:"w-4 h-4"})})]},t))}):(0,Aa.jsx)("p",{className:"text-sm text-gray-500 text-center py-4 bg-white border border-gray-200 rounded",children:"No fields added"}),(0,Aa.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["Use ","{{parameter_name}}"," to inject parameter values"]})]}),"none"===O.api_body_type&&(0,Aa.jsx)("p",{className:"text-sm text-gray-500 text-center py-4 bg-white border border-gray-200 rounded",children:"No body will be sent with this request"})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Timeout (ms)"}),(0,Aa.jsx)("input",{type:"number",value:O.timeout_ms,onChange:e=>T(Be(Be({},O),{},{timeout_ms:parseInt(e.target.value)})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Retries"}),(0,Aa.jsx)("input",{type:"number",value:O.retries,onChange:e=>T(Be(Be({},O),{},{retries:parseInt(e.target.value)})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]})]})]})]}),(0,Aa.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Parameters"}),(0,Aa.jsxs)("div",{className:"flex space-x-2",children:[(0,Aa.jsx)("button",{onClick:()=>$(!W),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:W?"Form View":"JSON View"}),(0,Aa.jsx)("button",{onClick:()=>G(!J),className:"text-sm text-primary-600 hover:text-primary-700",children:J?"Cancel":"+ Add Parameter"})]})]}),W&&(0,Aa.jsxs)("div",{className:"mb-4",children:[(0,Aa.jsx)("textarea",{value:H,onChange:e=>V(e.target.value),rows:15,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-xs focus:outline-none focus:ring-primary-500 focus:border-primary-500 bg-gray-900 text-green-400"}),(0,Aa.jsx)("button",{onClick:()=>{try{const e=JSON.parse(H);T(Be(Be({},O),{},{parameters:e})),$(!1),nn.success("Parameters updated from JSON")}catch(qe){nn.error("Invalid JSON: "+qe.message)}},className:"mt-2 px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Update from JSON"})]}),!W&&J&&(0,Aa.jsxs)("div",{className:"mb-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[(0,Aa.jsxs)("div",{className:"space-y-3",children:[(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),(0,Aa.jsx)("input",{type:"text",value:K.name,onChange:e=>Q(Be(Be({},K),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"customer_id"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Type"}),(0,Aa.jsxs)("select",{value:K.type,onChange:e=>Q(Be(Be({},K),{},{type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",children:[(0,Aa.jsx)("option",{value:"string",children:"String"}),(0,Aa.jsx)("option",{value:"number",children:"Number"}),(0,Aa.jsx)("option",{value:"boolean",children:"Boolean"}),(0,Aa.jsx)("option",{value:"object",children:"Object"}),(0,Aa.jsx)("option",{value:"array",children:"Array"})]})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Description"}),(0,Aa.jsx)("input",{type:"text",value:K.description,onChange:e=>Q(Be(Be({},K),{},{description:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"The customer's unique identifier"})]}),"string"===K.type&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Enum Values (comma-separated, optional)"}),(0,Aa.jsx)("input",{type:"text",value:K.enum,onChange:e=>Q(Be(Be({},K),{},{enum:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"active, pending, inactive"})]}),"object"===K.type&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Properties (JSON)"}),(0,Aa.jsx)("textarea",{value:K.properties,onChange:e=>Q(Be(Be({},K),{},{properties:e.target.value})),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:'{\n  "name": { "type": "string" },\n  "age": { "type": "number" }\n}'})]}),"array"===K.type&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Items Schema (JSON)"}),(0,Aa.jsx)("textarea",{value:K.items,onChange:e=>Q(Be(Be({},K),{},{items:e.target.value})),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:'{ "type": "string" }'})]}),(0,Aa.jsx)("div",{children:(0,Aa.jsxs)("label",{className:"flex items-center",children:[(0,Aa.jsx)("input",{type:"checkbox",checked:K.required,onChange:e=>Q(Be(Be({},K),{},{required:e.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Aa.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Required"})]})})]}),(0,Aa.jsx)("button",{onClick:()=>{if(!K.name)return void nn.error("Parameter name is required");const e={type:K.type,description:K.description};if(K.enum&&"string"===K.type&&(e.enum=K.enum.split(",").map(e=>e.trim())),"object"===K.type&&K.properties)try{e.properties=JSON.parse(K.properties)}catch(qe){return void nn.error("Invalid JSON for object properties")}if("array"===K.type&&K.items)try{e.items=JSON.parse(K.items)}catch(qe){return void nn.error("Invalid JSON for array items")}const t=Be(Be({},O.parameters.properties),{},{[K.name]:e}),n=K.required?[...O.parameters.required,K.name]:O.parameters.required,r=Be(Be({},O.parameters),{},{properties:t,required:n});T(Be(Be({},O),{},{parameters:r})),V(JSON.stringify(r,null,2)),Q({name:"",type:"string",description:"",required:!1,enum:"",properties:"",items:""}),G(!1)},className:"mt-3 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Parameter"})]}),!W&&Object.keys(O.parameters.properties).length>0&&(0,Aa.jsx)("div",{className:"space-y-2",children:Object.entries(O.parameters.properties).map(e=>{let[t,n]=e;return(0,Aa.jsxs)("div",{className:"flex items-start justify-between p-3 border border-gray-200 rounded-md bg-white",children:[(0,Aa.jsxs)("div",{className:"flex-1",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Aa.jsx)("span",{className:"font-medium text-sm font-mono",children:t}),(0,Aa.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:n.type}),O.parameters.required.includes(t)&&(0,Aa.jsx)("span",{className:"text-xs px-2 py-0.5 bg-red-100 text-red-700 rounded",children:"required"})]}),(0,Aa.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:n.description}),n.enum&&(0,Aa.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Values: ",n.enum.join(", ")]})]}),(0,Aa.jsx)("button",{onClick:()=>(e=>{const t=O.parameters.properties,{[e]:n}=t,r=Ia(t,[e].map(Ie)),a=O.parameters.required.filter(t=>t!==e),s=Be(Be({},O.parameters),{},{properties:r,required:a});T(Be(Be({},O),{},{parameters:s})),V(JSON.stringify(s,null,2))})(t),className:"text-red-400 hover:text-red-600 ml-2",children:(0,Aa.jsx)(Za,{className:"w-4 h-4"})})]},t)})}),!W&&0===Object.keys(O.parameters.properties).length&&(0,Aa.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No parameters defined. Add parameters that the AI can use when calling this function."})]})]}),(0,Aa.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,Aa.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Aa.jsx)("button",{onClick:async()=>{if(!O.name||!O.description)return void nn.error("Name and description are required");const t={};O.api_headers.forEach(e=>{t[e.key]=e.value});let n=null;if("api"===O.handler_type&&"GET"!==O.api_method)if("json"===O.api_body_type)try{n=D?JSON.parse(D):null}catch(qe){return void nn.error("Invalid JSON in body")}else"form-data"!==O.api_body_type&&"urlencoded"!==O.api_body_type||(n={},F.forEach(e=>{n[e.key]=e.value}));const r=Be(Be({},O),{},{api_headers:t,api_body:n});b(!0);try{g?(await((e,t)=>Ca.put("/functions/".concat(e),t))(g.id,r),nn.success("Function updated")):(await((e,t)=>Ca.post("/functions/agent/".concat(e),t))(e,r),nn.success("Function added")),x(!1),Y()}catch(a){nn.error("Failed to save function")}finally{b(!1)}},disabled:v,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:v?"Saving...":"Save Function"})]})]})]})}),j&&(0,Aa.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20",children:[(0,Aa.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>!S&&w(!1)}),(0,Aa.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Aa.jsxs)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"AI Generated Instructions"}),C>0&&(0,Aa.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Cost: $",C.toFixed(6)," (deducted from your credits)"]})]}),(0,Aa.jsx)("div",{className:"px-6 py-5",children:S?(0,Aa.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Aa.jsx)("p",{className:"text-sm text-gray-600",children:"Generating instructions..."}),(0,Aa.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Using AI to create optimized agent instructions"})]})}):(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsxs)("div",{className:"mb-4",children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Instructions"}),(0,Aa.jsx)("textarea",{value:N,onChange:e=>k(e.target.value),rows:20,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Aa.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"You can edit these instructions before accepting them."})]}),(0,Aa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Aa.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Review Carefully"}),(0,Aa.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Aa.jsx)("li",{children:"Verify the instructions match your use case"}),(0,Aa.jsx)("li",{children:"Check for any inappropriate content or errors"}),(0,Aa.jsx)("li",{children:"Customize as needed before accepting"}),(0,Aa.jsx)("li",{children:"Test the agent after applying instructions"})]})]})]})}),!S&&(0,Aa.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,Aa.jsx)("button",{onClick:()=>{w(!1),k(""),nn.info("Instructions discarded")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Discard"}),(0,Aa.jsx)("button",{onClick:()=>{m(Be(Be({},u),{},{instructions:N})),w(!1),nn.success("Instructions applied")},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Accept & Apply"})]})]})]})})]})},os=Ba("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),cs=()=>{const{user:e}=Fa(),[t,n]=(0,s.useState)(0),[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(""),[f,h]=(0,s.useState)("");(0,s.useEffect)(()=>{x()},[]);const x=async()=>{try{const[r,s,l]=await Promise.all([Pa(),(t={limit:20},Ca.get("/credits/transactions",{params:t})),(e=30,Ca.get("/credits/usage",{params:{days:e}}))]);n(r.data.balance),a(s.data.transactions),i(l.data)}catch(r){nn.error("Failed to load credits")}finally{c(!1)}var e,t};return o?(0,Aa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Credits"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account balance"})]}),("admin"===e.role||"super_admin"===e.role)&&(0,Aa.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Aa.jsx)(Ka,{className:"w-5 h-5 mr-2"}),"Add Credits"]})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-6",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,Aa.jsx)(qa,{className:"h-6 w-6 text-white"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Current Balance"}),(0,Aa.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",t.toFixed(2)]})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-6",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 bg-red-500 rounded-md p-3",children:(0,Aa.jsx)(os,{className:"h-6 w-6 text-white"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Usage (30 days)"}),(0,Aa.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(null===l||void 0===l?void 0:l.total_cost.toFixed(2))||"0.00"]})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-6",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,Aa.jsx)(Wa,{className:"h-6 w-6 text-white"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg per Call"}),(0,Aa.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(null===l||void 0===l?void 0:l.avg_cost_per_call.toFixed(4))||"0.0000"]})]})})]})})})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Aa.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Transaction History"})}),(0,Aa.jsx)("div",{className:"overflow-x-auto",children:(0,Aa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Aa.jsx)("thead",{className:"bg-gray-50",children:(0,Aa.jsxs)("tr",{children:[(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance After"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"})]})}),(0,Aa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===r.length?(0,Aa.jsx)("tr",{children:(0,Aa.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No transactions yet"})}):r.map(e=>(0,Aa.jsxs)("tr",{children:[(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Aa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("add"===e.type?"bg-green-100 text-green-800":"deduct"===e.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.type})}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Aa.jsxs)("span",{className:"add"===e.type?"text-green-600":"text-red-600",children:["add"===e.type?"+":"-","$",e.amount.toFixed(4)]})}),(0,Aa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.balance_after.toFixed(4)]}),(0,Aa.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.note||e.reference_type||"-"})]},e.id))})]})})]}),d&&(0,Aa.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Aa.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),(0,Aa.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full p-6",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Credits"}),(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount ($)"}),(0,Aa.jsx)("input",{type:"number",step:"0.01",value:m,onChange:e=>p(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"100.00"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Note (optional)"}),(0,Aa.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Monthly top-up"})]})]}),(0,Aa.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Aa.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Aa.jsx)("button",{onClick:async()=>{const t=parseFloat(m);if(!t||t<=0)nn.error("Please enter a valid amount");else try{await((e,t,n)=>Ca.post("/credits/add",{tenant_id:e,amount:t,note:n}))(e.id,t,f),nn.success("Added $".concat(t.toFixed(2)," credits")),u(!1),p(""),h(""),x()}catch(a){var n,r;nn.error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to add credits")}},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Add Credits"})]})]})]})})]})},ds=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{try{const n=await(e={limit:50},Ca.get("/calls",{params:e}));t(n.data.calls)}catch(n){nn.error("Failed to load calls")}finally{r(!1)}var e},o=async e=>{try{const n=await(t=e.session_id,Ca.get("/calls/".concat(t)));l(n.data.call)}catch(n){nn.error("Failed to load call details")}var t},c=e=>{const t=parseFloat(e);return isNaN(t)?"0.0000":t.toFixed(4)};return n?(0,Aa.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Call Logs"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"View and analyze call history"})]}),(0,Aa.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,Aa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Aa.jsx)("thead",{className:"bg-gray-50",children:(0,Aa.jsxs)("tr",{children:[(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Caller"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Aa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,Aa.jsx)("tr",{children:(0,Aa.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No calls yet"})}):e.map(e=>(0,Aa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.start_time).toLocaleString()}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.caller_id||"Unknown"}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.agent_name||"N/A"}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.duration_seconds?"".concat(e.duration_seconds,"s"):"-"}),(0,Aa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",c(e.final_cost)]}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Aa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"failed"===e.status?"bg-red-100 text-red-800":"insufficient_credits"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.status})}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Aa.jsx)("button",{onClick:()=>o(e),className:"text-primary-600 hover:text-primary-900",children:"View Details"})})]},e.id))})]})}),a&&(0,Aa.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Aa.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>l(null)}),(0,Aa.jsxs)("div",{className:"relative bg-white rounded-lg max-w-3xl w-full p-6 max-h-screen overflow-y-auto",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Call Details"}),(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Session ID"}),(0,Aa.jsx)("p",{className:"text-sm text-gray-900",children:a.session_id})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Caller"}),(0,Aa.jsx)("p",{className:"text-sm text-gray-900",children:a.caller_id})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),(0,Aa.jsxs)("p",{className:"text-sm text-gray-900",children:[a.duration_seconds,"s"]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Final Cost"}),(0,Aa.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(a.final_cost)]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Base Cost"}),(0,Aa.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(a.base_cost)]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Profit"}),(0,Aa.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(a.profit_amount)]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Audio Input"}),(0,Aa.jsxs)("p",{className:"text-sm text-gray-900",children:[a.audio_input_seconds,"s"]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Audio Output"}),(0,Aa.jsxs)("p",{className:"text-sm text-gray-900",children:[a.audio_output_seconds,"s"]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Text Input Tokens"}),(0,Aa.jsx)("p",{className:"text-sm text-gray-900",children:a.text_input_tokens||0})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Text Output Tokens"}),(0,Aa.jsx)("p",{className:"text-sm text-gray-900",children:a.text_output_tokens||0})]})]}),a.function_calls&&a.function_calls.length>0&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Function Calls"}),(0,Aa.jsx)("ul",{className:"space-y-2",children:a.function_calls.map((e,t)=>(0,Aa.jsxs)("li",{className:"border rounded p-3 text-sm",children:[(0,Aa.jsx)("p",{className:"font-medium",children:e.function_name}),(0,Aa.jsxs)("p",{className:"text-gray-600 mt-1",children:["Status: ",e.status," | Time: ",e.execution_time_ms,"ms"]}),e.arguments&&(0,Aa.jsx)("pre",{className:"mt-2 text-xs bg-gray-50 p-2 rounded overflow-x-auto",children:JSON.stringify(JSON.parse(e.arguments),null,2)})]},t))})]})]}),(0,Aa.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Aa.jsx)("button",{onClick:()=>l(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})})]})},us=Ba("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),ms=Ba("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ps=Ba("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),fs=Ba("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),hs=()=>{var e,t,n,r,a,l,i,o,c,d,u,m;const[p,f]=(0,s.useState)(!1),[h,x]=(0,s.useState)(new Map),[g,y]=(0,s.useState)(null),[v,b]=(0,s.useState)(new Map),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=new WebSocket("/aiva/ws");return j.current=e,e.onopen=()=>{console.log("Connected to monitor server"),f(!0)},e.onclose=()=>{console.log("Disconnected from monitor server"),f(!1)},e.onerror=e=>{console.error("WebSocket error:",e)},e.onmessage=e=>{try{const t=JSON.parse(e.data);w(t)}catch(t){console.error("Error parsing message:",t)}},()=>{e.readyState===WebSocket.OPEN&&e.close()}},[]);const w=e=>{switch(e.type){case"connection_added":case"connection_info":x(t=>{const n=new Map(t);return n.set(e.data.clientKey,e.data),n}),b(t=>{const n=new Map(t);return n.has(e.data.clientKey)||n.set(e.data.clientKey,[]),n});break;case"connection_updated":x(t=>{const n=new Map(t);return n.has(e.data.clientKey)&&n.set(e.data.clientKey,Be(Be({},n.get(e.data.clientKey)),e.data)),n});break;case"connection_removed":x(t=>{const n=new Map(t);return n.delete(e.data.clientKey),n});break;case"transcript":b(t=>{const n=new Map(t),r=n.get(e.data.clientKey)||[];return n.set(e.data.clientKey,[...r,{speaker:e.data.speaker,text:e.data.text,timestamp:e.data.timestamp}]),n});break;case"cost_update":x(t=>{const n=new Map(t);if(n.has(e.data.clientKey)){const t=n.get(e.data.clientKey);t.cost=e.data.cost,n.set(e.data.clientKey,t)}return n});break;case"function_call":case"function_response":b(t=>{const n=new Map(t),r=n.get(e.data.clientKey)||[];return n.set(e.data.clientKey,[...r,{speaker:"system",text:"function_call"===e.type?"\ud83d\udd27 Function call: ".concat(e.data.functionName):"\u2705 Function response: ".concat(e.data.functionName),timestamp:e.data.timestamp,details:e.data}]),n})}},N=Array.from(h.values()),k=g&&v.get(g.clientKey)||[];return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Live Call Monitor"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Real-time monitoring of active calls"})]}),(0,Aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Aa.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm ".concat(p?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,Aa.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(p?"bg-green-600 animate-pulse":"bg-red-600")}),p?"Connected":"Disconnected"]}),(0,Aa.jsxs)("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[N.length," Active"]})]})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Aa.jsx)("div",{className:"lg:col-span-1",children:(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,Aa.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:(0,Aa.jsx)("h2",{className:"text-sm font-semibold text-gray-900",children:"Active Calls"})}),(0,Aa.jsx)("div",{className:"divide-y divide-gray-200 max-h-[calc(100vh-250px)] overflow-y-auto",children:0===N.length?(0,Aa.jsxs)("div",{className:"px-4 py-8 text-center text-sm text-gray-500",children:[(0,Aa.jsx)(us,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),"No active calls"]}):N.map(e=>{var t;return(0,Aa.jsxs)("button",{onClick:()=>y(e),className:"w-full px-4 py-4 text-left hover:bg-gray-50 transition-colors ".concat((null===g||void 0===g?void 0:g.clientKey)===e.clientKey?"bg-blue-50 border-l-4 border-blue-600":""),children:[(0,Aa.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Aa.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.userSpeaking?"bg-green-500 animate-pulse":e.agentSpeaking?"bg-blue-500 animate-pulse":"bg-gray-300")}),(0,Aa.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.callerId||"Unknown"})]}),(0,Aa.jsx)(Va,{className:"w-4 h-4 text-green-600"})]}),(0,Aa.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)(ms,{className:"w-3 h-3 mr-1"}),e.agentName||"Unknown Agent"]}),(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)(ps,{className:"w-3 h-3 mr-1"}),e.connectedAt?new Date(e.connectedAt).toLocaleTimeString():"N/A"]}),e.cost&&(0,Aa.jsxs)("div",{className:"flex items-center font-semibold text-blue-600",children:[(0,Aa.jsx)(qa,{className:"w-3 h-3 mr-1"}),(null===(t=e.cost.formatted)||void 0===t?void 0:t.finalCost)||"$0.00"]})]}),(e.userSpeaking||e.agentSpeaking)&&(0,Aa.jsxs)("div",{className:"mt-2 flex items-center space-x-1",children:[(0,Aa.jsx)(fs,{className:"w-3 h-3 text-blue-600"}),(0,Aa.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:e.userSpeaking?"User Speaking":"Agent Speaking"})]})]},e.clientKey)})})]})}),(0,Aa.jsx)("div",{className:"lg:col-span-2",children:(0,Aa.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden h-[calc(100vh-200px)] flex flex-col",children:g?(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:g.callerId||"Unknown Caller"}),(0,Aa.jsxs)("p",{className:"text-sm text-gray-500",children:[g.agentName," \u2022 Session: ",g.sessionId]})]}),g.cost&&(0,Aa.jsxs)("div",{className:"text-right",children:[(0,Aa.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=g.cost.formatted)||void 0===e?void 0:e.finalCost)||"$0.00"}),(0,Aa.jsx)("div",{className:"text-xs text-gray-500",children:(null===(t=g.cost.duration)||void 0===t?void 0:t.formatted)||"0s"})]})]})}),(0,Aa.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:0===k.length?(0,Aa.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsx)(fs,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Aa.jsx)("p",{className:"text-sm",children:"Waiting for conversation..."})]})}):k.map((e,t)=>(0,Aa.jsx)("div",{className:"flex ".concat("user"===e.speaker?"justify-start":"agent"===e.speaker?"justify-end":"justify-center"),children:"system"===e.speaker?(0,Aa.jsx)("div",{className:"px-4 py-2 bg-yellow-50 border border-yellow-200 rounded-lg text-xs text-yellow-800",children:e.text}):(0,Aa.jsxs)("div",{className:"max-w-[75%] px-4 py-3 rounded-lg ".concat("user"===e.speaker?"bg-gray-100 text-gray-900":"bg-blue-600 text-white"),children:[(0,Aa.jsxs)("div",{className:"flex items-baseline space-x-2 mb-1",children:[(0,Aa.jsx)("span",{className:"text-xs font-semibold uppercase opacity-75",children:e.speaker}),(0,Aa.jsx)("span",{className:"text-xs opacity-50",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Aa.jsx)("p",{className:"text-sm leading-relaxed",children:e.text})]})},t))}),g.cost&&(0,Aa.jsx)("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50",children:(0,Aa.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center text-xs",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"text-gray-500",children:"Audio In"}),(0,Aa.jsxs)("div",{className:"font-semibold text-gray-900",children:[(null===(n=g.cost.audio)||void 0===n||null===(r=n.input)||void 0===r||null===(a=r.seconds)||void 0===a?void 0:a.toFixed(1))||0,"s"]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"text-gray-500",children:"Audio Out"}),(0,Aa.jsxs)("div",{className:"font-semibold text-gray-900",children:[(null===(l=g.cost.audio)||void 0===l||null===(i=l.output)||void 0===i||null===(o=i.seconds)||void 0===o?void 0:o.toFixed(1))||0,"s"]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"text-gray-500",children:"Tokens In"}),(0,Aa.jsx)("div",{className:"font-semibold text-gray-900",children:(null===(c=g.cost.text)||void 0===c||null===(d=c.input)||void 0===d?void 0:d.tokens)||0})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"text-gray-500",children:"Tokens Out"}),(0,Aa.jsx)("div",{className:"font-semibold text-gray-900",children:(null===(u=g.cost.text)||void 0===u||null===(m=u.output)||void 0===m?void 0:m.tokens)||0})]})]})})]}):(0,Aa.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsx)(Va,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Aa.jsx)("p",{className:"text-lg font-medium",children:"Select a call to view transcript"}),(0,Aa.jsx)("p",{className:"text-sm mt-1",children:"Live transcripts will appear here"})]})})})})]})]})},xs=Ba("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),gs=Ba("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),ys=Ba("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),vs=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)([]),[u,m]=(0,s.useState)(0),[p,f]=(0,s.useState)(0),[h,x]=(0,s.useState)(null),[g,y]=(0,s.useState)(null),v=(0,s.useRef)([]),b=(0,s.useRef)(!1),j=(0,s.useRef)(null),w=(0,s.useRef)(null),N=(0,s.useRef)(0),[k,S]=(0,s.useState)(!1),_=(0,s.useRef)(null),C=(0,s.useRef)(null);(0,s.useEffect)(()=>(E(),()=>{z()}),[]);const E=async()=>{try{const e=await Ea();t(e.data.agents)}catch(e){nn.error("Failed to load agents")}};(0,s.useEffect)(()=>{if(!a)return;const e=setInterval(()=>{if(w.current){const e=(Date.now()-w.current)/6e4;f("deepgram"===g?.015*e:.024*e)}},1e3);return()=>clearInterval(e)},[a,g]);const O=async()=>{const e=await(t=n.id,Ca.post("/realtime/token",{agent_id:t}));var t;const{ephemeral_key:r,session_id:a}=e.data;x(a);const s=new WebSocket("wss://api.openai.com/v1/realtime?model=".concat(n.model),["realtime","openai-insecure-api-key.".concat(r),"openai-beta.realtime-v1"]);_.current=s,s.onopen=async()=>{console.log("Connected to OpenAI Realtime"),w.current=Date.now(),l(!0),S(!1),nn.success("Connected to OpenAI agent"),await L()},s.onmessage=e=>{const t=JSON.parse(e.data);P(t)},s.onerror=e=>{console.error("WebSocket error:",e),S(!1),nn.error("Connection error")},s.onclose=e=>{console.log("Disconnected from OpenAI"),l(!1),S(!1),I(),1005!==e.code&&nn.error("Connection closed: ".concat(e.reason||"Unknown error"))}},T=async()=>{const e=localStorage.getItem("token"),t=await _a.post("".concat("/aiva/api","/realtime/token/deepgram"),{agent_id:n.id},{headers:{Authorization:"Bearer ".concat(e)}}),{api_key:r,session_id:a,agent:s}=t.data;x(a);const i=new WebSocket("wss://agent.deepgram.com/v1/agent/converse",["token",r]);_.current=i,i.onopen=async()=>{console.log("Connected to Deepgram Agent"),setTimeout(()=>{const e={type:"Settings",audio:{input:{encoding:"linear16",sample_rate:16e3},output:{encoding:"linear16",sample_rate:24e3,container:"none"}},agent:{listen:{provider:{type:"deepgram",model:s.model}},speak:{provider:{type:"deepgram",model:s.voice}},greeting:s.greeting||null,think:{provider:{type:"open_ai",model:"gpt-4o-mini"},prompt:s.instructions,functions:[]}}};console.log("\ud83d\udce4 Sending config"),_.current.send(JSON.stringify(e))},100)},i.onmessage=e=>{if(e.data instanceof Blob)e.data.arrayBuffer().then(e=>{const t=new Uint8Array(e);M(t)});else{const t=JSON.parse(e.data);R(t)}},i.onerror=e=>{console.error("Deepgram error:",e),S(!1),nn.error("Connection error")},i.onclose=e=>{var t;console.log("Disconnected from Deepgram:",e.code,e.reason),l(!1),S(!1),I(),null!==(t=_.current)&&void 0!==t&&t.keepaliveInterval&&clearInterval(_.current.keepaliveInterval),1e3!==e.code&&1005!==e.code&&nn.error("Connection closed: ".concat(e.reason||"Unknown error"))}},P=e=>{switch(console.log("OpenAI:",e.type),e.type){case"session.created":A();break;case"session.updated":setTimeout(()=>{var e;(null===(e=_.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&_.current.send(JSON.stringify({type:"response.create"}))},500);break;case"conversation.item.input_audio_transcription.completed":d(t=>[...t,{role:"user",content:e.transcript,timestamp:new Date}]);break;case"response.audio_transcript.done":d(t=>[...t,{role:"assistant",content:e.transcript,timestamp:new Date}]);break;case"response.audio.delta":F(e.delta)}},R=e=>{switch(console.log("Deepgram:",e.type,e.description),e.type){case"Welcome":console.log("\ud83d\udc4b Deepgram welcome");break;case"SettingsApplied":console.log("\u2705 Settings applied"),w.current=Date.now(),l(!0),S(!1),nn.success("Connected to Deepgram agent");const t=setInterval(()=>{var e;if((null===(e=_.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN)try{_.current.send(JSON.stringify({type:"KeepAlive"}))}catch(n){console.error("Keepalive error:",n),clearInterval(t)}else clearInterval(t)},5e3);_.current.keepaliveInterval=t,setTimeout(()=>{L()},500);break;case"ConversationText":"user"===e.role?d(t=>[...t,{role:"user",content:e.content,timestamp:new Date}]):"assistant"===e.role&&d(t=>[...t,{role:"assistant",content:e.content,timestamp:new Date}]);break;case"UserStartedSpeaking":console.log("\ud83c\udfa4 User speaking"),v.current=[],b.current=!1,N.current=0;break;case"AgentStartedSpeaking":console.log("\ud83d\udd0a Agent speaking");break;case"AgentAudioDone":console.log("\u2705 Agent audio done");break;case"Error":console.error("\u274c Deepgram error:",e),nn.error(e.description||e.error||"Deepgram error");break;default:console.log("\u2139\ufe0f Unhandled:",e.type)}},A=()=>{if(!_.current||_.current.readyState!==WebSocket.OPEN)return;const e={type:"session.update",session:{modalities:["text","audio"],instructions:n.instructions,voice:n.voice,input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:{model:"whisper-1",language:n.language},turn_detection:{type:"server_vad",threshold:parseFloat(n.vad_threshold||"0.5"),prefix_padding_ms:300,silence_duration_ms:parseInt(n.silence_duration_ms||"500"),create_response:!0},tools:[],max_response_output_tokens:parseInt(n.max_tokens||"4096"),temperature:parseFloat(n.temperature||"0.6")}};_.current.send(JSON.stringify(e))},L=async()=>{try{const e="deepgram"===g?16e3:24e3,t=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:e}});C.current=t;const n=new AudioContext({sampleRate:e});j.current=n;const r=n.createMediaStreamSource(t),s=n.createScriptProcessor(4096,1,1),l=n.createAnalyser();l.fftSize=256,r.connect(l);const o=new Uint8Array(l.frequencyBinCount),c=()=>{if(!a)return;l.getByteFrequencyData(o);const e=o.reduce((e,t)=>e+t)/o.length;m(e/255),requestAnimationFrame(c)};c(),s.onaudioprocess=e=>{if(!_.current||_.current.readyState!==WebSocket.OPEN||i)return;const t=e.inputBuffer.getChannelData(0),n=new Int16Array(t.length);for(let r=0;r<t.length;r++){const e=Math.max(-1,Math.min(1,t[r]));n[r]=e<0?32768*e:32767*e}if("openai"===g){const e=new Uint8Array(n.buffer);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);const r=btoa(t);_.current.send(JSON.stringify({type:"input_audio_buffer.append",audio:r}))}else"deepgram"===g&&_.current.send(n.buffer)},r.connect(s),s.connect(n.destination)}catch(e){console.error("Microphone error:",e),nn.error("Failed to access microphone")}},F=e=>{try{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);v.current.push(n),b.current||D()}catch(t){console.error("Audio error:",t)}},M=e=>{try{v.current.push(e),b.current||D()}catch(t){console.error("Error queueing audio:",t)}},D=async()=>{if("deepgram"===g){const e=2;if(v.current.length<e&&v.current.length>0)return void setTimeout(()=>D(),50)}if(0===v.current.length)return b.current=!1,void(N.current=0);b.current=!0;try{j.current&&"closed"!==j.current.state||(j.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),N.current=j.current.currentTime);const e=j.current;let t;if("deepgram"===g){const e=Math.min(2,v.current.length);let n=0;const r=[];for(let t=0;t<e;t++){const e=v.current.shift(),t=new Int16Array(e.buffer||e);r.push(t),n+=t.length}t=new Int16Array(n);let a=0;for(const s of r)t.set(s,a),a+=s.length}else{const e=v.current.shift();t=new Int16Array(e.buffer||e)}const n=new Float32Array(t.length);for(let s=0;s<t.length;s++)n[s]=t[s]/(t[s]<0?32768:32767);const r=e.createBuffer(1,n.length,24e3);r.getChannelData(0).set(n);const a=e.createBufferSource();if(a.buffer=r,a.connect(e.destination),"deepgram"===g){const t=Math.max(N.current,e.currentTime);a.start(t),N.current=t+r.duration;const n=1e3*r.duration-50;setTimeout(()=>{D()},Math.max(0,n))}else a.onended=()=>{D()},a.start(0)}catch(e){console.error("Audio playback error:",e),b.current=!1,N.current=0,setTimeout(()=>D(),50)}},I=()=>{C.current&&(C.current.getTracks().forEach(e=>e.stop()),C.current=null),j.current&&(j.current.close(),j.current=null)},z=()=>{var e;if(null!==(e=_.current)&&void 0!==e&&e.keepaliveInterval&&clearInterval(_.current.keepaliveInterval),h&&_.current&&U(),_.current){if(_.current.readyState===WebSocket.OPEN)try{"deepgram"===g&&_.current.send(JSON.stringify({type:"EndSession"}))}catch(t){console.error("Error sending EndSession:",t)}_.current.close(),_.current=null}I(),v.current=[],b.current=!1,N.current=0,l(!1),x(null),y(null)},U=async()=>{try{const n=Date.now()-w.current,r=await(e=h,t=n,Ca.post("/realtime/finalize",{session_id:e,duration_ms:t}));r.data.success&&nn.success("Test call completed. Cost: $".concat(r.data.cost.toFixed(4)))}catch(n){console.error("Failed to finalize cost:",n)}var e,t};return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agent Test Utility"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Test your voice agents (OpenAI & Deepgram) in real-time"})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Aa.jsx)("div",{className:"lg:col-span-1",children:(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Settings"}),(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Agent"}),(0,Aa.jsxs)("select",{value:(null===n||void 0===n?void 0:n.id)||"",onChange:t=>r(e.find(e=>e.id===t.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2",disabled:a,children:[(0,Aa.jsx)("option",{value:"",children:"Choose an agent..."}),e.map(e=>(0,Aa.jsxs)("option",{value:e.id,children:[e.name," (",e.provider||"openai",")"]},e.id))]})]}),n&&(0,Aa.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,Aa.jsxs)("div",{className:"flex justify-between",children:[(0,Aa.jsx)("span",{children:"Provider:"}),(0,Aa.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?"Deepgram":"OpenAI"})]}),(0,Aa.jsxs)("div",{className:"flex justify-between",children:[(0,Aa.jsx)("span",{children:"Model:"}),(0,Aa.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?n.deepgram_model:n.model})]}),(0,Aa.jsxs)("div",{className:"flex justify-between",children:[(0,Aa.jsx)("span",{children:"Voice:"}),(0,Aa.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?n.deepgram_voice:n.voice})]})]}),(0,Aa.jsx)("div",{className:"pt-4",children:a?(0,Aa.jsxs)("button",{onClick:z,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[(0,Aa.jsx)(us,{className:"w-5 h-5 mr-2"}),"Disconnect"]}):(0,Aa.jsxs)("button",{onClick:async()=>{if(!n)return void nn.error("Please select an agent");const e=n.provider||"openai";y(e),S(!0);try{"openai"===e?await O():"deepgram"===e?await T():(nn.error("Unsupported provider"),S(!1))}catch(t){console.error("Connection error:",t),nn.error("Failed to connect"),S(!1)}},disabled:!n||k,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[(0,Aa.jsx)(Va,{className:"w-5 h-5 mr-2"}),k?"Connecting...":"Connect"]})}),a&&(0,Aa.jsxs)("div",{className:"space-y-3",children:[(0,Aa.jsxs)("button",{onClick:()=>o(!i),className:"w-full flex items-center justify-center px-4 py-2 rounded-md ".concat(i?"bg-gray-600 hover:bg-gray-700":"bg-blue-600 hover:bg-blue-700"," text-white"),children:[i?(0,Aa.jsx)(xs,{className:"w-5 h-5 mr-2"}):(0,Aa.jsx)(gs,{className:"w-5 h-5 mr-2"}),i?"Unmute":"Mute"]}),(0,Aa.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Aa.jsx)("span",{className:"text-sm text-gray-600",children:"Audio Level"}),(0,Aa.jsx)(ys,{className:"w-4 h-4 text-gray-400"})]}),(0,Aa.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Aa.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(100*u,"%")}})})]}),(0,Aa.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Aa.jsx)("div",{className:"text-sm text-gray-600",children:"Estimated Cost"}),(0,Aa.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",p.toFixed(4)]})]})]})]})]})}),(0,Aa.jsx)("div",{className:"lg:col-span-2",children:(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Conversation"}),(0,Aa.jsx)("div",{className:"h-96 overflow-y-auto space-y-3 border border-gray-200 rounded-lg p-4",children:0===c.length?(0,Aa.jsx)("div",{className:"text-center text-gray-500 mt-20",children:"No conversation yet. Connect and start talking!"}):c.map((e,t)=>(0,Aa.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Aa.jsxs)("div",{className:"max-w-xs px-4 py-2 rounded-lg ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"),children:[(0,Aa.jsx)("div",{className:"text-xs opacity-75 mb-1",children:"user"===e.role?"You":"Agent"}),(0,Aa.jsx)("div",{children:e.content})]})},t))})]})})]})]})},bs=Ba("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),js=Ba("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),ws=Ba("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Ns=Ba("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ks=Ba("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ss=()=>{const{user:e,logout:t}=Fa(),n=Z(),[r,a]=s.useState(!1),l=[{name:"Dashboard",href:"/",icon:bs},{name:"Agents",href:"/agents",icon:Ha},{name:"Knowledge Base",href:"/knowledge",icon:js},{name:"Live Monitor",href:"/monitor",icon:fs},{name:"Credits",href:"/credits",icon:qa},{name:"Calls",href:"/calls",icon:Va},{name:"Test Call",href:"/test",icon:gs},{name:"Test Chat",href:"/agent-test",icon:ws}],i=e=>"/"===e?"/"===n.pathname:n.pathname.startsWith(e);return(0,Aa.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Aa.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden ".concat(r?"":"hidden"),children:[(0,Aa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>a(!1)}),(0,Aa.jsxs)("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,Aa.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"Agent Manager"}),(0,Aa.jsx)("button",{onClick:()=>a(!1),children:(0,Aa.jsx)(Za,{className:"w-6 h-6"})})]}),(0,Aa.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(e=>{const t=e.icon;return(0,Aa.jsxs)(Ae,{to:e.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md ".concat(i(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50"),onClick:()=>a(!1),children:[(0,Aa.jsx)(t,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})})]})]}),(0,Aa.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,Aa.jsxs)("div",{className:"flex flex-col flex-1 min-h-0 bg-white border-r",children:[(0,Aa.jsx)("div",{className:"flex items-center h-16 px-4 border-b",children:(0,Aa.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"Agent Manager"})}),(0,Aa.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(e=>{const t=e.icon;return(0,Aa.jsxs)(Ae,{to:e.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md ".concat(i(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50"),children:[(0,Aa.jsx)(t,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})}),(0,Aa.jsxs)("div",{className:"flex items-center px-4 py-4 border-t",children:[(0,Aa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null===e||void 0===e?void 0:e.name}),(0,Aa.jsx)("p",{className:"text-xs text-gray-500 truncate",children:null===e||void 0===e?void 0:e.email})]}),(0,Aa.jsx)("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600",title:"Logout",children:(0,Aa.jsx)(Ns,{className:"w-5 h-5"})})]})]})}),(0,Aa.jsxs)("div",{className:"lg:pl-64",children:[(0,Aa.jsxs)("div",{className:"sticky top-0 z-10 flex h-16 bg-white border-b lg:hidden",children:[(0,Aa.jsx)("button",{onClick:()=>a(!0),className:"px-4 text-gray-500 focus:outline-none",children:(0,Aa.jsx)(ks,{className:"w-6 h-6"})}),(0,Aa.jsx)("div",{className:"flex items-center flex-1 px-4",children:(0,Aa.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"Agent Manager"})})]}),(0,Aa.jsx)("main",{className:"py-6",children:(0,Aa.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:(0,Aa.jsx)(ve,{})})})]})]})},_s=Ba("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Cs=Ba("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Es=Ba("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Os=Ba("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ts=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)("all");(0,s.useEffect)(()=>{c()},[i]);const c=async()=>{try{var e,n;r(!0);const a=(null===(e=(await ts({status:"all"!==i?i:void 0})).data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.knowledge_bases)||[];t(a)}catch(a){nn.error("Failed to load knowledge bases"),console.error(a),t([])}finally{r(!1)}},d=async e=>{if(window.confirm("Are you sure? This will delete all documents and data."))try{await(e=>Ra.delete("/knowledge/".concat(e)))(e),nn.success("Knowledge base deleted"),c()}catch(t){nn.error("Failed to delete knowledge base"),console.error(t)}},u=e.filter(e=>{var t;return e.name.toLowerCase().includes(a.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(a.toLowerCase()))});return n?(0,Aa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Bases"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage documents and knowledge for your AI agents"})]}),(0,Aa.jsxs)(Ae,{to:"/knowledge/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Aa.jsx)(Ka,{className:"w-4 h-4 mr-2"}),"New Knowledge Base"]})]}),(0,Aa.jsxs)("div",{className:"flex gap-4",children:[(0,Aa.jsxs)("div",{className:"flex-1 relative",children:[(0,Aa.jsx)(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Aa.jsx)("input",{type:"text",placeholder:"Search knowledge bases...",value:a,onChange:e=>l(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Aa.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"all",children:"All Status"}),(0,Aa.jsx)("option",{value:"active",children:"Active"}),(0,Aa.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),0===u.length?(0,Aa.jsxs)("div",{className:"text-center py-12",children:[(0,Aa.jsx)(js,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Aa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No knowledge bases"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new knowledge base"}),(0,Aa.jsx)("div",{className:"mt-6",children:(0,Aa.jsxs)(Ae,{to:"/knowledge/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Aa.jsx)(Ka,{className:"w-4 h-4 mr-2"}),"New Knowledge Base"]})})]}):(0,Aa.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:u.map(e=>{var t,n;return(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:(0,Aa.jsxs)("div",{className:"p-6",children:[(0,Aa.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(Cs,{className:"h-8 w-8 text-primary-600"})}),(0,Aa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,Aa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})]})]})}),(0,Aa.jsx)("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:e.description||"No description"}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Aa.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Aa.jsx)(Es,{className:"w-4 h-4 mr-2"}),(0,Aa.jsxs)("span",{children:[(null===(t=e.stats)||void 0===t?void 0:t.document_count)||0," docs"]})]}),(0,Aa.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Aa.jsx)(Cs,{className:"w-4 h-4 mr-2"}),(0,Aa.jsxs)("span",{children:[(null===(n=e.stats)||void 0===n?void 0:n.chunk_count)||0," chunks"]})]})]}),(0,Aa.jsxs)("div",{className:"flex items-center text-xs text-gray-400 mb-4",children:[(0,Aa.jsx)(ps,{className:"w-3 h-3 mr-1"}),"Updated ",new Date(e.updated_at).toLocaleDateString()]}),(0,Aa.jsxs)("div",{className:"flex space-x-2",children:[(0,Aa.jsxs)(Ae,{to:"/knowledge/".concat(e.id,"/documents"),className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Aa.jsx)(Es,{className:"w-4 h-4 mr-2"}),"Documents"]}),(0,Aa.jsx)(Ae,{to:"/knowledge/".concat(e.id,"/edit"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:(0,Aa.jsx)(Os,{className:"w-4 h-4"})}),(0,Aa.jsx)("button",{onClick:()=>d(e.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:(0,Aa.jsx)(Ya,{className:"w-4 h-4"})})]})]})},e.id)})})]})},Ps=Ba("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Rs=Ba("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),As=()=>{const e=te(),{id:t}=re(),n=!!t,[r,a]=(0,s.useState)(!1),[l,i]=(0,s.useState)({name:"",description:"",type:"general",status:"active",settings:{chunk_size:500,chunk_overlap:50,embedding_model:"text-embedding-3-small"}});(0,s.useEffect)(()=>{n&&o()},[t]);const o=async()=>{try{a(!0);const e=(await ns(t)).data.data;i({name:e.name,description:e.description||"",type:e.type,status:e.status,settings:e.settings||l.settings})}catch(e){nn.error("Failed to load knowledge base"),console.error(e)}finally{a(!1)}};return(0,Aa.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,Aa.jsx)("div",{className:"flex items-center justify-between",children:(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("button",{onClick:()=>e("/knowledge"),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Aa.jsx)(Ps,{className:"w-4 h-4 mr-1"}),"Back to Knowledge Bases"]}),(0,Aa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Knowledge Base":"New Knowledge Base"})]})}),(0,Aa.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),l.name.trim())try{if(a(!0),!n){const t=await(e=>Ra.post("/knowledge",e))(l);return nn.success("Knowledge base created"),void e("/knowledge/".concat(t.data.data.id,"/documents"))}await((e,t)=>Ra.put("/knowledge/".concat(e),t))(t,l),nn.success("Knowledge base updated"),e("/knowledge")}catch(s){nn.error(n?"Failed to update":"Failed to create"),console.error(s)}finally{a(!1)}else nn.error("Name is required")},className:"bg-white shadow rounded-lg",children:[(0,Aa.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Aa.jsx)("input",{type:"text",value:l.name,onChange:e=>i(Be(Be({},l),{},{name:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., Product Documentation",required:!0})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Aa.jsx)("textarea",{value:l.description,onChange:e=>i(Be(Be({},l),{},{description:e.target.value})),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Describe what this knowledge base contains..."})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,Aa.jsxs)("select",{value:l.type,onChange:e=>i(Be(Be({},l),{},{type:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"general",children:"General"}),(0,Aa.jsx)("option",{value:"documentation",children:"Documentation"}),(0,Aa.jsx)("option",{value:"faq",children:"FAQ"}),(0,Aa.jsx)("option",{value:"support",children:"Support"}),(0,Aa.jsx)("option",{value:"product_catalog",children:"Product Catalog"})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Aa.jsxs)("select",{value:l.status,onChange:e=>i(Be(Be({},l),{},{status:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"active",children:"Active"}),(0,Aa.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Processing Settings"}),(0,Aa.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Aa.jsxs)("div",{className:"flex",children:[(0,Aa.jsx)(Rs,{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0"}),(0,Aa.jsx)("div",{className:"text-sm text-blue-700",children:"These settings control how documents are processed and indexed. Default values work well for most cases."})]})}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chunk Size (tokens)"}),(0,Aa.jsx)("input",{type:"number",value:l.settings.chunk_size,onChange:e=>i(Be(Be({},l),{},{settings:Be(Be({},l.settings),{},{chunk_size:parseInt(e.target.value)})})),min:100,max:2e3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 500"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chunk Overlap (tokens)"}),(0,Aa.jsx)("input",{type:"number",value:l.settings.chunk_overlap,onChange:e=>i(Be(Be({},l),{},{settings:Be(Be({},l.settings),{},{chunk_overlap:parseInt(e.target.value)})})),min:0,max:200,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 50"})]})]}),(0,Aa.jsxs)("div",{className:"mt-4",children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Embedding Model"}),(0,Aa.jsxs)("select",{value:l.settings.embedding_model,onChange:e=>i(Be(Be({},l),{},{settings:Be(Be({},l.settings),{},{embedding_model:e.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"text-embedding-3-small",children:"text-embedding-3-small (Fast, Affordable)"}),(0,Aa.jsx)("option",{value:"text-embedding-3-large",children:"text-embedding-3-large (High Quality)"}),(0,Aa.jsx)("option",{value:"text-embedding-ada-002",children:"text-embedding-ada-002 (Legacy)"})]})]})]})]}),(0,Aa.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between rounded-b-lg",children:[(0,Aa.jsx)("button",{type:"button",onClick:()=>e("/knowledge"),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,Aa.jsxs)("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Aa.jsx)(es,{className:"w-4 h-4 mr-2"}),r?"Saving...":n?"Update":"Create"]})]})]})]})},Ls=Ba("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Fs=Ba("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ms=Ba("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),Ds=Ba("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Is=Ba("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),zs=e=>{let{kbId:t,onComplete:n}=e;const[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)({}),[d,u]=(0,s.useState)(!1),m=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),p=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1);const t=Array.from(e.dataTransfer.files);f(t)},[]),f=e=>{const t=e.filter(e=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/html","text/markdown","application/json"].includes(e.type)||e.name.match(/\.(pdf|docx|pptx|xlsx|txt|html|md|json)$/i)?!(e.size>52428800)||(nn.error("".concat(e.name,": File too large (max 50MB)")),!1):(nn.error("".concat(e.name,": Invalid file type")),!1));a(e=>[...e,...t.map(e=>({file:e,id:Math.random().toString(36).substr(2,9),status:"pending"}))])},h=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-12 text-center ".concat(d?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:p,children:[(0,Aa.jsx)(Fs,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Aa.jsxs)("div",{className:"mt-4",children:[(0,Aa.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,Aa.jsx)("span",{className:"text-primary-600 hover:text-primary-500 font-medium",children:"Choose files"}),(0,Aa.jsx)("input",{id:"file-upload",type:"file",multiple:!0,className:"sr-only",onChange:e=>{const t=Array.from(e.target.files);f(t)},accept:".pdf,.docx,.pptx,.xlsx,.txt,.html,.md,.json"})]}),(0,Aa.jsx)("span",{className:"text-gray-600",children:" or drag and drop"})]}),(0,Aa.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"PDF, DOCX, PPTX, XLSX, TXT, HTML, MD, JSON up to 50MB"})]}),r.length>0&&(0,Aa.jsxs)("div",{className:"space-y-3",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:["Files (",r.length,")"]}),!l&&(0,Aa.jsx)("button",{onClick:()=>a([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),(0,Aa.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,Aa.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Aa.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,Aa.jsx)(Es,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),(0,Aa.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,Aa.jsx)("p",{className:"text-xs text-gray-500",children:h(e.file.size)})]})]}),(0,Aa.jsxs)("div",{className:"flex items-center ml-4",children:["pending"===e.status&&!l&&(0,Aa.jsx)("button",{onClick:()=>{return t=e.id,void a(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-400 hover:text-gray-600",children:(0,Aa.jsx)(Za,{className:"w-5 h-5"})}),"uploading"===e.status&&(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Aa.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:"".concat(o[e.id]||0,"%")}})}),(0,Aa.jsxs)("span",{className:"text-xs text-gray-500",children:[o[e.id]||0,"%"]})]}),"completed"===e.status&&(0,Aa.jsx)(Ls,{className:"w-5 h-5 text-green-500"}),"failed"===e.status&&(0,Aa.jsx)(Rs,{className:"w-5 h-5 text-red-500"})]})]},e.id))})]}),r.length>0&&(0,Aa.jsx)("div",{className:"flex justify-end",children:(0,Aa.jsxs)("button",{onClick:async()=>{if(0===r.length)return void nn.error("Please select files to upload");i(!0);for(const n of r)try{a(e=>e.map(e=>e.id===n.id?Be(Be({},e),{},{status:"uploading"}):e));const e=new FormData;e.append("file",n.file),e.append("metadata",JSON.stringify({source:"upload",uploaded_at:(new Date).toISOString()})),await rs(t,e,e=>{const t=Math.round(100*e.loaded/e.total);c(e=>Be(Be({},e),{},{[n.id]:t}))}),a(e=>e.map(e=>e.id===n.id?Be(Be({},e),{},{status:"completed"}):e)),nn.success("".concat(n.file.name," uploaded successfully"))}catch(s){console.error("Error uploading ".concat(n.file.name,":"),s),a(e=>e.map(e=>e.id===n.id?Be(Be({},e),{},{status:"failed"}):e)),nn.error("Failed to upload ".concat(n.file.name))}i(!1);const e=r.every(e=>"completed"===e.status||"failed"===e.status);e&&n&&setTimeout(n,1e3)},disabled:l,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Aa.jsx)(Fs,{className:"w-4 h-4 mr-2"}),l?"Uploading...":"Upload ".concat(r.length," file").concat(r.length>1?"s":"")]})})]})},Us=Ba("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Bs=Ba("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),qs=e=>{var t;let{kbId:n,onComplete:r}=e;const[a,l]=(0,s.useState)("url"),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(2),[u,m]=(0,s.useState)(20),[p,f]=(0,s.useState)(!1),[h,x]=(0,s.useState)(!1),[g,y]=(0,s.useState)(null),[v,b]=(0,s.useState)(null);return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex gap-4",children:[(0,Aa.jsx)("button",{onClick:()=>l("url"),className:"flex-1 p-4 border-2 rounded-lg text-left transition-colors ".concat("url"===a?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)(Ms,{className:"w-5 h-5 text-primary-600 mr-3"}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"font-medium text-gray-900",children:"Single URL"}),(0,Aa.jsx)("div",{className:"text-sm text-gray-500",children:"Scrape a URL and follow links"})]})]})}),(0,Aa.jsx)("button",{onClick:()=>l("sitemap"),className:"flex-1 p-4 border-2 rounded-lg text-left transition-colors ".concat("sitemap"===a?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)(Es,{className:"w-5 h-5 text-primary-600 mr-3"}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"font-medium text-gray-900",children:"Sitemap"}),(0,Aa.jsx)("div",{className:"text-sm text-gray-500",children:"Import from sitemap.xml"})]})]})})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"url"===a?"Website URL":"Sitemap URL"}),(0,Aa.jsxs)("div",{className:"flex gap-2",children:[(0,Aa.jsxs)("div",{className:"flex-1 relative",children:[(0,Aa.jsx)(Us,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Aa.jsx)("input",{type:"url",value:i,onChange:e=>o(e.target.value),placeholder:"url"===a?"https://example.com":"https://example.com/sitemap.xml",className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Aa.jsx)("button",{onClick:async()=>{if(i.trim())try{f(!0),y(null);const e=await(e=>Ra.post("/knowledge/test-url",{url:e}))(i);y(e.data.data),e.data.data.accessible?nn.success("URL is accessible!"):nn.error("URL is not accessible")}catch(e){nn.error("Failed to test URL"),console.error(e)}finally{f(!1)}else nn.error("Please enter a URL")},disabled:p||!i.trim(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:p?(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(Bs,{className:"w-4 h-4 mr-2 animate-spin inline"}),"Testing..."]}):"Test URL"})]}),g&&(0,Aa.jsx)("div",{className:"mt-2 p-3 rounded-md ".concat(g.accessible?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[g.accessible?(0,Aa.jsx)(Ls,{className:"w-5 h-5 mr-2"}):(0,Aa.jsx)(Rs,{className:"w-5 h-5 mr-2"}),(0,Aa.jsx)("div",{className:"text-sm",children:g.accessible?(0,Aa.jsxs)(Aa.Fragment,{children:["Accessible \u2022 Status: ",g.status_code," \u2022 Type: ",g.content_type]}):(0,Aa.jsxs)(Aa.Fragment,{children:["Not accessible \u2022 ",g.error||"Status: ".concat(g.status_code)]})})]})})]}),"url"===a&&(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Depth"}),(0,Aa.jsx)("input",{type:"number",value:c,onChange:e=>d(parseInt(e.target.value)),min:1,max:5,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"How many levels of links to follow (1-5)"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Pages"}),(0,Aa.jsx)("input",{type:"number",value:u,onChange:e=>m(parseInt(e.target.value)),min:1,max:100,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum pages to scrape (1-100)"})]})]}),"sitemap"===a&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Pages"}),(0,Aa.jsx)("input",{type:"number",value:u,onChange:e=>m(parseInt(e.target.value)),min:1,max:100,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Aa.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum pages to import from sitemap (1-100)"})]}),(0,Aa.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Aa.jsxs)("div",{className:"flex",children:[(0,Aa.jsx)(Rs,{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0"}),(0,Aa.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,Aa.jsx)("p",{className:"font-medium mb-1",children:"How web scraping works:"}),(0,Aa.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Aa.jsx)("li",{children:"Content is extracted from HTML pages"}),(0,Aa.jsx)("li",{children:"Text is cleaned and processed automatically"}),(0,Aa.jsx)("li",{children:"Documents are chunked and embedded for search"}),(0,Aa.jsx)("li",{children:"Process may take several minutes depending on size"})]})]})]})}),(0,Aa.jsx)("div",{className:"flex justify-end",children:(0,Aa.jsx)("button",{onClick:async()=>{if(i.trim())try{let e;x(!0),b(null),e="url"===a?await((e,t,n)=>Ra.post("/knowledge/".concat(e,"/scrape-url"),t,{onUploadProgress:n}))(n,{url:i,max_depth:c,max_pages:u,metadata:{source:"web_scrape",scraped_at:(new Date).toISOString()}}):await((e,t,n)=>Ra.post("/knowledge/".concat(e,"/scrape-sitemap"),t,{onUploadProgress:n}))(n,{sitemap_url:i,max_pages:u,metadata:{source:"sitemap_scrape",scraped_at:(new Date).toISOString()}}),b(e.data.data),nn.success("Scraping completed!"),r&&setTimeout(r,2e3)}catch(e){nn.error("Failed to scrape website"),console.error(e)}finally{x(!1)}else nn.error("Please enter a URL")},disabled:h||!i.trim(),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(Bs,{className:"w-4 h-4 mr-2 animate-spin"}),"Scraping..."]}):(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(Ms,{className:"w-4 h-4 mr-2"}),"Start Scraping"]})})}),v&&(0,Aa.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Aa.jsxs)("div",{className:"flex items-start",children:[(0,Aa.jsx)(Ls,{className:"w-5 h-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}),(0,Aa.jsxs)("div",{className:"text-sm text-green-700",children:[(0,Aa.jsx)("p",{className:"font-medium mb-2",children:"Scraping completed successfully!"}),(0,Aa.jsxs)("div",{className:"space-y-1",children:[(0,Aa.jsxs)("p",{children:["\u2022 ","url"===a?"Pages scraped":"URLs found",": ",v.total_pages_scraped||v.total_urls_found]}),(0,Aa.jsxs)("p",{children:["\u2022 Documents processed: ",v.documents_processed||(null===(t=v.documents)||void 0===t?void 0:t.length)]}),(0,Aa.jsxs)("p",{children:["\u2022 Base URL: ",v.base_url||i]})]})]})]})})]})},Hs=e=>{let{kbId:t,onComplete:n}=e;const[r,a]=(0,s.useState)([]),[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)({}),[d,u]=(0,s.useState)(!1),m=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),p=(0,s.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1);const t=Array.from(e.dataTransfer.files);f(t)},[]),f=e=>{const t=e.filter(e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)?!(e.size>10485760)||(nn.error("".concat(e.name,": Image too large (max 10MB)")),!1):(nn.error("".concat(e.name,": Invalid image type")),!1)).map(e=>({file:e,id:Math.random().toString(36).substr(2,9),status:"pending",preview:URL.createObjectURL(e),metadata:{title:"",description:"",tags:"",category:""}}));a(e=>[...e,...t])},h=(e,t,n)=>{a(r=>r.map(r=>r.id===e?Be(Be({},r),{},{metadata:Be(Be({},r.metadata),{},{[t]:n})}):r))},x=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]};return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-12 text-center ".concat(d?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:p,children:[(0,Aa.jsx)(Ds,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Aa.jsxs)("div",{className:"mt-4",children:[(0,Aa.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,Aa.jsx)("span",{className:"text-primary-600 hover:text-primary-500 font-medium",children:"Choose images"}),(0,Aa.jsx)("input",{id:"image-upload",type:"file",multiple:!0,className:"sr-only",onChange:e=>{const t=Array.from(e.target.files);f(t)},accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp"})]}),(0,Aa.jsx)("span",{className:"text-gray-600",children:" or drag and drop"})]}),(0,Aa.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"JPG, PNG, GIF, WEBP up to 10MB"})]}),r.length>0&&(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:["Images (",r.length,")"]}),!l&&(0,Aa.jsx)("button",{onClick:()=>{r.forEach(e=>URL.revokeObjectURL(e.preview)),a([])},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),(0,Aa.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,Aa.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,Aa.jsxs)("div",{className:"flex gap-4",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)("img",{src:e.preview,alt:"Preview",className:"w-24 h-24 object-cover rounded"})}),(0,Aa.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,Aa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Aa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,Aa.jsx)("p",{className:"text-xs text-gray-500",children:x(e.file.size)})]}),(0,Aa.jsxs)("div",{className:"flex items-center ml-4",children:["pending"===e.status&&!l&&(0,Aa.jsx)("button",{onClick:()=>{return t=e.id,void a(e=>{const n=e.find(e=>e.id===t);return null!==n&&void 0!==n&&n.preview&&URL.revokeObjectURL(n.preview),e.filter(e=>e.id!==t)});var t},className:"text-gray-400 hover:text-gray-600",children:(0,Aa.jsx)(Za,{className:"w-5 h-5"})}),"uploading"===e.status&&(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Aa.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:"".concat(o[e.id]||0,"%")}})}),(0,Aa.jsxs)("span",{className:"text-xs text-gray-500",children:[o[e.id]||0,"%"]})]}),"completed"===e.status&&(0,Aa.jsx)(Ls,{className:"w-5 h-5 text-green-500"}),"failed"===e.status&&(0,Aa.jsx)(Rs,{className:"w-5 h-5 text-red-500"})]})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Aa.jsx)("input",{type:"text",placeholder:"Title",value:e.metadata.title,onChange:t=>h(e.id,"title",t.target.value),disabled:l,className:"text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Aa.jsx)("input",{type:"text",placeholder:"Category",value:e.metadata.category,onChange:t=>h(e.id,"category",t.target.value),disabled:l,className:"text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"})]}),(0,Aa.jsx)("input",{type:"text",placeholder:"Tags (comma-separated)",value:e.metadata.tags,onChange:t=>h(e.id,"tags",t.target.value),disabled:l,className:"w-full text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Aa.jsx)("textarea",{placeholder:"Description",value:e.metadata.description,onChange:t=>h(e.id,"description",t.target.value),disabled:l,rows:2,className:"w-full text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"})]})]})},e.id))})]}),r.length>0&&(0,Aa.jsx)("div",{className:"flex justify-end",children:(0,Aa.jsxs)("button",{onClick:async()=>{if(0===r.length)return void nn.error("Please select images to upload");i(!0);for(const n of r)try{a(e=>e.map(e=>e.id===n.id?Be(Be({},e),{},{status:"uploading"}):e));const e=new FormData;e.append("file",n.file),n.metadata.description&&e.append("description",n.metadata.description);const r={source:"image_upload",content_type:"image",uploaded_at:(new Date).toISOString(),title:n.metadata.title,category:n.metadata.category,tags:n.metadata.tags?n.metadata.tags.split(",").map(e=>e.trim()):[]};e.append("metadata",JSON.stringify(r)),await ls(t,e,e=>{const t=Math.round(100*e.loaded/e.total);c(e=>Be(Be({},e),{},{[n.id]:t}))}),a(e=>e.map(e=>e.id===n.id?Be(Be({},e),{},{status:"completed"}):e)),nn.success("".concat(n.file.name," uploaded and embedded with CLIP"))}catch(e){console.error("Error uploading ".concat(n.file.name,":"),e),a(e=>e.map(e=>e.id===n.id?Be(Be({},e),{},{status:"failed"}):e)),nn.error("Failed to upload ".concat(n.file.name))}i(!1);r.every(e=>"completed"===e.status||"failed"===e.status)&&n&&setTimeout(n,1e3)},disabled:l,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Aa.jsx)(Fs,{className:"w-4 h-4 mr-2"}),l?"Uploading...":"Upload ".concat(r.length," image").concat(r.length>1?"s":"")]})})]})},Vs=Ba("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ws=e=>{var t,n;let{kbId:r,refreshTrigger:a}=e;const[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(1),[m,p]=(0,s.useState)(1),[f,h]=(0,s.useState)(""),[x,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{y()},[r,d,a]);const y=async()=>{try{c(!0);const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{const r=await Ra.get("/knowledge/".concat(e,"/images/list?page=").concat(t,"&limit=").concat(n));return r.data.data||r.data}catch(r){throw console.error("List images error:",r),r}}(r,d,20);i(e.images),p(e.total_pages)}catch(e){console.error("Error loading images:",e),nn.error("Failed to load images")}finally{c(!1)}},v=async e=>{if(confirm("Are you sure you want to delete this image?"))try{await(async(e,t)=>{try{const n=await Ra.delete("/knowledge/".concat(e,"/images/").concat(t,"?kb_id=").concat(e));return n.data.data||n.data}catch(n){throw console.error("Delete image error:",n),n}})(r,e),nn.success("Image deleted successfully"),y()}catch(t){console.error("Error deleting image:",t),nn.error("Failed to delete image")}},b=l.filter(e=>{var t,n,r;return(null===(t=e.filename)||void 0===t?void 0:t.toLowerCase().includes(f.toLowerCase()))||(null===(n=e.metadata)||void 0===n||null===(r=n.description)||void 0===r?void 0:r.toLowerCase().includes(f.toLowerCase()))});return o?(0,Aa.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Aa.jsx)(Vs,{className:"w-8 h-8 animate-spin text-primary-600"})}):0===l.length?(0,Aa.jsxs)("div",{className:"text-center py-12",children:[(0,Aa.jsx)(Ds,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Aa.jsx)("p",{className:"text-gray-600",children:"No images uploaded yet"})]}):(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{className:"relative",children:[(0,Aa.jsx)(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Aa.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),placeholder:"Search images...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})]}),(0,Aa.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b.map(e=>{var t;return(0,Aa.jsxs)("div",{className:"group relative bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>g(e),children:[(0,Aa.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Aa.jsx)(Ds,{className:"w-12 h-12 text-gray-400"})}),(0,Aa.jsxs)("div",{className:"p-3",children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.filename}),(0,Aa.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.file_size_bytes/1024).toFixed(1)," KB"]}),(null===(t=e.metadata)||void 0===t?void 0:t.description)&&(0,Aa.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate",children:e.metadata.description})]}),(0,Aa.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:(0,Aa.jsx)("button",{onClick:t=>{t.stopPropagation(),v(e.id)},className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600",title:"Delete",children:(0,Aa.jsx)(Ya,{className:"w-4 h-4"})})})]},e.id)})}),m>1&&(0,Aa.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,Aa.jsx)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===d,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Aa.jsxs)("span",{className:"px-4 py-2",children:["Page ",d," of ",m]}),(0,Aa.jsx)("button",{onClick:()=>u(e=>Math.min(m,e+1)),disabled:d===m,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),x&&(0,Aa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:(0,Aa.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6",onClick:e=>e.stopPropagation(),children:[(0,Aa.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Aa.jsx)("h3",{className:"text-lg font-semibold",children:x.filename}),(0,Aa.jsx)("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700",children:(0,Aa.jsx)(Za,{className:"w-5 h-5"})})]}),(0,Aa.jsxs)("div",{className:"space-y-3",children:[(0,Aa.jsx)("div",{className:"aspect-video bg-gray-100 rounded flex items-center justify-center",children:(0,Aa.jsx)(Ds,{className:"w-16 h-16 text-gray-400"})}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("span",{className:"text-gray-600",children:"File Size:"}),(0,Aa.jsxs)("span",{className:"ml-2 font-medium",children:[(x.file_size_bytes/1024).toFixed(1)," KB"]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Aa.jsx)("span",{className:"ml-2 font-medium",children:x.content_type})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("span",{className:"text-gray-600",children:"Uploaded:"}),(0,Aa.jsx)("span",{className:"ml-2 font-medium",children:new Date(x.created_at).toLocaleDateString()})]})]}),(null===(t=x.metadata)||void 0===t?void 0:t.description)&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm text-gray-600",children:"Description:"}),(0,Aa.jsx)("p",{className:"text-sm mt-1",children:x.metadata.description})]}),(null===(n=x.metadata)||void 0===n?void 0:n.tags)&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("p",{className:"text-sm text-gray-600",children:"Tags:"}),(0,Aa.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:x.metadata.tags.map((e,t)=>(0,Aa.jsx)("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded",children:e},t))})]})]})]})})]})},$s=e=>{let{kbId:t}=e;const[n,r]=(0,s.useState)(""),[a,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)("text");return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),n.trim())try{var r;o(!0);const e=await(async(e,t)=>{try{const n=await Ra.post("/knowledge/".concat(e,"/images/search"),t);return n.data.data||n.data}catch(n){throw console.error("Search images error:",n),n}})(t,{query:n,search_type:c,top_k:10});l(e.results||[]),0===(null===(r=e.results)||void 0===r?void 0:r.length)?nn("No images found matching your query"):nn.success("Found ".concat(e.results.length," images"))}catch(a){console.error("Search error:",a),nn.error("Failed to search images")}finally{o(!1)}else nn.error("Please enter a search query")},className:"space-y-4",children:(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for images"}),(0,Aa.jsxs)("div",{className:"flex gap-2",children:[(0,Aa.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"e.g., red shoes, product images, etc.",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",disabled:i}),(0,Aa.jsx)("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:i?(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(Vs,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(_s,{className:"w-4 h-4 mr-2"}),"Search"]})})]})]})}),a.length>0&&(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Search Results (",a.length,")"]}),(0,Aa.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map((e,t)=>{var n;return(0,Aa.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,Aa.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Aa.jsx)(Ds,{className:"w-12 h-12 text-gray-400"})}),(0,Aa.jsxs)("div",{className:"p-3",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.filename||"Image"}),(0,Aa.jsxs)("span",{className:"text-xs font-semibold text-primary-600",children:[(100*e.score).toFixed(0),"%"]})]}),(null===(n=e.metadata)||void 0===n?void 0:n.description)&&(0,Aa.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.metadata.description})]})]},e.result_id||t)})})]})]})},Ks=()=>{const{id:e}=re(),t=te(),[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)([]),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)("documents"),[p,f]=(0,s.useState)(0),[h,x]=(0,s.useState)(""),[g,y]=(0,s.useState)("all");(0,s.useEffect)(()=>{v()},[e]);const v=async()=>{try{d(!0);const[a,s,i]=await Promise.all([ns(e),(t=e,Ra.get("/knowledge/".concat(t,"/documents"),{params:n})),ss(e)]);r(a.data.data),l(s.data.data.items||[]),o(i.data.data)}catch(a){nn.error("Failed to load documents"),console.error(a)}finally{d(!1)}var t,n},b=async t=>{if(window.confirm("Are you sure? This will delete all chunks and embeddings."))try{await((e,t)=>Ra.delete("/knowledge/".concat(e,"/documents/").concat(t)))(e,t),nn.success("Document deleted"),v()}catch(n){nn.error("Failed to delete document"),console.error(n)}},j=a.filter(e=>{const t=e.original_filename.toLowerCase().includes(h.toLowerCase()),n="all"===g||e.status===g;return t&&n}),w=e=>{switch(e){case"completed":return(0,Aa.jsx)(Ls,{className:"w-5 h-5 text-green-500"});case"processing":return(0,Aa.jsx)(ps,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"failed":return(0,Aa.jsx)(Rs,{className:"w-5 h-5 text-red-500"});default:return(0,Aa.jsx)(Es,{className:"w-5 h-5 text-gray-500"})}},N=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return c?(0,Aa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("button",{onClick:()=>t("/knowledge"),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Aa.jsx)(Ps,{className:"w-4 h-4 mr-1"}),"Back to Knowledge Bases"]}),(0,Aa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===n||void 0===n?void 0:n.name}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.description})]}),(0,Aa.jsxs)(Ae,{to:"/knowledge/".concat(e,"/chat"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Aa.jsx)(ws,{className:"w-4 h-4 mr-2"}),"Test Chat"]})]}),i&&(0,Aa.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(Es,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Documents"}),(0,Aa.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.total_documents||0})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(Cs,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Chunks"}),(0,Aa.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.total_chunks||0})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(Cs,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Vectors"}),(0,Aa.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.total_vectors||0})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(_s,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Embedding Model"}),(0,Aa.jsx)("dd",{className:"text-sm font-semibold text-gray-900",children:i.embedding_model||"N/A"})]})})]})})})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Aa.jsx)("div",{className:"border-b border-gray-200",children:(0,Aa.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[(0,Aa.jsxs)("button",{onClick:()=>m("documents"),className:"".concat("documents"===u?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Aa.jsx)(Es,{className:"w-5 h-5 mr-2"}),"Documents (",a.length,")"]}),(0,Aa.jsxs)("button",{onClick:()=>m("upload"),className:"".concat("upload"===u?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Aa.jsx)(Fs,{className:"w-5 h-5 mr-2"}),"Upload Files"]}),(0,Aa.jsxs)("button",{onClick:()=>m("scrape"),className:"".concat("scrape"===u?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Aa.jsx)(Ms,{className:"w-5 h-5 mr-2"}),"Web Scraping"]}),(0,Aa.jsxs)("button",{onClick:()=>m("images"),className:"flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("images"===u?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Aa.jsx)(Ds,{className:"w-4 h-4 mr-2"}),"Images"]})]})}),(0,Aa.jsxs)("div",{className:"p-6",children:["documents"===u&&(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsxs)("div",{className:"flex gap-4",children:[(0,Aa.jsxs)("div",{className:"flex-1 relative",children:[(0,Aa.jsx)(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Aa.jsx)("input",{type:"text",placeholder:"Search documents...",value:h,onChange:e=>x(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Aa.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"all",children:"All Status"}),(0,Aa.jsx)("option",{value:"completed",children:"Completed"}),(0,Aa.jsx)("option",{value:"processing",children:"Processing"}),(0,Aa.jsx)("option",{value:"failed",children:"Failed"})]}),(0,Aa.jsxs)("button",{onClick:v,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Aa.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),0===j.length?(0,Aa.jsxs)("div",{className:"text-center py-12",children:[(0,Aa.jsx)(Es,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Aa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Upload files or scrape websites to get started"})]}):(0,Aa.jsx)("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:(0,Aa.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,Aa.jsx)("thead",{className:"bg-gray-50",children:(0,Aa.jsxs)("tr",{children:[(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Document"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Type"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Size"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Status"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Stats"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Date"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Actions"})]})}),(0,Aa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>{var t,n;return(0,Aa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Aa.jsx)("td",{className:"px-6 py-4",children:(0,Aa.jsxs)("div",{className:"flex items-center min-w-0",children:[w(e.status),(0,Aa.jsxs)("div",{className:"ml-3 min-w-0 flex-1",children:[(0,Aa.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-md",title:e.original_filename,children:e.original_filename}),(null===(t=e.metadata)||void 0===t?void 0:t.source_url)&&(0,Aa.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-md",title:e.metadata.source_url,children:e.metadata.source_url})]})]})}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Aa.jsx)("span",{className:"text-xs text-gray-900 truncate block max-w-24",title:e.file_type,children:e.file_type.split("/")[1]||e.file_type})}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(e.file_size_bytes)}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Aa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((n=e.status,{completed:"bg-green-100 text-green-800",processing:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",uploaded:"bg-blue-100 text-blue-800"}[n]||"bg-gray-100 text-gray-800")),children:e.status})}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.processing_stats?(0,Aa.jsxs)("div",{className:"flex gap-3",children:[(0,Aa.jsxs)("span",{title:"Chunks",children:["\ud83d\udce6 ",e.processing_stats.total_chunks||0]}),e.processing_stats.total_pages>0&&(0,Aa.jsxs)("span",{title:"Pages",children:["\ud83d\udcc4 ",e.processing_stats.total_pages]})]}):"-"}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Aa.jsx)("button",{onClick:()=>b(e.id),className:"text-red-600 hover:text-red-900",title:"Delete document",children:(0,Aa.jsx)(Ya,{className:"w-4 h-4"})})})]},e.id)})})]})})]}),"upload"===u&&(0,Aa.jsx)(zs,{kbId:e,onComplete:()=>{nn.success("Upload completed!"),v(),m("documents")}}),"scrape"===u&&(0,Aa.jsx)(qs,{kbId:e,onComplete:()=>{nn.success("Scraping completed!"),v(),m("documents")}}),"images"===u&&(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Images"}),(0,Aa.jsx)(Hs,{kbId:e,onComplete:()=>f(e=>e+1)})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Search Images"}),(0,Aa.jsx)($s,{kbId:e})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Image Gallery"}),(0,Aa.jsx)(Ws,{kbId:e,refreshTrigger:p})]})]})]})]})]})},Qs=Ba("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Js=()=>{const{id:e}=re(),t=te(),[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(5),[c,d]=(0,s.useState)("text"),[u,m]=(0,s.useState)(!1),[p,f]=(0,s.useState)(null),[h,x]=(0,s.useState)([]);(0,s.useEffect)(()=>{g()},[e]);const g=async()=>{try{const t=await ns(e);r(t.data.data)}catch(t){nn.error("Failed to load knowledge base"),console.error(t)}},y=(e,t)=>{if(!t)return e;return e.split(new RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,Aa.jsx)("mark",{className:"bg-yellow-200",children:e},n):e)};return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsx)("div",{className:"flex items-center justify-between",children:(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Aa.jsx)(Ps,{className:"w-4 h-4 mr-1"}),"Back to Documents"]}),(0,Aa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Search Knowledge Base"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.name})]})}),(0,Aa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Aa.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a.trim())try{m(!0);const t=Date.now(),n=await as({kb_id:e,query:a,top_k:i,search_type:c}),r=Date.now()-t,s=Be(Be({},n.data.data),{},{query:a,timestamp:(new Date).toISOString(),searchTime:r});f(s),x(e=>[s,...e.slice(0,9)]),nn.success("Found ".concat(s.results.total_found," results"))}catch(n){nn.error("Search failed"),console.error(n)}finally{m(!1)}else nn.error("Please enter a search query")},className:"space-y-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Query"}),(0,Aa.jsxs)("div",{className:"relative",children:[(0,Aa.jsx)(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Aa.jsx)("input",{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"Ask a question or enter search terms...",className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Results to Return"}),(0,Aa.jsxs)("select",{value:i,onChange:e=>o(parseInt(e.target.value)),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:3,children:"Top 3"}),(0,Aa.jsx)("option",{value:5,children:"Top 5"}),(0,Aa.jsx)("option",{value:10,children:"Top 10"}),(0,Aa.jsx)("option",{value:20,children:"Top 20"})]})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Type"}),(0,Aa.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"text",children:"Text Only"}),(0,Aa.jsx)("option",{value:"hybrid",children:"Hybrid (Text + Image)"}),(0,Aa.jsx)("option",{value:"image",children:"Image Only"})]})]})]}),(0,Aa.jsx)("button",{type:"submit",disabled:u,className:"w-full inline-flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:u?(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(Qs,{className:"w-5 h-5 mr-2 animate-pulse"}),"Searching..."]}):(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(_s,{className:"w-5 h-5 mr-2"}),"Search"]})})]}),(0,Aa.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Aa.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Try these examples:"}),(0,Aa.jsx)("div",{className:"flex flex-wrap gap-2",children:["What is AIVA?","How to create an agent?","Pricing information","Supported languages","Integration options"].map((e,t)=>(0,Aa.jsx)("button",{onClick:()=>l(e),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700",children:e},t))})]})]}),p&&(0,Aa.jsxs)("div",{className:"space-y-4",children:[(0,Aa.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,Aa.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:p.results.total_found}),(0,Aa.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Results Found"})]}),(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[p.searchTime,"ms"]}),(0,Aa.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Search Time"})]}),(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:p.metrics.chunks_searched}),(0,Aa.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Chunks Searched"})]}),(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",p.cost.toFixed(6)]}),(0,Aa.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cost"})]})]})}),p.results.text_results.length>0&&(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Aa.jsx)(Es,{className:"w-5 h-5 mr-2"}),"Text Results (",p.results.text_results.length,")"]}),(0,Aa.jsx)("div",{className:"space-y-4",children:p.results.text_results.map((e,t)=>(0,Aa.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 transition-colors",children:[(0,Aa.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Aa.jsxs)("span",{className:"text-sm font-semibold text-primary-600",children:["#",t+1]})}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.source.document_name}),(0,Aa.jsxs)("div",{className:"text-xs text-gray-500",children:["Chunk ",e.source.chunk_index," \u2022 ",e.type]})]})]}),(0,Aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Aa.jsxs)("div",{className:"text-right",children:[(0,Aa.jsx)("div",{className:"text-xs text-gray-500",children:"Relevance"}),(0,Aa.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:[(100*e.score).toFixed(1),"%"]})]}),(0,Aa.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,Aa.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(100*e.score,"%")}})})]})]}),(0,Aa.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed",children:y(e.content,a)}),e.source.metadata&&Object.keys(e.source.metadata).length>0&&(0,Aa.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,Aa.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.source.metadata).map(e=>{let[t,n]=e;return(0,Aa.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:[t,": ",String(n)]},t)})})})]},e.result_id))})]}),0===p.results.total_found&&(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[(0,Aa.jsx)(_s,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Aa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No results found"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search query or adding more documents"})]})]}),!p&&(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[(0,Aa.jsx)(_s,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Aa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Ready to search"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enter a query above to search the knowledge base"})]})]}),(0,Aa.jsxs)("div",{className:"space-y-6",children:[h.length>0&&(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Aa.jsx)(ps,{className:"w-4 h-4 mr-2"}),"Recent Searches"]}),(0,Aa.jsx)("div",{className:"space-y-2",children:h.map((e,t)=>(0,Aa.jsxs)("button",{onClick:()=>{return l((t=e).query),void f(t);var t},className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 border border-gray-200 transition-colors",children:[(0,Aa.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.query}),(0,Aa.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Aa.jsxs)("span",{className:"text-xs text-gray-500",children:[e.results.total_found," results"]}),(0,Aa.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t))})]}),(0,Aa.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Aa.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Search Tips"}),(0,Aa.jsxs)("ul",{className:"text-xs text-blue-700 space-y-2",children:[(0,Aa.jsx)("li",{children:"\u2022 Use natural language questions"}),(0,Aa.jsx)("li",{children:"\u2022 Be specific for better results"}),(0,Aa.jsx)("li",{children:"\u2022 Try different phrasings"}),(0,Aa.jsx)("li",{children:"\u2022 Check relevance scores"}),(0,Aa.jsx)("li",{children:"\u2022 Adjust top_k for more results"})]})]}),p&&(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Search Metrics"}),(0,Aa.jsxs)("div",{className:"space-y-3",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Aa.jsx)("span",{className:"text-gray-600",children:"Query Tokens"}),(0,Aa.jsx)("span",{className:"font-medium text-gray-900",children:p.metrics.query_tokens||0})]}),(0,Aa.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Aa.jsx)("span",{className:"text-gray-600",children:"Embedding Model"}),(0,Aa.jsx)("span",{className:"font-medium text-gray-900 text-xs",children:p.metrics.embedding_model})]}),(0,Aa.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Aa.jsx)("span",{className:"text-gray-600",children:"Processing Time"}),(0,Aa.jsxs)("span",{className:"font-medium text-gray-900",children:[p.metrics.processing_time_ms,"ms"]})]}),(0,Aa.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Aa.jsx)("span",{className:"text-gray-600",children:"Search Cost"}),(0,Aa.jsxs)("span",{className:"font-medium text-green-600",children:["$",p.cost.toFixed(6)]})]})]})]})]})]})]})},Gs=Ba("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Ys=()=>{const{id:e}=re(),t=te(),[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(!0),[u,m]=(0,s.useState)("7d");(0,s.useEffect)(()=>{p()},[e,u]);const p=async()=>{try{d(!0);const[a,s,i]=await Promise.all([ns(e),ss(e),(t=e,n={limit:50},Ra.get("/knowledge/".concat(t,"/searches"),{params:n}))]);r(a.data.data),l(s.data.data),o(i.data.data||[])}catch(a){nn.error("Failed to load statistics"),console.error(a)}finally{d(!1)}var t,n};if(c)return(0,Aa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const f=(()=>{const e={};return i.forEach(t=>{const n=new Date(t.created_at).toLocaleDateString();e[n]=(e[n]||0)+1}),e})(),h=(()=>{const e={};return i.forEach(t=>{e[t.query]=(e[t.query]||0)+1}),Object.entries(e).sort((e,t)=>t[1]-e[1]).slice(0,10).map(e=>{let[t,n]=e;return{query:t,count:n}})})();return(0,Aa.jsxs)("div",{className:"space-y-6",children:[(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsxs)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Aa.jsx)(Ps,{className:"w-4 h-4 mr-1"}),"Back to Documents"]}),(0,Aa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base Statistics"}),(0,Aa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.name})]}),(0,Aa.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Aa.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,Aa.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,Aa.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,Aa.jsx)("option",{value:"90d",children:"Last 90 Days"})]})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(Es,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Documents"}),(0,Aa.jsx)("dd",{className:"flex items-baseline",children:(0,Aa.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:(null===a||void 0===a?void 0:a.total_documents)||0})})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(Cs,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Chunks"}),(0,Aa.jsx)("dd",{className:"flex items-baseline",children:(0,Aa.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:(null===a||void 0===a?void 0:a.total_chunks)||0})})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(_s,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Searches"}),(0,Aa.jsx)("dd",{className:"flex items-baseline",children:(0,Aa.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:i.length})})]})})]})})}),(0,Aa.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Aa.jsx)("div",{className:"p-5",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0",children:(0,Aa.jsx)(Wa,{className:"h-6 w-6 text-gray-400"})}),(0,Aa.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Aa.jsxs)("dl",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Relevance"}),(0,Aa.jsx)("dd",{className:"flex items-baseline",children:(0,Aa.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[(()=>{if(!i.length)return 0;return(i.reduce((e,t)=>e+(t.avg_relevance_score||0),0)/i.length).toFixed(2)})(),"%"]})})]})})]})})})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Aa.jsx)(fs,{className:"w-5 h-5 mr-2"}),"Search Activity"]}),Object.keys(f).length>0?(0,Aa.jsx)("div",{className:"space-y-3",children:Object.entries(f).sort((e,t)=>new Date(t[0])-new Date(e[0])).slice(0,7).map(e=>{let[t,n]=e;return(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Aa.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(n/Math.max(...Object.values(f))*100,"%")}})}),(0,Aa.jsx)("span",{className:"text-sm font-medium text-gray-900 w-8 text-right",children:n})]})]},t)})}):(0,Aa.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No search activity yet"})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Aa.jsx)(Gs,{className:"w-5 h-5 mr-2"}),"Top Queries"]}),h.length>0?(0,Aa.jsx)("div",{className:"space-y-3",children:h.map((e,t)=>(0,Aa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Aa.jsx)("div",{className:"flex-1 min-w-0 mr-4",children:(0,Aa.jsxs)("div",{className:"flex items-center",children:[(0,Aa.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center text-xs font-semibold text-primary-600 mr-2",children:t+1}),(0,Aa.jsx)("span",{className:"text-sm text-gray-900 truncate",children:e.query})]})}),(0,Aa.jsx)("span",{className:"flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.count})]},t))}):(0,Aa.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No queries yet"})]})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Aa.jsx)(ps,{className:"w-5 h-5 mr-2"}),"Recent Searches"]}),i.length>0?(0,Aa.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:(0,Aa.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,Aa.jsx)("thead",{className:"bg-gray-50",children:(0,Aa.jsxs)("tr",{children:[(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Query"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Results"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Aa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,Aa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.slice(0,20).map(e=>(0,Aa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Aa.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-md truncate",children:e.query}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.results_count||0}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.avg_relevance_score?"".concat((100*e.avg_relevance_score).toFixed(1),"%"):"N/A"}),(0,Aa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.processing_time_ms,"ms"]}),(0,Aa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]},e.id))})]})}):(0,Aa.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No search history available"})]}),(0,Aa.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Aa.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),(0,Aa.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Embedding Model"}),(0,Aa.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===a||void 0===a?void 0:a.embedding_model)||"N/A"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Vector Dimension"}),(0,Aa.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===a||void 0===a?void 0:a.vector_dimension)||"N/A"})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Vectors"}),(0,Aa.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===a||void 0===a?void 0:a.total_vectors)||0})]}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,Aa.jsx)("dd",{className:"mt-1",children:(0,Aa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:(null===n||void 0===n?void 0:n.status)||"active"})})]})]})]})]})},Xs=Ba("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Zs=Ba("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),el=Ba("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),tl=Ba("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),nl=()=>{const{id:e}=re(),t=te(),n=(0,s.useRef)(null),[r,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(!0),[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[f]=(0,s.useState)("test-".concat(Date.now())),[h,x]=(0,s.useState)(null),[g,y]=(0,s.useState)(null),[v,b]=(0,s.useState)(null),j=(0,s.useRef)(null);(0,s.useEffect)(()=>{w()},[e]),(0,s.useEffect)(()=>{N()},[o]);const w=async()=>{try{i(!0);const t=await ns(e);a(t.data.data),c([{role:"assistant",content:"Hi! I'm ready to answer questions about **".concat(t.data.data.name,"**. Ask me anything!"),timestamp:(new Date).toISOString()}])}catch(t){nn.error("Failed to load knowledge base"),console.error(t)}finally{i(!1)}},N=()=>{var e;null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},k=()=>{y(null),b(null),j.current&&(j.current.value="")};return l?(0,Aa.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Aa.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,Aa.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Aa.jsx)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"text-gray-600 hover:text-gray-900",children:(0,Aa.jsx)(Ps,{className:"w-5 h-5"})}),(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Test Chat"}),(0,Aa.jsx)("p",{className:"text-sm text-gray-500",children:null===r||void 0===r?void 0:r.name})]})]}),(0,Aa.jsxs)("button",{onClick:()=>{c([{role:"assistant",content:"Chat cleared! Ask me anything about **".concat(null===r||void 0===r?void 0:r.name,"**."),timestamp:(new Date).toISOString()}])},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Aa.jsx)(Xs,{className:"w-4 h-4 mr-2"}),"Clear Chat"]})]})}),(0,Aa.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:(0,Aa.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.map((e,t)=>(0,Aa.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Aa.jsxs)("div",{className:"flex max-w-3xl ".concat("user"===e.role?"flex-row-reverse":"flex-row"," gap-3"),children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.role?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"user"===e.role?(0,Aa.jsx)(ms,{className:"w-5 h-5"}):(0,Aa.jsx)(Ha,{className:"w-5 h-5"})}),(0,Aa.jsxs)("div",{className:"flex-1 ".concat("user"===e.role?"text-right":"text-left"),children:[(0,Aa.jsx)("div",{className:"inline-block px-4 py-3 rounded-lg ".concat("user"===e.role?"bg-primary-600 text-white":e.error?"bg-red-50 text-red-900 border border-red-200":"bg-white text-gray-900 border border-gray-200"),children:(0,Aa.jsx)("div",{className:"prose prose-sm max-w-none",children:e.content.split("\n").map((e,t)=>{const n=e.split(/(\*\*.*?\*\*)/g);return(0,Aa.jsx)("p",{className:"mb-2 last:mb-0",children:n.map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Aa.jsx)("strong",{children:e.slice(2,-2)},t):(0,Aa.jsx)("span",{children:e},t))},t)})})}),(0,Aa.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500 ".concat("user"===e.role?"justify-end":"justify-start"),children:[(0,Aa.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()}),"assistant"===e.role&&(0,Aa.jsx)("button",{onClick:()=>((e,t)=>{navigator.clipboard.writeText(e),x(t),setTimeout(()=>x(null),2e3),nn.success("Copied to clipboard")})(e.content,t),className:"hover:text-gray-700",children:h===t?(0,Aa.jsx)(Zs,{className:"w-3 h-3"}):(0,Aa.jsx)(el,{className:"w-3 h-3"})})]}),e.sources&&e.sources.length>0&&(0,Aa.jsx)("div",{className:"mt-2 text-xs",children:(0,Aa.jsxs)("details",{className:"cursor-pointer",children:[(0,Aa.jsxs)("summary",{className:"text-gray-500 hover:text-gray-700",children:["View sources (",e.sources.length,")"]}),(0,Aa.jsx)("div",{className:"mt-2 space-y-1 text-gray-600",children:e.sources.map((e,t)=>(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsx)("span",{children:e.document}),(0,Aa.jsxs)("span",{className:"text-gray-400",children:[(100*e.score).toFixed(0),"%"]})]},t))})]})})]})]})},t)),m&&(0,Aa.jsx)("div",{className:"flex justify-start",children:(0,Aa.jsxs)("div",{className:"flex gap-3 max-w-3xl",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Aa.jsx)(Ha,{className:"w-5 h-5 text-gray-600"})}),(0,Aa.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:(0,Aa.jsxs)("div",{className:"flex space-x-2",children:[(0,Aa.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Aa.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Aa.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),(0,Aa.jsx)("div",{ref:n})]})}),(0,Aa.jsx)("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:(0,Aa.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!d.trim()&&!g||m)return;const n={role:"user",content:d.trim()||"[Image Query]",timestamp:(new Date).toISOString(),hasImage:!!g};c(e=>[...e,n]);const r=d.trim(),a=g,s=v;u(""),k(),p(!0);try{const t={kb_id:e,query:r||"Show me similar images",top_k:5,search_type:a?r?"hybrid":"image":"text"};a&&(t.image_base64=s.split(",")[1]);const n=await as(t),l=n.data.data.text_results||[],i=n.data.data.image_results||[];let o="";0===l.length&&0===i.length?o="I couldn't find any relevant information or images in the knowledge base for that query. Could you try rephrasing or asking something else?":(l.length>0&&(o="Based on the knowledge base:\n\n".concat(l[0].content,"\n\n"),l.length>1&&(o+="\n**Additional relevant information:**\n",l.slice(1,3).forEach((e,t)=>{o+="\n".concat(t+2,". ").concat(e.content.substring(0,200),"...")})),o+="\n\n**Text Sources:**\n",l.forEach((e,t)=>{o+="- ".concat(e.source.document_name," (relevance: ").concat((100*e.score).toFixed(0),"%)\n")})),i.length>0&&(l.length>0&&(o+="\n\n"),o+="**Found ".concat(i.length," relevant image").concat(i.length>1?"s":"",":**\n\n"),i.forEach((e,t)=>{var n;o+="".concat(t+1,". ").concat(e.filename||"Image"," (similarity: ").concat((100*e.score).toFixed(0),"%)\n"),null!==(n=e.metadata)&&void 0!==n&&n.description&&(o+="   Description: ".concat(e.metadata.description,"\n"))})));const d={role:"assistant",content:o,timestamp:(new Date).toISOString(),sources:l.map(e=>({document:e.source.document_name,score:e.score,chunk_index:e.source.chunk_index})),imageResults:i};c(e=>[...e,d])}catch(l){console.error("Chat error:",l);const e={role:"assistant",content:"Sorry, I encountered an error while searching the knowledge base. Please try again.",timestamp:(new Date).toISOString(),error:!0};c(t=>[...t,e]),nn.error("Failed to get response")}finally{p(!1)}},className:"max-w-4xl mx-auto",children:[v&&(0,Aa.jsxs)("div",{className:"mb-3 flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Aa.jsx)("img",{src:v,alt:"Selected",className:"w-20 h-20 object-cover rounded"}),(0,Aa.jsxs)("div",{className:"flex-1",children:[(0,Aa.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===g||void 0===g?void 0:g.name}),(0,Aa.jsxs)("p",{className:"text-xs text-gray-500",children:[g&&(g.size/1024).toFixed(1)," KB"]})]}),(0,Aa.jsx)("button",{type:"button",onClick:k,className:"text-gray-400 hover:text-gray-600",children:(0,Aa.jsx)(Za,{className:"w-5 h-5"})})]}),(0,Aa.jsxs)("div",{className:"flex gap-3",children:[(0,Aa.jsx)("input",{ref:j,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return void nn.error("Invalid image type. Only JPG, PNG, GIF, and WEBP are supported.");if(t.size>10485760)return void nn.error("Image too large. Maximum size is 10MB.");const n=new FileReader;n.onloadend=()=>{y(t),b(n.result)},n.readAsDataURL(t)},className:"hidden"}),(0,Aa.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},disabled:m,className:"inline-flex items-center p-2 border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add image to search",children:(0,Aa.jsx)(Ds,{className:"w-5 h-5 text-gray-600"})}),(0,Aa.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:g?"Describe what you're looking for (optional)...":"Ask a question about the knowledge base...",disabled:m,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Aa.jsx)("button",{type:"submit",disabled:m||!d.trim()&&!g,className:"inline-flex items-center px-6 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,Aa.jsx)(Bs,{className:"w-5 h-5 animate-spin"}):(0,Aa.jsx)(tl,{className:"w-5 h-5"})})]})]})})]})},rl=Ba("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),al=Ba("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),sl=()=>{te();const e=(0,s.useRef)(null),[t,n]=(0,s.useState)([]),[r,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(null),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(""),[f,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),[y,v]=(0,s.useState)(!0),[b,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null),[k,S]=(0,s.useState)(0);(0,s.useEffect)(()=>{C()},[]),(0,s.useEffect)(()=>{_()},[d]);const _=()=>{var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},C=async()=>{try{const e=await Ea({status:"active"});n(e.data.agents||[])}catch(e){nn.error("Failed to load agents"),console.error(e)}},E=e=>"$".concat((e||0).toFixed(6));return(0,Aa.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,Aa.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Aa.jsx)(ws,{className:"w-6 h-6 text-primary-600"}),(0,Aa.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Agent Test Chat"})]}),(0,Aa.jsx)("div",{className:"ml-6",children:(0,Aa.jsxs)("select",{value:r||"",onChange:e=>(async e=>{if(!e)return a(null),i(null),u([]),g(null),void S(0);try{c(!0);const t=(await Oa(e)).data.agent;a(e),i(t),u([{role:"assistant",content:t.greeting||"Hello! I'm ".concat(t.name,". How can I help you today?"),timestamp:(new Date).toISOString()}]),g(null),S(0),nn.success("Agent loaded: ".concat(t.name))}catch(t){nn.error("Failed to load agent details"),console.error(t)}finally{c(!1)}})(e.target.value),disabled:o,className:"block w-64 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Aa.jsx)("option",{value:"",children:"Select an agent..."}),t.map(e=>(0,Aa.jsxs)("option",{value:e.id,children:[e.name," ",e.kb_id?"\ud83d\udcda":""]},e.id))]})})]}),(0,Aa.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Aa.jsxs)("div",{className:"text-right",children:[(0,Aa.jsx)("div",{className:"text-xs text-gray-500",children:"Total Cost"}),(0,Aa.jsx)("div",{className:"text-lg font-bold text-gray-900",children:E(k)})]}),d.length>1&&(0,Aa.jsxs)("button",{onClick:async()=>{if(x)try{await(e=>Ra.post("/chat/sessions/".concat(e,"/end")))(x)}catch(e){console.error("Failed to end session:",e)}u([{role:"assistant",content:(null===l||void 0===l?void 0:l.greeting)||"Hello! I'm ".concat(null===l||void 0===l?void 0:l.name,". How can I help you today?"),timestamp:(new Date).toISOString()}]),g(null),S(0),nn.success("Chat cleared")},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Aa.jsx)(Xs,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]})}),(0,Aa.jsx)("div",{className:"flex-1 flex overflow-hidden",children:(0,Aa.jsxs)("div",{className:"flex-1 flex flex-col",children:[l&&(0,Aa.jsxs)("div",{className:"bg-blue-50 border-b border-blue-200",children:[(0,Aa.jsxs)("button",{onClick:()=>v(!y),className:"w-full px-6 py-3 flex items-center justify-between hover:bg-blue-100 transition-colors",children:[(0,Aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Aa.jsx)(Ha,{className:"w-5 h-5 text-blue-600"}),(0,Aa.jsxs)("span",{className:"font-medium text-blue-900",children:["Agent: ",l.name]}),l.kb_id&&(0,Aa.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-200 text-blue-800",children:[(0,Aa.jsx)(js,{className:"w-3 h-3 mr-1"}),"KB Enabled"]})]}),y?(0,Aa.jsx)(rl,{className:"w-5 h-5 text-blue-600"}):(0,Aa.jsx)(al,{className:"w-5 h-5 text-blue-600"})]}),y&&(0,Aa.jsxs)("div",{className:"px-6 pb-4 space-y-3",children:[(0,Aa.jsxs)("div",{children:[(0,Aa.jsx)("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Instructions (Persona)"}),(0,Aa.jsx)("div",{className:"text-sm text-blue-800 bg-white rounded p-3 max-h-32 overflow-y-auto whitespace-pre-wrap font-mono text-xs",children:l.instructions})]}),(0,Aa.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,Aa.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Aa.jsx)("div",{className:"text-xs text-gray-500",children:"Model"}),(0,Aa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:l.model||"gpt-4o-mini"})]}),(0,Aa.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Aa.jsx)("div",{className:"text-xs text-gray-500",children:"Temperature"}),(0,Aa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:l.temperature||.7})]}),(0,Aa.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Aa.jsx)("div",{className:"text-xs text-gray-500",children:"Max Tokens"}),(0,Aa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:l.max_tokens||4096})]}),(0,Aa.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Aa.jsx)("div",{className:"text-xs text-gray-500",children:"Provider"}),(0,Aa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:l.provider||"openai"})]})]})]})]}),(0,Aa.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:r?(0,Aa.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.map((e,t)=>(0,Aa.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Aa.jsxs)("div",{className:"flex max-w-3xl ".concat("user"===e.role?"flex-row-reverse":"flex-row"," gap-3"),children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.role?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"user"===e.role?(0,Aa.jsx)(ms,{className:"w-5 h-5"}):(0,Aa.jsx)(Ha,{className:"w-5 h-5"})}),(0,Aa.jsxs)("div",{className:"flex-1 ".concat("user"===e.role?"items-end":"items-start"),children:[(0,Aa.jsxs)("div",{className:"rounded-lg px-4 py-3 ".concat("user"===e.role?"bg-primary-600 text-white":e.error?"bg-red-50 border border-red-200":"bg-white border border-gray-200"),children:[(0,Aa.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,Aa.jsx)("p",{className:"whitespace-pre-wrap ".concat("user"===e.role?"text-white":"text-gray-900"),children:e.content})}),e.sources&&e.sources.length>0&&(0,Aa.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Aa.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Aa.jsx)(js,{className:"w-3 h-3 mr-1"}),"Knowledge Sources (",e.sources.length,")"]}),(0,Aa.jsx)("div",{className:"space-y-1",children:e.sources.slice(0,3).map((e,t)=>(0,Aa.jsx)("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Aa.jsx)("span",{className:"font-medium truncate",children:e.title}),(0,Aa.jsxs)("span",{className:"text-gray-500 ml-2",children:[(100*e.relevance_score).toFixed(0),"%"]})]})},t))})]}),e.images&&e.images.length>0&&(0,Aa.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Aa.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Aa.jsx)(Ds,{className:"w-3 h-3 mr-1"}),"Images (",e.images.length,")"]}),(0,Aa.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.images.slice(0,4).map((e,t)=>(0,Aa.jsx)("div",{className:"relative",children:(0,Aa.jsx)("img",{src:e.thumbnail_url||e.url,alt:e.title,className:"w-full h-24 object-cover rounded"})},t))})]}),e.function_calls&&e.function_calls.length>0&&(0,Aa.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Aa.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Aa.jsx)(Qs,{className:"w-3 h-3 mr-1"}),"Function Calls (",e.function_calls.length,")"]}),e.function_calls.map((e,t)=>(0,Aa.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2 mb-1",children:[(0,Aa.jsx)("span",{className:"font-medium",children:e.function_name}),(0,Aa.jsxs)("span",{className:"text-green-600 ml-2",children:["\u2713 ",e.status]})]},t))]}),void 0!==e.cost&&(0,Aa.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:(0,Aa.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Aa.jsx)("span",{className:"text-gray-500",children:e.context_used&&(0,Aa.jsxs)(Aa.Fragment,{children:[e.context_used.knowledge_base_chunks>0&&(0,Aa.jsxs)("span",{className:"mr-2",children:["\ud83d\udcda ",e.context_used.knowledge_base_chunks," chunks"]}),(0,Aa.jsxs)("span",{className:"mr-2",children:["\ud83d\udcac ",e.context_used.conversation_history_messages," history"]}),(0,Aa.jsxs)("span",{children:["\ud83d\udd24 ",e.context_used.total_context_tokens," tokens"]})]})}),(0,Aa.jsxs)("span",{className:"font-medium text-gray-700",children:[(0,Aa.jsx)(qa,{className:"w-3 h-3 inline mr-0.5"}),E(e.cost)]})]})})]}),(0,Aa.jsxs)("div",{className:"flex items-center mt-1 space-x-2",children:[(0,Aa.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()}),(0,Aa.jsx)("button",{onClick:()=>((e,t)=>{navigator.clipboard.writeText(e),N(t),setTimeout(()=>N(null),2e3),nn.success("Copied to clipboard")})(e.content,t),className:"text-gray-400 hover:text-gray-600",title:"Copy message",children:w===t?(0,Aa.jsx)(Zs,{className:"w-3 h-3 text-green-500"}):(0,Aa.jsx)(el,{className:"w-3 h-3"})})]})]})]})},t)),f&&(0,Aa.jsx)("div",{className:"flex justify-start",children:(0,Aa.jsxs)("div",{className:"flex gap-3 max-w-3xl",children:[(0,Aa.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Aa.jsx)(Ha,{className:"w-5 h-5 text-gray-600"})}),(0,Aa.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:(0,Aa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Aa.jsx)(Bs,{className:"w-4 h-4 animate-spin text-gray-400"}),(0,Aa.jsx)("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})]})}),(0,Aa.jsx)("div",{ref:e})]}):(0,Aa.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Aa.jsxs)("div",{className:"text-center",children:[(0,Aa.jsx)(Ha,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Aa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Agent"}),(0,Aa.jsx)("p",{className:"text-sm text-gray-500",children:"Choose an agent from the dropdown to start testing"})]})})}),r&&(0,Aa.jsx)("div",{className:"border-t border-gray-200 bg-white px-6 py-4",children:(0,Aa.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!m.trim()||f||!r)return;const t={role:"user",content:m.trim(),timestamp:(new Date).toISOString()};u(e=>[...e,t]),p(""),h(!0);try{const e=await(e=>Ra.post("/chat/message",e))({session_id:x,agent_id:r,message:m.trim()}),t=e.data.data;!x&&t.session_id&&g(t.session_id);const n={role:"assistant",content:t.response.text,html:t.response.html,markdown:t.response.markdown,timestamp:(new Date).toISOString(),sources:t.sources||[],images:t.images||[],function_calls:t.function_calls||[],cost:t.cost,cost_breakdown:t.cost_breakdown,context_used:t.context_used,agent_metadata:t.agent_metadata};u(e=>[...e,n]),S(e=>e+(t.cost||0))}catch(s){var n,a;console.error("Chat error:",s);const e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:(new Date).toISOString(),error:!0};u(t=>[...t,e]),nn.error((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||"Failed to send message")}finally{h(!1)}},className:"max-w-4xl mx-auto",children:(0,Aa.jsxs)("div",{className:"flex space-x-3",children:[(0,Aa.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),disabled:f||!r,placeholder:f?"Waiting for response...":"Type your message...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100"}),(0,Aa.jsx)("button",{type:"submit",disabled:f||!m.trim()||!r,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(Bs,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending"]}):(0,Aa.jsxs)(Aa.Fragment,{children:[(0,Aa.jsx)(tl,{className:"w-4 h-4 mr-2"}),"Send"]})})]})})})]})})]})},ll=e=>{let{children:t}=e;const{user:n,loading:r}=Fa(),a=Z();return r?(0,Aa.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Aa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?t:(0,Aa.jsx)(ye,{to:"/login",replace:!0,state:{from:a}})};const il=function(){return(0,Aa.jsx)(Ma,{children:(0,Aa.jsxs)(Te,{basename:"/aiva",children:[(0,Aa.jsxs)(we,{children:[(0,Aa.jsx)(be,{path:"/login",element:(0,Aa.jsx)(Da,{})}),(0,Aa.jsxs)(be,{path:"/",element:(0,Aa.jsx)(ll,{children:(0,Aa.jsx)(Ss,{})}),children:[(0,Aa.jsx)(be,{path:"/monitor",element:(0,Aa.jsx)(hs,{})}),(0,Aa.jsx)(be,{index:!0,element:(0,Aa.jsx)($a,{})}),(0,Aa.jsx)(be,{path:"agents",element:(0,Aa.jsx)(Xa,{})}),(0,Aa.jsx)(be,{path:"/test",element:(0,Aa.jsx)(vs,{})}),(0,Aa.jsx)(be,{path:"agents/new",element:(0,Aa.jsx)(is,{})}),(0,Aa.jsx)(be,{path:"agents/:id",element:(0,Aa.jsx)(is,{})}),(0,Aa.jsx)(be,{path:"credits",element:(0,Aa.jsx)(cs,{})}),(0,Aa.jsx)(be,{path:"calls",element:(0,Aa.jsx)(ds,{})}),(0,Aa.jsx)(be,{path:"knowledge",element:(0,Aa.jsx)(Ts,{})}),(0,Aa.jsx)(be,{path:"knowledge/new",element:(0,Aa.jsx)(As,{})}),(0,Aa.jsx)(be,{path:"knowledge/:id/edit",element:(0,Aa.jsx)(As,{})}),(0,Aa.jsx)(be,{path:"knowledge/:id/documents",element:(0,Aa.jsx)(Ks,{})}),(0,Aa.jsx)(be,{path:"knowledge/:id/search",element:(0,Aa.jsx)(Js,{})}),(0,Aa.jsx)(be,{path:"knowledge/:id/stats",element:(0,Aa.jsx)(Ys,{})}),(0,Aa.jsx)(be,{path:"knowledge/:id/chat",element:(0,Aa.jsx)(nl,{})}),(0,Aa.jsx)(be,{path:"agent-test",element:(0,Aa.jsx)(sl,{})})]})]}),(0,Aa.jsx)(tn,{position:"top-right"})]})})};i.createRoot(document.getElementById("root")).render((0,Aa.jsx)(s.StrictMode,{children:(0,Aa.jsx)(il,{})}))})();
//# sourceMappingURL=main.98bb71ca.js.map