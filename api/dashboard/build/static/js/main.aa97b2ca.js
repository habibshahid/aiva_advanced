/*! For license information please see main.aa97b2ca.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var s=n(43),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var s,a={},c=null,d=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!o.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function f(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=f.prototype;var b=v.prototype=new y;b.constructor=v,x(b,f.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,s){var r,a={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,r)&&!k.hasOwnProperty(r)&&(a[r]=t[r]);var o=arguments.length-2;if(1===o)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===a[r]&&(a[r]=o[r]);return{$$typeof:n,type:e,key:i,ref:l,props:a,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,r,a,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case s:o=!0}}if(o)return i=i(o=e),e=""===a?"."+A(o,0):a,j(i)?(r="",null!=e&&(r=e.replace(_,"$&/")+"/"),E(i,t,r,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(_,"$&/")+"/")+e)),t.push(i)),1;if(o=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+A(l=e[c],c);o+=E(l,t,r,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=E(l=l.value,t,r,d=a+A(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,n){if(null==e)return e;var s=[],r=0;return E(e,s,"","",function(e){return t.call(n,e,r++)}),s}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},M={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=r,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=R,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=x({},e.props),a=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:n,type:e.type,key:a,ref:i,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,r=e[s];if(!(0<a(r,t)))break e;e[s]=t,e[n]=r,n=s}}function s(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,r=e.length,i=r>>>1;s<i;){var l=2*(s+1)-1,o=e[l],c=l+1,d=e[c];if(0>a(o,n))c<r&&0>a(d,o)?(e[s]=d,e[c]=n,s=c):(e[s]=o,e[l]=n,s=l);else{if(!(c<r&&0>a(d,n)))break e;e[s]=d,e[c]=n,s=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,p=3,h=!1,x=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=s(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=s(d)}}function j(e){if(g=!1,b(e),!x)if(null!==s(c))x=!0,O(w);else{var t=s(d);null!==t&&M(j,t.startTime-e)}}function w(e,n){x=!1,g&&(g=!1,y(C),C=-1),h=!0;var a=p;try{for(b(n),m=s(c);null!==m&&(!(m.expirationTime>n)||e&&!E());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var l=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?m.callback=l:m===s(c)&&r(c),b(n)}else r(c);m=s(c)}if(null!==m)var o=!0;else{var u=s(d);null!==u&&M(j,u.startTime-n),o=!1}return o}finally{m=null,p=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,_=5,A=-1;function E(){return!(t.unstable_now()-A<_)}function T(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,I=P.port2;P.port1.onmessage=T,N=function(){I.postMessage(null)}}else N=function(){f(T,0)};function O(e){S=e,k||(k=!0,N())}function M(e,n){C=f(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(e.sortIndex=a,n(d,e),null===s(c)&&e===s(d)&&(g?(y(C),C=-1):g=!0,M(j,a-i))):(e.sortIndex=l,n(c,e),x||h||(x=!0,O(w))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var s=n(950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var s=n(43),r=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function x(e,t,n,s,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,s){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,s){if(null===t||"undefined"===typeof t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,s)&&(n=null),s||null===r?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,s=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,y);g[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,y);g[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,y);g[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var F,L=Object.assign;function D(e){if(void 0===F)try{throw Error()}catch(Ye){var t=Ye.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Ge){var s=Ge}Reflect.construct(e,[],t)}else{try{t.call()}catch(Ge){s=Ge}e.call(t.prototype)}else{try{throw Error()}catch(Ge){s=Ge}e()}}catch(Ge){if(Ge&&s&&"string"===typeof Ge.stack){for(var r=Ge.stack.split("\n"),a=s.stack.split("\n"),i=r.length-1,l=a.length-1;1<=i&&0<=l&&r[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||r[i]!==a[l]){var o="\n"+r[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function B(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return q(e(t))}catch(Ye){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){s=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=H(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(s&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),s=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,s,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),r=he(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,Ne=null;function ke(e){if(e=Ar(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=Tr(t),je(e.stateNode,e.type,t))}}function Se(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function Ce(){if(we){var e=we,t=Ne;if(Ne=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function _e(e,t){return e(t)}function Ae(){}var Ee=!1;function Te(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return _e(e,t,n)}finally{Ee=!1,(null!==we||null!==Ne)&&(Ae(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var s=Tr(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ie=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(Ke){Ie=!1}function Me(e,t,n,s,r,a,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Re=!1,Fe=null,Le=!1,De=null,Ue={onError:function(e){Re=!0,Fe=e}};function ze(e,t,n,s,r,a,i,l,o){Re=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Be(e)!==e)throw Error(a(188))}function Je(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(s=r.return)){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Ve(r),e;if(i===s)return Ve(r),t;i=i.sibling}throw Error(a(188))}if(n.return!==s.return)n=r,s=i;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,s=i;break}if(o===s){l=!0,s=r,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,s=r;break}if(o===s){l=!0,s=i,n=r;break}o=o.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),null!==e?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=r.unstable_scheduleCallback,Ze=r.unstable_cancelCallback,$e=r.unstable_shouldYield,nt=r.unstable_requestPaint,rt=r.unstable_now,at=r.unstable_getCurrentPriorityLevel,it=r.unstable_ImmediatePriority,lt=r.unstable_UserBlockingPriority,ot=r.unstable_NormalPriority,ct=r.unstable_LowPriority,dt=r.unstable_IdlePriority,ut=null,mt=null;var pt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ht(e)/xt|0)|0},ht=Math.log,xt=Math.LN2;var gt=64,ft=4194304;function yt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vt(e,t){var n=e.pendingLanes;if(0===n)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~r;0!==l?s=yt(l):0!==(a&=i)&&(s=yt(a))}else 0!==(i=n&~r)?s=yt(i):0!==a&&(s=yt(a));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&r)&&((r=s&-s)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&s)&&(s|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)r=1<<(n=31-pt(t)),s|=e[n],t&=~r;return s}function bt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function wt(){var e=gt;return 0===(4194240&(gt<<=1))&&(gt=64),e}function Nt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function St(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-pt(t)]=n}function Ct(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-pt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}var _t=0;function At(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,Tt,Pt,It,Ot,Mt=!1,Rt=[],Ft=null,Lt=null,Dt=null,Ut=new Map,zt=new Map,qt=[],Vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wt(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Ht(e,t,n,s,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=Ar(t))&&Tt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Gt(e){var t=_r(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ot(e.priority,function(){Pt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Kt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=rn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Ar(n))&&Tt(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);ve=s,n.target.dispatchEvent(s),ve=null,t.shift()}return!0}function Jt(e,t,n){Kt(e)&&n.delete(t)}function Qt(){Mt=!1,null!==Ft&&Kt(Ft)&&(Ft=null),null!==Lt&&Kt(Lt)&&(Lt=null),null!==Dt&&Kt(Dt)&&(Dt=null),Ut.forEach(Jt),zt.forEach(Jt)}function Yt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Qt)))}function Xt(e){function t(t){return Yt(t,e)}if(0<Rt.length){Yt(Rt[0],e);for(var n=1;n<Rt.length;n++){var s=Rt[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Ft&&Yt(Ft,e),null!==Lt&&Yt(Lt,e),null!==Dt&&Yt(Dt,e),Ut.forEach(t),zt.forEach(t),n=0;n<qt.length;n++)(s=qt[n]).blockedOn===e&&(s.blockedOn=null);for(;0<qt.length&&null===(n=qt[0]).blockedOn;)Gt(n),null===n.blockedOn&&qt.shift()}var Zt=b.ReactCurrentBatchConfig,$t=!0;function en(e,t,n,s){var r=_t,a=Zt.transition;Zt.transition=null;try{_t=1,nn(e,t,n,s)}finally{_t=r,Zt.transition=a}}function tn(e,t,n,s){var r=_t,a=Zt.transition;Zt.transition=null;try{_t=4,nn(e,t,n,s)}finally{_t=r,Zt.transition=a}}function nn(e,t,n,s){if($t){var r=rn(e,t,n,s);if(null===r)$s(e,t,s,sn,n),Wt(e,s);else if(function(e,t,n,s,r){switch(t){case"focusin":return Ft=Ht(Ft,e,t,n,s,r),!0;case"dragenter":return Lt=Ht(Lt,e,t,n,s,r),!0;case"mouseover":return Dt=Ht(Dt,e,t,n,s,r),!0;case"pointerover":var a=r.pointerId;return Ut.set(a,Ht(Ut.get(a)||null,e,t,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,zt.set(a,Ht(zt.get(a)||null,e,t,n,s,r)),!0}return!1}(r,e,t,n,s))s.stopPropagation();else if(Wt(e,s),4&t&&-1<Vt.indexOf(e)){for(;null!==r;){var a=Ar(r);if(null!==a&&Et(a),null===(a=rn(e,t,n,s))&&$s(e,t,s,sn,n),a===r)break;r=a}null!==r&&s.stopPropagation()}else $s(e,t,s,null,n)}}var sn=null;function rn(e,t,n,s){if(sn=null,null!==(e=_r(e=be(s))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sn=e,null}function an(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at()){case it:return 1;case lt:return 4;case ot:case ct:return 16;case dt:return 536870912;default:return 16}default:return 16}}var ln=null,on=null,cn=null;function dn(){if(cn)return cn;var e,t,n=on,s=n.length,r="value"in ln?ln.value:ln.textContent,a=r.length;for(e=0;e<s&&n[e]===r[e];e++);var i=s-e;for(t=1;t<=i&&n[s-t]===r[a-t];t++);return cn=r.slice(e,1<t?1-t:void 0)}function un(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function mn(){return!0}function pn(){return!1}function hn(e){function t(t,n,s,r,a){for(var i in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?mn:pn,this.isPropagationStopped=pn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),t}var xn,gn,fn,yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=hn(yn),bn=L({},yn,{view:0,detail:0}),jn=hn(bn),wn=L({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(xn=e.screenX-fn.screenX,gn=e.screenY-fn.screenY):gn=xn=0,fn=e),xn)},movementY:function(e){return"movementY"in e?e.movementY:gn}}),Nn=hn(wn),kn=hn(L({},wn,{dataTransfer:0})),Sn=hn(L({},bn,{relatedTarget:0})),Cn=hn(L({},yn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=L({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),An=hn(_n),En=hn(L({},yn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Mn(){return On}var Rn=L({},bn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=un(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?un(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?un(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Fn=hn(Rn),Ln=hn(L({},wn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=hn(L({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),Un=hn(L({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=L({},wn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=hn(zn),qn=[9,13,27,32],Vn=d&&"CompositionEvent"in window,Wn=null;d&&"documentMode"in document&&(Wn=document.documentMode);var Hn=d&&"TextEvent"in window&&!Wn,Gn=d&&(!Vn||Wn&&8<Wn&&11>=Wn),Kn=String.fromCharCode(32),Jn=!1;function Qn(e,t){switch(e){case"keyup":return-1!==qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Xn=!1;var Zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zn[e.type]:"textarea"===t}function es(e,t,n,s){Se(s),0<(t=tr(t,"onChange")).length&&(n=new vn("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ts=null,ns=null;function ss(e){Ks(e,0)}function rs(e){if(K(Er(e)))return e}function as(e,t){if("change"===e)return t}var is=!1;if(d){var ls;if(d){var os="oninput"in document;if(!os){var cs=document.createElement("div");cs.setAttribute("oninput","return;"),os="function"===typeof cs.oninput}ls=os}else ls=!1;is=ls&&(!document.documentMode||9<document.documentMode)}function ds(){ts&&(ts.detachEvent("onpropertychange",us),ns=ts=null)}function us(e){if("value"===e.propertyName&&rs(ns)){var t=[];es(t,ns,e,be(e)),Te(ss,t)}}function ms(e,t,n){"focusin"===e?(ds(),ns=n,(ts=t).attachEvent("onpropertychange",us)):"focusout"===e&&ds()}function ps(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return rs(ns)}function hs(e,t){if("click"===e)return rs(t)}function xs(e,t){if("input"===e||"change"===e)return rs(t)}var gs="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function fs(e,t){if(gs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!u.call(t,r)||!gs(e[r],t[r]))return!1}return!0}function ys(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vs(e,t){var n,s=ys(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ys(s)}}function bs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?bs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function js(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(et){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ns(e){var t=js(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bs(n.ownerDocument.documentElement,n)){if(null!==s&&ws(n))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=void 0===s.end?a:Math.min(s.end,r),!e.extend&&a>s&&(r=s,s=a,a=r),r=vs(n,a);var i=vs(n,s);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ks=d&&"documentMode"in document&&11>=document.documentMode,Ss=null,Cs=null,_s=null,As=!1;function Es(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;As||null==Ss||Ss!==J(s)||("selectionStart"in(s=Ss)&&ws(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},_s&&fs(_s,s)||(_s=s,0<(s=tr(Cs,"onSelect")).length&&(t=new vn("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ss)))}function Ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ps={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},Is={},Os={};function Ms(e){if(Is[e])return Is[e];if(!Ps[e])return e;var t,n=Ps[e];for(t in n)if(n.hasOwnProperty(t)&&t in Os)return Is[e]=n[t];return e}d&&(Os=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);var Rs=Ms("animationend"),Fs=Ms("animationiteration"),Ls=Ms("animationstart"),Ds=Ms("transitionend"),Us=new Map,zs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bs(e,t){Us.set(e,t),o(t,[e])}for(var qs=0;qs<zs.length;qs++){var Vs=zs[qs];Bs(Vs.toLowerCase(),"on"+(Vs[0].toUpperCase()+Vs.slice(1)))}Bs(Rs,"onAnimationEnd"),Bs(Fs,"onAnimationIteration"),Bs(Ls,"onAnimationStart"),Bs("dblclick","onDoubleClick"),Bs("focusin","onFocus"),Bs("focusout","onBlur"),Bs(Ds,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ws));function Gs(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,r,i,l,o,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(a(198));var d=Fe;Re=!1,Fe=null,Le||(Le=!0,De=d)}}(s,t,void 0,e),e.currentTarget=null}function Ks(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&r.isPropagationStopped())break e;Gs(r,l,c),a=o}else for(i=0;i<s.length;i++){if(o=(l=s[i]).instance,c=l.currentTarget,l=l.listener,o!==a&&r.isPropagationStopped())break e;Gs(r,l,c),a=o}}}if(Le)throw e=De,Le=!1,De=null,e}function Js(e,t){var n=t[kr];void 0===n&&(n=t[kr]=new Set);var s=e+"__bubble";n.has(s)||(Zs(t,e,2,!1),n.add(s))}function Qs(e,t,n){var s=0;t&&(s|=4),Zs(n,e,s,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[Ys]){e[Ys]=!0,i.forEach(function(t){"selectionchange"!==t&&(Hs.has(t)||Qs(t,!1,e),Qs(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ys]||(t[Ys]=!0,Qs("selectionchange",!1,t))}}function Zs(e,t,n,s){switch(an(t)){case 1:var r=en;break;case 4:r=tn;break;default:r=nn}n=r.bind(null,t,n,e),r=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),s?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function $s(e,t,n,s,r){var a=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var i=s.tag;if(3===i||4===i){var l=s.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=s.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=_r(l)))return;if(5===(o=i.tag)||6===o){s=a=i;continue e}l=l.parentNode}}s=s.return}Te(function(){var s=a,r=be(n),i=[];e:{var l=Us.get(e);if(void 0!==l){var o=vn,c=e;switch(e){case"keypress":if(0===un(n))break e;case"keydown":case"keyup":o=Fn;break;case"focusin":c="focus",o=Sn;break;case"focusout":c="blur",o=Sn;break;case"beforeblur":case"afterblur":o=Sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=kn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Dn;break;case Rs:case Fs:case Ls:o=Cn;break;case Ds:o=Un;break;case"scroll":o=jn;break;case"wheel":o=Bn;break;case"copy":case"cut":case"paste":o=An;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Ln}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==l?l+"Capture":null:l;d=[];for(var p,h=s;null!==h;){var x=(p=h).stateNode;if(5===p.tag&&null!==x&&(p=x,null!==m&&(null!=(x=Pe(h,m))&&d.push(er(h,x,p)))),u)break;h=h.return}0<d.length&&(l=new o(l,c,null,n,r),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!_r(c)&&!c[Nr])&&(o||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=s,null!==(c=(c=n.relatedTarget||n.toElement)?_r(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=s),o!==c)){if(d=Nn,x="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Ln,x="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?l:Er(o),p=null==c?l:Er(c),(l=new d(x,h+"leave",o,n,r)).target=u,l.relatedTarget=p,x=null,_r(r)===s&&((d=new d(m,h+"enter",c,n,r)).target=p,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(m=c,h=0,p=d=o;p;p=nr(p))h++;for(p=0,x=m;x;x=nr(x))p++;for(;0<h-p;)d=nr(d),h--;for(;0<p-h;)m=nr(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=nr(d),m=nr(m)}d=null}else d=null;null!==o&&sr(i,l,o,d,!1),null!==c&&null!==u&&sr(i,u,c,d,!0)}if("select"===(o=(l=s?Er(s):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=as;else if($n(l))if(is)g=xs;else{g=ps;var f=ms}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=hs);switch(g&&(g=g(e,s))?es(i,g,n,r):(f&&f(e,l,s),"focusout"===e&&(f=l._wrapperState)&&f.controlled&&"number"===l.type&&ee(l,"number",l.value)),f=s?Er(s):window,e){case"focusin":($n(f)||"true"===f.contentEditable)&&(Ss=f,Cs=s,_s=null);break;case"focusout":_s=Cs=Ss=null;break;case"mousedown":As=!0;break;case"contextmenu":case"mouseup":case"dragend":As=!1,Es(i,n,r);break;case"selectionchange":if(ks)break;case"keydown":case"keyup":Es(i,n,r)}var y;if(Vn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Xn?Qn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Gn&&"ko"!==n.locale&&(Xn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Xn&&(y=dn()):(on="value"in(ln=r)?ln.value:ln.textContent,Xn=!0)),0<(f=tr(s,v)).length&&(v=new En(v,e,null,n,r),i.push({event:v,listeners:f}),y?v.data=y:null!==(y=Yn(n))&&(v.data=y))),(y=Hn?function(e,t){switch(e){case"compositionend":return Yn(t);case"keypress":return 32!==t.which?null:(Jn=!0,Kn);case"textInput":return(e=t.data)===Kn&&Jn?null:e;default:return null}}(e,n):function(e,t){if(Xn)return"compositionend"===e||!Vn&&Qn(e,t)?(e=dn(),cn=on=ln=null,Xn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(s=tr(s,"onBeforeInput")).length&&(r=new En("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:s}),r.data=y))}Ks(i,t)})}function er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function tr(e,t){for(var n=t+"Capture",s=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Pe(e,n))&&s.unshift(er(e,a,r)),null!=(a=Pe(e,t))&&s.push(er(e,a,r))),e=e.return}return s}function nr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function sr(e,t,n,s,r){for(var a=t._reactName,i=[];null!==n&&n!==s;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===s)break;5===l.tag&&null!==c&&(l=c,r?null!=(o=Pe(n,a))&&i.unshift(er(n,o,l)):r||null!=(o=Pe(n,a))&&i.push(er(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var rr=/\r\n?/g,ar=/\u0000|\uFFFD/g;function ir(e){return("string"===typeof e?e:""+e).replace(rr,"\n").replace(ar,"")}function lr(e,t,n){if(t=ir(t),ir(e)!==t&&n)throw Error(a(425))}function or(){}var cr=null,dr=null;function ur(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var mr="function"===typeof setTimeout?setTimeout:void 0,pr="function"===typeof clearTimeout?clearTimeout:void 0,hr="function"===typeof Promise?Promise:void 0,xr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof hr?function(e){return hr.resolve(null).then(e).catch(gr)}:mr;function gr(e){setTimeout(function(){throw e})}function fr(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===s)return e.removeChild(r),void Xt(t);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=r}while(n);Xt(t)}function yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function vr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var br=Math.random().toString(36).slice(2),jr="__reactFiber$"+br,wr="__reactProps$"+br,Nr="__reactContainer$"+br,kr="__reactEvents$"+br,Sr="__reactListeners$"+br,Cr="__reactHandles$"+br;function _r(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=vr(e);null!==e;){if(n=e[jr])return n;e=vr(e)}return t}n=(e=n).parentNode}return null}function Ar(e){return!(e=e[jr]||e[Nr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Er(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Tr(e){return e[wr]||null}var Pr=[],Ir=-1;function Or(e){return{current:e}}function Mr(e){0>Ir||(e.current=Pr[Ir],Pr[Ir]=null,Ir--)}function Rr(e,t){Ir++,Pr[Ir]=e.current,e.current=t}var Fr={},Lr=Or(Fr),Dr=Or(!1),Ur=Fr;function zr(e,t){var n=e.type.contextTypes;if(!n)return Fr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Br(e){return null!==(e=e.childContextTypes)&&void 0!==e}function qr(){Mr(Dr),Mr(Lr)}function Vr(e,t,n){if(Lr.current!==Fr)throw Error(a(168));Rr(Lr,t),Rr(Dr,n)}function Wr(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in t))throw Error(a(108,V(e)||"Unknown",r));return L({},n,s)}function Hr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,Ur=Lr.current,Rr(Lr,e),Rr(Dr,Dr.current),!0}function Gr(e,t,n){var s=e.stateNode;if(!s)throw Error(a(169));n?(e=Wr(e,t,Ur),s.__reactInternalMemoizedMergedChildContext=e,Mr(Dr),Mr(Lr),Rr(Lr,e)):Mr(Dr),Rr(Dr,n)}var Kr=null,Jr=!1,Qr=!1;function Yr(e){null===Kr?Kr=[e]:Kr.push(e)}function Xr(){if(!Qr&&null!==Kr){Qr=!0;var e=0,t=_t;try{var n=Kr;for(_t=1;e<n.length;e++){var s=n[e];do{s=s(!0)}while(null!==s)}Kr=null,Jr=!1}catch(We){throw null!==Kr&&(Kr=Kr.slice(e+1)),Xe(it,Xr),We}finally{_t=t,Qr=!1}}return null}var Zr=[],$r=0,ea=null,ta=0,na=[],sa=0,ra=null,aa=1,ia="";function la(e,t){Zr[$r++]=ta,Zr[$r++]=ea,ea=e,ta=t}function oa(e,t,n){na[sa++]=aa,na[sa++]=ia,na[sa++]=ra,ra=e;var s=aa;e=ia;var r=32-pt(s)-1;s&=~(1<<r),n+=1;var a=32-pt(t)+r;if(30<a){var i=r-r%5;a=(s&(1<<i)-1).toString(32),s>>=i,r-=i,aa=1<<32-pt(t)+r|n<<r|s,ia=a+e}else aa=1<<a|n<<r|s,ia=e}function ca(e){null!==e.return&&(la(e,1),oa(e,1,0))}function da(e){for(;e===ea;)ea=Zr[--$r],Zr[$r]=null,ta=Zr[--$r],Zr[$r]=null;for(;e===ra;)ra=na[--sa],na[sa]=null,ia=na[--sa],na[sa]=null,aa=na[--sa],na[sa]=null}var ua=null,ma=null,pa=!1,ha=null;function xa(e,t){var n=zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ua=e,ma=yr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ua=e,ma=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ra?{id:aa,overflow:ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ua=e,ma=null,!0);default:return!1}}function fa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ya(e){if(pa){var t=ma;if(t){var n=t;if(!ga(e,t)){if(fa(e))throw Error(a(418));t=yr(n.nextSibling);var s=ua;t&&ga(e,t)?xa(s,n):(e.flags=-4097&e.flags|2,pa=!1,ua=e)}}else{if(fa(e))throw Error(a(418));e.flags=-4097&e.flags|2,pa=!1,ua=e}}}function va(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ua=e}function ba(e){if(e!==ua)return!1;if(!pa)return va(e),pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ur(e.type,e.memoizedProps)),t&&(t=ma)){if(fa(e))throw ja(),Error(a(418));for(;t;)xa(e,t),t=yr(t.nextSibling)}if(va(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ma=yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ma=null}}else ma=ua?yr(e.stateNode.nextSibling):null;return!0}function ja(){for(var e=ma;e;)e=yr(e.nextSibling)}function wa(){ma=ua=null,pa=!1}function Na(e){null===ha?ha=[e]:ha.push(e)}var ka=b.ReactCurrentBatchConfig;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var s=n.stateNode}if(!s)throw Error(a(147,e));var r=s,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ca(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _a(e){return(0,e._init)(e._payload)}function Aa(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=qc(e,t)).index=0,e.sibling=null,e}function i(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=2,n):s:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,s){return null===t||6!==t.tag?((t=Gc(n,e.mode,s)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,s){var a=n.type;return a===N?u(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&_a(a)===t.type)?((s=r(t,n.props)).ref=Sa(e,t,n),s.return=e,s):((s=Vc(n.type,n.key,n.props,null,e.mode,s)).ref=Sa(e,t,n),s.return=e,s)}function d(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kc(n,e.mode,s)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,s,a){return null===t||7!==t.tag?((t=Wc(n,e.mode,s,a)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Gc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Vc(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case w:return(t=Kc(t,e.mode,n)).return=e,t;case I:return m(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Wc(t,e.mode,n,null)).return=e,t;Ca(e,t)}return null}function p(e,t,n,s){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:o(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,s):null;case w:return n.key===r?d(e,t,n,s):null;case I:return p(e,t,(r=n._init)(n._payload),s)}if(te(n)||R(n))return null!==r?null:u(e,t,n,s,null);Ca(e,n)}return null}function h(e,t,n,s,r){if("string"===typeof s&&""!==s||"number"===typeof s)return o(t,e=e.get(n)||null,""+s,r);if("object"===typeof s&&null!==s){switch(s.$$typeof){case j:return c(t,e=e.get(null===s.key?n:s.key)||null,s,r);case w:return d(t,e=e.get(null===s.key?n:s.key)||null,s,r);case I:return h(e,t,n,(0,s._init)(s._payload),r)}if(te(s)||R(s))return u(t,e=e.get(n)||null,s,r,null);Ca(t,s)}return null}function x(r,a,l,o){for(var c=null,d=null,u=a,x=a=0,g=null;null!==u&&x<l.length;x++){u.index>x?(g=u,u=null):g=u.sibling;var f=p(r,u,l[x],o);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(r,u),a=i(f,a,x),null===d?c=f:d.sibling=f,d=f,u=g}if(x===l.length)return n(r,u),pa&&la(r,x),c;if(null===u){for(;x<l.length;x++)null!==(u=m(r,l[x],o))&&(a=i(u,a,x),null===d?c=u:d.sibling=u,d=u);return pa&&la(r,x),c}for(u=s(r,u);x<l.length;x++)null!==(g=h(u,r,x,l[x],o))&&(e&&null!==g.alternate&&u.delete(null===g.key?x:g.key),a=i(g,a,x),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),pa&&la(r,x),c}function g(r,l,o,c){var d=R(o);if("function"!==typeof d)throw Error(a(150));if(null==(o=d.call(o)))throw Error(a(151));for(var u=d=null,x=l,g=l=0,f=null,y=o.next();null!==x&&!y.done;g++,y=o.next()){x.index>g?(f=x,x=null):f=x.sibling;var v=p(r,x,y.value,c);if(null===v){null===x&&(x=f);break}e&&x&&null===v.alternate&&t(r,x),l=i(v,l,g),null===u?d=v:u.sibling=v,u=v,x=f}if(y.done)return n(r,x),pa&&la(r,g),d;if(null===x){for(;!y.done;g++,y=o.next())null!==(y=m(r,y.value,c))&&(l=i(y,l,g),null===u?d=y:u.sibling=y,u=y);return pa&&la(r,g),d}for(x=s(r,x);!y.done;g++,y=o.next())null!==(y=h(x,r,g,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?g:y.key),l=i(y,l,g),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach(function(e){return t(r,e)}),pa&&la(r,g),d}return function e(s,a,i,o){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){n(s,d.sibling),(a=r(d,i.props.children)).return=s,s=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&_a(c)===d.type){n(s,d.sibling),(a=r(d,i.props)).ref=Sa(s,d,i),a.return=s,s=a;break e}n(s,d);break}t(s,d),d=d.sibling}i.type===N?((a=Wc(i.props.children,s.mode,o,i.key)).return=s,s=a):((o=Vc(i.type,i.key,i.props,null,s.mode,o)).ref=Sa(s,a,i),o.return=s,s=o)}return l(s);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(s,a.sibling),(a=r(a,i.children||[])).return=s,s=a;break e}n(s,a);break}t(s,a),a=a.sibling}(a=Kc(i,s.mode,o)).return=s,s=a}return l(s);case I:return e(s,a,(d=i._init)(i._payload),o)}if(te(i))return x(s,a,i,o);if(R(i))return g(s,a,i,o);Ca(s,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(s,a.sibling),(a=r(a,i)).return=s,s=a):(n(s,a),(a=Gc(i,s.mode,o)).return=s,s=a),l(s)):n(s,a)}}var Ea=Aa(!0),Ta=Aa(!1),Pa=Or(null),Ia=null,Oa=null,Ma=null;function Ra(){Ma=Oa=Ia=null}function Fa(e){var t=Pa.current;Mr(Pa),e._currentValue=t}function La(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Da(e,t){Ia=e,Ma=Oa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_l=!0),e.firstContext=null)}function Ua(e){var t=e._currentValue;if(Ma!==e)if(e={context:e,memoizedValue:t,next:null},null===Oa){if(null===Ia)throw Error(a(308));Oa=e,Ia.dependencies={lanes:0,firstContext:e}}else Oa=Oa.next=e;return t}var za=null;function Ba(e){null===za?za=[e]:za.push(e)}function qa(e,t,n,s){var r=t.interleaved;return null===r?(n.next=n,Ba(t)):(n.next=r.next,r.next=n),t.interleaved=n,Va(e,s)}function Va(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Wa=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ka(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Lo)){var r=s.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),s.pending=t,Va(e,n)}return null===(r=s.interleaved)?(t.next=t,Ba(s)):(t.next=r.next,r.next=t),s.interleaved=t,Va(e,n)}function Qa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ct(e,n)}}function Ya(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xa(e,t,n,s){var r=e.updateQueue;Wa=!1;var a=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?a=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==a){var u=r.baseState;for(i=0,d=c=o=null,l=a;;){var m=l.lane,p=l.eventTime;if((s&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,x=l;switch(m=t,p=n,x.tag){case 1:if("function"===typeof(h=x.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=x.payload)?h.call(p,u,m):h)||void 0===m)break e;u=L({},u,m);break e;case 2:Wa=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,i|=m;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(m=l).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Ho|=i,e.lanes=i,e.memoizedState=u}}function Za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],r=s.callback;if(null!==r){if(s.callback=null,s=n,"function"!==typeof r)throw Error(a(191,r));r.call(s)}}}var $a={},ei=Or($a),ti=Or($a),ni=Or($a);function si(e){if(e===$a)throw Error(a(174));return e}function ri(e,t){switch(Rr(ni,t),Rr(ti,e),Rr(ei,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mr(ei),Rr(ei,t)}function ai(){Mr(ei),Mr(ti),Mr(ni)}function ii(e){si(ni.current);var t=si(ei.current),n=oe(t,e.type);t!==n&&(Rr(ti,e),Rr(ei,n))}function li(e){ti.current===e&&(Mr(ei),Mr(ti))}var oi=Or(0);function ci(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var di=[];function ui(){for(var e=0;e<di.length;e++)di[e]._workInProgressVersionPrimary=null;di.length=0}var mi=b.ReactCurrentDispatcher,pi=b.ReactCurrentBatchConfig,hi=0,xi=null,gi=null,fi=null,yi=!1,vi=!1,bi=0,ji=0;function wi(){throw Error(a(321))}function Ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gs(e[n],t[n]))return!1;return!0}function ki(e,t,n,s,r,i){if(hi=i,xi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mi.current=null===e||null===e.memoizedState?ll:ol,e=n(s,r),vi){i=0;do{if(vi=!1,bi=0,25<=i)throw Error(a(301));i+=1,fi=gi=null,t.updateQueue=null,mi.current=cl,e=n(s,r)}while(vi)}if(mi.current=il,t=null!==gi&&null!==gi.next,hi=0,fi=gi=xi=null,yi=!1,t)throw Error(a(300));return e}function Si(){var e=0!==bi;return bi=0,e}function Ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===fi?xi.memoizedState=fi=e:fi=fi.next=e,fi}function _i(){if(null===gi){var e=xi.alternate;e=null!==e?e.memoizedState:null}else e=gi.next;var t=null===fi?xi.memoizedState:fi.next;if(null!==t)fi=t,gi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(gi=e).memoizedState,baseState:gi.baseState,baseQueue:gi.baseQueue,queue:gi.queue,next:null},null===fi?xi.memoizedState=fi=e:fi=fi.next=e}return fi}function Ai(e,t){return"function"===typeof t?t(e):t}function Ei(e){var t=_i(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=gi,r=s.baseQueue,i=n.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}s.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,s=s.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((hi&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,l=s):c=c.next=m,xi.lanes|=u,Ho|=u}d=d.next}while(null!==d&&d!==i);null===c?l=s:c.next=o,gs(s,t.memoizedState)||(_l=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,n.lastRenderedState=s}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,xi.lanes|=i,Ho|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ti(e){var t=_i(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);gs(i,t.memoizedState)||(_l=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Pi(){}function Ii(e,t){var n=xi,s=_i(),r=t(),i=!gs(s.memoizedState,r);if(i&&(s.memoizedState=r,_l=!0),s=s.queue,Wi(Ri.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||null!==fi&&1&fi.memoizedState.tag){if(n.flags|=2048,Ui(9,Mi.bind(null,n,s,r,t),void 0,null),null===Do)throw Error(a(349));0!==(30&hi)||Oi(n,t,r)}return r}function Oi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xi.updateQueue)?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Mi(e,t,n,s){t.value=n,t.getSnapshot=s,Fi(t)&&Li(e)}function Ri(e,t,n){return n(function(){Fi(t)&&Li(e)})}function Fi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gs(e,n)}catch(et){return!0}}function Li(e){var t=Va(e,1);null!==t&&uc(t,e,1,-1)}function Di(e){var t=Ci();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=nl.bind(null,xi,e),[t.memoizedState,e]}function Ui(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=xi.updateQueue)?(t={lastEffect:null,stores:null},xi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function zi(){return _i().memoizedState}function Bi(e,t,n,s){var r=Ci();xi.flags|=e,r.memoizedState=Ui(1|t,n,void 0,void 0===s?null:s)}function qi(e,t,n,s){var r=_i();s=void 0===s?null:s;var a=void 0;if(null!==gi){var i=gi.memoizedState;if(a=i.destroy,null!==s&&Ni(s,i.deps))return void(r.memoizedState=Ui(t,n,a,s))}xi.flags|=e,r.memoizedState=Ui(1|t,n,a,s)}function Vi(e,t){return Bi(8390656,8,e,t)}function Wi(e,t){return qi(2048,8,e,t)}function Hi(e,t){return qi(4,2,e,t)}function Gi(e,t){return qi(4,4,e,t)}function Ki(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ji(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,qi(4,4,Ki.bind(null,t,e),n)}function Qi(){}function Yi(e,t){var n=_i();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&Ni(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Xi(e,t){var n=_i();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&Ni(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Zi(e,t,n){return 0===(21&hi)?(e.baseState&&(e.baseState=!1,_l=!0),e.memoizedState=n):(gs(n,t)||(n=wt(),xi.lanes|=n,Ho|=n,e.baseState=!0),t)}function $i(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var s=pi.transition;pi.transition={};try{e(!1),t()}finally{_t=n,pi.transition=s}}function el(){return _i().memoizedState}function tl(e,t,n){var s=dc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},sl(e))rl(t,n);else if(null!==(n=qa(e,t,n,s))){uc(n,e,s,cc()),al(n,t,s)}}function nl(e,t,n){var s=dc(e),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(sl(e))rl(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(r.hasEagerState=!0,r.eagerState=l,gs(l,i)){var o=t.interleaved;return null===o?(r.next=r,Ba(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(Ge){}null!==(n=qa(e,t,r,s))&&(uc(n,e,s,r=cc()),al(n,t,s))}}function sl(e){var t=e.alternate;return e===xi||null!==t&&t===xi}function rl(e,t){vi=yi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function al(e,t,n){if(0!==(4194240&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,Ct(e,n)}}var il={readContext:Ua,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},ll={readContext:Ua,useCallback:function(e,t){return Ci().memoizedState=[e,void 0===t?null:t],e},useContext:Ua,useEffect:Vi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,Ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bi(4,2,e,t)},useMemo:function(e,t){var n=Ci();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ci();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=tl.bind(null,xi,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},Ci().memoizedState=e},useState:Di,useDebugValue:Qi,useDeferredValue:function(e){return Ci().memoizedState=e},useTransition:function(){var e=Di(!1),t=e[0];return e=$i.bind(null,e[1]),Ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=xi,r=Ci();if(pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Do)throw Error(a(349));0!==(30&hi)||Oi(s,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Vi(Ri.bind(null,s,i,e),[e]),s.flags|=2048,Ui(9,Mi.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=Ci(),t=Do.identifierPrefix;if(pa){var n=ia;t=":"+t+"R"+(n=(aa&~(1<<32-pt(aa)-1)).toString(32)+n),0<(n=bi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ji++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ol={readContext:Ua,useCallback:Yi,useContext:Ua,useEffect:Wi,useImperativeHandle:Ji,useInsertionEffect:Hi,useLayoutEffect:Gi,useMemo:Xi,useReducer:Ei,useRef:zi,useState:function(){return Ei(Ai)},useDebugValue:Qi,useDeferredValue:function(e){return Zi(_i(),gi.memoizedState,e)},useTransition:function(){return[Ei(Ai)[0],_i().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Ii,useId:el,unstable_isNewReconciler:!1},cl={readContext:Ua,useCallback:Yi,useContext:Ua,useEffect:Wi,useImperativeHandle:Ji,useInsertionEffect:Hi,useLayoutEffect:Gi,useMemo:Xi,useReducer:Ti,useRef:zi,useState:function(){return Ti(Ai)},useDebugValue:Qi,useDeferredValue:function(e){var t=_i();return null===gi?t.memoizedState=e:Zi(t,gi.memoizedState,e)},useTransition:function(){return[Ti(Ai)[0],_i().memoizedState]},useMutableSource:Pi,useSyncExternalStore:Ii,useId:el,unstable_isNewReconciler:!1};function dl(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ul(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ml={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=cc(),r=dc(e),a=Ka(s,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ja(e,a,r))&&(uc(t,e,r,s),Qa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=cc(),r=dc(e),a=Ka(s,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ja(e,a,r))&&(uc(t,e,r,s),Qa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cc(),s=dc(e),r=Ka(n,s);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Ja(e,r,s))&&(uc(t,e,s,n),Qa(t,e,s))}};function pl(e,t,n,s,r,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!fs(n,s)||!fs(r,a))}function hl(e,t,n){var s=!1,r=Fr,a=t.contextType;return"object"===typeof a&&null!==a?a=Ua(a):(r=Br(t)?Ur:Lr.current,a=(s=null!==(s=t.contextTypes)&&void 0!==s)?zr(e,r):Fr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ml,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function xl(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function gl(e,t,n,s){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ha(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Ua(a):(a=Br(t)?Ur:Lr.current,r.context=zr(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ul(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&ml.enqueueReplaceState(r,r.state,null),Xa(e,n,r,s),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function fl(e,t){try{var n="",s=t;do{n+=B(s),s=s.return}while(s);var r=n}catch(tt){r="\nError generating stack: "+tt.message+"\n"+tt.stack}return{value:e,source:t,stack:r,digest:null}}function yl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function vl(e,t){try{console.error(t.value)}catch(Ye){setTimeout(function(){throw Ye})}}var bl="function"===typeof WeakMap?WeakMap:Map;function jl(e,t,n){(n=Ka(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){$o||($o=!0,ec=s),vl(0,t)},n}function wl(e,t,n){(n=Ka(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var r=t.value;n.payload=function(){return s(r)},n.callback=function(){vl(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){vl(0,t),"function"!==typeof s&&(null===tc?tc=new Set([this]):tc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Nl(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new bl;var r=new Set;s.set(t,r)}else void 0===(r=s.get(t))&&(r=new Set,s.set(t,r));r.has(n)||(r.add(n),e=Mc.bind(null,e,t,n),t.then(e,e))}function kl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Sl(e,t,n,s,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ka(-1,1)).tag=2,Ja(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var Cl=b.ReactCurrentOwner,_l=!1;function Al(e,t,n,s){t.child=null===e?Ta(t,null,n,s):Ea(t,e.child,n,s)}function El(e,t,n,s,r){n=n.render;var a=t.ref;return Da(t,r),s=ki(e,t,n,s,a,r),n=Si(),null===e||_l?(pa&&n&&ca(t),t.flags|=1,Al(e,t,s,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Zl(e,t,r))}function Tl(e,t,n,s,r){if(null===e){var a=n.type;return"function"!==typeof a||Bc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vc(n.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Pl(e,t,a,s,r))}if(a=e.child,0===(e.lanes&r)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:fs)(i,s)&&e.ref===t.ref)return Zl(e,t,r)}return t.flags|=1,(e=qc(a,s)).ref=t.ref,e.return=t,t.child=e}function Pl(e,t,n,s,r){if(null!==e){var a=e.memoizedProps;if(fs(a,s)&&e.ref===t.ref){if(_l=!1,t.pendingProps=s=a,0===(e.lanes&r))return t.lanes=e.lanes,Zl(e,t,r);0!==(131072&e.flags)&&(_l=!0)}}return Ml(e,t,n,s,r)}function Il(e,t,n){var s=t.pendingProps,r=s.children,a=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(qo,Bo),Bo|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(qo,Bo),Bo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==a?a.baseLanes:n,Rr(qo,Bo),Bo|=s}else null!==a?(s=a.baseLanes|n,t.memoizedState=null):s=n,Rr(qo,Bo),Bo|=s;return Al(e,t,r,n),t.child}function Ol(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ml(e,t,n,s,r){var a=Br(n)?Ur:Lr.current;return a=zr(t,a),Da(t,r),n=ki(e,t,n,s,a,r),s=Si(),null===e||_l?(pa&&s&&ca(t),t.flags|=1,Al(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Zl(e,t,r))}function Rl(e,t,n,s,r){if(Br(n)){var a=!0;Hr(t)}else a=!1;if(Da(t,r),null===t.stateNode)Xl(e,t),hl(t,n,s),gl(t,n,s,r),s=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ua(c):c=zr(t,c=Br(n)?Ur:Lr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==s||o!==c)&&xl(t,i,s,c),Wa=!1;var m=t.memoizedState;i.state=m,Xa(t,s,i,r),o=t.memoizedState,l!==s||m!==o||Dr.current||Wa?("function"===typeof d&&(ul(t,n,d,s),o=t.memoizedState),(l=Wa||pl(t,n,l,s,m,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=c,s=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Ga(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:dl(t.type,l),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ua(o):o=zr(t,o=Br(n)?Ur:Lr.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||m!==o)&&xl(t,i,s,o),Wa=!1,m=t.memoizedState,i.state=m,Xa(t,s,i,r);var h=t.memoizedState;l!==u||m!==h||Dr.current||Wa?("function"===typeof p&&(ul(t,n,p,s),h=t.memoizedState),(c=Wa||pl(t,n,c,s,m,h,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(s,h,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(s,h,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=h),i.props=s,i.state=h,i.context=o,s=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),s=!1)}return Fl(e,t,n,s,a,r)}function Fl(e,t,n,s,r,a){Ol(e,t);var i=0!==(128&t.flags);if(!s&&!i)return r&&Gr(t,n,!1),Zl(e,t,a);s=t.stateNode,Cl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&i?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,l,a)):Al(e,t,l,a),t.memoizedState=s.state,r&&Gr(t,n,!0),t.child}function Ll(e){var t=e.stateNode;t.pendingContext?Vr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Vr(0,t.context,!1),ri(e,t.containerInfo)}function Dl(e,t,n,s,r){return wa(),Na(r),t.flags|=256,Al(e,t,n,s),t.child}var Ul,zl,Bl,ql,Vl={dehydrated:null,treeContext:null,retryLane:0};function Wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hl(e,t,n){var s,r=t.pendingProps,i=oi.current,l=!1,o=0!==(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&0!==(2&i)),s?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Rr(oi,1&i),null===e)return ya(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Hc(o,r,0,null),e=Wc(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Wl(n),t.memoizedState=Vl,e):Gl(t,o));if(null!==(i=e.memoizedState)&&null!==(s=i.dehydrated))return function(e,t,n,s,r,i,l){if(n)return 256&t.flags?(t.flags&=-257,Kl(e,t,l,s=yl(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=s.fallback,r=t.mode,s=Hc({mode:"visible",children:s.children},r,0,null),(i=Wc(i,r,l,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,0!==(1&t.mode)&&Ea(t,e.child,null,l),t.child.memoizedState=Wl(l),t.memoizedState=Vl,i);if(0===(1&t.mode))return Kl(e,t,l,null);if("$!"===r.data){if(s=r.nextSibling&&r.nextSibling.dataset)var o=s.dgst;return s=o,Kl(e,t,l,s=yl(i=Error(a(419)),s,void 0))}if(o=0!==(l&e.childLanes),_l||o){if(null!==(s=Do)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(s.suspendedLanes|l))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Va(e,r),uc(s,e,r,-1))}return kc(),Kl(e,t,l,s=yl(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Fc.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,ma=yr(r.nextSibling),ua=t,pa=!0,ha=null,null!==e&&(na[sa++]=aa,na[sa++]=ia,na[sa++]=ra,aa=e.id,ia=e.overflow,ra=t),t=Gl(t,s.children),t.flags|=4096,t)}(e,t,o,r,s,i,n);if(l){l=r.fallback,o=t.mode,s=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=qc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==s?l=qc(s,l):(l=Wc(l,o,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=null===(o=e.child.memoizedState)?Wl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Vl,r}return e=(l=e.child).sibling,r=qc(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gl(e,t){return(t=Hc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Kl(e,t,n,s){return null!==s&&Na(s),Ea(t,e.child,null,n),(e=Gl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Jl(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),La(e.return,t,n)}function Ql(e,t,n,s,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function Yl(e,t,n){var s=t.pendingProps,r=s.revealOrder,a=s.tail;if(Al(e,t,s.children,n),0!==(2&(s=oi.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jl(e,n,t);else if(19===e.tag)Jl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Rr(oi,s),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ci(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ql(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ci(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ql(t,!0,n,null,a);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ho|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $l(e,t){if(!pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function eo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=14680064&r.subtreeFlags,s|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function to(e,t,n){var s=t.pendingProps;switch(da(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return eo(t),null;case 1:case 17:return Br(t.type)&&qr(),eo(t),null;case 3:return s=t.stateNode,ai(),Mr(Dr),Mr(Lr),ui(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(ba(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ha&&(xc(ha),ha=null))),zl(e,t),eo(t),null;case 5:li(t);var r=si(ni.current);if(n=t.type,null!==e&&null!=t.stateNode)Bl(e,t,n,s,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(a(166));return eo(t),null}if(e=si(ei.current),ba(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[jr]=t,s[wr]=i,e=0!==(1&t.mode),n){case"dialog":Js("cancel",s),Js("close",s);break;case"iframe":case"object":case"embed":Js("load",s);break;case"video":case"audio":for(r=0;r<Ws.length;r++)Js(Ws[r],s);break;case"source":Js("error",s);break;case"img":case"image":case"link":Js("error",s),Js("load",s);break;case"details":Js("toggle",s);break;case"input":Y(s,i),Js("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Js("invalid",s);break;case"textarea":re(s,i),Js("invalid",s)}for(var o in fe(n,i),r=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?s.textContent!==c&&(!0!==i.suppressHydrationWarning&&lr(s.textContent,c,e),r=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&lr(s.textContent,c,e),r=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Js("scroll",s)}switch(n){case"input":G(s),$(s,i,!0);break;case"textarea":G(s),ie(s);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(s.onclick=or)}s=r,t.updateQueue=s,null!==s&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),"select"===n&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[jr]=t,e[wr]=s,Ul(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(n,s),n){case"dialog":Js("cancel",e),Js("close",e),r=s;break;case"iframe":case"object":case"embed":Js("load",e),r=s;break;case"video":case"audio":for(r=0;r<Ws.length;r++)Js(Ws[r],e);r=s;break;case"source":Js("error",e),r=s;break;case"img":case"image":case"link":Js("error",e),Js("load",e),r=s;break;case"details":Js("toggle",e),r=s;break;case"input":Y(e,s),r=Q(e,s),Js("invalid",e);break;case"option":default:r=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=L({},s,{value:void 0}),Js("invalid",e);break;case"textarea":re(e,s),r=se(e,s),Js("invalid",e)}for(i in fe(n,r),c=r)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Js("scroll",e):null!=d&&v(e,i,d,o))}switch(n){case"input":G(e),$(e,s,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=s.value&&e.setAttribute("value",""+W(s.value));break;case"select":e.multiple=!!s.multiple,null!=(i=s.value)?ne(e,!!s.multiple,i,!1):null!=s.defaultValue&&ne(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=or)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return eo(t),null;case 6:if(e&&null!=t.stateNode)ql(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(a(166));if(n=si(ni.current),si(ei.current),ba(t)){if(s=t.stateNode,n=t.memoizedProps,s[jr]=t,(i=s.nodeValue!==n)&&null!==(e=ua))switch(e.tag){case 3:lr(s.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&lr(s.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[jr]=t,t.stateNode=s}return eo(t),null;case 13:if(Mr(oi),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(pa&&null!==ma&&0!==(1&t.mode)&&0===(128&t.flags))ja(),wa(),t.flags|=98560,i=!1;else if(i=ba(t),null!==s&&null!==s.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[jr]=t}else wa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;eo(t),i=!1}else null!==ha&&(xc(ha),ha=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oi.current)?0===Vo&&(Vo=3):kc())),null!==t.updateQueue&&(t.flags|=4),eo(t),null);case 4:return ai(),zl(e,t),null===e&&Xs(t.stateNode.containerInfo),eo(t),null;case 10:return Fa(t.type._context),eo(t),null;case 19:if(Mr(oi),null===(i=t.memoizedState))return eo(t),null;if(s=0!==(128&t.flags),null===(o=i.rendering))if(s)$l(i,!1);else{if(0!==Vo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ci(e))){for(t.flags|=128,$l(i,!1),null!==(s=o.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)e=s,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rr(oi,1&oi.current|2),t.child}e=e.sibling}null!==i.tail&&rt()>Xo&&(t.flags|=128,s=!0,$l(i,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ci(o))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$l(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!pa)return eo(t),null}else 2*rt()-i.renderingStartTime>Xo&&1073741824!==n&&(t.flags|=128,s=!0,$l(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=rt(),t.sibling=null,n=oi.current,Rr(oi,s?1&n|2:1&n),t):(eo(t),null);case 22:case 23:return bc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Bo)&&(eo(t),6&t.subtreeFlags&&(t.flags|=8192)):eo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function no(e,t){switch(da(t),t.tag){case 1:return Br(t.type)&&qr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ai(),Mr(Dr),Mr(Lr),ui(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return li(t),null;case 13:if(Mr(oi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));wa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mr(oi),null;case 4:return ai(),null;case 10:return Fa(t.type._context),null;case 22:case 23:return bc(),null;default:return null}}Ul=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zl=function(){},Bl=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,si(ei.current);var a,i=null;switch(n){case"input":r=Q(e,r),s=Q(e,s),i=[];break;case"select":r=L({},r,{value:void 0}),s=L({},s,{value:void 0}),i=[];break;case"textarea":r=se(e,r),s=se(e,s),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof s.onClick&&(e.onclick=or)}for(d in fe(n,s),n=null,r)if(!s.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(o=null!=r?r[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Js("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},ql=function(e,t,n,s){n!==s&&(t.flags|=4)};var so=!1,ro=!1,ao="function"===typeof WeakSet?WeakSet:Set,io=null;function lo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(et){Oc(e,t,et)}else n.current=null}function oo(e,t,n){try{n()}catch(et){Oc(e,t,et)}}var co=!1;function uo(e,t,n){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var r=s=s.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&oo(t,n,a)}r=r.next}while(r!==s)}}function mo(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function po(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ho(e){var t=e.alternate;null!==t&&(e.alternate=null,ho(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[jr],delete t[wr],delete t[kr],delete t[Sr],delete t[Cr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xo(e){return 5===e.tag||3===e.tag||4===e.tag}function go(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||xo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function fo(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=or));else if(4!==s&&null!==(e=e.child))for(fo(e,t,n),e=e.sibling;null!==e;)fo(e,t,n),e=e.sibling}function yo(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(yo(e,t,n),e=e.sibling;null!==e;)yo(e,t,n),e=e.sibling}var vo=null,bo=!1;function jo(e,t,n){for(n=n.child;null!==n;)wo(e,t,n),n=n.sibling}function wo(e,t,n){if(mt&&"function"===typeof mt.onCommitFiberUnmount)try{mt.onCommitFiberUnmount(ut,n)}catch(st){}switch(n.tag){case 5:ro||lo(n,t);case 6:var s=vo,r=bo;vo=null,jo(e,t,n),bo=r,null!==(vo=s)&&(bo?(e=vo,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):vo.removeChild(n.stateNode));break;case 18:null!==vo&&(bo?(e=vo,n=n.stateNode,8===e.nodeType?fr(e.parentNode,n):1===e.nodeType&&fr(e,n),Xt(e)):fr(vo,n.stateNode));break;case 4:s=vo,r=bo,vo=n.stateNode.containerInfo,bo=!0,jo(e,t,n),vo=s,bo=r;break;case 0:case 11:case 14:case 15:if(!ro&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){r=s=s.next;do{var a=r,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&oo(n,t,i),r=r.next}while(r!==s)}jo(e,t,n);break;case 1:if(!ro&&(lo(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(st){Oc(n,t,st)}jo(e,t,n);break;case 21:jo(e,t,n);break;case 22:1&n.mode?(ro=(s=ro)||null!==n.memoizedState,jo(e,t,n),ro=s):jo(e,t,n);break;default:jo(e,t,n)}}function No(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ao),t.forEach(function(t){var s=Lc.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))})}}function ko(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var r=n[s];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:vo=o.stateNode,bo=!1;break e;case 3:case 4:vo=o.stateNode.containerInfo,bo=!0;break e}o=o.return}if(null===vo)throw Error(a(160));wo(i,l,r),vo=null,bo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(Ge){Oc(r,t,Ge)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)So(t,e),t=t.sibling}function So(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ko(t,e),Co(e),4&s){try{uo(3,e,e.return),mo(3,e)}catch(He){Oc(e,e.return,He)}try{uo(5,e,e.return)}catch(He){Oc(e,e.return,He)}}break;case 1:ko(t,e),Co(e),512&s&&null!==n&&lo(n,n.return);break;case 5:if(ko(t,e),Co(e),512&s&&null!==n&&lo(n,n.return),32&e.flags){var r=e.stateNode;try{ue(r,"")}catch(He){Oc(e,e.return,He)}}if(4&s&&null!=(r=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&X(r,i),ye(o,l);var d=ye(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];"style"===u?xe(r,m):"dangerouslySetInnerHTML"===u?de(r,m):"children"===u?ue(r,m):v(r,u,m,d)}switch(o){case"input":Z(r,i);break;case"textarea":ae(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(r,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[wr]=i}catch(He){Oc(e,e.return,He)}}break;case 6:if(ko(t,e),Co(e),4&s){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(He){Oc(e,e.return,He)}}break;case 3:if(ko(t,e),Co(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Xt(t.containerInfo)}catch(He){Oc(e,e.return,He)}break;case 4:default:ko(t,e),Co(e);break;case 13:ko(t,e),Co(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(Yo=rt())),4&s&&No(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(ro=(d=ro)||u,ko(t,e),ro=d):ko(t,e),Co(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(io=e,u=e.child;null!==u;){for(m=io=u;null!==io;){switch(h=(p=io).child,p.tag){case 0:case 11:case 14:case 15:uo(4,p,p.return);break;case 1:lo(p,p.return);var x=p.stateNode;if("function"===typeof x.componentWillUnmount){s=p,n=p.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(He){Oc(s,n,He)}}break;case 5:lo(p,p.return);break;case 22:if(null!==p.memoizedState){To(m);continue}}null!==h?(h.return=p,io=h):To(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=he("display",l))}catch(He){Oc(e,e.return,He)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(He){Oc(e,e.return,He)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ko(t,e),Co(e),4&s&&No(e);case 21:}}function Co(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(xo(n)){var s=n;break e}n=n.return}throw Error(a(160))}switch(s.tag){case 5:var r=s.stateNode;32&s.flags&&(ue(r,""),s.flags&=-33),yo(e,go(e),r);break;case 3:case 4:var i=s.stateNode.containerInfo;fo(e,go(e),i);break;default:throw Error(a(161))}}catch(kt){Oc(e,e.return,kt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _o(e,t,n){io=e,Ao(e,t,n)}function Ao(e,t,n){for(var s=0!==(1&e.mode);null!==io;){var r=io,a=r.child;if(22===r.tag&&s){var i=null!==r.memoizedState||so;if(!i){var l=r.alternate,o=null!==l&&null!==l.memoizedState||ro;l=so;var c=ro;if(so=i,(ro=o)&&!c)for(io=r;null!==io;)o=(i=io).child,22===i.tag&&null!==i.memoizedState?Po(r):null!==o?(o.return=i,io=o):Po(r);for(;null!==a;)io=a,Ao(a,t,n),a=a.sibling;io=r,so=l,ro=c}Eo(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,io=a):Eo(e)}}function Eo(e){for(;null!==io;){var t=io;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ro||mo(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!ro)if(null===n)s.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:dl(t.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Za(t,i,s);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Za(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Xt(m)}}}break;default:throw Error(a(163))}ro||512&t.flags&&po(t)}catch(p){Oc(t,t.return,p)}}if(t===e){io=null;break}if(null!==(n=t.sibling)){n.return=t.return,io=n;break}io=t.return}}function To(e){for(;null!==io;){var t=io;if(t===e){io=null;break}var n=t.sibling;if(null!==n){n.return=t.return,io=n;break}io=t.return}}function Po(e){for(;null!==io;){var t=io;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mo(4,t)}catch(kt){Oc(t,n,kt)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var r=t.return;try{s.componentDidMount()}catch(kt){Oc(t,r,kt)}}var a=t.return;try{po(t)}catch(kt){Oc(t,a,kt)}break;case 5:var i=t.return;try{po(t)}catch(kt){Oc(t,i,kt)}}}catch(kt){Oc(t,t.return,kt)}if(t===e){io=null;break}var l=t.sibling;if(null!==l){l.return=t.return,io=l;break}io=t.return}}var Io,Oo=Math.ceil,Mo=b.ReactCurrentDispatcher,Ro=b.ReactCurrentOwner,Fo=b.ReactCurrentBatchConfig,Lo=0,Do=null,Uo=null,zo=0,Bo=0,qo=Or(0),Vo=0,Wo=null,Ho=0,Go=0,Ko=0,Jo=null,Qo=null,Yo=0,Xo=1/0,Zo=null,$o=!1,ec=null,tc=null,nc=!1,sc=null,rc=0,ac=0,ic=null,lc=-1,oc=0;function cc(){return 0!==(6&Lo)?rt():-1!==lc?lc:lc=rt()}function dc(e){return 0===(1&e.mode)?1:0!==(2&Lo)&&0!==zo?zo&-zo:null!==ka.transition?(0===oc&&(oc=wt()),oc):0!==(e=_t)?e:e=void 0===(e=window.event)?16:an(e.type)}function uc(e,t,n,s){if(50<ac)throw ac=0,ic=null,Error(a(185));St(e,n,s),0!==(2&Lo)&&e===Do||(e===Do&&(0===(2&Lo)&&(Go|=n),4===Vo&&gc(e,zo)),mc(e,s),1===n&&0===Lo&&0===(1&t.mode)&&(Xo=rt()+500,Jr&&Xr()))}function mc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-pt(a),l=1<<i,o=r[i];-1===o?0!==(l&n)&&0===(l&s)||(r[i]=bt(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var s=vt(e,e===Do?zo:0);if(0===s)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Jr=!0,Yr(e)}(fc.bind(null,e)):Yr(fc.bind(null,e)),xr(function(){0===(6&Lo)&&Xr()}),n=null;else{switch(At(s)){case 1:n=it;break;case 4:n=lt;break;case 16:default:n=ot;break;case 536870912:n=dt}n=Dc(n,pc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pc(e,t){if(lc=-1,oc=0,0!==(6&Lo))throw Error(a(327));var n=e.callbackNode;if(Pc()&&e.callbackNode!==n)return null;var s=vt(e,e===Do?zo:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=Sc(e,s);else{t=s;var r=Lo;Lo|=2;var i=Nc();for(Do===e&&zo===t||(Zo=null,Xo=rt()+500,jc(e,t));;)try{_c();break}catch(st){wc(e,st)}Ra(),Mo.current=i,Lo=r,null!==Uo?t=0:(Do=null,zo=0,t=Vo)}if(0!==t){if(2===t&&(0!==(r=jt(e))&&(s=r,t=hc(e,r))),1===t)throw n=Wo,jc(e,0),gc(e,s),mc(e,rt()),n;if(6===t)gc(e,s);else{if(r=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!gs(a(),r))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=Sc(e,s))&&(0!==(i=jt(e))&&(s=i,t=hc(e,i))),1===t))throw n=Wo,jc(e,0),gc(e,s),mc(e,rt()),n;switch(e.finishedWork=r,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:case 5:Tc(e,Qo,Zo);break;case 3:if(gc(e,s),(130023424&s)===s&&10<(t=Yo+500-rt())){if(0!==vt(e,0))break;if(((r=e.suspendedLanes)&s)!==s){cc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=mr(Tc.bind(null,e,Qo,Zo),t);break}Tc(e,Qo,Zo);break;case 4:if(gc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,r=-1;0<s;){var l=31-pt(s);i=1<<l,(l=t[l])>r&&(r=l),s&=~i}if(s=r,10<(s=(120>(s=rt()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Oo(s/1960))-s)){e.timeoutHandle=mr(Tc.bind(null,e,Qo,Zo),s);break}Tc(e,Qo,Zo);break;default:throw Error(a(329))}}}return mc(e,rt()),e.callbackNode===n?pc.bind(null,e):null}function hc(e,t){var n=Jo;return e.current.memoizedState.isDehydrated&&(jc(e,t).flags|=256),2!==(e=Sc(e,t))&&(t=Qo,Qo=n,null!==t&&xc(t)),e}function xc(e){null===Qo?Qo=e:Qo.push.apply(Qo,e)}function gc(e,t){for(t&=~Ko,t&=~Go,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pt(t),s=1<<n;e[n]=-1,t&=~s}}function fc(e){if(0!==(6&Lo))throw Error(a(327));Pc();var t=vt(e,0);if(0===(1&t))return mc(e,rt()),null;var n=Sc(e,t);if(0!==e.tag&&2===n){var s=jt(e);0!==s&&(t=s,n=hc(e,s))}if(1===n)throw n=Wo,jc(e,0),gc(e,t),mc(e,rt()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tc(e,Qo,Zo),mc(e,rt()),null}function yc(e,t){var n=Lo;Lo|=1;try{return e(t)}finally{0===(Lo=n)&&(Xo=rt()+500,Jr&&Xr())}}function vc(e){null!==sc&&0===sc.tag&&0===(6&Lo)&&Pc();var t=Lo;Lo|=1;var n=Fo.transition,s=_t;try{if(Fo.transition=null,_t=1,e)return e()}finally{_t=s,Fo.transition=n,0===(6&(Lo=t))&&Xr()}}function bc(){Bo=qo.current,Mr(qo)}function jc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,pr(n)),null!==Uo)for(n=Uo.return;null!==n;){var s=n;switch(da(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&qr();break;case 3:ai(),Mr(Dr),Mr(Lr),ui();break;case 5:li(s);break;case 4:ai();break;case 13:case 19:Mr(oi);break;case 10:Fa(s.type._context);break;case 22:case 23:bc()}n=n.return}if(Do=e,Uo=e=qc(e.current,null),zo=Bo=t,Vo=0,Wo=null,Ko=Go=Ho=0,Qo=Jo=null,null!==za){for(t=0;t<za.length;t++)if(null!==(s=(n=za[t]).interleaved)){n.interleaved=null;var r=s.next,a=n.pending;if(null!==a){var i=a.next;a.next=r,s.next=i}n.pending=s}za=null}return e}function wc(e,t){for(;;){var n=Uo;try{if(Ra(),mi.current=il,yi){for(var s=xi.memoizedState;null!==s;){var r=s.queue;null!==r&&(r.pending=null),s=s.next}yi=!1}if(hi=0,fi=gi=xi=null,vi=!1,bi=0,Ro.current=null,null===n||null===n.return){Vo=1,Wo=t,Uo=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=zo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=kl(l);if(null!==h){h.flags&=-257,Sl(h,l,o,0,t),1&h.mode&&Nl(i,d,t),c=d;var x=(t=h).updateQueue;if(null===x){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}if(0===(1&t)){Nl(i,d,t),kc();break e}c=Error(a(426))}else if(pa&&1&o.mode){var f=kl(l);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),Sl(f,l,o,0,t),Na(fl(c,o));break e}}i=c=fl(c,o),4!==Vo&&(Vo=2),null===Jo?Jo=[i]:Jo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ya(i,jl(0,c,t));break e;case 1:o=c;var y=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===tc||!tc.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Ya(i,wl(i,o,t));break e}}i=i.return}while(null!==i)}Ec(n)}catch(b){t=b,Uo===n&&null!==n&&(Uo=n=n.return);continue}break}}function Nc(){var e=Mo.current;return Mo.current=il,null===e?il:e}function kc(){0!==Vo&&3!==Vo&&2!==Vo||(Vo=4),null===Do||0===(268435455&Ho)&&0===(268435455&Go)||gc(Do,zo)}function Sc(e,t){var n=Lo;Lo|=2;var s=Nc();for(Do===e&&zo===t||(Zo=null,jc(e,t));;)try{Cc();break}catch(We){wc(e,We)}if(Ra(),Lo=n,Mo.current=s,null!==Uo)throw Error(a(261));return Do=null,zo=0,Vo}function Cc(){for(;null!==Uo;)Ac(Uo)}function _c(){for(;null!==Uo&&!$e();)Ac(Uo)}function Ac(e){var t=Io(e.alternate,e,Bo);e.memoizedProps=e.pendingProps,null===t?Ec(e):Uo=t,Ro.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=to(n,t,Bo)))return void(Uo=n)}else{if(null!==(n=no(n,t)))return n.flags&=32767,void(Uo=n);if(null===e)return Vo=6,void(Uo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Uo=t);Uo=t=e}while(null!==t);0===Vo&&(Vo=5)}function Tc(e,t,n){var s=_t,r=Fo.transition;try{Fo.transition=null,_t=1,function(e,t,n,s){do{Pc()}while(null!==sc);if(0!==(6&Lo))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-pt(n),a=1<<r;t[r]=0,s[r]=-1,e[r]=-1,n&=~a}}(e,i),e===Do&&(Uo=Do=null,zo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||nc||(nc=!0,Dc(ot,function(){return Pc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Fo.transition,Fo.transition=null;var l=_t;_t=1;var o=Lo;Lo|=4,Ro.current=null,function(e,t){if(cr=$t,ws(e=js())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch(Bt){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==n||0!==r&&3!==m.nodeType||(o=l+r),m!==i||0!==s&&3!==m.nodeType||(c=l+s),3===m.nodeType&&(l+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===r&&(o=l),p===i&&++u===s&&(c=l),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(dr={focusedElem:e,selectionRange:n},$t=!1,io=t;null!==io;)if(e=(t=io).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,io=e;else for(;null!==io;){t=io;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var g=x.memoizedProps,f=x.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:dl(t.type,g),f);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(Bt){Oc(t,t.return,Bt)}if(null!==(e=t.sibling)){e.return=t.return,io=e;break}io=t.return}x=co,co=!1}(e,n),So(n,e),Ns(dr),$t=!!cr,dr=cr=null,e.current=n,_o(n,e,r),nt(),Lo=o,_t=l,Fo.transition=i}else e.current=n;if(nc&&(nc=!1,sc=e,rc=r),i=e.pendingLanes,0===i&&(tc=null),function(e){if(mt&&"function"===typeof mt.onCommitFiberRoot)try{mt.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),mc(e,rt()),null!==t)for(s=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],s(r.value,{componentStack:r.stack,digest:r.digest});if($o)throw $o=!1,e=ec,ec=null,e;0!==(1&rc)&&0!==e.tag&&Pc(),i=e.pendingLanes,0!==(1&i)?e===ic?ac++:(ac=0,ic=e):ac=0,Xr()}(e,t,n,s)}finally{Fo.transition=r,_t=s}return null}function Pc(){if(null!==sc){var e=At(rc),t=Fo.transition,n=_t;try{if(Fo.transition=null,_t=16>e?16:e,null===sc)var s=!1;else{if(e=sc,sc=null,rc=0,0!==(6&Lo))throw Error(a(331));var r=Lo;for(Lo|=4,io=e.current;null!==io;){var i=io,l=i.child;if(0!==(16&io.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(io=d;null!==io;){var u=io;switch(u.tag){case 0:case 11:case 15:uo(8,u,i)}var m=u.child;if(null!==m)m.return=u,io=m;else for(;null!==io;){var p=(u=io).sibling,h=u.return;if(ho(u),u===d){io=null;break}if(null!==p){p.return=h,io=p;break}io=h}}}var x=i.alternate;if(null!==x){var g=x.child;if(null!==g){x.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(null!==g)}}io=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,io=l;else e:for(;null!==io;){if(0!==(2048&(i=io).flags))switch(i.tag){case 0:case 11:case 15:uo(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,io=y;break e}io=i.return}}var v=e.current;for(io=v;null!==io;){var b=(l=io).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,io=b;else e:for(l=v;null!==io;){if(0!==(2048&(o=io).flags))try{switch(o.tag){case 0:case 11:case 15:mo(9,o)}}catch(w){Oc(o,o.return,w)}if(o===l){io=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,io=j;break e}io=o.return}}if(Lo=r,Xr(),mt&&"function"===typeof mt.onPostCommitFiberRoot)try{mt.onPostCommitFiberRoot(ut,e)}catch(w){}s=!0}return s}finally{_t=n,Fo.transition=t}}return!1}function Ic(e,t,n){e=Ja(e,t=jl(0,t=fl(n,t),1),1),t=cc(),null!==e&&(St(e,1,t),mc(e,t))}function Oc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===tc||!tc.has(s))){t=Ja(t,e=wl(t,e=fl(n,e),1),1),e=cc(),null!==t&&(St(t,1,e),mc(t,e));break}}t=t.return}}function Mc(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=cc(),e.pingedLanes|=e.suspendedLanes&n,Do===e&&(zo&n)===n&&(4===Vo||3===Vo&&(130023424&zo)===zo&&500>rt()-Yo?jc(e,0):Ko|=n),mc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ft,0===(130023424&(ft<<=1))&&(ft=4194304)));var n=cc();null!==(e=Va(e,t))&&(St(e,t,n),mc(e,n))}function Fc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}null!==s&&s.delete(t),Rc(e,n)}function Dc(e,t){return Xe(e,t)}function Uc(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zc(e,t,n,s){return new Uc(e,t,n,s)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qc(e,t){var n=e.alternate;return null===n?((n=zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vc(e,t,n,s,r,i){var l=2;if(s=e,"function"===typeof e)Bc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case N:return Wc(n.children,r,i,t);case k:l=8,r|=8;break;case S:return(e=zc(12,n,t,2|r)).elementType=S,e.lanes=i,e;case E:return(e=zc(13,n,t,r)).elementType=E,e.lanes=i,e;case T:return(e=zc(19,n,t,r)).elementType=T,e.lanes=i,e;case O:return Hc(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case _:l=9;break e;case A:l=11;break e;case P:l=14;break e;case I:l=16,s=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=zc(l,n,t,r)).elementType=e,t.type=s,t.lanes=i,t}function Wc(e,t,n,s){return(e=zc(7,e,s,t)).lanes=n,e}function Hc(e,t,n,s){return(e=zc(22,e,s,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Gc(e,t,n){return(e=zc(6,e,null,t)).lanes=n,e}function Kc(e,t,n){return(t=zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jc(e,t,n,s,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nt(0),this.expirationTimes=Nt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nt(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,s,r,a,i,l,o){return e=new Jc(e,t,n,l,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=zc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(a),e}function Yc(e){if(!e)return Fr;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Br(n))return Wr(e,n,t)}return t}function Xc(e,t,n,s,r,a,i,l,o){return(e=Qc(n,s,!0,e,0,a,0,l,o)).context=Yc(null),n=e.current,(a=Ka(s=cc(),r=dc(n))).callback=void 0!==t&&null!==t?t:null,Ja(n,a,r),e.current.lanes=r,St(e,r,s),mc(e,s),e}function Zc(e,t,n,s){var r=t.current,a=cc(),i=dc(r);return n=Yc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ka(a,i)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Ja(r,t,i))&&(uc(e,r,i,a),Qa(e,r,i)),i}function $c(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ed(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function td(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}Io=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Dr.current)_l=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _l=!1,function(e,t,n){switch(t.tag){case 3:Ll(t),wa();break;case 5:ii(t);break;case 1:Br(t.type)&&Hr(t);break;case 4:ri(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,r=t.memoizedProps.value;Rr(Pa,s._currentValue),s._currentValue=r;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Rr(oi,1&oi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Hl(e,t,n):(Rr(oi,1&oi.current),null!==(e=Zl(e,t,n))?e.sibling:null);Rr(oi,1&oi.current);break;case 19:if(s=0!==(n&t.childLanes),0!==(128&e.flags)){if(s)return Yl(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Rr(oi,oi.current),s)break;return null;case 22:case 23:return t.lanes=0,Il(e,t,n)}return Zl(e,t,n)}(e,t,n);_l=0!==(131072&e.flags)}else _l=!1,pa&&0!==(1048576&t.flags)&&oa(t,ta,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Xl(e,t),e=t.pendingProps;var r=zr(t,Lr.current);Da(t,n),r=ki(null,t,s,e,r,n);var i=Si();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(s)?(i=!0,Hr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ha(t),r.updater=ml,t.stateNode=r,r._reactInternals=t,gl(t,s,e,n),t=Fl(null,t,s,!0,i,n)):(t.tag=0,pa&&i&&ca(t),Al(null,t,r,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Xl(e,t),e=t.pendingProps,s=(r=s._init)(s._payload),t.type=s,r=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(s),e=dl(s,e),r){case 0:t=Ml(null,t,s,e,n);break e;case 1:t=Rl(null,t,s,e,n);break e;case 11:t=El(null,t,s,e,n);break e;case 14:t=Tl(null,t,s,dl(s.type,e),n);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,r=t.pendingProps,Ml(e,t,s,r=t.elementType===s?r:dl(s,r),n);case 1:return s=t.type,r=t.pendingProps,Rl(e,t,s,r=t.elementType===s?r:dl(s,r),n);case 3:e:{if(Ll(t),null===e)throw Error(a(387));s=t.pendingProps,r=(i=t.memoizedState).element,Ga(e,t),Xa(t,s,null,n);var l=t.memoizedState;if(s=l.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Dl(e,t,s,n,r=fl(Error(a(423)),t));break e}if(s!==r){t=Dl(e,t,s,n,r=fl(Error(a(424)),t));break e}for(ma=yr(t.stateNode.containerInfo.firstChild),ua=t,pa=!0,ha=null,n=Ta(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wa(),s===r){t=Zl(e,t,n);break e}Al(e,t,s,n)}t=t.child}return t;case 5:return ii(t),null===e&&ya(t),s=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,l=r.children,ur(s,r)?l=null:null!==i&&ur(s,i)&&(t.flags|=32),Ol(e,t),Al(e,t,l,n),t.child;case 6:return null===e&&ya(t),null;case 13:return Hl(e,t,n);case 4:return ri(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=Ea(t,null,s,n):Al(e,t,s,n),t.child;case 11:return s=t.type,r=t.pendingProps,El(e,t,s,r=t.elementType===s?r:dl(s,r),n);case 7:return Al(e,t,t.pendingProps,n),t.child;case 8:case 12:return Al(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,Rr(Pa,s._currentValue),s._currentValue=l,null!==i)if(gs(i.value,l)){if(i.children===r.children&&!Dr.current){t=Zl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===s){if(1===i.tag){(c=Ka(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),La(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(a(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),La(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}Al(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,s=t.pendingProps.children,Da(t,n),s=s(r=Ua(r)),t.flags|=1,Al(e,t,s,n),t.child;case 14:return r=dl(s=t.type,t.pendingProps),Tl(e,t,s,r=dl(s.type,r),n);case 15:return Pl(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,r=t.pendingProps,r=t.elementType===s?r:dl(s,r),Xl(e,t),t.tag=1,Br(s)?(e=!0,Hr(t)):e=!1,Da(t,n),hl(t,s,r),gl(t,s,r,n),Fl(null,t,s,!0,e,n);case 19:return Yl(e,t,n);case 22:return Il(e,t,n)}throw Error(a(156,t.tag))};var nd="function"===typeof reportError?reportError:function(e){console.error(e)};function sd(e){this._internalRoot=e}function rd(e){this._internalRoot=e}function ad(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function id(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ld(){}function od(e,t,n,s,r){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof r){var l=r;r=function(){var e=$c(i);l.call(e)}}Zc(t,i,e,r)}else i=function(e,t,n,s,r){if(r){if("function"===typeof s){var a=s;s=function(){var e=$c(i);a.call(e)}}var i=Xc(t,s,e,0,null,!1,0,"",ld);return e._reactRootContainer=i,e[Nr]=i.current,Xs(8===e.nodeType?e.parentNode:e),vc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof s){var l=s;s=function(){var e=$c(o);l.call(e)}}var o=Qc(e,0,!1,null,0,!1,0,"",ld);return e._reactRootContainer=o,e[Nr]=o.current,Xs(8===e.nodeType?e.parentNode:e),vc(function(){Zc(t,o,n,s)}),o}(n,t,e,r,s);return $c(i)}rd.prototype.render=sd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Zc(e,t,null,null)},rd.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vc(function(){Zc(null,e,null,null)}),t[Nr]=null}},rd.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&0!==t&&t<qt[n].priority;n++);qt.splice(n,0,e),0===n&&Gt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yt(t.pendingLanes);0!==n&&(Ct(t,1|n),mc(t,rt()),0===(6&Lo)&&(Xo=rt()+500,Xr()))}break;case 13:vc(function(){var t=Va(e,1);if(null!==t){var n=cc();uc(t,e,1,n)}}),td(e,1)}},Tt=function(e){if(13===e.tag){var t=Va(e,134217728);if(null!==t)uc(t,e,134217728,cc());td(e,134217728)}},Pt=function(e){if(13===e.tag){var t=dc(e),n=Va(e,t);if(null!==n)uc(n,e,t,cc());td(e,t)}},It=function(){return _t},Ot=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},je=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=Tr(s);if(!r)throw Error(a(90));K(s),Z(s,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=yc,Ae=vc;var cd={usingClientEntryPoint:!1,Events:[Ar,Er,Tr,Se,Ce,yc]},dd={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{ut=md.inject(ud),mt=md}catch(Ke){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ad(t))throw Error(a(200));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!ad(e))throw Error(a(299));var n=!1,s="",r=nd;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Qc(e,1,!1,null,0,n,0,s,r),e[Nr]=t.current,Xs(8===e.nodeType?e.parentNode:e),new sd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e){return vc(e)},t.hydrate=function(e,t,n){if(!id(t))throw Error(a(200));return od(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!ad(e))throw Error(a(405));var s=null!=n&&n.hydratedSources||null,r=!1,i="",l=nd;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Xc(t,null,e,1,null!=n?n:null,r,0,i,l),e[Nr]=t.current,Xs(e),s)for(e=0;e<s.length;e++)r=(r=(n=s[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new rd(t)},t.render=function(e,t,n){if(!id(t))throw Error(a(200));return od(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!id(e))throw Error(a(40));return!!e._reactRootContainer&&(vc(function(){od(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0)},t.unstable_batchedUpdates=yc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!id(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return od(e,t,n,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(s,r){if(1&r&&(s=this(s)),8&r)return s;if("object"===typeof s&&s){if(4&r&&s.__esModule)return s;if(16&r&&"function"===typeof s.then)return s}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&s;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>s[e]);return i.default=()=>s,n.d(a,i),a}})(),n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/aiva/";var s={};n.r(s),n.d(s,{hasBrowserEnv:()=>us,hasStandardBrowserEnv:()=>ps,hasStandardBrowserWebWorkerEnv:()=>hs,navigator:()=>ms,origin:()=>xs});var r,a=n(43),i=n.t(a,2),l=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(We){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,s){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function g(e,t,n,s){void 0===s&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,l=a.history,u=r.Pop,x=null,g=f();function f(){return(l.state||{idx:null}).idx}function y(){u=r.Pop;let e=f(),t=null==e?null:e-g;g=e,x&&x({action:u,location:b.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,l.replaceState(o({},l.state,{idx:g}),""));let b={get action(){return u},get location(){return e(a,l)},listen(e){if(x)throw new Error("A history only accepts one active listener");return a.addEventListener(c,y),x=e,()=>{a.removeEventListener(c,y),x=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=r.Push;let s=p(b.location,e,t);n&&n(s,e),g=f()+1;let o=m(s,g),c=b.createHref(s);try{l.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;a.location.assign(c)}i&&x&&x({action:u,location:b.location,delta:1})},replace:function(e,t){u=r.Replace;let s=p(b.location,e,t);n&&n(s,e),g=f();let a=m(s,g),o=b.createHref(s);l.replaceState(a,"",o),i&&x&&x({action:u,location:b.location,delta:0})},go:e=>l.go(e)};return b}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,s){let r=O(("string"===typeof t?x(t):t).pathname||"/",n);if(null==r)return null;let a=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let l=0;null==i&&l<a.length;++l){let e=I(r);i=T(a[l],e,s)}return i}function b(e,t,n,s){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===s&&(s="");let r=(e,r,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(d(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(s.length));let l=D([s,i.relativePath]),o=n.concat(i);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),b(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let s of j(e.path))r(e,t,s);else r(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===s.length)return r?[a,""]:[a];let i=j(s.join("/")),l=[];return l.push(...i.map(e=>""===e?a:[a,e].join("/"))),r&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const w=/^:[\w-]+$/,N=3,k=2,S=1,C=10,_=-2,A=e=>"*"===e;function E(e,t){let n=e.split("/"),s=n.length;return n.some(A)&&(s+=_),t&&(s+=k),n.filter(e=>!A(e)).reduce((e,t)=>e+(w.test(t)?N:""===t?S:C),s)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:s}=e,r={},a="/",i=[];for(let l=0;l<s.length;++l){let e=s[l],o=l===s.length-1,c="/"===a?t:t.slice(a.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!s[s.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:D([a,d.pathname]),pathnameBase:U(D([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=D([a,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,s]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((e,t,n)=>{let{paramName:s,isOptional:r}=t;if("*"===s){let e=l[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[s]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function M(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let n=R(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,s){let r;void 0===s&&(s=!1),"string"===typeof e?r=x(e):(r=o({},e),d(!r.pathname||!r.pathname.includes("?"),M("?","pathname","search",r)),d(!r.pathname||!r.pathname.includes("#"),M("#","pathname","hash",r)),d(!r.search||!r.search.includes("#"),M("#","search","hash",r)));let a,i=""===e||""===r.pathname,l=i?"/":r.pathname;if(null==l)a=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:s="",hash:r=""}="string"===typeof e?x(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:z(s),hash:B(r)}}(r,a),u=l&&"/"!==l&&l.endsWith("/"),m=(i||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const D=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],W=(new Set(V),["get",...V]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},H.apply(this,arguments)}const G=a.createContext(null);const K=a.createContext(null);const J=a.createContext(null);const Q=a.createContext(null);const Y=a.createContext({outlet:null,matches:[],isDataRoute:!1});const X=a.createContext(null);function Z(){return null!=a.useContext(Q)}function $(){return Z()||d(!1),a.useContext(Q).location}function ee(e){a.useContext(J).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(Y);return e?function(){let{router:e}=pe(ue.UseNavigateStable),t=xe(me.UseNavigateStable),n=a.useRef(!1);return ee(()=>{n.current=!0}),a.useCallback(function(s,r){void 0===r&&(r={}),n.current&&("number"===typeof s?e.navigate(s):e.navigate(s,H({fromRouteId:t},r)))},[e,t])}():function(){Z()||d(!1);let e=a.useContext(G),{basename:t,future:n,navigator:s}=a.useContext(J),{matches:r}=a.useContext(Y),{pathname:i}=$(),l=JSON.stringify(F(r,n.v7_relativeSplatPath)),o=a.useRef(!1);return ee(()=>{o.current=!0}),a.useCallback(function(n,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof n)return void s.go(n);let a=L(n,JSON.parse(l),i,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:D([t,a.pathname])),(r.replace?s.replace:s.push)(a,r.state,r)},[t,s,l,i,e])}()}const ne=a.createContext(null);function se(){let{matches:e}=a.useContext(Y),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:s}=a.useContext(J),{matches:r}=a.useContext(Y),{pathname:i}=$(),l=JSON.stringify(F(r,s.v7_relativeSplatPath));return a.useMemo(()=>L(e,JSON.parse(l),i,"path"===n),[e,l,i,n])}function ae(e,t,n,s){Z()||d(!1);let{navigator:i}=a.useContext(J),{matches:l}=a.useContext(Y),o=l[l.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,p=$();if(t){var h;let e="string"===typeof t?x(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||d(!1),m=e}else m=p;let g=m.pathname||"/",f=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");f="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=y(e,{pathname:f});let b=de(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:D([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,n,s);return t&&b?a.createElement(Q.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:r.Pop}},b):b}function ie(){let e=function(){var e;let t=a.useContext(X),n=he(me.UseRouteError),s=xe(me.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[s]}(),t=q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:r},n):null,null)}const le=a.createElement(ie,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Y.Provider,{value:this.props.routeContext},a.createElement(X.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:s}=e,r=a.useContext(G);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(Y.Provider,{value:t},s)}function de(e,t,n,s){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===s&&(s=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,o=null==(r=n)?void 0:r.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||d(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:s}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||r){c=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((e,s,r)=>{let i,d=!1,m=null,p=null;var h;n&&(i=o&&s.route.id?o[s.route.id]:void 0,m=s.route.errorElement||le,c&&(u<0&&0===r?(h="route-fallback",!1||ge[h]||(ge[h]=!0),d=!0,p=null):u===r&&(d=!0,p=s.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,r+1)),g=()=>{let t;return t=i?m:d?p:s.route.Component?a.createElement(s.route.Component,null):s.route.element?s.route.element:e,a.createElement(ce,{match:s,routeContext:{outlet:e,matches:x,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===r)?a.createElement(oe,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function pe(e){let t=a.useContext(G);return t||d(!1),t}function he(e){let t=a.useContext(K);return t||d(!1),t}function xe(e){let t=function(){let e=a.useContext(Y);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const ge={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ye(e){let{to:t,replace:n,state:s,relative:r}=e;Z()||d(!1);let{future:i,static:l}=a.useContext(J),{matches:o}=a.useContext(Y),{pathname:c}=$(),u=te(),m=L(t,F(o,i.v7_relativeSplatPath),c,"path"===r),p=JSON.stringify(m);return a.useEffect(()=>u(JSON.parse(p),{replace:n,state:s,relative:r}),[u,p,r,n,s]),null}function ve(e){return function(e){let t=a.useContext(Y).outlet;return t?a.createElement(ne.Provider,{value:e},t):t}(e.context)}function be(e){d(!1)}function je(e){let{basename:t="/",children:n=null,location:s,navigationType:i=r.Pop,navigator:l,static:o=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:u,navigator:l,static:o,future:H({v7_relativeSplatPath:!1},c)}),[u,c,l,o]);"string"===typeof s&&(s=x(s));let{pathname:p="/",search:h="",hash:g="",state:f=null,key:y="default"}=s,v=a.useMemo(()=>{let e=O(p,u);return null==e?null:{location:{pathname:e,search:h,hash:g,state:f,key:y},navigationType:i}},[u,p,h,g,f,y,i]);return null==v?null:a.createElement(J.Provider,{value:m},a.createElement(Q.Provider,{children:n,value:v}))}function we(e){let{children:t,location:n}=e;return ae(Ne(t),n)}new Promise(()=>{});a.Component;function Ne(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,(e,s)=>{if(!a.isValidElement(e))return;let r=[...t,s];if(e.type===a.Fragment)return void n.push.apply(n,Ne(e.props.children,r));e.type!==be&&d(!1),e.props.index&&e.props.children&&d(!1);let i={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,r)),n.push(i)}),n}var ke=n(950),Se=n.t(ke,2);function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ce.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Ae(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(e=>[n,e]):[[n,s]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(We){}new Map;const Te=i.startTransition;Se.flushSync,i.useId;function Pe(e){let{basename:t,children:n,future:s,window:r}=e,i=a.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:r,v5Compat:!0})&&(l={}),g(function(e,t){let{pathname:n,search:s,hash:r}=e.location;return p("",{pathname:n,search:s,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:h(t)},null,l)));let o=i.current,[c,d]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},m=a.useCallback(e=>{u&&Te?Te(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>o.listen(m),[o,m]),a.useEffect(()=>fe(s),[s]),a.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:s})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Oe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=a.forwardRef(function(e,t){let n,{onClick:s,relative:r,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:m,viewTransition:p}=e,x=_e(e,Ee),{basename:g}=a.useContext(J),f=!1;if("string"===typeof u&&Oe.test(u)&&(n=u,Ie))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:f=!0}catch(We){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Z()||d(!1);let{basename:s,navigator:r}=a.useContext(J),{hash:i,pathname:l,search:o}=re(e,{relative:n}),c=l;return"/"!==s&&(c="/"===l?s:D([s,l])),r.createHref({pathname:c,search:o,hash:i})}(u,{relative:r}),v=function(e,t){let{target:n,replace:s,state:r,preventScrollReset:i,relative:l,viewTransition:o}=void 0===t?{}:t,c=te(),d=$(),u=re(e,{relative:l});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==s?s:h(d)===h(u);c(e,{replace:n,state:r,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,s,r,n,e,i,l,o])}(u,{replace:l,state:o,target:c,preventScrollReset:m,relative:r,viewTransition:p});return a.createElement("a",Ce({},x,{href:n||y,onClick:f||i?s:function(e){s&&s(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Re,Fe;function Le(e){let t=a.useRef(Ae(e)),n=a.useRef(!1),s=$(),r=a.useMemo(()=>function(e,t){let n=Ae(e);return t&&t.forEach((e,s)=>{n.has(s)||t.getAll(s).forEach(e=>{n.append(s,e)})}),n}(s.search,n.current?null:t.current),[s.search]),i=te(),l=a.useCallback((e,t)=>{const s=Ae("function"===typeof e?e(r):e);n.current=!0,i("?"+s,t)},[i,r]);return[r,l]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Fe||(Fe={}));function De(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Ue(e){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ue(e)}function ze(e){var t=function(e,t){if("object"!=Ue(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=Ue(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ue(t)?t:t+""}function Be(e,t,n){return(t=ze(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,s)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach(function(t){Be(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let We={data:""},He=e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||We},Ge=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ke=/\/\*[^]*?\*\/|  +/g,Je=/\n+/g,Qe=(e,t)=>{let n="",s="",r="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+i+";":s+="f"==a[1]?Qe(i,a):a+"{"+Qe(i,"k"==a[1]?"":t)+"}":"object"==typeof i?s+=Qe(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Qe.p?Qe.p(a,i):a+":"+i+";")}return n+(t&&r?t+"{"+r+"}":r)+s},Ye={},Xe=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+Xe(e[n]);return t}return e},Ze=(e,t,n,s,r)=>{let a=Xe(e),i=Ye[a]||(Ye[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!Ye[i]){let t=a!==e?e:(e=>{let t,n,s=[{}];for(;t=Ge.exec(e.replace(Ke,""));)t[4]?s.shift():t[3]?(n=t[3].replace(Je," ").trim(),s.unshift(s[0][n]=s[0][n]||{})):s[0][t[1]]=t[2].replace(Je," ").trim();return s[0]})(e);Ye[i]=Qe(r?{["@keyframes "+i]:t}:t,n?"":"."+i)}let l=n&&Ye.g?Ye.g:null;return n&&(Ye.g=Ye[i]),((e,t,n,s)=>{s?t.data=t.data.replace(s,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(Ye[i],t,s,l),i};function $e(e){let t=this||{},n=e.call?e(t.p):e;return Ze(n.unshift?n.raw?((e,t,n)=>e.reduce((e,s,r)=>{let a=t[r];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":Qe(e,""):!1===e?"":e}return e+s+(null==a?"":a)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,He(t.target),t.g,t.o,t.k)}$e.bind({g:1});let et,tt,nt,st=$e.bind({k:1});function rt(e,t){let n=this||{};return function(){let s=arguments;function r(a,i){let l=Object.assign({},a),o=l.className||r.className;n.p=Object.assign({theme:tt&&tt()},l),n.o=/ *go\d+/.test(o),l.className=$e.apply(n,s)+(o?" "+o:""),t&&(l.ref=i);let c=e;return e[0]&&(c=l.as||e,delete l.as),nt&&c[0]&&nt(l),et(c,l)}return t?t(r):r}}var at,it,lt,ot,ct,dt,ut,mt,pt,ht,xt,gt,ft,yt,vt,bt,jt=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,wt=(()=>{let e=0;return()=>(++e).toString()})(),Nt=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),kt="default",St=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return Ve(Ve({},e),{},{toasts:[t.toast,...e.toasts].slice(0,n)});case 1:return Ve(Ve({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Ve(Ve({},e),t.toast):e)});case 2:let{toast:s}=t;return St(e,{type:e.toasts.find(e=>e.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return Ve(Ve({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?Ve(Ve({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Ve(Ve({},e),{},{toasts:[]}):Ve(Ve({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Ve(Ve({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Ve(Ve({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Ve(Ve({},e),{},{pauseDuration:e.pauseDuration+a}))})}},Ct=[],_t={toasts:[],pausedAt:void 0,settings:{toastLimit:20}},At={},Et=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt;At[t]=St(At[t]||_t,e),Ct.forEach(e=>{let[n,s]=e;n===t&&s(At[t])})},Tt=e=>Object.keys(At).forEach(t=>Et(e,t)),Pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt;return t=>{Et(t,e)}},It={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ot=e=>(t,n)=>{let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Ve(Ve({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||wt()})}(t,e,n);return Pt(s.toasterId||(e=>Object.keys(At).find(t=>At[t].toasts.some(t=>t.id===e)))(s.id))({type:2,toast:s}),s.id},Mt=(e,t)=>Ot("blank")(e,t);Mt.error=Ot("error"),Mt.success=Ot("success"),Mt.loading=Ot("loading"),Mt.custom=Ot("custom"),Mt.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Pt(t)(n):Tt(n)},Mt.dismissAll=e=>Mt.dismiss(void 0,e),Mt.remove=(e,t)=>{let n={type:4,toastId:e};t?Pt(t)(n):Tt(n)},Mt.removeAll=e=>Mt.remove(void 0,e),Mt.promise=(e,t,n)=>{let s=Mt.loading(t.loading,Ve(Ve({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let r=t.success?jt(t.success,e):void 0;return r?Mt.success(r,Ve(Ve({id:s},n),null==n?void 0:n.success)):Mt.dismiss(s),e}).catch(e=>{let r=t.error?jt(t.error,e):void 0;r?Mt.error(r,Ve(Ve({id:s},n),null==n?void 0:n.error)):Mt.dismiss(s)}),e};var Rt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",{toasts:n,pausedAt:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kt,[n,s]=(0,a.useState)(At[t]||_t),r=(0,a.useRef)(At[t]);(0,a.useEffect)(()=>(r.current!==At[t]&&s(At[t]),Ct.push([t,s]),()=>{let e=Ct.findIndex(e=>{let[n]=e;return n===t});e>-1&&Ct.splice(e,1)}),[t]);let i=n.toasts.map(t=>{var n,s,r;return Ve(Ve(Ve(Ve({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(s=e[t.type])?void 0:s.duration)||(null==e?void 0:e.duration)||It[t.type],style:Ve(Ve(Ve({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})});return Ve(Ve({},n),{},{toasts:i})}(e,t),r=(0,a.useRef)(new Map).current,i=(0,a.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(r.has(e))return;let n=setTimeout(()=>{r.delete(e),l({type:4,toastId:e})},t);r.set(e,n)},[]);(0,a.useEffect)(()=>{if(s)return;let e=Date.now(),r=n.map(n=>{if(n.duration===1/0)return;let s=(n.duration||0)+n.pauseDuration-(e-n.createdAt);if(!(s<0))return setTimeout(()=>Mt.dismiss(n.id,t),s);n.visible&&Mt.dismiss(n.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[n,s,t]);let l=(0,a.useCallback)(Pt(t),[t]),o=(0,a.useCallback)(()=>{l({type:5,time:Date.now()})},[l]),c=(0,a.useCallback)((e,t)=>{l({type:1,toast:{id:e,height:t}})},[l]),d=(0,a.useCallback)(()=>{s&&l({type:6,time:Date.now()})},[s,l]),u=(0,a.useCallback)((e,t)=>{let{reverseOrder:s=!1,gutter:r=8,defaultPosition:a}=t||{},i=n.filter(t=>(t.position||a)===(e.position||a)&&t.height),l=i.findIndex(t=>t.id===e.id),o=i.filter((e,t)=>t<l&&e.visible).length;return i.filter(e=>e.visible).slice(...s?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+r,0)},[n]);return(0,a.useEffect)(()=>{n.forEach(e=>{if(e.dismissed)i(e.id,e.removeDelay);else{let t=r.get(e.id);t&&(clearTimeout(t),r.delete(e.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},Ft=st(at||(at=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),Lt=st(it||(it=De(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Dt=st(lt||(lt=De(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Ut=rt("div")(ot||(ot=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Ft,Lt,e=>e.secondary||"#fff",Dt),zt=st(ct||(ct=De(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Bt=rt("div")(dt||(dt=De(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",zt),qt=st(ut||(ut=De(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Vt=st(mt||(mt=De(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Wt=rt("div")(pt||(pt=De(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",qt,Vt,e=>e.secondary||"#fff"),Ht=rt("div")(ht||(ht=De(["\n  position: absolute;\n"]))),Gt=rt("div")(xt||(xt=De(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Kt=st(gt||(gt=De(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),Jt=rt("div")(ft||(ft=De(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Kt),Qt=e=>{let{toast:t}=e,{icon:n,type:s,iconTheme:r}=t;return void 0!==n?"string"==typeof n?a.createElement(Jt,null,n):n:"blank"===s?null:a.createElement(Gt,null,a.createElement(Bt,Ve({},r)),"loading"!==s&&a.createElement(Ht,null,"error"===s?a.createElement(Ut,Ve({},r)):a.createElement(Wt,Ve({},r))))},Yt=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),Xt=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),Zt=rt("div")(yt||(yt=De(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),$t=rt("div")(vt||(vt=De(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),en=a.memo(e=>{let{toast:t,position:n,style:s,children:r}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[s,r]=Nt()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Yt(n),Xt(n)];return{animation:t?"".concat(st(s)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(st(r)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},l=a.createElement(Qt,{toast:t}),o=a.createElement($t,Ve({},t.ariaProps),jt(t.message,t));return a.createElement(Zt,{className:t.className,style:Ve(Ve(Ve({},i),s),t.style)},"function"==typeof r?r({icon:l,message:o}):a.createElement(a.Fragment,null,l,o))});!function(e,t,n,s){Qe.p=t,et=e,tt=n,nt=s}(a.createElement);var tn=e=>{let{id:t,className:n,style:s,onHeightUpdate:r,children:i}=e,l=a.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;r(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return a.createElement("div",{ref:l,className:n,style:s},i)},nn=$e(bt||(bt=De(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),sn=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:s,gutter:r,children:i,toasterId:l,containerStyle:o,containerClassName:c}=e,{toasts:d,handlers:u}=Rt(s,l);return a.createElement("div",{"data-rht-toaster":l||"",style:Ve({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},o),className:c,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(e=>{let s=e.position||n,l=((e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Ve(Ve({left:0,right:0,display:"flex",position:"absolute",transition:Nt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},s),r)})(s,u.calculateOffset(e,{reverseOrder:t,gutter:r,defaultPosition:n}));return a.createElement(tn,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?nn:"",style:l},"custom"===e.type?jt(e.message,e):i?i(e):a.createElement(en,{toast:e,position:s}))}))},rn=Mt;function an(e,t){return function(){return e.apply(t,arguments)}}const{toString:ln}=Object.prototype,{getPrototypeOf:on}=Object,{iterator:cn,toStringTag:dn}=Symbol,un=(mn=Object.create(null),e=>{const t=ln.call(e);return mn[t]||(mn[t]=t.slice(8,-1).toLowerCase())});var mn;const pn=e=>(e=e.toLowerCase(),t=>un(t)===e),hn=e=>t=>typeof t===e,{isArray:xn}=Array,gn=hn("undefined");function fn(e){return null!==e&&!gn(e)&&null!==e.constructor&&!gn(e.constructor)&&bn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const yn=pn("ArrayBuffer");const vn=hn("string"),bn=hn("function"),jn=hn("number"),wn=e=>null!==e&&"object"===typeof e,Nn=e=>{if("object"!==un(e))return!1;const t=on(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(dn in e)&&!(cn in e)},kn=pn("Date"),Sn=pn("File"),Cn=pn("Blob"),_n=pn("FileList"),An=pn("URLSearchParams"),[En,Tn,Pn,In]=["ReadableStream","Request","Response","Headers"].map(pn);function On(e,t){let n,s,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),xn(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(fn(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let i;for(n=0;n<a;n++)i=s[n],t.call(null,e[i],i,e)}}function Mn(e,t){if(fn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s,r=n.length;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Rn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Fn=e=>!gn(e)&&e!==Rn;const Ln=(Dn="undefined"!==typeof Uint8Array&&on(Uint8Array),e=>Dn&&e instanceof Dn);var Dn;const Un=pn("HTMLFormElement"),zn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Bn=pn("RegExp"),qn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};On(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(s[r]=a||n)}),Object.defineProperties(e,s)};const Vn=pn("AsyncFunction"),Wn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),s=[],Rn.addEventListener("message",e=>{let{source:t,data:r}=e;t===Rn&&r===n&&s.length&&s.shift()()},!1),e=>{s.push(e),Rn.postMessage(n,"*")}):e=>setTimeout(e);var n,s})("function"===typeof setImmediate,bn(Rn.postMessage)),Hn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Rn):"undefined"!==typeof process&&process.nextTick||Wn,Gn={isArray:xn,isArrayBuffer:yn,isBuffer:fn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||bn(e.append)&&("formdata"===(t=un(e))||"object"===t&&bn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&yn(e.buffer),t},isString:vn,isNumber:jn,isBoolean:e=>!0===e||!1===e,isObject:wn,isPlainObject:Nn,isEmptyObject:e=>{if(!wn(e)||fn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(We){return!1}},isReadableStream:En,isRequest:Tn,isResponse:Pn,isHeaders:In,isUndefined:gn,isDate:kn,isFile:Sn,isBlob:Cn,isRegExp:Bn,isFunction:bn,isStream:e=>wn(e)&&bn(e.pipe),isURLSearchParams:An,isTypedArray:Ln,isFileList:_n,forEach:On,merge:function e(){const{caseless:t,skipUndefined:n}=Fn(this)&&this||{},s={},r=(r,a)=>{const i=t&&Mn(s,a)||a;Nn(s[i])&&Nn(r)?s[i]=e(s[i],r):Nn(r)?s[i]=e({},r):xn(r)?s[i]=r.slice():n&&gn(r)||(s[i]=r)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&On(arguments[a],r);return s},extend:function(e,t,n){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return On(t,(t,s)=>{n&&bn(t)?e[s]=an(t,n):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,s)=>{let r,a,i;const l={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],s&&!s(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&on(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:un,kindOfTest:pn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return-1!==s&&s===n},toArray:e=>{if(!e)return null;if(xn(e))return e;let t=e.length;if(!jn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[cn]).call(e);let s;for(;(s=n.next())&&!s.done;){const n=s.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const s=[];for(;null!==(n=e.exec(t));)s.push(n);return s},isHTMLForm:Un,hasOwnProperty:zn,hasOwnProp:zn,reduceDescriptors:qn,freezeMethods:e=>{qn(e,(t,n)=>{if(bn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const s=e[n];bn(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},s=e=>{e.forEach(e=>{n[e]=!0})};return xn(e)?s(e):s(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Mn,global:Rn,isContextDefined:Fn,isSpecCompliantForm:function(e){return!!(e&&bn(e.append)&&"FormData"===e[dn]&&e[cn])},toJSONObject:e=>{const t=new Array(10),n=(e,s)=>{if(wn(e)){if(t.indexOf(e)>=0)return;if(fn(e))return e;if(!("toJSON"in e)){t[s]=e;const r=xn(e)?[]:{};return On(e,(e,t)=>{const a=n(e,s+1);!gn(a)&&(r[t]=a)}),t[s]=void 0,r}}return e};return n(e,0)},isAsyncFn:Vn,isThenable:e=>e&&(wn(e)||bn(e))&&bn(e.then)&&bn(e.catch),setImmediate:Wn,asap:Hn,isIterable:e=>null!=e&&bn(e[cn])};function Kn(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}Gn.inherits(Kn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Gn.toJSONObject(this.config),code:this.code,status:this.status}}});const Jn=Kn.prototype,Qn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Qn[e]={value:e}}),Object.defineProperties(Kn,Qn),Object.defineProperty(Jn,"isAxiosError",{value:!0}),Kn.from=(e,t,n,s,r,a)=>{const i=Object.create(Jn);Gn.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const l=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return Kn.call(i,l,o,n,s,r),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const Yn=Kn;function Xn(e){return Gn.isPlainObject(e)||Gn.isArray(e)}function Zn(e){return Gn.endsWith(e,"[]")?e.slice(0,-2):e}function $n(e,t,n){return e?e.concat(t).map(function(e,t){return e=Zn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const es=Gn.toFlatObject(Gn,{},null,function(e){return/^is[A-Z]/.test(e)});const ts=function(e,t,n){if(!Gn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(n=Gn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Gn.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Gn.isSpecCompliantForm(t);if(!Gn.isFunction(r))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Gn.isDate(e))return e.toISOString();if(Gn.isBoolean(e))return e.toString();if(!l&&Gn.isBlob(e))throw new Yn("Blob is not supported. Use a Buffer instead.");return Gn.isArrayBuffer(e)||Gn.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let l=e;if(e&&!r&&"object"===typeof e)if(Gn.endsWith(n,"{}"))n=s?n:n.slice(0,-2),e=JSON.stringify(e);else if(Gn.isArray(e)&&function(e){return Gn.isArray(e)&&!e.some(Xn)}(e)||(Gn.isFileList(e)||Gn.endsWith(n,"[]"))&&(l=Gn.toArray(e)))return n=Zn(n),l.forEach(function(e,s){!Gn.isUndefined(e)&&null!==e&&t.append(!0===i?$n([n],s,a):null===i?n:n+"[]",o(e))}),!1;return!!Xn(e)||(t.append($n(r,n,a),o(e)),!1)}const d=[],u=Object.assign(es,{defaultVisitor:c,convertValue:o,isVisitable:Xn});if(!Gn.isObject(e))throw new TypeError("data must be an object");return function e(n,s){if(!Gn.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+s.join("."));d.push(n),Gn.forEach(n,function(n,a){!0===(!(Gn.isUndefined(n)||null===n)&&r.call(t,n,Gn.isString(a)?a.trim():a,s,u))&&e(n,s?s.concat(a):[a])}),d.pop()}}(e),t};function ns(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function ss(e,t){this._pairs=[],e&&ts(e,this,t)}const rs=ss.prototype;rs.append=function(e,t){this._pairs.push([e,t])},rs.toString=function(e){const t=e?function(t){return e.call(this,t,ns)}:ns;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const as=ss;function is(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ls(e,t,n){if(!t)return e;const s=n&&n.encode||is;Gn.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):Gn.isURLSearchParams(t)?t.toString():new as(t,n).toString(s),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const os=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Gn.forEach(this.handlers,function(t){null!==t&&e(t)})}},cs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ds={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:as,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},us="undefined"!==typeof window&&"undefined"!==typeof document,ms="object"===typeof navigator&&navigator||void 0,ps=us&&(!ms||["ReactNative","NativeScript","NS"].indexOf(ms.product)<0),hs="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,xs=us&&window.location.href||"http://localhost",gs=Ve(Ve({},s),ds);const fs=function(e){function t(e,n,s,r){let a=e[r++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),l=r>=e.length;if(a=!a&&Gn.isArray(s)?s.length:a,l)return Gn.hasOwnProp(s,a)?s[a]=[s[a],n]:s[a]=n,!i;s[a]&&Gn.isObject(s[a])||(s[a]=[]);return t(e,n,s[a],r)&&Gn.isArray(s[a])&&(s[a]=function(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}(s[a])),!i}if(Gn.isFormData(e)&&Gn.isFunction(e.entries)){const n={};return Gn.forEachEntry(e,(e,s)=>{t(function(e){return Gn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,n,0)}),n}return null};const ys={transitional:cs,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=Gn.isObject(e);r&&Gn.isHTMLForm(e)&&(e=new FormData(e));if(Gn.isFormData(e))return s?JSON.stringify(fs(e)):e;if(Gn.isArrayBuffer(e)||Gn.isBuffer(e)||Gn.isStream(e)||Gn.isFile(e)||Gn.isBlob(e)||Gn.isReadableStream(e))return e;if(Gn.isArrayBufferView(e))return e.buffer;if(Gn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ts(e,new gs.classes.URLSearchParams,Ve({visitor:function(e,t,n,s){return gs.isNode&&Gn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Gn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ts(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),function(e,t,n){if(Gn.isString(e))try{return(t||JSON.parse)(e),Gn.trim(e)}catch(We){if("SyntaxError"!==We.name)throw We}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ys.transitional,n=t&&t.forcedJSONParsing,s="json"===this.responseType;if(Gn.isResponse(e)||Gn.isReadableStream(e))return e;if(e&&Gn.isString(e)&&(n&&!this.responseType||s)){const n=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(We){if(n){if("SyntaxError"===We.name)throw Yn.from(We,Yn.ERR_BAD_RESPONSE,this,null,this.response);throw We}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Gn.forEach(["delete","get","head","post","put","patch"],e=>{ys.headers[e]={}});const vs=ys,bs=Gn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),js=Symbol("internals");function ws(e){return e&&String(e).trim().toLowerCase()}function Ns(e){return!1===e||null==e?e:Gn.isArray(e)?e.map(Ns):String(e)}function ks(e,t,n,s,r){return Gn.isFunction(s)?s.call(this,t,n):(r&&(t=n),Gn.isString(t)?Gn.isString(s)?-1!==t.indexOf(s):Gn.isRegExp(s)?s.test(t):void 0:void 0)}class Ss{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function r(e,t,n){const r=ws(t);if(!r)throw new Error("header name must be a non-empty string");const a=Gn.findKey(s,r);(!a||void 0===s[a]||!0===n||void 0===n&&!1!==s[a])&&(s[a||t]=Ns(e))}const a=(e,t)=>Gn.forEach(e,(e,n)=>r(e,n,t));if(Gn.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Gn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,s,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),s=e.substring(r+1).trim(),!n||t[n]&&bs[n]||("set-cookie"===n?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t})(e),t);else if(Gn.isObject(e)&&Gn.isIterable(e)){let n,s,r={};for(const t of e){if(!Gn.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[s=t[0]]=(n=r[s])?Gn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=ws(e)){const n=Gn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}(e);if(Gn.isFunction(t))return t.call(this,e,n);if(Gn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ws(e)){const n=Gn.findKey(this,e);return!(!n||void 0===this[n]||t&&!ks(0,this[n],n,t))}return!1}delete(e,t){const n=this;let s=!1;function r(e){if(e=ws(e)){const r=Gn.findKey(n,e);!r||t&&!ks(0,n[r],r,t)||(delete n[r],s=!0)}}return Gn.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const r=t[n];e&&!ks(0,this[r],r,e,!0)||(delete this[r],s=!0)}return s}normalize(e){const t=this,n={};return Gn.forEach(this,(s,r)=>{const a=Gn.findKey(n,r);if(a)return t[a]=Ns(s),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();i!==r&&delete t[r],t[i]=Ns(s),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Gn.forEach(this,(n,s)=>{null!=n&&!1!==n&&(t[s]=e&&Gn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[js]=this[js]={accessors:{}}).accessors,n=this.prototype;function s(e){const s=ws(e);t[s]||(!function(e,t){const n=Gn.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(e,n,r){return this[s].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[s]=!0)}return Gn.isArray(e)?e.forEach(s):s(e),this}}Ss.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Gn.reduceDescriptors(Ss.prototype,(e,t)=>{let{value:n}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[s]=e}}}),Gn.freezeMethods(Ss);const Cs=Ss;function _s(e,t){const n=this||vs,s=t||n,r=Cs.from(s.headers);let a=s.data;return Gn.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function As(e){return!(!e||!e.__CANCEL__)}function Es(e,t,n){Yn.call(this,null==e?"canceled":e,Yn.ERR_CANCELED,t,n),this.name="CanceledError"}Gn.inherits(Es,Yn,{__CANCEL__:!0});const Ts=Es;function Ps(e,t,n){const s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(new Yn("Request failed with status code "+n.status,[Yn.ERR_BAD_REQUEST,Yn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Is=function(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r,a=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=s[i];r||(r=o),n[a]=l,s[a]=o;let d=i,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),o-r<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const Os=function(e,t){let n,s,r=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,n=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=a?i(o,e):(n=o,s||(s=setTimeout(()=>{s=null,i(n)},a-t)))},()=>n&&i(n)]},Ms=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const r=Is(50,250);return Os(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,l=a-s,o=r(l);s=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&a<=i?(i-a)/o:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Rs=(e,t)=>{const n=null!=e;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Fs=e=>function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Gn.asap(()=>e(...n))},Ls=gs.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,gs.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(gs.origin),gs.navigator&&/(msie|trident)/i.test(gs.navigator.userAgent)):()=>!0,Ds=gs.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const i=[e+"="+encodeURIComponent(t)];Gn.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),Gn.isString(s)&&i.push("path="+s),Gn.isString(r)&&i.push("domain="+r),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Us(e,t,n){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const zs=e=>e instanceof Cs?Ve({},e):e;function Bs(e,t){t=t||{};const n={};function s(e,t,n,s){return Gn.isPlainObject(e)&&Gn.isPlainObject(t)?Gn.merge.call({caseless:s},e,t):Gn.isPlainObject(t)?Gn.merge({},t):Gn.isArray(t)?t.slice():t}function r(e,t,n,r){return Gn.isUndefined(t)?Gn.isUndefined(e)?void 0:s(void 0,e,0,r):s(e,t,0,r)}function a(e,t){if(!Gn.isUndefined(t))return s(void 0,t)}function i(e,t){return Gn.isUndefined(t)?Gn.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function l(n,r,a){return a in t?s(n,r):a in e?s(void 0,n):void 0}const o={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,n)=>r(zs(e),zs(t),0,!0)};return Gn.forEach(Object.keys(Ve(Ve({},e),t)),function(s){const a=o[s]||r,i=a(e[s],t[s],s);Gn.isUndefined(i)&&a!==l||(n[s]=i)}),n}const qs=e=>{const t=Bs({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=Cs.from(i),t.url=ls(Us(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Gn.isFormData(n))if(gs.hasStandardBrowserEnv||gs.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Gn.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,s]=e;t.includes(n.toLowerCase())&&i.set(n,s)})}if(gs.hasStandardBrowserEnv&&(s&&Gn.isFunction(s)&&(s=s(t)),s||!1!==s&&Ls(t.url))){const e=r&&a&&Ds.read(a);e&&i.set(r,e)}return t},Vs="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const s=qs(e);let r=s.data;const a=Cs.from(s.headers).normalize();let i,l,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=s;function h(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(i),s.signal&&s.signal.removeEventListener("abort",i)}let x=new XMLHttpRequest;function g(){if(!x)return;const s=Cs.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());Ps(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:s,config:e,request:x}),x=null}x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout,"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(g)},x.onabort=function(){x&&(n(new Yn("Request aborted",Yn.ECONNABORTED,e,x)),x=null)},x.onerror=function(t){const s=t&&t.message?t.message:"Network Error",r=new Yn(s,Yn.ERR_NETWORK,e,x);r.event=t||null,n(r),x=null},x.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const r=s.transitional||cs;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),n(new Yn(t,r.clarifyTimeoutError?Yn.ETIMEDOUT:Yn.ECONNABORTED,e,x)),x=null},void 0===r&&a.setContentType(null),"setRequestHeader"in x&&Gn.forEach(a.toJSON(),function(e,t){x.setRequestHeader(t,e)}),Gn.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),u&&"json"!==u&&(x.responseType=s.responseType),p&&([o,d]=Ms(p,!0),x.addEventListener("progress",o)),m&&x.upload&&([l,c]=Ms(m),x.upload.addEventListener("progress",l),x.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(i=t=>{x&&(n(!t||t.type?new Ts(null,e,x):t),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(i),s.signal&&(s.signal.aborted?i():s.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);f&&-1===gs.protocols.indexOf(f)?n(new Yn("Unsupported protocol "+f+":",Yn.ERR_BAD_REQUEST,e)):x.send(r||null)})},Ws=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,s=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;s.abort(t instanceof Yn?t:new Ts(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new Yn("timeout ".concat(t," of ms exceeded"),Yn.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:l}=s;return l.unsubscribe=()=>Gn.asap(i),l}};function Hs(e,t){this.v=e,this.k=t}function Gs(e){return function(){return new Ks(e.apply(this,arguments))}}function Ks(e){var t,n;function s(t,n){try{var a=e[t](n),i=a.value,l=i instanceof Hs;Promise.resolve(l?i.v:i).then(function(n){if(l){var o="return"===t?"return":"next";if(!i.k||n.done)return s(o,n);n=e[o](n).value}r(a.done?"return":"normal",n)},function(e){s("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?s(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(a,i){var l={key:e,arg:r,resolve:a,reject:i,next:null};n?n=n.next=l:(t=n=l,s(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Js(e){return new Hs(e,0)}function Qs(e){var t={},n=!1;function s(t,s){return n=!0,s=new Promise(function(n){n(e[t](s))}),{done:!1,value:new Hs(s,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):s("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return s("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):s("return",e)}),t}function Ys(e){var t,n,s,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,s=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(s&&null!=(t=e[s]))return new Xs(t.call(e));n="@@asyncIterator",s="@@iterator"}throw new TypeError("Object is not async iterable")}function Xs(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Xs=function(e){this.s=e,this.n=e.next},Xs.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Xs(e)}Ks.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ks.prototype.next=function(e){return this._invoke("next",e)},Ks.prototype.throw=function(e){return this._invoke("throw",e)},Ks.prototype.return=function(e){return this._invoke("return",e)};const Zs=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let s,r=0;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},$s=function(){var e=Gs(function*(e,t){var n,s=!1,r=!1;try{for(var a,i=Ys(er(e));s=!(a=yield Js(i.next())).done;s=!1){const e=a.value;yield*Qs(Ys(Zs(e,t)))}}catch(l){r=!0,n=l}finally{try{s&&null!=i.return&&(yield Js(i.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),er=function(){var e=Gs(function*(e){if(e[Symbol.asyncIterator])return void(yield*Qs(Ys(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Js(t.read());if(e)break;yield n}}finally{yield Js(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),tr=(e,t,n,s)=>{const r=$s(e,t);let a,i=0,l=e=>{a||(a=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await r.next();if(t)return l(),void e.close();let a=s.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(s))}catch(t){throw l(t),t}},cancel:e=>(l(e),r.return())},{highWaterMark:2})},{isFunction:nr}=Gn,sr=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(Gn.global),{ReadableStream:rr,TextEncoder:ar}=Gn.global,ir=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return!!e(...n)}catch(We){return!1}},lr=e=>{e=Gn.merge.call({skipUndefined:!0},sr,e);const{fetch:t,Request:n,Response:s}=e,r=t?nr(t):"function"===typeof fetch,a=nr(n),i=nr(s);if(!r)return!1;const l=r&&nr(rr),o=r&&("function"===typeof ar?(c=new ar,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=a&&l&&ir(()=>{let e=!1;const t=new n(gs.origin,{body:new rr,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&l&&ir(()=>Gn.isReadableStream(new s("").body)),m={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let s=t&&t[e];if(s)return s.call(t);throw new Yn("Response type '".concat(e,"' is not supported"),Yn.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const s=Gn.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(Gn.isBlob(e))return e.size;if(Gn.isSpecCompliantForm(e)){const t=new n(gs.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Gn.isArrayBufferView(e)||Gn.isArrayBuffer(e)?e.byteLength:(Gn.isURLSearchParams(e)&&(e+=""),Gn.isString(e)?(await o(e)).byteLength:void 0)})(t):s};return async e=>{let{url:r,method:i,data:l,signal:o,cancelToken:c,timeout:h,onDownloadProgress:x,onUploadProgress:g,responseType:f,headers:y,withCredentials:v="same-origin",fetchOptions:b}=qs(e),j=t||fetch;f=f?(f+"").toLowerCase():"text";let w=Ws([o,c&&c.toAbortSignal()],h),N=null;const k=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let S;try{if(g&&d&&"get"!==i&&"head"!==i&&0!==(S=await p(y,l))){let e,t=new n(r,{method:"POST",body:l,duplex:"half"});if(Gn.isFormData(l)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=Rs(S,Ms(Fs(g)));l=tr(t.body,65536,e,n)}}Gn.isString(v)||(v=v?"include":"omit");const t=a&&"credentials"in n.prototype,o=Ve(Ve({},b),{},{signal:w,method:i.toUpperCase(),headers:y.normalize().toJSON(),body:l,duplex:"half",credentials:t?v:void 0});N=a&&new n(r,o);let c=await(a?j(N,b):j(r,o));const h=u&&("stream"===f||"response"===f);if(u&&(x||h&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=Gn.toFiniteNumber(c.headers.get("content-length")),[n,r]=x&&Rs(t,Ms(Fs(x),!0))||[];c=new s(tr(c.body,65536,n,()=>{r&&r(),k&&k()}),e)}f=f||"text";let C=await m[Gn.findKey(m,f)||"text"](c,e);return!h&&k&&k(),await new Promise((t,n)=>{Ps(t,n,{data:C,headers:Cs.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Yn("Network Error",Yn.ERR_NETWORK,e,N),{cause:C.cause||C});throw Yn.from(C,C&&C.code,e,N)}}},or=new Map,cr=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:r}=t,a=[s,r,n];let i,l,o=a.length,c=or;for(;o--;)i=a[o],l=c.get(i),void 0===l&&c.set(i,l=o?new Map:lr(t)),c=l;return l},dr=(cr(),{http:null,xhr:Vs,fetch:{get:cr}});Gn.forEach(dr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(We){}Object.defineProperty(e,"adapterName",{value:t})}});const ur=e=>"- ".concat(e),mr=e=>Gn.isFunction(e)||null===e||!1===e,pr=(e,t)=>{e=Gn.isArray(e)?e:[e];const{length:n}=e;let s,r;const a={};for(let i=0;i<n;i++){let n;if(s=e[i],r=s,!mr(s)&&(r=dr[(n=String(s)).toLowerCase()],void 0===r))throw new Yn("Unknown adapter '".concat(n,"'"));if(r&&(Gn.isFunction(r)||(r=r.get(t))))break;a[n||"#"+i]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(ur).join("\n"):" "+ur(e[0]):"as no adapter specified";throw new Yn("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function hr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ts(null,e)}function xr(e){hr(e),e.headers=Cs.from(e.headers),e.data=_s.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return pr(e.adapter||vs.adapter,e)(e).then(function(t){return hr(e),t.data=_s.call(e,e.transformResponse,t),t.headers=Cs.from(t.headers),t},function(t){return As(t)||(hr(e),t&&t.response&&(t.response.data=_s.call(e,e.transformResponse,t.response),t.response.headers=Cs.from(t.response.headers))),Promise.reject(t)})}const gr="1.12.2",fr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{fr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const yr={};fr.transitional=function(e,t,n){function s(e,t){return"[Axios v"+gr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new Yn(s(r," has been removed"+(t?" in "+t:"")),Yn.ERR_DEPRECATED);return t&&!yr[r]&&(yr[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},fr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const vr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Yn("options must be an object",Yn.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new Yn("option "+a+" must be "+n,Yn.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Yn("Unknown option "+a,Yn.ERR_BAD_OPTION)}},validators:fr},br=vr.validators;class jr{constructor(e){this.defaults=e||{},this.interceptors={request:new os,response:new os}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(We){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Bs(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:r}=t;void 0!==n&&vr.assertOptions(n,{silentJSONParsing:br.transitional(br.boolean),forcedJSONParsing:br.transitional(br.boolean),clarifyTimeoutError:br.transitional(br.boolean)},!1),null!=s&&(Gn.isFunction(s)?t.paramsSerializer={serialize:s}:vr.assertOptions(s,{encode:br.function,serialize:br.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vr.assertOptions(t,{baseUrl:br.spelling("baseURL"),withXsrfToken:br.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&Gn.merge(r.common,r[t.method]);r&&Gn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=Cs.concat(a,r);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[xr.bind(this),void 0];for(e.unshift(...i),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=xr.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ls(Us((e=Bs(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Gn.forEach(["delete","get","head","options"],function(e){jr.prototype[e]=function(t,n){return this.request(Bs(n||{},{method:e,url:t,data:(n||{}).data}))}}),Gn.forEach(["post","put","patch"],function(e){function t(t){return function(n,s,r){return this.request(Bs(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}jr.prototype[e]=t(),jr.prototype[e+"Form"]=t(!0)});const wr=jr;class Nr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{n.subscribe(e),t=e}).then(e);return s.cancel=function(){n.unsubscribe(t)},s},e(function(e,s,r){n.reason||(n.reason=new Ts(e,s,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new Nr(function(t){e=t});return{token:t,cancel:e}}}const kr=Nr;const Sr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sr).forEach(e=>{let[t,n]=e;Sr[n]=t});const Cr=Sr;const _r=function e(t){const n=new wr(t),s=an(wr.prototype.request,n);return Gn.extend(s,wr.prototype,n,{allOwnKeys:!0}),Gn.extend(s,n,null,{allOwnKeys:!0}),s.create=function(n){return e(Bs(t,n))},s}(vs);_r.Axios=wr,_r.CanceledError=Ts,_r.CancelToken=kr,_r.isCancel=As,_r.VERSION=gr,_r.toFormData=ts,_r.AxiosError=Yn,_r.Cancel=_r.CanceledError,_r.all=function(e){return Promise.all(e)},_r.spread=function(e){return function(t){return e.apply(null,t)}},_r.isAxiosError=function(e){return Gn.isObject(e)&&!0===e.isAxiosError},_r.mergeConfig=Bs,_r.AxiosHeaders=Cs,_r.formToJSON=e=>fs(Gn.isHTMLForm(e)?new FormData(e):e),_r.getAdapter=pr,_r.HttpStatusCode=Cr,_r.default=_r;const Ar=_r,Er=Ar.create({baseURL:"/aiva/api",headers:{"Content-Type":"application/json"}});Er.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t?e.headers.Authorization="Bearer ".concat(t):console.log("NO TOKEN FOUND"),e},e=>Promise.reject(e)),Er.interceptors.response.use(e=>e,e=>{var t,n,s;return console.log("=== API ERROR DEBUG ==="),console.log("Status:",null===(t=e.response)||void 0===t?void 0:t.status),console.log("Error data:",null===(n=e.response)||void 0===n?void 0:n.data),401===(null===(s=e.response)||void 0===s?void 0:s.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)});const Tr=e=>Er.get("/agents",{params:e}),Pr=e=>Er.get("/agents/".concat(e)),Ir=(e,t)=>Er.put("/agents/".concat(e),t),Or=()=>Er.get("/credits/balance"),Mr=Er;var Rr=n(579);const Fr=(0,a.createContext)(),Lr=()=>{const e=(0,a.useContext)(Fr);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Dr=e=>{let{children:t}=e;const[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(!0);(0,a.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{const e=JSON.parse(t);s(e),Er.get("/auth/me").then(e=>{s(e.data.user),localStorage.setItem("user",JSON.stringify(e.data.user))}).catch(()=>{l()}).finally(()=>{i(!1)})}catch(n){l(),i(!1)}else i(!1)},[]);const l=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),s(null)};return(0,Rr.jsx)(Fr.Provider,{value:{user:n,login:async(e,t)=>{const n=await((e,t)=>Er.post("/auth/login",{email:e,password:t}))(e,t),{token:r,user:a}=n.data;return localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(a)),s(a),a},logout:l,loading:r},children:t})},Ur=n.p+"static/media/intellicon-logo.6628b3eecdda0677306b.png",zr=()=>{const[e,t]=(0,a.useState)(""),[n,s]=(0,a.useState)(""),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),{login:c}=Lr(),d=te(),u=$();return(0,Rr.jsxs)("div",{className:"intellicon-login-wrapper",children:[(0,Rr.jsx)("div",{className:"login-orb login-orb1"}),(0,Rr.jsx)("div",{className:"login-orb login-orb2"}),(0,Rr.jsx)("div",{className:"login-orb login-orb3"}),(0,Rr.jsx)("div",{className:"login-container",children:(0,Rr.jsxs)("div",{className:"login-card",children:[(0,Rr.jsxs)("div",{className:"visual-side",children:[(0,Rr.jsx)("div",{className:"cube-container",children:(0,Rr.jsxs)("div",{className:"cube",children:[(0,Rr.jsx)("div",{className:"cube-face face-front",children:(0,Rr.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAABrCAYAAAAVUo5zAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhDOTFGMzhBRjY4MzExRTU4RjZCRjBBNzM2QTdCOTFBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhDOTFGMzhCRjY4MzExRTU4RjZCRjBBNzM2QTdCOTFBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEM5MUYzODhGNjgzMTFFNThGNkJGMEE3MzZBN0I5MUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEM5MUYzODlGNjgzMTFFNThGNkJGMEE3MzZBN0I5MUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5V/ORdAAAesElEQVR42uxdC3RU1bnee58zSQghJBF5hCTlpWISxigIwxDQWgVEbNcFeQi1rlurXrVWELusy3tbe++laqtA9SJVbGtrqSDqui0SBK23SDKM+IrDJKBCwLwQhGQI4TVzzt73//99ZgIkkBHIS7OXmNeZmXO+/e/vf+5/c6UU6x7tO8zOfoMlO/Zn1YVlRnlNQ65kpqiqO5y1+2B4sFBSciZlSlJS4xUDkz+KKGZmJCXU5WX2LB8/NKOyMz8T72ySvvKDPZ5/VtRf7fusflxV6HgW3J2A/9xM2XC3BlwhmZA2k1w4T8AZPoMBP9oSfmQyoDhjqck9Gi7LTAxMGNJ3o3dIqq9wSHp1N+gnjGXFVVNWbKmZG/ziWL5kSrhYJN8G5GzDxYRtA64cwWQK8eeSQMYJ4HjrzmQouJ7DL2LX4cPRFMHrmRFI78HrJuf2XX9jfsbfp+QNKP9Ggv7X977w/uWjmltKPmvwMgGASduNEOH3gDsBZnObGQoBbQJWwO+ioMM3NCHRJ1DOz4z+zh3gLfi7w6I4YZIHvnVBj8o5V1y44mcTL1r5jQB95Xt7PL96s+Lhz0NHcjhzuVEyURo18ILkFCVYOLRB9MG1RGtAHVpR+jXRQa9jBv1eOPKOEs/pLXgMdPxZT45Rih8zd3TfFUtvyv/11xL0ovL63Af/Fny8MmTncFu5ubAJbBMk2WIaFAGgKRJUW/9MgJN0OhQD4HKmgSPacMEvAEChSNq5I+1RKddEYzggK/0afE/n/ej3SgQMblv3Txy6+OHrBv/lawP6lOWly3yffuk1mOGWAKJUmqNRGXKkEhJHDS5+FSilcA3+HaUWwUL4hILp4cDzCqaLN60KTTG2c62g6cOJEwh0lHJwQvD30VVDDCXoXuhn4P1ePUTDszNz75yS17e8y4K+7J3qKY++vfOhhsNWKgDrjnHxCfxL3C2Byw2ARABsNnyFiUD8ZQxIk7gZwcRrESzQAfr3MSUblWzgfRUBcA14D/g7TBCCitgS/Zzw2QonVYXhveBaYZBVZHMWmJLfp+ilWy97qMuBPvvPWx9fV75nMrOBt1HSuOXAkuAAqLnCAsF0KS2JtgMai9KBQyUgjQHNNwabMDTtHbhnQUrX4enPDxzLqa4/CualKRxAaYJJ6cLESJgonFD6m1An6QX6DIdycGXQ9AkeSEtkobV3jr4hPzO1sdODHqw5nHLXy8FlwT2H8+HHArKhAXCLaIFpChFNk6Af3nT4Fh5aGUF4eJmfmRIcNzij5PL+PT/MuiClunBo77js7E0VB3N8O7/0btx16KrNOw54gKZEdBI4AI8TEOVzwVWMdrS+0LQUpTyYkMDSWZfe8/0rBhR3WtDLahpSrl/+0brQ0XChUNqSII4VjgNDJCC0iUdmoEtLMiOpLM0f0Cs4Z1T2S3eNzyw6X/e0tnxv/pqy+qkvv1s1KyxcCS5m5UZpjr6edG8O76M1BcALbY4G5o7qv2LpzNxfdzrQi4L7c+9eXbas/og1AS0TBTzp3DRJjjRACdpcm4BNSo+8x7mXD1hx94SBz7TFUj5xLN9YM/Ep3+57a+sbM20lrlAGJx2iJZ/HbP4oHbEmyykw58p+K56ZkffrTgP62q1f5s/9y8cr4AbdKDkm3HQYlJ2AB1JCMpd0gYKSjiTZUekK3jJy4IvnU4K+imP28NodC+sPH89QwnAr22LCBFmXVswCIrojidFOmAKe//7I8yPx5wz61trG1CnL31t78DArRJMu5rAQd2ulZaCJJ6SWJjDNLuvfs3Th94Y/HC9PnzhkqDyZheszYBWBhW5aYMWYrN/Y2rO59wfXfnr37/5Zc6fJbLdNrG5REIJsf+R1tP9B93BlOgLDAnNG9l3xzKxzc6bOCfRAzaHU7z73/prQETmBkYMCN6dQUizgSE5KiZSUcD4DHJGHrhv06IPXDYnL/bar37xY1G3Nt/cVj1ehbcN5uCEVlJ0EO71QAjUICybSED4ytWXEdKVfXirTL/7E7uf1JQ6a7Y9LaGrqU+f8uXxFZSiSA/ob/AjbsaCE1knOJGjjibRP4KFv5zz64KShKzsE9MIl768oq22Yo30ax742IkArOljFwO4VBlksgbSkhNDrd+bdkD8w/cy8va8ky9712jRWVXS9itRngK0xWkUjiqByTRBsXDUUbSR7XlKEmiZZHgd7m773AS8L3scdMAZNf5VfcvuG1p7l+y98vHBt+YEpgEcBOWXcJqsqat6iZyxlAlhiEr8PvHhrwS035vYJtCvoN78QfPSN8n2TLSEKDCcSiEBItFoMu0lpKhUoyEor3XjfyFvP9H5WxcujRXDJfPtIdRaQUSHFTxR3AgQW+k7ouBDQaNsLsrUla1pEQAkw+8DRAI7FTADOZhRO8BuutJAafvtyM//+1850D4+/9dnshRuqHwZGz0cHCx0mHSpwuB0tMXK8GOudnFBc+chV49sN9GeKa6b8+5pPF9rKKoi64dLR/jqyJ52gqitYkNmj9J15nltO+2Zf+jLlB//5CxUKuGFFeGjVYHA8AvRBekD5LG6brrSCUpaSWSPTLt1uAJ+jJMOQaF2oo1VZrLF2oDpYniuP1WXA6z0uS4EyR8dLsYi+Rx9P7N1gXPSj5WLE6cFf8cGewh+vKntaS7ypQxIUrpBNATMJNGpYgcsGpJRunOe5tV1AH/Tz4o2ho0cnUGRQe4y0HCNgd5tR5wMo352ZHDgT4NZHP/+h3P7720CCvDhJ6JCgBIMVsUUlp4X4wOvXiQGT3hDZk7fHfXP1ZSlsr88b2f3yDFW/fTi8Z6FSehUKimgyv8gYETRHL57P0vNapLq/vF9beO/L25+WADzqI6ByeDZOE4jBOS1cgmjmZ9cOeRz01F/bFPQbngssLfnsy0JAx40aXkXj1EzHQ2gZAofnZSUHS+aNmXs6YGz/vMXy4DZ0VCiermzga6b8dsqg3eaIeb8Vg2f52bkO/JzPnv+RvXPlLKUM8By4V4oI3KOJkuIzAHhj6MwtLUr8+3sL71kVWGoJ060FSQfhyL3TnjNDfwSNg9Cvr7mszUBfU77ffcsfP3oRbVvu8DeZiejiY7DIBC6HpZfaw1Vc+cvx408HROQfN61WkdBkCSxiSlKPxaxnVrWRN3/x6UA41yGLb/u5rHxjEiher6lcTkZJ+tXQWavMMUuWtPSaH68qf2DFB7UgOKIApB6MBBAt2zghKorq2woUDk0vfv3fRt3TJqC7H9u8pvLAkakUMwGgUaNjmJWieVIrUzCygpvvGzM2b2BKs6Urd670RLb89DcgMoWaSijeUWxcctvvjSseeeGrgBjZ+uRNIrh4PkifBCAF7zfWb6SP2Gr3ueJDV/aNLVsVVeuHR96bv5gfO5QiuVWIFEFcP2jmKtOz6KmWXjJhif/FrbVH8m1uFwjlhA50sD8W5jC4KH39tvwbx118YfV5BX3Ve3s8d7y8/VmAya1DsNqUwrg2KVIOpqIUgd9879Kf3l6YtaG5U1OWYq2buB5e6OUYaUQFmJi0gY/57X1m1lfg7GhqLrBoWqTsN68airi16YGY4WOuXg0y57o3XaOfWtTSa8PrJi7nB4P5QDke9CVcwt5iD5q52uV5+omWrs9+ZOOmxiN2IUo72eq29vvQuqHQNKz2nD5JRcEHJ9wQz72LeB/yv97c+R+gLN1ot2L4m5IIBm9KIMCSHXtxhq8lwFV9ebIFlGIww4tJNcrmJyVtcF3z2vSzAdzJCiE5UXhBkh3tojiJLZjXshoms4rXptt/HVgi/ff/5NTXJly/4XY2eOYqkFsfhlhs2zVa7frf71nBRdNa+qyfXTv4cfhSirEkdIApTGDoyKgWepNV7Y9kFQXrcuO5d+ORRx5p9aKX3qvxrvxw32ypRH/GtQllOE4JGGbwNRF+bQVe+kHBnH69Eo43A33j3GfY4cqZuDwxfWa7UjaY17w6nWfkn3WAiwtRp5KzNrtScvx2Ymq5OFQFZob5ORBPjnbbVTbovWwe2t7L/uS5mSz1kvdE6tADsQfPmuyXR6tSWf0nQDUsB5Zejvhic7ZIy/Wz3hd9eeJnjc7p/ek7u+oKqg4cG2UInd3C2Y06TRQg4Krf/kZL3Tyq/7rzQi9XLfH/6eM9jT/QkUOdAkMnBPncCdMG5o7OWbF0xiXNYhLWu/PmWbtWz0DLAReWMHtsYN+Bn9PdDedbWarq9cNZTdGU8K5XpqOZB/rC2xQ7sfyu/AVP8hEPvHLS/ZX86y/55+sm29w12kCzNyG9KGlaWTOaKN55MGvqsx+shYd3cycOT6k+h9pQOYPTFii574pxrUVLW6UXjK8EahvdOobilD9QICuiA/6kVA3WEuBs7+ZMtnP1DJeUXrwWLAafMWbJ/LYAnCQoa9J20BGLEmfXjGNDZ6wGWHxo1iKYoEM8keBv70MhOPE15rg//kJdAI4XPoeExRI+mGZv+uHPm4U8hvauxvBuNMZEEk4xDp3ntTA0oSLuZcVVd8ct6Zsq6nNuXPbhGvoJTSO0CJlw1pDtRvNOu+ZkJtH3lM5lvBSW1EvPtBDytP4+ZpU8XD2T8vxK+hi44l/VSjknMzG0NVW+C9J9oCzX5syLwgH6xCc8S+aLITOaTNO68uTw+u/8w2SGB6tkAFefee3Ls1jfcSdZI5t21uVM/d1Ha4Db3bFcbXOiOMlywtI/xPHmkf1eWjYr77GTJH19cM9ETGuhZQgWmBuWTgGIByhO5m6qphLkFkdjzphtAeUlWgJcVazyAOBZBtERrJAUsMPbEXB6uLQRDeakDbfL7BvWCmZvUTK8hQ2ZteokwHFk5B7h+Q88GeG2X6cQhdf66Je/OPX9sEZy/LCMYjSPyYJrmZndJ/4DBipASnpj+95Jzejl/3Ye/rZyMuU0Q046i/45pRB65ljs9/jy/OykYIsuftn/3AP2jdeCZzC5WSw8T93HOmi4xj/3KzYEbPFhN790OnvcNWLBK2bS4N3RwB2GEOQ+oMdTA32wqkGflSop4zL+KNwN71l3yMr4eE9D2kmgb/uiMZdMP+HUR4F0Gpw1JY9PApvRdUAvwbu9OUubfdKuV0axQ59djNGORPhn9R+9RfQd8wXrwGGOeWoRuP1LznjRiHmLheQ+SyewC1XgyQWnXjJ35IBisNcFxzg76LVW+Vvq9Ah3GW7fZyFvDHTMoOOK0aUSsqkuBPmb62RELMzKdTYf84iwFqw5Vw70NU8+vH6jwRJG44QBR/owsse6wMAQBNIghjZMVGr7igtbum6Ku1+RkOGTyvpOz3FKV6mBL7lpd2h8DHTfzgNekEc3U8LJD+oaEQQ6VsAjdPw6Rj/wZrmZPVushLKq3rpWYWBJJTAGD3G2DlCHDOB8gMWnrbSEMNu+fOKpl0zNvWAtUkxcZixCDI4AejQf1zS6Y6BX1EWGUM0Hs516EIe/uc5x0gRIGSvMIdIBZ+zqIb03NpPyipUeDDRaFH8GKyd7yjrWhQYmOtAi5lQDGSmM1Lx5XUsUgwVPUrUu6ZjgQXbAkEFV/fGcGOi1ocYB5OzEytKa6gM1+FElajh2JnK6GfAM69M8/Lr/XQ+YZV6TuShtxgdPe411sYHx9tiK3repRYpJS04IoXPYap4XhRmTMSC0JrcsVKYEerC2Id+UFqyCBJJmSXlAMAllU6GQcGoGpVNbqFiEtZQjVPXbLqXIuNJlnxzMtq4Guurr2axzr5ieE1J+uSmnmc4dkBKIh9OpogCj3+Cg2VIUNByx6gn0+iNWBmZGKDYudbCe8p1UM67I8cIIm6IEcIQAj9V8nzqzdWW5jq3LRF+Pn3XBwS8cvQXdegMpRhhedmDb8FOvyR+YXMZUHFu20Ms1XJi6JENkW+0hTS8KJJyTA+TUb0dLy6Kvs3W2RDkrACkoOy2xxc1UhowkoDGJksLT88q6IugqqXdD2Ij4bRQujIjaobRTr0nt4WrgTMbBVZwS5VE/58tj8CusP+Qg4SjlVBkeTTAr4cRVeEyxYkrN5rr+e0h6UkWzSd33bn9pmpZ0uF+6ejV2RdCNC8dVm7ZpCeXkCup2DDv1mkFpSbtlHMFCnT9WzjYcHZc1645Zh2iDFJUNo8EvSWVS3TeCLHRxJRXlo9kopaYa0ZI7hkqAkQOAS5On5FSyLjqkAcSidOm06/iBC5olNnonxvVsFDIhfDHPCvSsSOq5Y4+bTU4RVa3aOnzLVcxup0onh4LAfTCbf4Ck6mPDKcTnKYMruiro0b1JZC4L02pGQUaCYLx1etG5ZO6EAzRTCF2Ab1DtdszFdySdLo7GXpzCfiV0QeVpFqZl0xYVXXhsH9/fp8uCjgYF1x45pYuagWnJ0xkTJ02OaqoKRnrArZpoRH4L3qCUqlSNJk806sJS8FZGtPlHN6A3Ugkd8WmWQnOxBGIvSqyEynO7LL3wKGinA1Y2XXTG2dMRWlz9+FYm1kqOH5ZWSXFzx/PUWwINvR0kuosNX+gkK840u7jelLJ9qLG1k2VI1mUHUKXUkVSeklV16l/9Ow56WByS7swcmd+Irc1MrQyFimBQBUsJ9I4zRtGvmHRLJZr27KAcw9fiivrmnlpfzxdR25S2JR7+PKcrwm3t9/dvknZJ8aNTrwkLkaC38MRLL+hgguYE1iDQbeESxOk2cyqXFFkoxO16c76OvShd2UTK9YxLC4xGrKg9WJ7XJU3G/WX58NQe+h6tjrQRzXIG5bWH88DEaZ1duBHbXmmDM5WXnaFBd/fvFZBU0A/mEToE0dgLgsxFLPnqEjovSOYj2EAlO+qymn1I37F+KmGG6+z6si7J6bIh4BZOKTbwsJ/1zG5mHlYdOJxFRkUc1ot2NrF23w6mJolsAj01xdUQ3fRqgfurnC3gWJ0d3aNJZqIUpFQZxVWMgsAXR93NllN/b4l0dj2bAL1dsza/y6GO5XeIBW6JdKWFeHrukVMvCexpcOMe1FYnMLpLG01okSCxGweBPmFQyibh5DJp7yWaiJbU9eC2VibS2cFMThPXezRLduwb10yZgqTD3/16+7nwiOq3r+lKeNs163ItqzFFUBWBYGYLoelNO0I5uGeVavFblXSDMkyCyggtGQvt5qQnVzr75CnDTzMjtJMknSJ7VKRILBp8XeW0cffhCS2AXqtcvUO2sChKaVW9MalLxV2q108UVKODtei2386+9q1TrynatncKiKQ7HtvFaf5AuGFSOwZ6fmbvIExEIFoQqhzJdrwEHWWU+m/OjFEgqPFIOGVrdWNqs0TAwEnrdUESrJpIKM3+pHn2pdPyecXqGWgq0jb5hLSQmXl9s+yYb2f9WFzpPE6TMWrB5Gb2LIuBPiKzZ0NaclJI8BOa12DWhxnOhicdWaSAvJPqYNrrLHim5PNmxTX8ktufZ9xVzLWt72WfYuF/FzAVg4unoX1OGwOZ9BuDMXV38ti6pyH145rDBTgr8ZTe8mjrFFAD4wdf0CTpOMYN6V1sI8hOYloXE+k67DP9W1te16wEjafnNfI+V25RzoYg2VCdFSl74qZOTy3bn78NuNxDkDMhW6rTWfH+3jnKUG6MpeNOvNbwiXbcQOPjhrw+wZNALxycVgKyW0ohXZJiU++ddyT9dP8OHY2kvPT+Hu+pN+dy//Q3EtN1FBxQXr79D51a2u3AkzdJK5SmY+QWluitb+m6le/X3kzeusFO2Pp4hn9ONw73wF6xLFsskHPXhJyig8eOp+pkBpMRbiQYKmyBLXrGihpw9C071lbiZO/U7DPWr/a968WHkOFDKXLr4mlixPxOmTOVnEtX3oInQZktdmHMKfuGZv0JULhCxyJpLqxdBHkcP+yCZ8YN7V3SSuAMjBwh3P17BpoimG3Y78Xe68u0356xGkxILymThNQNrumfdClr5sQxYmHxmsoGa6pB2+/t0jX/NvLGs+mCJ9ryJo1+3lrXwCnrAHA/hQUijSky2Pm5vaXx2Iads6sajuVweZxcnrEX9fWfbdtB0dY3yycs/2/aM4LhYFt52SfP3dkVQV9aXHMP8ISbmvYIHnj46pyFZ/teoj1u2JUzcxW41H4hTGYBt6t3F/ykKwE+98+lCxuPhVPQWOZCBcYPS3tn3EVp1Z0adD520VPgnUrdhc70RCpWzuoqgKPyXFu2fypYIFjyzFJ7GA1r7rji3nN5T9FeNy8vmr0KVLlfJ/KkUP6f/rizA45tVR76+85HQSe5TQxuGSLQYpXyVxXC9myGGX7tojeN8OFrpY0785SPtql04lGwsORvnx88+l0d2JIB70UZvnV3XH7Xub6vaM+HEBfftQzsYD+19cDH8P/k/s4K+IQlW17cHToyyFK60Co9WYTOB+DtLukk7auHr+d240TdyFIUJ9xcNb6jgC0q25cbqDmky5e5klPy+hflZ6Y00m7CmkMFuB3fVBb6p4GiO0beMG5YRnWXBJ19/ORN4fInFmCMQxnSLwfPWpU4esmSduXqPQ2pc/8UWFF54GiObRhuTJ87LQNLeyUbjYeO2CmMuwqwp5dkRvDZWRffefOoTN95Myw6oqt0+NVL1xnhQ5N1+Jf7XLOr243bg7WNKeOWlJQwZbr1/n7sipGoOxhhPkEAzNJ0tgCpwLJZuXfdPGqA73zeg+iIZS2yJq23mfJF21C1p5eKEi5UInXx4BSydsVayApsxSZ17y7QOKVLZ196z/kGvMNAx1YfikuhI7/Ca1W8Or1dOHzbvtzKunAOVR8bukdBbDOydLJk9LPNevVIapw7MrO4TYSuo5SY2WccSToV3x/ePUhhR6I2HqXVoBy5LECwsTYH+JwAx0ZvOgEf0eWDymQHjxxPRTv9awU6p23kLLp0PWzXK+1AMTpBQ+1SqFzwuG5uH+2+dkLHazBr5cFjka8X6NguCjvQYUk1daDb5xvb1p+Z3iM5xAwViG1AFi5qmUKFso5+ifUGZgmirQ4v6TDQcVgDxtJuB2rvVxds8/qYuwoHFmHrQm5IvYdK6pJwrGijzQ5COVaMjdtbgm0mcB0JunGhZzO138MTi5DfW9gWfr7H3VdlL7VtFaTiT+xqjeDDSsPmaGgy0s4J5Sp9bOolD34tQeeYeMdaQd3U0uvs5GjT8aupFz93eVb6hxp4i/ZR6Vofg+p8DMFKn545/N6z6QPcNUDvP9bPWaLeDEU1N6JdSqs33nflrQ9PGrRwYHpiEQayDMVL0RECN/93f7vj8u99/8r+xW363B16uNTezZnW29NqVLSy9ao/5LVU3NPWY1tNKPnSgWlH2s2I6EhJp708WD+CvXHRhNvffL9me4z2BLzj6QUjHVgozxOoutWId2dDFx+iYz9eCu5UC6PlEBaqG/S2HsrMqFPKKG6yZmyzG/S2/vD04cc4nYNg00ldnCWEvwmgd7hkcWUDxeD+yggzw/VpbUZk5HjR0Q7ibM/Q+JpwOnreLsumc4Y4i9Sub5OSO1X5xnD5j2mv2m//yx5sPyud3XPfWNDt7Inr8SZoh+Whyhy1/ffXnncp/2z57TZneLqXPtrB6NhGER1/8i46SCB92JhYt2qV1MlfGb0aKJvGWjMjBW4Xl5JZJjAHNicQ1PuW+vsDm4Q+drPI8SSuIoV4lKZKSHnDnF5+/Tea05FfVX+P3/jCj4BjP16P2l/uYfrUGOd0lzMtVX2Woz5+gcV6junthnpzLacDokws2PaZ+Que/Ibb6Xq4rnl1geqTVy7wvArdH4xJPH0ljh3J0tmKeeKjcDydi4JZjKwiSlwIAHzY9FeNS257q+ONh050mrq1Y5WHV66eYe/d7NEhV8zNtxYEcyySqNIUSuiWIRw93TBL6btPpuVvNS65/Xnc+dcZnrPTHWHf7Rx1j6+pIm2JpytWj1YVq2dIAY5TKw0nsaeeQX0p9Um9hkoIc3UsKWwY0pU6YqsY+YsXukGPx5lpBHt93+YHlKHovNBWlyq1t9L7XqOql5ocSvGE6Jb0OBUNJooFniaj+xHEMU1UqcWcw7+pnyImvLktuukl3tEzu5r3LVxErSDi0PNIMSJm5Qg6JQRpSfQesbVTClW39dIt6U02+35/fyFVHPQgyN3HpDae7KV/xSWnc5Z7HOuMvX47pyLd+sRNbOvi+RbXpzeeaRjUwwAPtzLJg9V9JbEiN4mZF45axK59ZUE36PGpRUTaKxh2UTJauRabRoiYJUOtrqi3VgSbm8nEbnqJ007nzpl41JYwrleA6rSZiV2enWoxat7GIp3y+TrnTV04ZouRd//0iNAc7aI9qPA/Qx9pTD3JFYYTDQvoW4SBUvCITX1OqJAmvM7GA8B7ZFd3xufrtl66Jf005PGPWY+Dx2mCyjQFTzwmpWXqbs0oNdp6YdwVVuposhj52IOY8O4G/RxHZO/Gq8HLHE2HpSinNyT12aLj5KnqVq9buMqqw2Msa7tBP8chqPzO2fBLLZqw0tfJFkknS6R0V38ueTe9nBfQMYqolA97yaLDBGrTsrktDGniEQfCxuJT1KtC9x0zOvnzdCvSDhj/L8AAOUrdLD6FiTAAAAAASUVORK5CYII=",alt:"Logo"})}),(0,Rr.jsx)("div",{className:"cube-face face-back",children:(0,Rr.jsx)("span",{className:"icon",children:"\ud83d\udcac"})}),(0,Rr.jsx)("div",{className:"cube-face face-right",children:(0,Rr.jsx)("span",{className:"icon",children:"\ud83d\udcde"})}),(0,Rr.jsx)("div",{className:"cube-face face-left",children:(0,Rr.jsx)("span",{className:"icon",children:"\ud83c\udf10"})}),(0,Rr.jsx)("div",{className:"cube-face face-top",children:(0,Rr.jsx)("span",{className:"icon",children:"\u26a1"})}),(0,Rr.jsx)("div",{className:"cube-face face-bottom",children:(0,Rr.jsx)("span",{className:"icon",children:"\ud83e\udd16"})})]})}),(0,Rr.jsxs)("div",{className:"visual-text",children:[(0,Rr.jsx)("h2",{className:"visual-title",children:"Intellicon AiVA Platform"}),(0,Rr.jsxs)("p",{className:"visual-subtitle",children:["Next-generation AI communication platform",(0,Rr.jsx)("br",{}),"powered by intelligent voice and chat technology"]})]}),(0,Rr.jsxs)("div",{className:"stats",children:[(0,Rr.jsxs)("div",{className:"stat-item",children:[(0,Rr.jsx)("span",{className:"stat-number",children:"99.9%"}),(0,Rr.jsx)("span",{className:"stat-label",children:"Uptime"})]}),(0,Rr.jsxs)("div",{className:"stat-item",children:[(0,Rr.jsx)("span",{className:"stat-number",children:"50K+"}),(0,Rr.jsx)("span",{className:"stat-label",children:"Users"})]}),(0,Rr.jsxs)("div",{className:"stat-item",children:[(0,Rr.jsx)("span",{className:"stat-number",children:"24/7"}),(0,Rr.jsx)("span",{className:"stat-label",children:"Support"})]})]})]}),(0,Rr.jsxs)("div",{className:"form-side",children:[(0,Rr.jsxs)("div",{className:"form-header",children:[(0,Rr.jsx)("div",{className:"login-logo",children:(0,Rr.jsx)("img",{src:Ur,alt:"Intellicon"})}),(0,Rr.jsx)("h1",{className:"form-title",children:"Welcome back"}),(0,Rr.jsx)("p",{className:"form-subtitle",children:"Sign in to your account to continue"})]}),(0,Rr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),o(!0);try{var s,r;await c(e,n),rn.success("Welcome back!");const t=(null===(s=u.state)||void 0===s||null===(r=s.from)||void 0===r?void 0:r.pathname)||"/";d(t,{replace:!0})}catch(l){var a,i;rn.error((null===(a=l.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.error)||"Login failed")}finally{o(!1)}},children:[(0,Rr.jsxs)("div",{className:"input-group",children:[(0,Rr.jsx)("label",{className:"input-label",children:"Email address"}),(0,Rr.jsxs)("div",{className:"input-wrapper",children:[(0,Rr.jsx)("span",{className:"input-icon",children:"\ud83d\udce7"}),(0,Rr.jsx)("input",{type:"email",placeholder:"name@company.com",value:e,onChange:e=>t(e.target.value),required:!0})]})]}),(0,Rr.jsxs)("div",{className:"input-group",children:[(0,Rr.jsx)("label",{className:"input-label",children:"Password"}),(0,Rr.jsxs)("div",{className:"input-wrapper",children:[(0,Rr.jsx)("span",{className:"input-icon",children:"\ud83d\udd12"}),(0,Rr.jsx)("input",{type:"password",placeholder:"Enter your password",value:n,onChange:e=>s(e.target.value),required:!0})]})]}),(0,Rr.jsxs)("div",{className:"form-options",children:[(0,Rr.jsxs)("label",{className:"checkbox-wrapper",children:[(0,Rr.jsx)("input",{type:"checkbox",checked:r,onChange:e=>i(e.target.checked)}),(0,Rr.jsx)("span",{className:"checkbox-label",children:"Remember me"})]}),(0,Rr.jsx)("a",{href:"#",className:"forgot-link",children:"Forgot password?"})]}),(0,Rr.jsx)("button",{type:"submit",className:"login-button",disabled:l,children:l?"Signing in...":"Sign in to AiVA"})]})]})]})})]})};function Br(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var qr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vr=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Wr=(e,t)=>{const n=(0,a.forwardRef)((n,s)=>{let{color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d}=n,u=Br(n,Vr);return(0,a.createElement)("svg",Ve(Ve({ref:s},qr),{},{width:i,height:i,stroke:r,strokeWidth:o?24*Number(l)/Number(i):l,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(d)?d:[d]]);var m});return n.displayName="".concat(e),n},Hr=Wr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Gr=Wr("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Kr=Wr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Jr=Wr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Qr=()=>{const[e,t]=(0,a.useState)({balance:0,agents:0,calls:0,totalCost:0}),[n,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{r()},[]);const r=async()=>{try{const[n,s,r]=await Promise.all([Or(),(e=30,Er.get("/calls/stats/summary",{params:{days:e}})),Tr({is_active:!0})]);t({balance:n.data.balance,agents:r.data.agents.length,calls:s.data.total_calls,totalCost:s.data.total_cost})}catch(n){console.error("Failed to load dashboard:",n)}finally{s(!1)}var e},i=[{name:"Credit Balance",value:"$".concat(e.balance.toFixed(2)),icon:Hr,color:"bg-green-500",link:"/credits"},{name:"Active Agents",value:e.agents,icon:Gr,color:"bg-blue-500",link:"/agents"},{name:"Total Calls (30d)",value:e.calls,icon:Kr,color:"bg-purple-500",link:"/calls"},{name:"Total Cost (30d)",value:"$".concat(e.totalCost.toFixed(2)),icon:Jr,color:"bg-orange-500",link:"/calls"}];return n?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Overview of your agent management system"})]}),(0,Rr.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:i.map(e=>{const t=e.icon;return(0,Rr.jsx)(Me,{to:e.link,className:"overflow-hidden bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:(0,Rr.jsx)("div",{className:"p-6",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 p-3 rounded-md ".concat(e.color),children:(0,Rr.jsx)(t,{className:"w-6 h-6 text-white"})}),(0,Rr.jsxs)("div",{className:"flex-1 ml-5",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,Rr.jsx)("p",{className:"mt-1 text-2xl font-semibold text-gray-900",children:e.value})]})]})})},e.name)})}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,Rr.jsxs)(Me,{to:"/agents/new",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Rr.jsx)(Gr,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Rr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Create New Agent"})]}),(0,Rr.jsxs)(Me,{to:"/credits",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Rr.jsx)(Hr,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Rr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Manage Credits"})]}),(0,Rr.jsxs)(Me,{to:"/calls",className:"p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors text-center",children:[(0,Rr.jsx)(Kr,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),(0,Rr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"View Call Logs"})]})]})]})]})},Yr=Wr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Xr=Wr("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Zr=Wr("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),$r=Wr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),ea=Wr("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),ta=Wr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),na=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)("all");(0,a.useEffect)(()=>{l()},[r]);const l=async()=>{try{const e="all"!==r?{is_active:"active"===r}:{},n=await Tr(e);t(n.data.agents)}catch(e){rn.error("Failed to load agents")}finally{s(!1)}},o=async e=>{var t;if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await(t=e.id,Er.delete("/agents/".concat(t))),rn.success("Agent deleted"),l()}catch(n){rn.error("Failed to delete agent")}};return n?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agents"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your AI voice agents"})]}),(0,Rr.jsxs)(Me,{to:"/agents/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-5 h-5 mr-2"}),"New Agent"]})]}),(0,Rr.jsxs)("div",{className:"flex space-x-4",children:[(0,Rr.jsx)("button",{onClick:()=>i("all"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("all"===r?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"All"}),(0,Rr.jsx)("button",{onClick:()=>i("active"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("active"===r?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"Active"}),(0,Rr.jsx)("button",{onClick:()=>i("inactive"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("inactive"===r?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:"Inactive"})]}),(0,Rr.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,Rr.jsx)("ul",{className:"divide-y divide-gray-200",children:0===e.length?(0,Rr.jsx)("li",{className:"p-8 text-center text-gray-500",children:"No agents found. Create your first agent to get started."}):e.map(e=>(0,Rr.jsx)("li",{className:"p-6 hover:bg-gray-50",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,Rr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?"Active":"Inactive"})]}),(0,Rr.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-500 space-x-4",children:[(0,Rr.jsxs)("span",{children:["Type: ",e.type]}),(0,Rr.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold ".concat("deepgram"===e.provider?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:"deepgram"===e.provider?"Deepgram":"OpenAI"}),(0,Rr.jsxs)("span",{children:["Voice: ",e.voice||e.deepgram_voice||"N/A"]}),(0,Rr.jsxs)("span",{children:["Model: ",e.model||e.deepgram_model]})]}),(0,Rr.jsx)("p",{className:"mt-2 text-sm text-gray-600 line-clamp-2",children:e.instructions})]}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,Rr.jsx)("button",{onClick:()=>(async e=>{try{await Ir(e.id,{is_active:!e.is_active}),rn.success("Agent ".concat(e.is_active?"deactivated":"activated")),l()}catch(t){rn.error("Failed to update agent")}})(e),className:"p-2 text-gray-400 hover:text-gray-600",title:e.is_active?"Deactivate":"Activate",children:e.is_active?(0,Rr.jsx)(Xr,{className:"w-5 h-5"}):(0,Rr.jsx)(Zr,{className:"w-5 h-5"})}),(0,Rr.jsx)(Me,{to:"/agents/".concat(e.id),className:"p-2 text-gray-400 hover:text-gray-600",title:"Edit",children:(0,Rr.jsx)($r,{className:"w-5 h-5"})}),(0,Rr.jsxs)(Me,{to:"/agents/".concat(e.id,"/chat-integration"),className:"inline-flex items-center px-3 py-1.5 border border-primary-300 shadow-sm text-xs font-medium rounded text-primary-700 bg-primary-50 hover:bg-primary-100",title:"Chat Integration",children:[(0,Rr.jsx)(ea,{className:"w-3 h-3 mr-1"}),"Chat"]}),(0,Rr.jsxs)("button",{onClick:()=>o(e),className:"inline-flex items-center px-3 py-1.5 border border-red-300 shadow-sm text-xs font-medium rounded text-red-700 bg-red-50 hover:bg-red-100",children:[(0,Rr.jsx)(ta,{className:"w-3 h-3 mr-1"}),"Delete"]}),(0,Rr.jsx)("button",{onClick:()=>o(e),className:"p-2 text-red-400 hover:text-red-600",title:"Delete",children:(0,Rr.jsx)(ta,{className:"w-5 h-5"})})]})]})},e.id))})})]})},sa=Wr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ra=Wr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),aa=Wr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ia=Wr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),la=e=>Mr.get("/knowledge",{params:e}),oa=e=>Mr.get("/knowledge/".concat(e)),ca=(e,t,n)=>Mr.post("/knowledge/".concat(e,"/documents"),t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n}),da=e=>Mr.post("/knowledge/search",e),ua=e=>Mr.get("/knowledge/".concat(e,"/stats")),ma=async(e,t,n)=>{try{const s={headers:{"Content-Type":"multipart/form-data"}};n&&(s.onUploadProgress=n);const r=await Mr.post("/knowledge/".concat(e,"/images/upload"),t,s);return r.data.data||r.data}catch(s){throw console.error("Upload image error:",s),s}},pa=()=>Mr.get("/conversation-strategy/presets"),ha=[{value:"gpt-4o-mini",label:"GPT-4o Mini (Fast & Cheap)",cost:"$0.15 / $0.60 per 1M tokens"},{value:"gpt-4o",label:"GPT-4o (Most Capable)",cost:"$2.50 / $10.00 per 1M tokens"},{value:"gpt-4-turbo",label:"GPT-4 Turbo",cost:"$10.00 / $30.00 per 1M tokens"},{value:"gpt-4",label:"GPT-4",cost:"$30.00 / $60.00 per 1M tokens"},{value:"gpt-3.5-turbo",label:"GPT-3.5 Turbo (Legacy)",cost:"$0.50 / $1.50 per 1M tokens"},{value:"o1-mini",label:"o1 Mini (Reasoning)",cost:"$3.00 / $12.00 per 1M tokens"},{value:"o1",label:"o1 (Advanced Reasoning)",cost:"$15.00 / $60.00 per 1M tokens"}],xa=()=>{var e,t,n,s,r,i,l,o,c,d,u,m,p,h,x,g,f,y,v,b,j,w,N,k,S,C,_,A,E,T,P,I,O;const{id:M}=se(),R=te(),[F,L]=(0,a.useState)(!1),[D,U]=(0,a.useState)(!1),[z,B]=(0,a.useState)(!1),[q,V]=(0,a.useState)([]),[W,H]=(0,a.useState)([]),[G,K]=(0,a.useState)(!1),[J,Q]=(0,a.useState)(!1),[Y,X]=(0,a.useState)({name:"",type:"sales",instructions:"",voice:"shimmer",language:"ur",model:"gpt-4o-mini-realtime-preview-2024-12-17",model:"gpt-4o-mini",provider:"openai",deepgram_model:"nova-2",deepgram_voice:"aura-asteria-en",deepgram_language:"en",temperature:.6,max_tokens:4096,vad_threshold:.5,silence_duration_ms:500,greeting:"",kb_id:null}),[Z,$]=(0,a.useState)([]),[ee,ne]=(0,a.useState)(!1),[re,ae]=(0,a.useState)(null),[ie,le]=(0,a.useState)(!1),[oe,ce]=(0,a.useState)(!1),[de,ue]=(0,a.useState)(""),[me,pe]=(0,a.useState)(!1),[he,xe]=(0,a.useState)(0),[ge,fe]=(0,a.useState)({name:"",description:"",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"json",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{},required:[]}}),[ye,ve]=(0,a.useState)({key:"",value:""}),[be,je]=(0,a.useState)(!1),[we,Ne]=(0,a.useState)([]),[ke,Se]=(0,a.useState)(""),[Ce,_e]=(0,a.useState)(!1),[Ae,Ee]=(0,a.useState)({key:"",value:"",type:"text"}),[Te,Pe]=(0,a.useState)(""),[Ie,Oe]=(0,a.useState)(!1),[Me,Re]=(0,a.useState)({name:"",type:"string",description:"",required:!1,enum:"",properties:"",items:""}),[Fe,Le]=(0,a.useState)(!1);(0,a.useEffect)(()=>{De()},[]);const De=async()=>{try{K(!0);const e=await pa();e.success&&H(e.data)}catch(e){console.error("Error loading strategy presets:",e)}finally{K(!1)}},Ue=(e,t)=>{var n;X(Ve(Ve({},Y),{},{conversation_strategy:Ve(Ve({},Y.conversation_strategy),{},{preference_collection:Ve(Ve({},(null===(n=Y.conversation_strategy)||void 0===n?void 0:n.preference_collection)||{}),{},{[e]:t})})}))},Be=(e,t,n)=>{var s,r,a;const i=[...(null===(s=Y.conversation_strategy)||void 0===s||null===(r=s.preference_collection)||void 0===r?void 0:r.preferences_to_collect)||[]];i[e]=Ve(Ve({},i[e]),{},{[t]:n}),X(Ve(Ve({},Y),{},{conversation_strategy:Ve(Ve({},Y.conversation_strategy),{},{preference_collection:Ve(Ve({},null===(a=Y.conversation_strategy)||void 0===a?void 0:a.preference_collection),{},{preferences_to_collect:i})})}))};(0,a.useEffect)(()=>{(async()=>{try{var e,t;const n=await la();V((null===(e=n.data)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.knowledge_bases)||[])}catch(n){console.error("Failed to load knowledge bases:",n),V([])}})()},[]),(0,a.useEffect)(()=>{M&&qe()},[M]);const qe=async()=>{try{L(!0);const t=(await Pr(M)).data.agent;"openai"===t.provider?X(Ve(Ve({},t),{},{voice:t.voice||"shimmer",model:t.model||"gpt-4o-mini-realtime-preview-2024-12-17",chat_model:t.chat_model||"gpt-4o-mini",language:t.language||"en",kb_id:t.kb_id||null})):"deepgram"===t.provider?X(Ve(Ve({},t),{},{deepgram_model:t.deepgram_model||"nova-2",deepgram_voice:t.deepgram_voice||"shimmer",deepgram_language:t.deepgram_language||"en",chat_model:t.chat_model||"gpt-4o-mini",kb_id:t.kb_id||null})):X(Ve(Ve({},t),{},{provider:"openai",voice:t.voice||"shimmer",chat_model:t.chat_model||"gpt-4o-mini",model:t.model||"gpt-4o-mini-realtime-preview-2024-12-17",language:t.language||"en",kb_id:t.kb_id||null}));const n=await(e=M,Er.get("/functions/agent/".concat(e)));$(n.data.functions||[])}catch(t){rn.error("Failed to load agent"),console.error(t)}finally{L(!1)}var e},He=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){ae(e);let t=e.api_body_type||"json",n=[],s="";e.api_body&&("json"===t?s="string"===typeof e.api_body?e.api_body:JSON.stringify(e.api_body,null,2):"form-data"!==t&&"urlencoded"!==t||(n=Object.entries(e.api_body).map(e=>{let[t,n]=e;return{key:t,value:n,type:"text"}}))),fe({name:e.name,description:e.description,execution_mode:e.execution_mode,handler_type:e.handler_type,api_endpoint:e.api_endpoint||"",api_method:e.api_method||"POST",api_headers:Array.isArray(e.api_headers)?e.api_headers:e.api_headers?Object.entries(e.api_headers).map(e=>{let[t,n]=e;return{key:t,value:n}}):[],api_body_type:t,api_body:e.api_body,timeout_ms:e.timeout_ms,retries:e.retries,parameters:e.parameters}),Ne(n),Se(s),Pe(JSON.stringify(e.parameters,null,2))}else ae(null),fe({name:"",description:"",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"json",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{},required:[]}}),Ne([]),Se(""),Pe(JSON.stringify({type:"object",properties:{},required:[]},null,2));ne(!0)},Ge=async e=>{if(window.confirm("Delete this function?"))try{await(e=>Er.delete("/functions/".concat(e)))(e),rn.success("Function deleted"),qe()}catch(t){rn.error("Failed to delete function")}},Ke=e=>{const t=ge.api_headers.filter(e=>"content-type"!==e.key.toLowerCase());let n={key:"Content-Type",value:""};"json"===e?n.value="application/json":"urlencoded"===e?n.value="application/x-www-form-urlencoded":"form-data"===e&&(n.value="multipart/form-data"),n.value?fe(Ve(Ve({},ge),{},{api_body_type:e,api_headers:[...t,n]})):fe(Ve(Ve({},ge),{},{api_body_type:e}))},Je=e=>{const t={checkBalance:{name:"check_balance",description:"Check customer account balance",execution_mode:"sync",handler_type:"api",api_endpoint:"https://api.example.com/balance/{{customer_id}}",api_method:"GET",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"}],api_body_type:"none",api_body:null,timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{customer_id:{type:"string",description:"Customer unique identifier"}},required:["customer_id"]}},bookAppointment:{name:"book_appointment",description:"Book an appointment for the customer",execution_mode:"async",handler_type:"api",api_endpoint:"https://api.example.com/appointments",api_method:"POST",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"},{key:"Content-Type",value:"application/json"}],api_body_type:"json",api_body:{customer_id:"{{customer_id}}",date:"{{date}}",time:"{{time}}",service_type:"{{service_type}}"},timeout_ms:3e4,retries:2,parameters:{type:"object",properties:{customer_id:{type:"string",description:"Customer unique identifier"},date:{type:"string",description:"Appointment date in YYYY-MM-DD format"},time:{type:"string",description:"Appointment time in HH:MM format"},service_type:{type:"string",description:"Type of service",enum:["consultation","followup","emergency"]}},required:["customer_id","date","time"]}},sendSMS:{name:"send_sms",description:"Send SMS to customer",execution_mode:"async",handler_type:"api",api_endpoint:"https://api.example.com/sms/send",api_method:"POST",api_headers:[{key:"Authorization",value:"Bearer YOUR_API_KEY"},{key:"Content-Type",value:"application/x-www-form-urlencoded"}],api_body_type:"urlencoded",api_body:{to:"{{phone_number}}",message:"{{message}}",from:"YourCompany"},timeout_ms:15e3,retries:3,parameters:{type:"object",properties:{phone_number:{type:"string",description:"Customer phone number"},message:{type:"string",description:"SMS message content"}},required:["phone_number","message"]}},transferCall:{name:"transfer_call",description:"Transfer call to another department",execution_mode:"sync",handler_type:"inline",api_endpoint:"",api_method:"POST",api_headers:[],api_body_type:"none",api_body:null,timeout_ms:5e3,retries:1,parameters:{type:"object",properties:{department:{type:"string",description:"Department to transfer to",enum:["sales","support","billing","technical"]},reason:{type:"string",description:"Reason for transfer"}},required:["department"]}}}[e];t&&(fe(t),Pe(JSON.stringify(t.parameters,null,2)),"json"===t.api_body_type?(Se(JSON.stringify(t.api_body,null,2)),Ne([])):"form-data"===t.api_body_type||"urlencoded"===t.api_body_type?(Ne(Object.entries(t.api_body).map(e=>{let[t,n]=e;return{key:t,value:n,type:"text"}})),Se("")):(Se(""),Ne([])))};return F?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:M?"Edit Agent":"Create Agent"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Configure your AI voice agent"})]}),(0,Rr.jsxs)("div",{className:"flex space-x-3",children:[(0,Rr.jsxs)("button",{onClick:()=>R("/agents"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(sa,{className:"w-5 h-5 mr-2"}),"Cancel"]}),(0,Rr.jsxs)("button",{onClick:async()=>{if(!Y.name||!Y.instructions)return void rn.error("Name and instructions are required");const e=Ve(Ve({},Y),{},{conversation_strategy:Y.conversation_strategy||{preference_collection:{strategy:"immediate_search",preferences_to_collect:[],min_preferences_before_search:0,max_questions:0},knowledge_search:{strategy:"auto",search_threshold:"medium",search_types:["text","image","product"]}}});U(!0);try{if(M)await Ir(M,e),rn.success("Agent updated");else{const t=await(e=>Er.post("/agents",e))(e);rn.success("Agent created"),R("/agents/".concat(t.data.agent.id))}}catch(s){var t,n;rn.error((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to save agent")}finally{U(!1)}},disabled:D,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Rr.jsx)(ra,{className:"w-5 h-5 mr-2"}),D?"Saving...":"Save"]})]})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Rr.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Basic Information"})}),(0,Rr.jsxs)("div",{className:"px-6 py-5 space-y-6",children:[(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Agent Name"}),(0,Rr.jsx)("input",{type:"text",value:Y.name,onChange:e=>X(Ve(Ve({},Y),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Sales Assistant"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Type"}),(0,Rr.jsxs)("select",{value:Y.type,onChange:e=>X(Ve(Ve({},Y),{},{type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"sales",children:"Sales"}),(0,Rr.jsx)("option",{value:"support",children:"Support"}),(0,Rr.jsx)("option",{value:"banking",children:"Banking"}),(0,Rr.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Provider"}),(0,Rr.jsxs)("select",{value:Y.provider||"openai",onChange:e=>{var t;"openai"===(t=e.target.value)?(X(Ve(Ve({},Y),{},{provider:"openai",voice:"shimmer",model:"gpt-4o-mini-realtime-preview-2024-12-17",language:"en",deepgram_model:null,deepgram_voice:null,deepgram_language:null})),rn.success("Switched to OpenAI - defaults applied")):"deepgram"===t&&(X(Ve(Ve({},Y),{},{provider:"deepgram",deepgram_model:"nova-2",deepgram_voice:"shimmer",deepgram_language:"en",voice:null,model:null})),rn.success("Switched to Deepgram - defaults applied"))},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"openai",children:"OpenAI Realtime API"}),(0,Rr.jsx)("option",{value:"deepgram",children:"Deepgram"})]}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"deepgram"===Y.provider?"Deepgram provides more natural sounding voices":"OpenAI provides superior conversation handling and function calling"})]}),"openai"===Y.provider?(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Voice"}),(0,Rr.jsxs)("select",{value:Y.voice,onChange:e=>X(Ve(Ve({},Y),{},{voice:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"alloy",children:"Alloy"}),(0,Rr.jsx)("option",{value:"ash",children:"Ash"}),(0,Rr.jsx)("option",{value:"ballad",children:"Ballad"}),(0,Rr.jsx)("option",{value:"coral",children:"Coral"}),(0,Rr.jsx)("option",{value:"echo",children:"Echo"}),(0,Rr.jsx)("option",{value:"sage",children:"Sage"}),(0,Rr.jsx)("option",{value:"shimmer",children:"Shimmer"}),(0,Rr.jsx)("option",{value:"verse",children:"Verse"}),(0,Rr.jsx)("option",{value:"marin",children:"Marin"}),(0,Rr.jsx)("option",{value:"cedar",children:"Cedar"})]})]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Speech-to-Text (STT) Model"}),(0,Rr.jsxs)("select",{value:Y.deepgram_model||"nova-2",onChange:e=>X(Ve(Ve({},Y),{},{deepgram_model:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsxs)("optgroup",{label:"Nova-3 (Recommended - Best Accuracy)",children:[(0,Rr.jsx)("option",{value:"nova-3",children:"Nova-3 General"}),(0,Rr.jsx)("option",{value:"nova-3-general",children:"Nova-3 General (Explicit)"}),(0,Rr.jsx)("option",{value:"nova-3-phonecall",children:"Nova-3 Phone Call"}),(0,Rr.jsx)("option",{value:"nova-3-medical",children:"Nova-3 Medical"}),(0,Rr.jsx)("option",{value:"nova-3-finance",children:"Nova-3 Finance"}),(0,Rr.jsx)("option",{value:"nova-3-conversationalai",children:"Nova-3 Conversational AI"}),(0,Rr.jsx)("option",{value:"nova-3-voicemail",children:"Nova-3 Voicemail"}),(0,Rr.jsx)("option",{value:"nova-3-video",children:"Nova-3 Video"}),(0,Rr.jsx)("option",{value:"nova-3-meeting",children:"Nova-3 Meeting"}),(0,Rr.jsx)("option",{value:"nova-3-drive_thru",children:"Nova-3 Drive-Thru"}),(0,Rr.jsx)("option",{value:"nova-3-automotive",children:"Nova-3 Automotive"})]}),(0,Rr.jsxs)("optgroup",{label:"Nova-2 (Good for Non-English)",children:[(0,Rr.jsx)("option",{value:"nova-2",children:"Nova-2 General"}),(0,Rr.jsx)("option",{value:"nova-2-general",children:"Nova-2 General (Explicit)"}),(0,Rr.jsx)("option",{value:"nova-2-phonecall",children:"Nova-2 Phone Call"}),(0,Rr.jsx)("option",{value:"nova-2-meeting",children:"Nova-2 Meeting"}),(0,Rr.jsx)("option",{value:"nova-2-voicemail",children:"Nova-2 Voicemail"}),(0,Rr.jsx)("option",{value:"nova-2-finance",children:"Nova-2 Finance"}),(0,Rr.jsx)("option",{value:"nova-2-conversationalai",children:"Nova-2 Conversational AI"}),(0,Rr.jsx)("option",{value:"nova-2-video",children:"Nova-2 Video"}),(0,Rr.jsx)("option",{value:"nova-2-medical",children:"Nova-2 Medical"}),(0,Rr.jsx)("option",{value:"nova-2-drivethru",children:"Nova-2 Drive-Thru"}),(0,Rr.jsx)("option",{value:"nova-2-automotive",children:"Nova-2 Automotive"})]}),(0,Rr.jsx)("optgroup",{label:"Flux (Voice Agents - NEW)",children:(0,Rr.jsx)("option",{value:"flux",children:"Flux (Conversational Flow)"})}),(0,Rr.jsxs)("optgroup",{label:"Legacy Models",children:[(0,Rr.jsx)("option",{value:"nova",children:"Nova-1"}),(0,Rr.jsx)("option",{value:"enhanced",children:"Enhanced General"}),(0,Rr.jsx)("option",{value:"enhanced-general",children:"Enhanced General (Explicit)"}),(0,Rr.jsx)("option",{value:"enhanced-phonecall",children:"Enhanced Phone Call"}),(0,Rr.jsx)("option",{value:"enhanced-meeting",children:"Enhanced Meeting"}),(0,Rr.jsx)("option",{value:"base",children:"Base General"}),(0,Rr.jsx)("option",{value:"base-general",children:"Base General (Explicit)"}),(0,Rr.jsx)("option",{value:"base-phonecall",children:"Base Phone Call"}),(0,Rr.jsx)("option",{value:"base-meeting",children:"Base Meeting"})]}),(0,Rr.jsxs)("optgroup",{label:"Whisper (Slower, Limited)",children:[(0,Rr.jsx)("option",{value:"whisper-tiny",children:"Whisper Tiny"}),(0,Rr.jsx)("option",{value:"whisper-base",children:"Whisper Base"}),(0,Rr.jsx)("option",{value:"whisper-small",children:"Whisper Small"}),(0,Rr.jsx)("option",{value:"whisper-medium",children:"Whisper Medium"}),(0,Rr.jsx)("option",{value:"whisper-large",children:"Whisper Large"})]})]}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Nova-3 offers best accuracy. Flux is optimized for voice agents with built-in turn detection."})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"STT Language"}),(0,Rr.jsxs)("select",{value:Y.deepgram_language||"en",onChange:e=>X(Ve(Ve({},Y),{},{deepgram_language:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("optgroup",{label:"Multilingual (Nova-2 & Nova-3)",children:(0,Rr.jsx)("option",{value:"multi",children:"\ud83c\udf0d Multi (10 Languages - Code Switching)"})}),(0,Rr.jsxs)("optgroup",{label:"Common Languages",children:[(0,Rr.jsx)("option",{value:"en",children:"\ud83c\uddfa\ud83c\uddf8 English"}),(0,Rr.jsx)("option",{value:"en-US",children:"\ud83c\uddfa\ud83c\uddf8 English (US)"}),(0,Rr.jsx)("option",{value:"en-GB",children:"\ud83c\uddec\ud83c\udde7 English (UK)"}),(0,Rr.jsx)("option",{value:"en-AU",children:"\ud83c\udde6\ud83c\uddfa English (Australia)"}),(0,Rr.jsx)("option",{value:"en-NZ",children:"\ud83c\uddf3\ud83c\uddff English (New Zealand)"}),(0,Rr.jsx)("option",{value:"en-IN",children:"\ud83c\uddee\ud83c\uddf3 English (India)"}),(0,Rr.jsx)("option",{value:"es",children:"\ud83c\uddea\ud83c\uddf8 Spanish"}),(0,Rr.jsx)("option",{value:"es-419",children:"\ud83c\uddf2\ud83c\uddfd Spanish (Latin America)"}),(0,Rr.jsx)("option",{value:"fr",children:"\ud83c\uddeb\ud83c\uddf7 French"}),(0,Rr.jsx)("option",{value:"fr-CA",children:"\ud83c\udde8\ud83c\udde6 French (Canada)"}),(0,Rr.jsx)("option",{value:"de",children:"\ud83c\udde9\ud83c\uddea German"}),(0,Rr.jsx)("option",{value:"hi",children:"\ud83c\uddee\ud83c\uddf3 Hindi"}),(0,Rr.jsx)("option",{value:"pt",children:"\ud83c\uddf5\ud83c\uddf9 Portuguese"}),(0,Rr.jsx)("option",{value:"pt-BR",children:"\ud83c\udde7\ud83c\uddf7 Portuguese (Brazil)"}),(0,Rr.jsx)("option",{value:"ru",children:"\ud83c\uddf7\ud83c\uddfa Russian"}),(0,Rr.jsx)("option",{value:"ja",children:"\ud83c\uddef\ud83c\uddf5 Japanese"}),(0,Rr.jsx)("option",{value:"it",children:"\ud83c\uddee\ud83c\uddf9 Italian"}),(0,Rr.jsx)("option",{value:"nl",children:"\ud83c\uddf3\ud83c\uddf1 Dutch"}),(0,Rr.jsx)("option",{value:"zh",children:"\ud83c\udde8\ud83c\uddf3 Chinese (Simplified)"}),(0,Rr.jsx)("option",{value:"zh-CN",children:"\ud83c\udde8\ud83c\uddf3 Chinese (Mandarin)"}),(0,Rr.jsx)("option",{value:"zh-TW",children:"\ud83c\uddf9\ud83c\uddfc Chinese (Taiwan)"}),(0,Rr.jsx)("option",{value:"ko",children:"\ud83c\uddf0\ud83c\uddf7 Korean"}),(0,Rr.jsx)("option",{value:"tr",children:"\ud83c\uddf9\ud83c\uddf7 Turkish"}),(0,Rr.jsx)("option",{value:"ar",children:"\ud83c\uddf8\ud83c\udde6 Arabic"})]}),(0,Rr.jsxs)("optgroup",{label:"European Languages",children:[(0,Rr.jsx)("option",{value:"pl",children:"\ud83c\uddf5\ud83c\uddf1 Polish"}),(0,Rr.jsx)("option",{value:"uk",children:"\ud83c\uddfa\ud83c\udde6 Ukrainian"}),(0,Rr.jsx)("option",{value:"sv",children:"\ud83c\uddf8\ud83c\uddea Swedish"}),(0,Rr.jsx)("option",{value:"da",children:"\ud83c\udde9\ud83c\uddf0 Danish"}),(0,Rr.jsx)("option",{value:"no",children:"\ud83c\uddf3\ud83c\uddf4 Norwegian"}),(0,Rr.jsx)("option",{value:"fi",children:"\ud83c\uddeb\ud83c\uddee Finnish"}),(0,Rr.jsx)("option",{value:"el",children:"\ud83c\uddec\ud83c\uddf7 Greek"}),(0,Rr.jsx)("option",{value:"cs",children:"\ud83c\udde8\ud83c\uddff Czech"}),(0,Rr.jsx)("option",{value:"ro",children:"\ud83c\uddf7\ud83c\uddf4 Romanian"}),(0,Rr.jsx)("option",{value:"hu",children:"\ud83c\udded\ud83c\uddfa Hungarian"}),(0,Rr.jsx)("option",{value:"bg",children:"\ud83c\udde7\ud83c\uddec Bulgarian"})]}),(0,Rr.jsxs)("optgroup",{label:"Asian Languages",children:[(0,Rr.jsx)("option",{value:"th",children:"\ud83c\uddf9\ud83c\udded Thai"}),(0,Rr.jsx)("option",{value:"vi",children:"\ud83c\uddfb\ud83c\uddf3 Vietnamese"}),(0,Rr.jsx)("option",{value:"id",children:"\ud83c\uddee\ud83c\udde9 Indonesian"}),(0,Rr.jsx)("option",{value:"ms",children:"\ud83c\uddf2\ud83c\uddfe Malay"}),(0,Rr.jsx)("option",{value:"ta",children:"\ud83c\uddee\ud83c\uddf3 Tamil"})]}),(0,Rr.jsxs)("optgroup",{label:"Other Languages",children:[(0,Rr.jsx)("option",{value:"he",children:"\ud83c\uddee\ud83c\uddf1 Hebrew"}),(0,Rr.jsx)("option",{value:"ur",children:"\ud83c\uddf5\ud83c\uddf0 Urdu"})]})]}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"multi"===Y.deepgram_language?"\ud83c\udf0d Multi supports: English, Spanish, French, German, Hindi, Russian, Portuguese, Japanese, Italian, Dutch":'Select language for speech recognition. Use "Multi" for code-switching conversations.'})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Text-to-Speech (TTS) Voice"}),(0,Rr.jsxs)("select",{value:Y.deepgram_voice||"shimmer",onChange:e=>X(Ve(Ve({},Y),{},{deepgram_voice:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsxs)("optgroup",{label:"OpenAI Voices (Used with Deepgram STT)",children:[(0,Rr.jsx)("option",{value:"alloy",children:"Alloy (Neutral)"}),(0,Rr.jsx)("option",{value:"ash",children:"Ash (Warm Male)"}),(0,Rr.jsx)("option",{value:"ballad",children:"Ballad (Expressive)"}),(0,Rr.jsx)("option",{value:"coral",children:"Coral (Friendly Female)"}),(0,Rr.jsx)("option",{value:"echo",children:"Echo (Professional Male)"}),(0,Rr.jsx)("option",{value:"sage",children:"Sage (Calm Female)"}),(0,Rr.jsx)("option",{value:"shimmer",children:"Shimmer (Clear Female)"}),(0,Rr.jsx)("option",{value:"verse",children:"Verse (Conversational)"})]}),(0,Rr.jsxs)("optgroup",{label:"Deepgram Aura Voices (Alternative)",children:[(0,Rr.jsx)("option",{value:"aura-asteria-en",children:"Asteria (English - Female)"}),(0,Rr.jsx)("option",{value:"aura-luna-en",children:"Luna (English - Female)"}),(0,Rr.jsx)("option",{value:"aura-stella-en",children:"Stella (English - Female)"}),(0,Rr.jsx)("option",{value:"aura-athena-en",children:"Athena (English - Female)"}),(0,Rr.jsx)("option",{value:"aura-hera-en",children:"Hera (English - Female)"}),(0,Rr.jsx)("option",{value:"aura-orion-en",children:"Orion (English - Male)"}),(0,Rr.jsx)("option",{value:"aura-arcas-en",children:"Arcas (English - Male)"}),(0,Rr.jsx)("option",{value:"aura-perseus-en",children:"Perseus (English - Male)"}),(0,Rr.jsx)("option",{value:"aura-angus-en",children:"Angus (English - Irish Male)"}),(0,Rr.jsx)("option",{value:"aura-orpheus-en",children:"Orpheus (English - Male)"}),(0,Rr.jsx)("option",{value:"aura-helios-en",children:"Helios (English - Male)"}),(0,Rr.jsx)("option",{value:"aura-zeus-en",children:"Zeus (English - Male)"})]})]}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Currently using OpenAI TTS with Deepgram STT for best quality. Deepgram Aura voices coming soon."})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Language"}),(0,Rr.jsxs)("select",{value:Y.language,onChange:e=>X(Ve(Ve({},Y),{},{language:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"ur",children:"Urdu/English"}),(0,Rr.jsx)("option",{value:"en",children:"English"}),(0,Rr.jsx)("option",{value:"es",children:"Spanish"}),(0,Rr.jsx)("option",{value:"fr",children:"French"})]})]})]}),(0,Rr.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Chat Model Configuration"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"This model is used for text-based chat conversations in the dashboard. Voice calls use the realtime model configured above."}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chat Model"}),(0,Rr.jsx)("select",{value:Y.chat_model||"gpt-4o-mini",onChange:e=>X(Ve(Ve({},Y),{},{chat_model:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:ha.map(e=>(0,Rr.jsxs)("option",{value:e.value,children:[e.label," - ",e.cost]},e.value))}),(0,Rr.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["\ud83d\udca1 ",(0,Rr.jsx)("strong",{children:"Recommendation:"})," Use GPT-4o Mini for most cases - it's 99% cheaper than realtime models and perfect for text chat. Upgrade to GPT-4o for complex reasoning tasks."]})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Instructions"}),(0,Rr.jsx)("button",{type:"button",onClick:async()=>{if(Y.name){pe(!0),ce(!0);try{const e=await(e=>Er.post("/ai-assist/generate-instructions",e))({agent_name:Y.name,agent_type:Y.type,language:Y.language,existing_instructions:Y.instructions});ue(e.data.instructions),xe(e.data.cost),rn.success("Instructions generated! Cost: $".concat(e.data.cost.toFixed(6)))}catch(e){rn.error("Failed to generate instructions"),ce(!1)}finally{pe(!1)}}else rn.error("Please enter an agent name first")},disabled:!Y.name||me,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:me?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,Rr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Rr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Rr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"AI Generate"]})})]}),(0,Rr.jsx)("textarea",{value:Y.instructions,onChange:e=>X(Ve(Ve({},Y),{},{instructions:e.target.value})),rows:10,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"You are a helpful sales assistant..."}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:'System instructions that define the agent\'s behavior. Click "AI Generate" for assistance.'})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Greeting"}),(0,Rr.jsx)("textarea",{value:Y.greeting,onChange:e=>X(Ve(Ve({},Y),{},{greeting:e.target.value})),rows:2,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Hello! How can I help you today?"}),(0,Rr.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[(0,Rr.jsx)("strong",{children:"Inbound Call:"})," On an inbound call setting a greeting will automatically start playback when the call connects with AiVA",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Outbound Call:"})," Not recommended to set up greeting on an Outbound Call because the AiVA should respond once the Caller answers the call and Starts Speaking"]})]})]})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Knowledge Base"}),(0,Rr.jsx)("div",{className:"space-y-4",children:(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Knowledge Base"}),(0,Rr.jsxs)("select",{value:Y.kb_id||"",onChange:e=>X(Ve(Ve({},Y),{},{kb_id:e.target.value||null})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"",children:"-- No Knowledge Base --"}),q.map(e=>{var t;return(0,Rr.jsxs)("option",{value:e.id,children:[e.name," (",(null===(t=e.stats)||void 0===t?void 0:t.document_count)||0," docs)"]},e.id)})]})]})})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Conversation Strategy"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Configure how your agent collects preferences before searching"})]})}),(0,Rr.jsxs)("div",{className:"mb-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Rr.jsx)(aa,{size:18,className:"text-blue-500"}),(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Quick Presets"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Apply a preset configuration based on your business type"}),(0,Rr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:G?(0,Rr.jsx)("div",{className:"col-span-4 text-center py-4",children:(0,Rr.jsx)("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900"})}):W.map(e=>{const t={shirt:Shirt,laptop:Laptop,couch:Sofa,utensils:Utensils}[e.icon]||aa;return(0,Rr.jsxs)("button",{type:"button",onClick:()=>(async e=>{try{const t=W.find(t=>t.id===e);t&&(X(Ve(Ve({},Y),{},{conversation_strategy:t.strategy})),rn.success("".concat(t.name," preset applied")))}catch(t){console.error("Error applying preset:",t),rn.error("Failed to apply preset")}})(e.id),className:"p-3 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors text-left",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Rr.jsx)(t,{size:20,className:"text-blue-600"}),(0,Rr.jsx)("span",{className:"font-semibold text-sm",children:e.name})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:e.description}),(0,Rr.jsx)("span",{className:"inline-block text-xs px-2 py-1 bg-gray-100 rounded",children:0===e.strategy.preference_collection.max_questions?"No questions":"".concat(e.strategy.preference_collection.max_questions," questions")})]},e.id)})})]}),(0,Rr.jsxs)("div",{className:"space-y-3",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Strategy"}),(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"conversation_strategy",value:"immediate_search",checked:"immediate_search"===(null===(e=Y.conversation_strategy)||void 0===e||null===(t=e.preference_collection)||void 0===t?void 0:t.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-medium text-sm",children:"Immediate Search"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-100 text-green-700 rounded",children:"Fast"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-600",children:"Search as soon as user requests products. No questions asked."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Furniture, Food, Low-ticket items"})]})]}),(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"conversation_strategy",value:"ask_questions",checked:"ask_questions"===(null===(n=Y.conversation_strategy)||void 0===n||null===(s=n.preference_collection)||void 0===s?void 0:s.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-medium text-sm",children:"Ask Questions First"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Personalized"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-600",children:"Collect user preferences before searching for products."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Clothing, Fashion, High-value items"})]})]}),(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"conversation_strategy",value:"minimal_questions",checked:"minimal_questions"===(null===(r=Y.conversation_strategy)||void 0===r||null===(i=r.preference_collection)||void 0===i?void 0:i.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-medium text-sm",children:"Minimal Questions (1-2)"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded",children:"Balanced"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-600",children:"Ask only 1-2 critical questions before searching."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Electronics, Mid-range items"})]})]}),(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"conversation_strategy",value:"adaptive",checked:"adaptive"===(null===(l=Y.conversation_strategy)||void 0===l||null===(o=l.preference_collection)||void 0===o?void 0:o.strategy),onChange:e=>Ue("strategy",e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-medium text-sm",children:"Adaptive (Smart)"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-0.5 bg-purple-100 text-purple-700 rounded",children:"Intelligent"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-600",children:"AI decides based on product type, value, and context."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Multi-category stores"})]})]})]}),(null===(c=Y.conversation_strategy)||void 0===c||null===(d=c.preference_collection)||void 0===d?void 0:d.strategy)&&(0,Rr.jsx)("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:(0,Rr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Rr.jsx)(ia,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h4",{className:"text-sm font-semibold text-green-900",children:"Current Strategy"}),(0,Rr.jsxs)("p",{className:"text-xs text-green-700 mt-1",children:["Using ",(0,Rr.jsx)("strong",{children:Y.conversation_strategy.preference_collection.strategy.replace("_"," ")})," strategy.","immediate_search"===Y.conversation_strategy.preference_collection.strategy&&" Products will be shown immediately.","ask_questions"===Y.conversation_strategy.preference_collection.strategy&&" Agent will collect preferences before searching.","minimal_questions"===Y.conversation_strategy.preference_collection.strategy&&" Agent will ask 1-2 quick questions.","adaptive"===Y.conversation_strategy.preference_collection.strategy&&" AI will decide the best approach."]})]})]})})]}),("ask_questions"===(null===(u=Y.conversation_strategy)||void 0===u||null===(m=u.preference_collection)||void 0===m?void 0:m.strategy)||"minimal_questions"===(null===(p=Y.conversation_strategy)||void 0===p||null===(h=p.preference_collection)||void 0===h?void 0:h.strategy))&&(0,Rr.jsxs)("div",{className:"mt-6 p-4 border-2 border-blue-200 rounded-lg bg-blue-50",children:[(0,Rr.jsxs)("button",{type:"button",onClick:()=>Q(!J),className:"w-full flex items-center justify-between text-left mb-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Rr.jsx)("span",{className:"text-lg",children:"\u2699\ufe0f"}),(0,Rr.jsx)("span",{className:"font-semibold text-gray-900",children:"Advanced Configuration"}),!J&&(0,Rr.jsxs)("span",{className:"text-xs text-gray-500",children:["(",((null===(x=Y.conversation_strategy)||void 0===x||null===(g=x.preference_collection)||void 0===g?void 0:g.preferences_to_collect)||[]).length," preferences configured)"]})]}),(0,Rr.jsx)("span",{className:"text-gray-600",children:J?"\u25bc":"\u25b6"})]}),J&&(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferences to Collect"}),(0,Rr.jsx)("p",{className:"text-xs text-gray-600 mb-3",children:"Define what information to gather before searching"}),(0,Rr.jsx)("div",{className:"space-y-3",children:((null===(f=Y.conversation_strategy)||void 0===f||null===(y=f.preference_collection)||void 0===y?void 0:y.preferences_to_collect)||[]).map((e,t)=>{var n;return(0,Rr.jsxs)("div",{className:"p-3 bg-white rounded-lg border border-gray-300 shadow-sm",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,Rr.jsxs)("span",{className:"text-sm font-medium text-gray-500",children:["#",t+1]}),(0,Rr.jsx)("input",{type:"text",placeholder:"Preference name (e.g., color, size)",value:e.name||"",onChange:e=>Be(t,"name",e.target.value),className:"flex-1 text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),(0,Rr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Rr.jsxs)("label",{className:"flex items-center gap-1 text-xs",children:[(0,Rr.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>Be(t,"required",e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),"Required"]}),(0,Rr.jsx)("button",{type:"button",onClick:()=>(e=>{var t,n,s;const r=((null===(t=Y.conversation_strategy)||void 0===t||null===(n=t.preference_collection)||void 0===n?void 0:n.preferences_to_collect)||[]).filter((t,n)=>n!==e);X(Ve(Ve({},Y),{},{conversation_strategy:Ve(Ve({},Y.conversation_strategy),{},{preference_collection:Ve(Ve({},null===(s=Y.conversation_strategy)||void 0===s?void 0:s.preference_collection),{},{preferences_to_collect:r})})}))})(t),className:"text-red-600 hover:text-red-700 p-1",title:"Remove preference",children:(0,Rr.jsx)("span",{className:"text-lg",children:"\ud83d\uddd1\ufe0f"})})]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Display Label"}),(0,Rr.jsx)("input",{type:"text",placeholder:"e.g., Color Preference",value:e.label,onChange:e=>Be(t,"label",e.target.value),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Field Type"}),(0,Rr.jsxs)("select",{value:e.type||"text",onChange:e=>Be(t,"type",e.target.value),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"text",children:"Text (Open-ended)"}),(0,Rr.jsx)("option",{value:"choice",children:"Multiple Choice"}),(0,Rr.jsx)("option",{value:"range",children:"Range (e.g., budget)"})]})]})]}),(0,Rr.jsxs)("div",{className:"mt-3",children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Question to Ask"}),(0,Rr.jsx)("input",{type:"text",placeholder:"e.g., What color would you like?",value:e.question,onChange:e=>Be(t,"question",e.target.value),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"AI will use this as guidance and may rephrase naturally"})]}),"choice"===e.type&&(0,Rr.jsxs)("div",{className:"mt-3",children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Options (comma-separated)"}),(0,Rr.jsx)("input",{type:"text",placeholder:"e.g., Red, Blue, Green, Pink, Black",value:(null===(n=e.options)||void 0===n?void 0:n.join(", "))||"",onChange:e=>Be(t,"options",e.target.value.split(",").map(e=>e.trim())),className:"w-full text-sm border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500"})]})]},t)})}),(0,Rr.jsx)("button",{type:"button",onClick:()=>{var e,t,n;const s=[...(null===(e=Y.conversation_strategy)||void 0===e||null===(t=e.preference_collection)||void 0===t?void 0:t.preferences_to_collect)||[],{name:"",label:"",required:!1,question:"",type:"text"}];X(Ve(Ve({},Y),{},{conversation_strategy:Ve(Ve({},Y.conversation_strategy),{},{preference_collection:Ve(Ve({},null===(n=Y.conversation_strategy)||void 0===n?void 0:n.preference_collection),{},{preferences_to_collect:s})})}))},className:"mt-3 w-full py-2 px-4 border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 transition-colors",children:"+ Add Preference"})]}),(0,Rr.jsx)("div",{className:"border-t border-gray-300 my-4"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Timing"}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Minimum Preferences Before Search"}),(0,Rr.jsx)("input",{type:"range",min:"0",max:Math.max(5,((null===(v=Y.conversation_strategy)||void 0===v||null===(b=v.preference_collection)||void 0===b?void 0:b.preferences_to_collect)||[]).length),value:(null===(j=Y.conversation_strategy)||void 0===j||null===(w=j.preference_collection)||void 0===w?void 0:w.min_preferences_before_search)||0,onChange:e=>(e=>{var t;X(Ve(Ve({},Y),{},{conversation_strategy:Ve(Ve({},Y.conversation_strategy),{},{preference_collection:Ve(Ve({},null===(t=Y.conversation_strategy)||void 0===t?void 0:t.preference_collection),{},{min_preferences_before_search:parseInt(e)})})}))})(e.target.value),className:"w-full"}),(0,Rr.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[(0,Rr.jsx)("span",{children:"0 (immediate)"}),(0,Rr.jsx)("span",{className:"font-semibold",children:(null===(N=Y.conversation_strategy)||void 0===N||null===(k=N.preference_collection)||void 0===k?void 0:k.min_preferences_before_search)||0}),(0,Rr.jsx)("span",{children:"All preferences"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Agent will search once it collects at least this many preferences"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Maximum Questions to Ask"}),(0,Rr.jsx)("input",{type:"range",min:"1",max:"10",value:(null===(S=Y.conversation_strategy)||void 0===S||null===(C=S.preference_collection)||void 0===C?void 0:C.max_questions)||3,onChange:e=>(e=>{var t;X(Ve(Ve({},Y),{},{conversation_strategy:Ve(Ve({},Y.conversation_strategy),{},{preference_collection:Ve(Ve({},null===(t=Y.conversation_strategy)||void 0===t?void 0:t.preference_collection),{},{max_questions:parseInt(e)})})}))})(e.target.value),className:"w-full"}),(0,Rr.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[(0,Rr.jsx)("span",{children:"1"}),(0,Rr.jsx)("span",{className:"font-semibold",children:(null===(_=Y.conversation_strategy)||void 0===_||null===(A=_.preference_collection)||void 0===A?void 0:A.max_questions)||3}),(0,Rr.jsx)("span",{children:"10"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Limit total questions to avoid frustrating users (recommended: 2-4)"})]})]})]}),(0,Rr.jsx)("div",{className:"bg-white border border-blue-300 rounded-lg p-3",children:(0,Rr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Rr.jsx)("span",{className:"text-blue-600 text-lg",children:"\ud83d\udca1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsx)("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"How It Works"}),(0,Rr.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[(0,Rr.jsx)("li",{children:"\u2022 AI asks questions ONE AT A TIME naturally in conversation"}),(0,Rr.jsx)("li",{children:"\u2022 Stops asking when minimum preferences collected"}),(0,Rr.jsx)("li",{children:"\u2022 Never exceeds maximum question limit"}),(0,Rr.jsx)("li",{children:"\u2022 Required preferences are always asked"}),(0,Rr.jsx)("li",{children:"\u2022 Optional preferences may be skipped if user provides enough info"})]})]})]})})]})]}),"ask_questions"===(null===(E=Y.conversation_strategy)||void 0===E||null===(T=E.preference_collection)||void 0===T?void 0:T.strategy)&&(null===(P=Y.conversation_strategy)||void 0===P||null===(I=P.preference_collection)||void 0===I||null===(O=I.preferences_to_collect)||void 0===O?void 0:O.length)>0&&(0,Rr.jsxs)("div",{className:"mt-6 bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Rr.jsx)("span",{className:"text-lg",children:"\ud83d\udc41\ufe0f"}),(0,Rr.jsx)("h4",{className:"font-semibold text-gray-900",children:"Conversation Preview"})]}),(0,Rr.jsxs)("div",{className:"space-y-2",children:[(0,Rr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm",children:"\ud83d\udc64"}),(0,Rr.jsx)("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm",children:(0,Rr.jsx)("p",{className:"text-sm",children:"Show me dresses"})})]}),Y.conversation_strategy.preference_collection.preferences_to_collect.slice(0,2).map((e,t)=>(0,Rr.jsxs)(a.Fragment,{children:[(0,Rr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-sm",children:"\ud83e\udd16"}),(0,Rr.jsx)("div",{className:"flex-1 bg-green-50 rounded-lg p-2 shadow-sm border border-green-200",children:(0,Rr.jsx)("p",{className:"text-sm",children:e.question||"What ".concat(e.name,"?")})})]}),(0,Rr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm",children:"\ud83d\udc64"}),(0,Rr.jsx)("div",{className:"flex-1 bg-white rounded-lg p-2 shadow-sm",children:(0,Rr.jsx)("p",{className:"text-sm text-gray-400 italic",children:"[User responds...]"})})]})]},t)),(0,Rr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-sm",children:"\ud83e\udd16"}),(0,Rr.jsxs)("div",{className:"flex-1 bg-green-50 rounded-lg p-2 shadow-sm border border-green-200",children:[(0,Rr.jsx)("p",{className:"text-sm",children:"Perfect! Here are the products..."}),(0,Rr.jsx)("div",{className:"flex gap-2 mt-2",children:[1,2,3,4,5].map(e=>(0,Rr.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded border"},e))})]})]})]})]}),(0,Rr.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,Rr.jsxs)("button",{type:"button",onClick:()=>B(!z),className:"flex items-center text-sm font-medium text-primary-600 hover:text-primary-800 mb-4",children:[z?(0,Rr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Rr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):(0,Rr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Rr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Advanced Settings"]}),z&&(0,Rr.jsxs)("div",{className:"space-y-6 bg-gray-50 p-6 rounded-lg",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),(0,Rr.jsxs)("select",{value:Y.model,onChange:e=>X(Ve(Ve({},Y),{},{model:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"gpt-4o-realtime-preview-2024-12-17",children:"GPT-4o Realtime (Latest)"}),(0,Rr.jsx)("option",{value:"gpt-4o-mini-realtime-preview-2024-12-17",children:"GPT-4o Mini Realtime (Faster, Cheaper)"})]}),(0,Rr.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:[(0,Rr.jsx)("strong",{children:"GPT-4o:"})," Most capable model with better understanding and responses. Higher cost (~$0.06/min audio).",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"GPT-4o Mini:"})," Faster responses, lower cost (~$0.024/min audio), suitable for simple conversations."]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Temperature: ",(0,Rr.jsx)("span",{className:"text-primary-600 font-semibold",children:Y.temperature})]}),(0,Rr.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:Y.temperature,onChange:e=>X(Ve(Ve({},Y),{},{temperature:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,Rr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Rr.jsx)("span",{children:"0 (Focused)"}),(0,Rr.jsx)("span",{children:"0.5 (Balanced)"}),(0,Rr.jsx)("span",{children:"1.0 (Creative)"})]}),(0,Rr.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Controls response randomness and creativity.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Lower (0.0-0.4):"})," More focused, consistent, and deterministic. Best for factual Q&A, customer support.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Medium (0.5-0.7):"})," Balanced between consistency and variety. Good for most use cases.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Higher (0.8-1.0):"})," More creative and varied responses. Good for creative writing, brainstorming."]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Response Tokens"}),(0,Rr.jsx)("input",{type:"number",min:"200",max:"8192",step:"100",value:Y.max_tokens,onChange:e=>X(Ve(Ve({},Y),{},{max_tokens:parseInt(e.target.value)||200})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Rr.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Maximum length of each agent response (200-8192 tokens).",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Lower (200-1000):"})," Short, concise responses. Faster and cheaper. Good for quick Q&A.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Medium (1000-4096):"})," Standard length responses. Balanced cost/quality.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Higher (4096-8192):"})," Longer, detailed explanations. Higher cost per response.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("span",{className:"text-xs",children:"Note: ~1 token \u2248 0.75 words. 4096 tokens \u2248 3000 words."})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["VAD Threshold: ",(0,Rr.jsx)("span",{className:"text-primary-600 font-semibold",children:Y.vad_threshold})]}),(0,Rr.jsx)("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:Y.vad_threshold,onChange:e=>X(Ve(Ve({},Y),{},{vad_threshold:parseFloat(e.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,Rr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Rr.jsx)("span",{children:"0.1 (Sensitive)"}),(0,Rr.jsx)("span",{children:"0.5 (Balanced)"}),(0,Rr.jsx)("span",{children:"1.0 (Strict)"})]}),(0,Rr.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["Voice Activity Detection sensitivity - determines how sensitive the AI is to detecting speech.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Lower (0.1-0.3):"})," Very sensitive. Picks up quiet speech and whispers. May detect background noise as speech.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Medium (0.4-0.6):"})," Balanced. Good for normal phone conversations.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Higher (0.7-1.0):"})," Only detects clear, loud speech. Good for noisy environments but may miss quiet speakers.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("span",{className:"text-amber-600",children:"\u26a0\ufe0f If users complain the agent doesn't respond, lower this value. If it responds to background noise, increase it."})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Silence Duration (ms)"}),(0,Rr.jsx)("input",{type:"number",min:"200",max:"2000",step:"100",value:Y.silence_duration_ms,onChange:e=>X(Ve(Ve({},Y),{},{silence_duration_ms:parseInt(e.target.value)||500})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Rr.jsxs)("p",{className:"mt-2 text-sm text-gray-500",children:["How long (in milliseconds) to wait after user stops speaking before agent responds (200-2000ms).",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Lower (200-400ms):"})," Agent responds very quickly. May interrupt users who pause mid-sentence.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Medium (500-700ms):"})," Balanced. Good for most conversations.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("strong",{children:"Higher (800-2000ms):"})," Agent waits longer. Better for users who speak slowly or pause often.",(0,Rr.jsx)("br",{}),(0,Rr.jsx)("span",{className:"text-xs",children:"Recommended: 500ms for English, 700ms for Urdu (allows for thinking pauses)"})]})]}),(0,Rr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"\ud83d\udca1 Quick Tips"}),(0,Rr.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Rr.jsx)("li",{children:"Start with default values and adjust based on user feedback"}),(0,Rr.jsx)("li",{children:"Test calls in your actual environment before going live"}),(0,Rr.jsx)("li",{children:"Lower temperature for consistent banking/support, higher for sales/creative"}),(0,Rr.jsx)("li",{children:"Higher VAD threshold if you have noisy call centers"}),(0,Rr.jsx)("li",{children:"Monitor call costs - higher tokens and GPT-4o increase costs significantly"})]})]})]})]}),M&&(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Rr.jsxs)("div",{className:"px-6 py-5 border-b border-gray-200 flex items-center justify-between",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Functions"}),(0,Rr.jsxs)("button",{onClick:()=>He(),className:"inline-flex items-center px-3 py-1 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-4 h-4 mr-1"}),"Add Function"]})]}),(0,Rr.jsx)("div",{className:"px-6 py-5",children:0===Z.length?(0,Rr.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No functions defined. Add functions to extend agent capabilities."}):(0,Rr.jsx)("ul",{className:"space-y-3",children:Z.map(e=>(0,Rr.jsx)("li",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,Rr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.description}),(0,Rr.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[(0,Rr.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded",children:e.execution_mode}),(0,Rr.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded",children:e.handler_type}),e.api_endpoint&&(0,Rr.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded",children:e.api_method})]}),e.api_endpoint&&(0,Rr.jsx)("div",{className:"mt-2 text-xs text-gray-600 font-mono bg-gray-50 p-2 rounded",children:e.api_endpoint})]}),(0,Rr.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,Rr.jsx)("button",{onClick:()=>He(e),className:"text-gray-400 hover:text-gray-600",children:(0,Rr.jsx)($r,{className:"w-4 h-4"})}),(0,Rr.jsx)("button",{onClick:()=>Ge(e.id),className:"text-red-400 hover:text-red-600",children:(0,Rr.jsx)(ta,{className:"w-4 h-4"})})]})]})},e.id))})})]}),ee&&(0,Rr.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20",children:[(0,Rr.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>ne(!1)}),(0,Rr.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Rr.jsx)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:re?"Edit Function":"Add Function"}),(0,Rr.jsxs)("div",{className:"flex space-x-2",children:[(0,Rr.jsx)("button",{onClick:()=>Je("checkBalance"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Check Balance"}),(0,Rr.jsx)("button",{onClick:()=>Je("bookAppointment"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Book Appointment"}),(0,Rr.jsx)("button",{onClick:()=>Je("sendSMS"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Send SMS"}),(0,Rr.jsx)("button",{onClick:()=>Je("transferCall"),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Example: Transfer Call"})]})]})}),(0,Rr.jsxs)("div",{className:"px-6 py-5 space-y-6",children:[(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,Rr.jsxs)("div",{className:"sm:col-span-2",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Function Name *"}),(0,Rr.jsx)("input",{type:"text",value:ge.name,onChange:e=>fe(Ve(Ve({},ge),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono",placeholder:"check_customer_balance"}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Use snake_case for function names"})]}),(0,Rr.jsxs)("div",{className:"sm:col-span-2",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description *"}),(0,Rr.jsx)("textarea",{value:ge.description,onChange:e=>fe(Ve(Ve({},ge),{},{description:e.target.value})),rows:3,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Check the current balance of a customer account. Returns balance information including available credit and pending transactions."}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Clear description helps the AI understand when to call this function"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Execution Mode"}),(0,Rr.jsxs)("select",{value:ge.execution_mode,onChange:e=>fe(Ve(Ve({},ge),{},{execution_mode:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"sync",children:"Synchronous (wait for response)"}),(0,Rr.jsx)("option",{value:"async",children:"Asynchronous (fire and forget)"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Handler Type"}),(0,Rr.jsxs)("select",{value:ge.handler_type,onChange:e=>fe(Ve(Ve({},ge),{},{handler_type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"inline",children:"Inline (handled by bridge)"}),(0,Rr.jsx)("option",{value:"api",children:"External API"})]})]})]}),"api"===ge.handler_type&&(0,Rr.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"API Configuration"}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex space-x-2",children:[(0,Rr.jsx)("div",{className:"w-32",children:(0,Rr.jsxs)("select",{value:ge.api_method,onChange:e=>fe(Ve(Ve({},ge),{},{api_method:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-semibold",children:[(0,Rr.jsx)("option",{value:"GET",children:"GET"}),(0,Rr.jsx)("option",{value:"POST",children:"POST"}),(0,Rr.jsx)("option",{value:"PUT",children:"PUT"}),(0,Rr.jsx)("option",{value:"PATCH",children:"PATCH"}),(0,Rr.jsx)("option",{value:"DELETE",children:"DELETE"})]})}),(0,Rr.jsx)("div",{className:"flex-1",children:(0,Rr.jsx)("input",{type:"text",value:ge.api_endpoint,onChange:e=>fe(Ve(Ve({},ge),{},{api_endpoint:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"https://api.example.com/v1/customers/{{customer_id}}/balance"})})]}),(0,Rr.jsxs)("p",{className:"text-xs text-gray-500",children:["Use ","{{parameter_name}}"," for dynamic values from function parameters"]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Headers"}),(0,Rr.jsx)("button",{onClick:()=>je(!be),className:"text-sm text-primary-600 hover:text-primary-700",children:be?"Cancel":"+ Add Header"})]}),be&&(0,Rr.jsxs)("div",{className:"mb-3 p-3 border border-gray-300 rounded-md bg-white",children:[(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Rr.jsx)("input",{type:"text",value:ye.key,onChange:e=>ve(Ve(Ve({},ye),{},{key:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"Authorization"}),(0,Rr.jsx)("input",{type:"text",value:ye.value,onChange:e=>ve(Ve(Ve({},ye),{},{value:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"Bearer YOUR_API_KEY"})]}),(0,Rr.jsx)("button",{onClick:()=>{ye.key?(fe(Ve(Ve({},ge),{},{api_headers:[...ge.api_headers,Ve({},ye)]})),ve({key:"",value:""}),je(!1)):rn.error("Header key is required")},className:"mt-2 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Header"})]}),ge.api_headers.length>0&&(0,Rr.jsx)("div",{className:"space-y-2",children:ge.api_headers.map((e,t)=>(0,Rr.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white border border-gray-200 rounded",children:[(0,Rr.jsxs)("span",{className:"text-sm font-mono text-gray-700 flex-1",children:[(0,Rr.jsx)("span",{className:"text-blue-600",children:e.key}),": ",e.value]}),(0,Rr.jsx)("button",{onClick:()=>(e=>{fe(Ve(Ve({},ge),{},{api_headers:ge.api_headers.filter((t,n)=>n!==e)}))})(t),className:"text-red-400 hover:text-red-600",children:(0,Rr.jsx)(sa,{className:"w-4 h-4"})})]},t))})]}),["POST","PUT","PATCH"].includes(ge.api_method)&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Body"}),(0,Rr.jsxs)("div",{className:"flex space-x-2 mb-3",children:[(0,Rr.jsx)("button",{onClick:()=>Ke("none"),className:"px-3 py-1 text-sm rounded ".concat("none"===ge.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"None"}),(0,Rr.jsx)("button",{onClick:()=>Ke("json"),className:"px-3 py-1 text-sm rounded ".concat("json"===ge.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"JSON (raw)"}),(0,Rr.jsx)("button",{onClick:()=>Ke("urlencoded"),className:"px-3 py-1 text-sm rounded ".concat("urlencoded"===ge.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"x-www-form-urlencoded"}),(0,Rr.jsx)("button",{onClick:()=>Ke("form-data"),className:"px-3 py-1 text-sm rounded ".concat("form-data"===ge.api_body_type?"bg-primary-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"),children:"form-data"})]}),"json"===ge.api_body_type&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("textarea",{value:ke,onChange:e=>Se(e.target.value),rows:10,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-xs focus:outline-none focus:ring-primary-500 focus:border-primary-500 bg-gray-900 text-green-400",placeholder:'{\n  "customer_id": "{{customer_id}}",\n  "amount": "{{amount}}"\n}'}),(0,Rr.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Use ","{{parameter_name}}"," to inject parameter values into the body"]})]}),("form-data"===ge.api_body_type||"urlencoded"===ge.api_body_type)&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Rr.jsx)("span",{className:"text-xs text-gray-500",children:"Key-Value Pairs"}),(0,Rr.jsx)("button",{onClick:()=>_e(!Ce),className:"text-sm text-primary-600 hover:text-primary-700",children:Ce?"Cancel":"+ Add Field"})]}),Ce&&(0,Rr.jsxs)("div",{className:"mb-3 p-3 border border-gray-300 rounded-md bg-white",children:[(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Rr.jsx)("input",{type:"text",value:Ae.key,onChange:e=>Ee(Ve(Ve({},Ae),{},{key:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"field_name"}),(0,Rr.jsx)("input",{type:"text",value:Ae.value,onChange:e=>Ee(Ve(Ve({},Ae),{},{value:e.target.value})),className:"block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:"{{parameter_name}} or value"})]}),(0,Rr.jsx)("button",{onClick:()=>{Ae.key?(Ne([...we,Ve({},Ae)]),Ee({key:"",value:"",type:"text"}),_e(!1)):rn.error("Key is required")},className:"mt-2 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Field"})]}),we.length>0?(0,Rr.jsx)("div",{className:"space-y-2",children:we.map((e,t)=>(0,Rr.jsxs)("div",{className:"flex items-center space-x-2 p-2 bg-white border border-gray-200 rounded",children:[(0,Rr.jsxs)("span",{className:"text-sm font-mono text-gray-700 flex-1",children:[(0,Rr.jsx)("span",{className:"text-blue-600",children:e.key})," = ",e.value]}),(0,Rr.jsx)("button",{onClick:()=>(e=>{Ne(we.filter((t,n)=>n!==e))})(t),className:"text-red-400 hover:text-red-600",children:(0,Rr.jsx)(sa,{className:"w-4 h-4"})})]},t))}):(0,Rr.jsx)("p",{className:"text-sm text-gray-500 text-center py-4 bg-white border border-gray-200 rounded",children:"No fields added"}),(0,Rr.jsxs)("p",{className:"mt-2 text-xs text-gray-500",children:["Use ","{{parameter_name}}"," to inject parameter values"]})]}),"none"===ge.api_body_type&&(0,Rr.jsx)("p",{className:"text-sm text-gray-500 text-center py-4 bg-white border border-gray-200 rounded",children:"No body will be sent with this request"})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Timeout (ms)"}),(0,Rr.jsx)("input",{type:"number",value:ge.timeout_ms,onChange:e=>fe(Ve(Ve({},ge),{},{timeout_ms:parseInt(e.target.value)})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Retries"}),(0,Rr.jsx)("input",{type:"number",value:ge.retries,onChange:e=>fe(Ve(Ve({},ge),{},{retries:parseInt(e.target.value)})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]})]})]})]}),(0,Rr.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-900",children:"Parameters"}),(0,Rr.jsxs)("div",{className:"flex space-x-2",children:[(0,Rr.jsx)("button",{onClick:()=>Oe(!Ie),className:"text-xs px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:Ie?"Form View":"JSON View"}),(0,Rr.jsx)("button",{onClick:()=>Le(!Fe),className:"text-sm text-primary-600 hover:text-primary-700",children:Fe?"Cancel":"+ Add Parameter"})]})]}),Ie&&(0,Rr.jsxs)("div",{className:"mb-4",children:[(0,Rr.jsx)("textarea",{value:Te,onChange:e=>Pe(e.target.value),rows:15,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-xs focus:outline-none focus:ring-primary-500 focus:border-primary-500 bg-gray-900 text-green-400"}),(0,Rr.jsx)("button",{onClick:()=>{try{const e=JSON.parse(Te);fe(Ve(Ve({},ge),{},{parameters:e})),Oe(!1),rn.success("Parameters updated from JSON")}catch(We){rn.error("Invalid JSON: "+We.message)}},className:"mt-2 px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Update from JSON"})]}),!Ie&&Fe&&(0,Rr.jsxs)("div",{className:"mb-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[(0,Rr.jsxs)("div",{className:"space-y-3",children:[(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Name"}),(0,Rr.jsx)("input",{type:"text",value:Me.name,onChange:e=>Re(Ve(Ve({},Me),{},{name:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"customer_id"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Type"}),(0,Rr.jsxs)("select",{value:Me.type,onChange:e=>Re(Ve(Ve({},Me),{},{type:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",children:[(0,Rr.jsx)("option",{value:"string",children:"String"}),(0,Rr.jsx)("option",{value:"number",children:"Number"}),(0,Rr.jsx)("option",{value:"boolean",children:"Boolean"}),(0,Rr.jsx)("option",{value:"object",children:"Object"}),(0,Rr.jsx)("option",{value:"array",children:"Array"})]})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Description"}),(0,Rr.jsx)("input",{type:"text",value:Me.description,onChange:e=>Re(Ve(Ve({},Me),{},{description:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"The customer's unique identifier"})]}),"string"===Me.type&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Enum Values (comma-separated, optional)"}),(0,Rr.jsx)("input",{type:"text",value:Me.enum,onChange:e=>Re(Ve(Ve({},Me),{},{enum:e.target.value})),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm",placeholder:"active, pending, inactive"})]}),"object"===Me.type&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Properties (JSON)"}),(0,Rr.jsx)("textarea",{value:Me.properties,onChange:e=>Re(Ve(Ve({},Me),{},{properties:e.target.value})),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:'{\n  "name": { "type": "string" },\n  "age": { "type": "number" }\n}'})]}),"array"===Me.type&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-xs font-medium text-gray-700",children:"Items Schema (JSON)"}),(0,Rr.jsx)("textarea",{value:Me.items,onChange:e=>Re(Ve(Ve({},Me),{},{items:e.target.value})),rows:4,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 text-sm font-mono",placeholder:'{ "type": "string" }'})]}),(0,Rr.jsx)("div",{children:(0,Rr.jsxs)("label",{className:"flex items-center",children:[(0,Rr.jsx)("input",{type:"checkbox",checked:Me.required,onChange:e=>Re(Ve(Ve({},Me),{},{required:e.target.checked})),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Rr.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Required"})]})})]}),(0,Rr.jsx)("button",{onClick:()=>{if(!Me.name)return void rn.error("Parameter name is required");const e={type:Me.type,description:Me.description};if(Me.enum&&"string"===Me.type&&(e.enum=Me.enum.split(",").map(e=>e.trim())),"object"===Me.type&&Me.properties)try{e.properties=JSON.parse(Me.properties)}catch(We){return void rn.error("Invalid JSON for object properties")}if("array"===Me.type&&Me.items)try{e.items=JSON.parse(Me.items)}catch(We){return void rn.error("Invalid JSON for array items")}const t=Ve(Ve({},ge.parameters.properties),{},{[Me.name]:e}),n=Me.required?[...ge.parameters.required,Me.name]:ge.parameters.required,s=Ve(Ve({},ge.parameters),{},{properties:t,required:n});fe(Ve(Ve({},ge),{},{parameters:s})),Pe(JSON.stringify(s,null,2)),Re({name:"",type:"string",description:"",required:!1,enum:"",properties:"",items:""}),Le(!1)},className:"mt-3 w-full px-3 py-1 bg-primary-600 text-white text-sm rounded-md hover:bg-primary-700",children:"Add Parameter"})]}),!Ie&&Object.keys(ge.parameters.properties).length>0&&(0,Rr.jsx)("div",{className:"space-y-2",children:Object.entries(ge.parameters.properties).map(e=>{let[t,n]=e;return(0,Rr.jsxs)("div",{className:"flex items-start justify-between p-3 border border-gray-200 rounded-md bg-white",children:[(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)("span",{className:"font-medium text-sm font-mono",children:t}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:n.type}),ge.parameters.required.includes(t)&&(0,Rr.jsx)("span",{className:"text-xs px-2 py-0.5 bg-red-100 text-red-700 rounded",children:"required"})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:n.description}),n.enum&&(0,Rr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Values: ",n.enum.join(", ")]})]}),(0,Rr.jsx)("button",{onClick:()=>(e=>{const t=ge.parameters.properties,{[e]:n}=t,s=Br(t,[e].map(ze)),r=ge.parameters.required.filter(t=>t!==e),a=Ve(Ve({},ge.parameters),{},{properties:s,required:r});fe(Ve(Ve({},ge),{},{parameters:a})),Pe(JSON.stringify(a,null,2))})(t),className:"text-red-400 hover:text-red-600 ml-2",children:(0,Rr.jsx)(sa,{className:"w-4 h-4"})})]},t)})}),!Ie&&0===Object.keys(ge.parameters.properties).length&&(0,Rr.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No parameters defined. Add parameters that the AI can use when calling this function."})]})]}),(0,Rr.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,Rr.jsx)("button",{onClick:()=>ne(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Rr.jsx)("button",{onClick:async()=>{if(!ge.name||!ge.description)return void rn.error("Name and description are required");const e={};ge.api_headers.forEach(t=>{e[t.key]=t.value});let t=null;if("api"===ge.handler_type&&"GET"!==ge.api_method)if("json"===ge.api_body_type)try{t=ke?JSON.parse(ke):null}catch(We){return void rn.error("Invalid JSON in body")}else"form-data"!==ge.api_body_type&&"urlencoded"!==ge.api_body_type||(t={},we.forEach(e=>{t[e.key]=e.value}));const n=Ve(Ve({},ge),{},{api_headers:e,api_body:t});le(!0);try{re?(await((e,t)=>Er.put("/functions/".concat(e),t))(re.id,n),rn.success("Function updated")):(await((e,t)=>Er.post("/functions/agent/".concat(e),t))(M,n),rn.success("Function added")),ne(!1),qe()}catch(s){rn.error("Failed to save function")}finally{le(!1)}},disabled:ie,className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:ie?"Saving...":"Save Function"})]})]})]})}),oe&&(0,Rr.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20",children:[(0,Rr.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>!me&&ce(!1)}),(0,Rr.jsxs)("div",{className:"relative bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Rr.jsxs)("div",{className:"sticky top-0 bg-white px-6 py-4 border-b border-gray-200 z-10",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"AI Generated Instructions"}),he>0&&(0,Rr.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Cost: $",he.toFixed(6)," (deducted from your credits)"]})]}),(0,Rr.jsx)("div",{className:"px-6 py-5",children:me?(0,Rr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Generating instructions..."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Using AI to create optimized agent instructions"})]})}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsxs)("div",{className:"mb-4",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Instructions"}),(0,Rr.jsx)("textarea",{value:de,onChange:e=>ue(e.target.value),rows:20,className:"block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 font-mono text-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"}),(0,Rr.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"You can edit these instructions before accepting them."})]}),(0,Rr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Review Carefully"}),(0,Rr.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1 list-disc list-inside",children:[(0,Rr.jsx)("li",{children:"Verify the instructions match your use case"}),(0,Rr.jsx)("li",{children:"Check for any inappropriate content or errors"}),(0,Rr.jsx)("li",{children:"Customize as needed before accepting"}),(0,Rr.jsx)("li",{children:"Test the agent after applying instructions"})]})]})]})}),!me&&(0,Rr.jsxs)("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,Rr.jsx)("button",{onClick:()=>{ce(!1),ue(""),rn.info("Instructions discarded")},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Discard"}),(0,Rr.jsx)("button",{onClick:()=>{X(Ve(Ve({},Y),{},{instructions:de})),ce(!1),rn.success("Instructions applied")},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Accept & Apply"})]})]})]})})]})},ga=Wr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),fa=()=>{const{user:e}=Lr(),[t,n]=(0,a.useState)(0),[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[h,x]=(0,a.useState)("");if(!["admin","super_admin"].includes(null===e||void 0===e?void 0:e.role))return(0,Rr.jsx)(Navigate,{to:"/",replace:!0});(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{const[s,a,i]=await Promise.all([Or(),(t={limit:20},Er.get("/credits/transactions",{params:t})),(e=30,Er.get("/credits/usage",{params:{days:e}}))]);n(s.data.balance),r(a.data.transactions),l(i.data)}catch(s){rn.error("Failed to load credits")}finally{c(!1)}var e,t};return o?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Credits"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your account balance"})]}),("admin"===e.role||"super_admin"===e.role)&&(0,Rr.jsxs)("button",{onClick:()=>u(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-5 h-5 mr-2"}),"Add Credits"]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3",children:[(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-6",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,Rr.jsx)(Hr,{className:"h-6 w-6 text-white"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Current Balance"}),(0,Rr.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",t.toFixed(2)]})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-6",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 bg-red-500 rounded-md p-3",children:(0,Rr.jsx)(ga,{className:"h-6 w-6 text-white"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Usage (30 days)"}),(0,Rr.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(null===i||void 0===i?void 0:i.total_cost.toFixed(2))||"0.00"]})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-6",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,Rr.jsx)(Jr,{className:"h-6 w-6 text-white"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg per Call"}),(0,Rr.jsxs)("dd",{className:"text-2xl font-semibold text-gray-900",children:["$",(null===i||void 0===i?void 0:i.avg_cost_per_call.toFixed(4))||"0.0000"]})]})})]})})})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Rr.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Transaction History"})}),(0,Rr.jsx)("div",{className:"overflow-x-auto",children:(0,Rr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Rr.jsx)("thead",{className:"bg-gray-50",children:(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance After"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Note"})]})}),(0,Rr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===s.length?(0,Rr.jsx)("tr",{children:(0,Rr.jsx)("td",{colSpan:"5",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No transactions yet"})}):s.map(e=>(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.created_at).toLocaleDateString()}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("add"===e.type?"bg-green-100 text-green-800":"deduct"===e.type?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:e.type})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Rr.jsxs)("span",{className:"add"===e.type?"text-green-600":"text-red-600",children:["add"===e.type?"+":"-","$",e.amount.toFixed(4)]})}),(0,Rr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",e.balance_after.toFixed(4)]}),(0,Rr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.note||e.reference_type||"-"})]},e.id))})]})})]}),d&&(0,Rr.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Rr.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>u(!1)}),(0,Rr.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add Credits"}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Amount ($)"}),(0,Rr.jsx)("input",{type:"number",step:"0.01",value:m,onChange:e=>p(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"100.00"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Note (optional)"}),(0,Rr.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Monthly top-up"})]})]}),(0,Rr.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,Rr.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,Rr.jsx)("button",{onClick:async()=>{const t=parseFloat(m);if(!t||t<=0)rn.error("Please enter a valid amount");else try{await((e,t,n)=>Er.post("/credits/add",{tenant_id:e,amount:t,note:n}))(e.id,t,h),rn.success("Added $".concat(t.toFixed(2)," credits")),u(!1),p(""),x(""),g()}catch(r){var n,s;rn.error((null===(n=r.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.error)||"Failed to add credits")}},className:"px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Add Credits"})]})]})]})})]})},ya=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(null);(0,a.useEffect)(()=>{l()},[]);const l=async()=>{try{const n=await(e={limit:50},Er.get("/calls",{params:e}));t(n.data.calls)}catch(n){rn.error("Failed to load calls")}finally{s(!1)}var e},o=async e=>{try{const n=await(t=e.session_id,Er.get("/calls/".concat(t)));i(n.data.call)}catch(n){rn.error("Failed to load call details")}var t},c=e=>{const t=parseFloat(e);return isNaN(t)?"0.0000":t.toFixed(4)};return n?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Call Logs"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"View and analyze call history"})]}),(0,Rr.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,Rr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Rr.jsx)("thead",{className:"bg-gray-50",children:(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Caller"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Rr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===e.length?(0,Rr.jsx)("tr",{children:(0,Rr.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No calls yet"})}):e.map(e=>(0,Rr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.start_time).toLocaleString()}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.caller_id||"Unknown"}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.agent_name||"N/A"}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.duration_seconds?"".concat(e.duration_seconds,"s"):"-"}),(0,Rr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",c(e.final_cost)]}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("completed"===e.status?"bg-green-100 text-green-800":"failed"===e.status?"bg-red-100 text-red-800":"insufficient_credits"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:e.status})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,Rr.jsx)("button",{onClick:()=>o(e),className:"text-primary-600 hover:text-primary-900",children:"View Details"})})]},e.id))})]})}),r&&(0,Rr.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4",children:[(0,Rr.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75",onClick:()=>i(null)}),(0,Rr.jsxs)("div",{className:"relative bg-white rounded-lg max-w-3xl w-full p-6 max-h-screen overflow-y-auto",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Call Details"}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Session ID"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-900",children:r.session_id})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Caller"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-900",children:r.caller_id})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Duration"}),(0,Rr.jsxs)("p",{className:"text-sm text-gray-900",children:[r.duration_seconds,"s"]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Final Cost"}),(0,Rr.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(r.final_cost)]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Base Cost"}),(0,Rr.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(r.base_cost)]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Profit"}),(0,Rr.jsxs)("p",{className:"text-sm text-gray-900",children:["$",c(r.profit_amount)]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Audio Input"}),(0,Rr.jsxs)("p",{className:"text-sm text-gray-900",children:[r.audio_input_seconds,"s"]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Audio Output"}),(0,Rr.jsxs)("p",{className:"text-sm text-gray-900",children:[r.audio_output_seconds,"s"]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Text Input Tokens"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-900",children:r.text_input_tokens||0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Text Output Tokens"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-900",children:r.text_output_tokens||0})]})]}),r.function_calls&&r.function_calls.length>0&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Function Calls"}),(0,Rr.jsx)("ul",{className:"space-y-2",children:r.function_calls.map((e,t)=>(0,Rr.jsxs)("li",{className:"border rounded p-3 text-sm",children:[(0,Rr.jsx)("p",{className:"font-medium",children:e.function_name}),(0,Rr.jsxs)("p",{className:"text-gray-600 mt-1",children:["Status: ",e.status," | Time: ",e.execution_time_ms,"ms"]}),e.arguments&&(0,Rr.jsx)("pre",{className:"mt-2 text-xs bg-gray-50 p-2 rounded overflow-x-auto",children:JSON.stringify(JSON.parse(e.arguments),null,2)})]},t))})]})]}),(0,Rr.jsx)("div",{className:"mt-6 flex justify-end",children:(0,Rr.jsx)("button",{onClick:()=>i(null),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Close"})})]})]})})]})},va=Wr("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]),ba=Wr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ja=Wr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),wa=Wr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Na=()=>{var e,t,n,s,r,i,l,o,c,d,u,m;const[p,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)(new Map),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(new Map),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=new WebSocket("/aiva/ws");return j.current=e,e.onopen=()=>{console.log("Connected to monitor server"),h(!0)},e.onclose=()=>{console.log("Disconnected from monitor server"),h(!1)},e.onerror=e=>{console.error("WebSocket error:",e)},e.onmessage=e=>{try{const t=JSON.parse(e.data);w(t)}catch(t){console.error("Error parsing message:",t)}},()=>{e.readyState===WebSocket.OPEN&&e.close()}},[]);const w=e=>{switch(e.type){case"connection_added":case"connection_info":g(t=>{const n=new Map(t);return n.set(e.data.clientKey,e.data),n}),b(t=>{const n=new Map(t);return n.has(e.data.clientKey)||n.set(e.data.clientKey,[]),n});break;case"connection_updated":g(t=>{const n=new Map(t);return n.has(e.data.clientKey)&&n.set(e.data.clientKey,Ve(Ve({},n.get(e.data.clientKey)),e.data)),n});break;case"connection_removed":g(t=>{const n=new Map(t);return n.delete(e.data.clientKey),n});break;case"transcript":b(t=>{const n=new Map(t),s=n.get(e.data.clientKey)||[];return n.set(e.data.clientKey,[...s,{speaker:e.data.speaker,text:e.data.text,timestamp:e.data.timestamp}]),n});break;case"cost_update":g(t=>{const n=new Map(t);if(n.has(e.data.clientKey)){const t=n.get(e.data.clientKey);t.cost=e.data.cost,n.set(e.data.clientKey,t)}return n});break;case"function_call":case"function_response":b(t=>{const n=new Map(t),s=n.get(e.data.clientKey)||[];return n.set(e.data.clientKey,[...s,{speaker:"system",text:"function_call"===e.type?"\ud83d\udd27 Function call: ".concat(e.data.functionName):"\u2705 Function response: ".concat(e.data.functionName),timestamp:e.data.timestamp,details:e.data}]),n})}},N=Array.from(x.values()),k=f&&v.get(f.clientKey)||[];return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Live Call Monitor"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Real-time monitoring of active calls"})]}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsxs)("div",{className:"flex items-center px-3 py-1 rounded-full text-sm ".concat(p?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,Rr.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat(p?"bg-green-600 animate-pulse":"bg-red-600")}),p?"Connected":"Disconnected"]}),(0,Rr.jsxs)("div",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[N.length," Active"]})]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Rr.jsx)("div",{className:"lg:col-span-1",children:(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,Rr.jsx)("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:(0,Rr.jsx)("h2",{className:"text-sm font-semibold text-gray-900",children:"Active Calls"})}),(0,Rr.jsx)("div",{className:"divide-y divide-gray-200 max-h-[calc(100vh-250px)] overflow-y-auto",children:0===N.length?(0,Rr.jsxs)("div",{className:"px-4 py-8 text-center text-sm text-gray-500",children:[(0,Rr.jsx)(va,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),"No active calls"]}):N.map(e=>{var t;return(0,Rr.jsxs)("button",{onClick:()=>y(e),className:"w-full px-4 py-4 text-left hover:bg-gray-50 transition-colors ".concat((null===f||void 0===f?void 0:f.clientKey)===e.clientKey?"bg-blue-50 border-l-4 border-blue-600":""),children:[(0,Rr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.userSpeaking?"bg-green-500 animate-pulse":e.agentSpeaking?"bg-blue-500 animate-pulse":"bg-gray-300")}),(0,Rr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.callerId||"Unknown"})]}),(0,Rr.jsx)(Kr,{className:"w-4 h-4 text-green-600"})]}),(0,Rr.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)(ba,{className:"w-3 h-3 mr-1"}),e.agentName||"Unknown Agent"]}),(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)(ja,{className:"w-3 h-3 mr-1"}),e.connectedAt?new Date(e.connectedAt).toLocaleTimeString():"N/A"]}),e.cost&&(0,Rr.jsxs)("div",{className:"flex items-center font-semibold text-blue-600",children:[(0,Rr.jsx)(Hr,{className:"w-3 h-3 mr-1"}),(null===(t=e.cost.formatted)||void 0===t?void 0:t.finalCost)||"$0.00"]})]}),(e.userSpeaking||e.agentSpeaking)&&(0,Rr.jsxs)("div",{className:"mt-2 flex items-center space-x-1",children:[(0,Rr.jsx)(wa,{className:"w-3 h-3 text-blue-600"}),(0,Rr.jsx)("span",{className:"text-xs text-blue-600 font-medium",children:e.userSpeaking?"User Speaking":"Agent Speaking"})]})]},e.clientKey)})})]})}),(0,Rr.jsx)("div",{className:"lg:col-span-2",children:(0,Rr.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden h-[calc(100vh-200px)] flex flex-col",children:f?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:f.callerId||"Unknown Caller"}),(0,Rr.jsxs)("p",{className:"text-sm text-gray-500",children:[f.agentName," \u2022 Session: ",f.sessionId]})]}),f.cost&&(0,Rr.jsxs)("div",{className:"text-right",children:[(0,Rr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===(e=f.cost.formatted)||void 0===e?void 0:e.finalCost)||"$0.00"}),(0,Rr.jsx)("div",{className:"text-xs text-gray-500",children:(null===(t=f.cost.duration)||void 0===t?void 0:t.formatted)||"0s"})]})]})}),(0,Rr.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:0===k.length?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)(wa,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,Rr.jsx)("p",{className:"text-sm",children:"Waiting for conversation..."})]})}):k.map((e,t)=>(0,Rr.jsx)("div",{className:"flex ".concat("user"===e.speaker?"justify-start":"agent"===e.speaker?"justify-end":"justify-center"),children:"system"===e.speaker?(0,Rr.jsx)("div",{className:"px-4 py-2 bg-yellow-50 border border-yellow-200 rounded-lg text-xs text-yellow-800",children:e.text}):(0,Rr.jsxs)("div",{className:"max-w-[75%] px-4 py-3 rounded-lg ".concat("user"===e.speaker?"bg-gray-100 text-gray-900":"bg-blue-600 text-white"),children:[(0,Rr.jsxs)("div",{className:"flex items-baseline space-x-2 mb-1",children:[(0,Rr.jsx)("span",{className:"text-xs font-semibold uppercase opacity-75",children:e.speaker}),(0,Rr.jsx)("span",{className:"text-xs opacity-50",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Rr.jsx)("p",{className:"text-sm leading-relaxed",children:e.text})]})},t))}),f.cost&&(0,Rr.jsx)("div",{className:"px-6 py-3 border-t border-gray-200 bg-gray-50",children:(0,Rr.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center text-xs",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"text-gray-500",children:"Audio In"}),(0,Rr.jsxs)("div",{className:"font-semibold text-gray-900",children:[(null===(n=f.cost.audio)||void 0===n||null===(s=n.input)||void 0===s||null===(r=s.seconds)||void 0===r?void 0:r.toFixed(1))||0,"s"]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"text-gray-500",children:"Audio Out"}),(0,Rr.jsxs)("div",{className:"font-semibold text-gray-900",children:[(null===(i=f.cost.audio)||void 0===i||null===(l=i.output)||void 0===l||null===(o=l.seconds)||void 0===o?void 0:o.toFixed(1))||0,"s"]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"text-gray-500",children:"Tokens In"}),(0,Rr.jsx)("div",{className:"font-semibold text-gray-900",children:(null===(c=f.cost.text)||void 0===c||null===(d=c.input)||void 0===d?void 0:d.tokens)||0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"text-gray-500",children:"Tokens Out"}),(0,Rr.jsx)("div",{className:"font-semibold text-gray-900",children:(null===(u=f.cost.text)||void 0===u||null===(m=u.output)||void 0===m?void 0:m.tokens)||0})]})]})})]}):(0,Rr.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)(Kr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,Rr.jsx)("p",{className:"text-lg font-medium",children:"Select a call to view transcript"}),(0,Rr.jsx)("p",{className:"text-sm mt-1",children:"Live transcripts will appear here"})]})})})})]})]})},ka=Wr("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Sa=Wr("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Ca=Wr("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),_a=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(0),[p,h]=(0,a.useState)(0),[x,g]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),v=(0,a.useRef)([]),b=(0,a.useRef)(!1),j=(0,a.useRef)(null),w=(0,a.useRef)(null),N=(0,a.useRef)(0),[k,S]=(0,a.useState)(!1),C=(0,a.useRef)(null),_=(0,a.useRef)(null);(0,a.useEffect)(()=>(A(),()=>{U()}),[]);const A=async()=>{try{const e=await Tr();t(e.data.agents)}catch(e){rn.error("Failed to load agents")}};(0,a.useEffect)(()=>{if(!r)return;const e=setInterval(()=>{if(w.current){const e=(Date.now()-w.current)/6e4;h("deepgram"===f?.015*e:.024*e)}},1e3);return()=>clearInterval(e)},[r,f]);const E=async()=>{const e=await(t=n.id,Er.post("/realtime/token",{agent_id:t}));var t;const{ephemeral_key:s,session_id:r}=e.data;g(r);const a=new WebSocket("wss://api.openai.com/v1/realtime?model=".concat(n.model),["realtime","openai-insecure-api-key.".concat(s),"openai-beta.realtime-v1"]);C.current=a,a.onopen=async()=>{console.log("Connected to OpenAI Realtime"),w.current=Date.now(),i(!0),S(!1),rn.success("Connected to OpenAI agent"),await M()},a.onmessage=e=>{const t=JSON.parse(e.data);P(t)},a.onerror=e=>{console.error("WebSocket error:",e),S(!1),rn.error("Connection error")},a.onclose=e=>{console.log("Disconnected from OpenAI"),i(!1),S(!1),D(),1005!==e.code&&rn.error("Connection closed: ".concat(e.reason||"Unknown error"))}},T=async()=>{const e=localStorage.getItem("token"),t=await Ar.post("".concat("/aiva/api","/realtime/token/deepgram"),{agent_id:n.id},{headers:{Authorization:"Bearer ".concat(e)}}),{api_key:s,session_id:r,agent:a}=t.data;g(r);const l=new WebSocket("wss://agent.deepgram.com/v1/agent/converse",["token",s]);C.current=l,l.onopen=async()=>{console.log("Connected to Deepgram Agent"),setTimeout(()=>{const e={type:"Settings",audio:{input:{encoding:"linear16",sample_rate:16e3},output:{encoding:"linear16",sample_rate:24e3,container:"none"}},agent:{listen:{provider:{type:"deepgram",model:a.model}},speak:{provider:{type:"deepgram",model:a.voice}},greeting:a.greeting||null,think:{provider:{type:"open_ai",model:"gpt-4o-mini"},prompt:a.instructions,functions:[]}}};console.log("\ud83d\udce4 Sending config"),C.current.send(JSON.stringify(e))},100)},l.onmessage=e=>{if(e.data instanceof Blob)e.data.arrayBuffer().then(e=>{const t=new Uint8Array(e);F(t)});else{const t=JSON.parse(e.data);I(t)}},l.onerror=e=>{console.error("Deepgram error:",e),S(!1),rn.error("Connection error")},l.onclose=e=>{var t;console.log("Disconnected from Deepgram:",e.code,e.reason),i(!1),S(!1),D(),null!==(t=C.current)&&void 0!==t&&t.keepaliveInterval&&clearInterval(C.current.keepaliveInterval),1e3!==e.code&&1005!==e.code&&rn.error("Connection closed: ".concat(e.reason||"Unknown error"))}},P=e=>{switch(console.log("OpenAI:",e.type),e.type){case"session.created":O();break;case"session.updated":setTimeout(()=>{var e;(null===(e=C.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN&&C.current.send(JSON.stringify({type:"response.create"}))},500);break;case"conversation.item.input_audio_transcription.completed":d(t=>[...t,{role:"user",content:e.transcript,timestamp:new Date}]);break;case"response.audio_transcript.done":d(t=>[...t,{role:"assistant",content:e.transcript,timestamp:new Date}]);break;case"response.audio.delta":R(e.delta)}},I=e=>{switch(console.log("Deepgram:",e.type,e.description),e.type){case"Welcome":console.log("\ud83d\udc4b Deepgram welcome");break;case"SettingsApplied":console.log("\u2705 Settings applied"),w.current=Date.now(),i(!0),S(!1),rn.success("Connected to Deepgram agent");const t=setInterval(()=>{var e;if((null===(e=C.current)||void 0===e?void 0:e.readyState)===WebSocket.OPEN)try{C.current.send(JSON.stringify({type:"KeepAlive"}))}catch(n){console.error("Keepalive error:",n),clearInterval(t)}else clearInterval(t)},5e3);C.current.keepaliveInterval=t,setTimeout(()=>{M()},500);break;case"ConversationText":"user"===e.role?d(t=>[...t,{role:"user",content:e.content,timestamp:new Date}]):"assistant"===e.role&&d(t=>[...t,{role:"assistant",content:e.content,timestamp:new Date}]);break;case"UserStartedSpeaking":console.log("\ud83c\udfa4 User speaking"),v.current=[],b.current=!1,N.current=0;break;case"AgentStartedSpeaking":console.log("\ud83d\udd0a Agent speaking");break;case"AgentAudioDone":console.log("\u2705 Agent audio done");break;case"Error":console.error("\u274c Deepgram error:",e),rn.error(e.description||e.error||"Deepgram error");break;default:console.log("\u2139\ufe0f Unhandled:",e.type)}},O=()=>{if(!C.current||C.current.readyState!==WebSocket.OPEN)return;const e={type:"session.update",session:{modalities:["text","audio"],instructions:n.instructions,voice:n.voice,input_audio_format:"pcm16",output_audio_format:"pcm16",input_audio_transcription:{model:"whisper-1",language:n.language},turn_detection:{type:"server_vad",threshold:parseFloat(n.vad_threshold||"0.5"),prefix_padding_ms:300,silence_duration_ms:parseInt(n.silence_duration_ms||"500"),create_response:!0},tools:[],max_response_output_tokens:parseInt(n.max_tokens||"4096"),temperature:parseFloat(n.temperature||"0.6")}};C.current.send(JSON.stringify(e))},M=async()=>{try{const e="deepgram"===f?16e3:24e3,t=await navigator.mediaDevices.getUserMedia({audio:{channelCount:1,sampleRate:e}});_.current=t;const n=new AudioContext({sampleRate:e});j.current=n;const s=n.createMediaStreamSource(t),a=n.createScriptProcessor(4096,1,1),i=n.createAnalyser();i.fftSize=256,s.connect(i);const o=new Uint8Array(i.frequencyBinCount),c=()=>{if(!r)return;i.getByteFrequencyData(o);const e=o.reduce((e,t)=>e+t)/o.length;m(e/255),requestAnimationFrame(c)};c(),a.onaudioprocess=e=>{if(!C.current||C.current.readyState!==WebSocket.OPEN||l)return;const t=e.inputBuffer.getChannelData(0),n=new Int16Array(t.length);for(let s=0;s<t.length;s++){const e=Math.max(-1,Math.min(1,t[s]));n[s]=e<0?32768*e:32767*e}if("openai"===f){const e=new Uint8Array(n.buffer);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);const s=btoa(t);C.current.send(JSON.stringify({type:"input_audio_buffer.append",audio:s}))}else"deepgram"===f&&C.current.send(n.buffer)},s.connect(a),a.connect(n.destination)}catch(e){console.error("Microphone error:",e),rn.error("Failed to access microphone")}},R=e=>{try{const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);v.current.push(n),b.current||L()}catch(t){console.error("Audio error:",t)}},F=e=>{try{v.current.push(e),b.current||L()}catch(t){console.error("Error queueing audio:",t)}},L=async()=>{if("deepgram"===f){const e=2;if(v.current.length<e&&v.current.length>0)return void setTimeout(()=>L(),50)}if(0===v.current.length)return b.current=!1,void(N.current=0);b.current=!0;try{j.current&&"closed"!==j.current.state||(j.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),N.current=j.current.currentTime);const e=j.current;let t;if("deepgram"===f){const e=Math.min(2,v.current.length);let n=0;const s=[];for(let t=0;t<e;t++){const e=v.current.shift(),t=new Int16Array(e.buffer||e);s.push(t),n+=t.length}t=new Int16Array(n);let r=0;for(const a of s)t.set(a,r),r+=a.length}else{const e=v.current.shift();t=new Int16Array(e.buffer||e)}const n=new Float32Array(t.length);for(let a=0;a<t.length;a++)n[a]=t[a]/(t[a]<0?32768:32767);const s=e.createBuffer(1,n.length,24e3);s.getChannelData(0).set(n);const r=e.createBufferSource();if(r.buffer=s,r.connect(e.destination),"deepgram"===f){const t=Math.max(N.current,e.currentTime);r.start(t),N.current=t+s.duration;const n=1e3*s.duration-50;setTimeout(()=>{L()},Math.max(0,n))}else r.onended=()=>{L()},r.start(0)}catch(e){console.error("Audio playback error:",e),b.current=!1,N.current=0,setTimeout(()=>L(),50)}},D=()=>{_.current&&(_.current.getTracks().forEach(e=>e.stop()),_.current=null),j.current&&(j.current.close(),j.current=null)},U=()=>{var e;if(null!==(e=C.current)&&void 0!==e&&e.keepaliveInterval&&clearInterval(C.current.keepaliveInterval),x&&C.current&&z(),C.current){if(C.current.readyState===WebSocket.OPEN)try{"deepgram"===f&&C.current.send(JSON.stringify({type:"EndSession"}))}catch(t){console.error("Error sending EndSession:",t)}C.current.close(),C.current=null}D(),v.current=[],b.current=!1,N.current=0,i(!1),g(null),y(null)},z=async()=>{try{const n=Date.now()-w.current,s=await(e=x,t=n,Er.post("/realtime/finalize",{session_id:e,duration_ms:t}));s.data.success&&rn.success("Test call completed. Cost: $".concat(s.data.cost.toFixed(4)))}catch(n){console.error("Failed to finalize cost:",n)}var e,t};return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Agent Test Utility"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Test your voice agents (OpenAI & Deepgram) in real-time"})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Rr.jsx)("div",{className:"lg:col-span-1",children:(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Settings"}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Agent"}),(0,Rr.jsxs)("select",{value:(null===n||void 0===n?void 0:n.id)||"",onChange:t=>s(e.find(e=>e.id===t.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2",disabled:r,children:[(0,Rr.jsx)("option",{value:"",children:"Choose an agent..."}),e.map(e=>(0,Rr.jsxs)("option",{value:e.id,children:[e.name," (",e.provider||"openai",")"]},e.id))]})]}),n&&(0,Rr.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,Rr.jsxs)("div",{className:"flex justify-between",children:[(0,Rr.jsx)("span",{children:"Provider:"}),(0,Rr.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?"Deepgram":"OpenAI"})]}),(0,Rr.jsxs)("div",{className:"flex justify-between",children:[(0,Rr.jsx)("span",{children:"Model:"}),(0,Rr.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?n.deepgram_model:n.model})]}),(0,Rr.jsxs)("div",{className:"flex justify-between",children:[(0,Rr.jsx)("span",{children:"Voice:"}),(0,Rr.jsx)("span",{className:"font-medium",children:"deepgram"===n.provider?n.deepgram_voice:n.voice})]})]}),(0,Rr.jsx)("div",{className:"pt-4",children:r?(0,Rr.jsxs)("button",{onClick:U,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[(0,Rr.jsx)(va,{className:"w-5 h-5 mr-2"}),"Disconnect"]}):(0,Rr.jsxs)("button",{onClick:async()=>{if(!n)return void rn.error("Please select an agent");const e=n.provider||"openai";y(e),S(!0);try{"openai"===e?await E():"deepgram"===e?await T():(rn.error("Unsupported provider"),S(!1))}catch(t){console.error("Connection error:",t),rn.error("Failed to connect"),S(!1)}},disabled:!n||k,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:[(0,Rr.jsx)(Kr,{className:"w-5 h-5 mr-2"}),k?"Connecting...":"Connect"]})}),r&&(0,Rr.jsxs)("div",{className:"space-y-3",children:[(0,Rr.jsxs)("button",{onClick:()=>o(!l),className:"w-full flex items-center justify-center px-4 py-2 rounded-md ".concat(l?"bg-gray-600 hover:bg-gray-700":"bg-blue-600 hover:bg-blue-700"," text-white"),children:[l?(0,Rr.jsx)(ka,{className:"w-5 h-5 mr-2"}):(0,Rr.jsx)(Sa,{className:"w-5 h-5 mr-2"}),l?"Unmute":"Mute"]}),(0,Rr.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Rr.jsx)("span",{className:"text-sm text-gray-600",children:"Audio Level"}),(0,Rr.jsx)(Ca,{className:"w-4 h-4 text-gray-400"})]}),(0,Rr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Rr.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(100*u,"%")}})})]}),(0,Rr.jsxs)("div",{className:"bg-gray-50 rounded p-3",children:[(0,Rr.jsx)("div",{className:"text-sm text-gray-600",children:"Estimated Cost"}),(0,Rr.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:["$",p.toFixed(4)]})]})]})]})]})}),(0,Rr.jsx)("div",{className:"lg:col-span-2",children:(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Conversation"}),(0,Rr.jsx)("div",{className:"h-96 overflow-y-auto space-y-3 border border-gray-200 rounded-lg p-4",children:0===c.length?(0,Rr.jsx)("div",{className:"text-center text-gray-500 mt-20",children:"No conversation yet. Connect and start talking!"}):c.map((e,t)=>(0,Rr.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Rr.jsxs)("div",{className:"max-w-xs px-4 py-2 rounded-lg ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"),children:[(0,Rr.jsx)("div",{className:"text-xs opacity-75 mb-1",children:"user"===e.role?"You":"Agent"}),(0,Rr.jsx)("div",{children:e.content})]})},t))})]})})]})]})},Aa=Wr("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Ea=Wr("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ta=Wr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Pa=Wr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ia=Wr("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Oa=Wr("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ma=Wr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Ra=Wr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Fa=Wr("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),La=Wr("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Da=()=>{(0,a.useEffect)(()=>{const e=document.createElement("style");return e.textContent="\n      .knowledge-formatted-content img {\n        max-width: 100%;\n        height: auto;\n        border-radius: 8px;\n        margin: 8px 0;\n      }\n      .knowledge-formatted-content .inline-page-images {\n        margin-top: 15px;\n      }\n    ",document.head.appendChild(e),()=>document.head.removeChild(e)},[]);te();const e=(0,a.useRef)(null),[t,n]=(0,a.useState)([]),[s,r]=(0,a.useState)(null),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),[y,v]=(0,a.useState)(!0),[b,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)(null),[k,S]=(0,a.useState)(0);(0,a.useEffect)(()=>{_()},[]),(0,a.useEffect)(()=>{C()},[d]);const C=()=>{var t;null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})},_=async()=>{try{const e=await Tr({status:"active"});n(e.data.agents||[])}catch(e){rn.error("Failed to load agents"),console.error(e)}},A=e=>"$".concat((e||0).toFixed(6));return(0,Rr.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,Rr.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)(ea,{className:"w-6 h-6 text-primary-600"}),(0,Rr.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Agent Test Chat"})]}),(0,Rr.jsx)("div",{className:"ml-6",children:(0,Rr.jsxs)("select",{value:s||"",onChange:e=>(async e=>{if(!e)return r(null),l(null),u([]),f(null),void S(0);try{c(!0);const t=(await Pr(e)).data.agent;r(e),l(t),u([{role:"assistant",content:t.greeting||"Hello! I'm ".concat(t.name,". How can I help you today?"),timestamp:(new Date).toISOString()}]),f(null),S(0),rn.success("Agent loaded: ".concat(t.name))}catch(t){rn.error("Failed to load agent details"),console.error(t)}finally{c(!1)}})(e.target.value),disabled:o,className:"block w-64 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,Rr.jsx)("option",{value:"",children:"Select an agent..."}),t.map(e=>(0,Rr.jsxs)("option",{value:e.id,children:[e.name," ",e.kb_id?"\ud83d\udcda":""]},e.id))]})})]}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Rr.jsxs)("div",{className:"text-right",children:[(0,Rr.jsx)("div",{className:"text-xs text-gray-500",children:"Total Cost"}),(0,Rr.jsx)("div",{className:"text-lg font-bold text-gray-900",children:A(k)})]}),d.length>1&&(0,Rr.jsxs)("button",{onClick:async()=>{if(g)try{await(e=>Mr.post("/chat/sessions/".concat(e,"/end")))(g)}catch(e){console.error("Failed to end session:",e)}u([{role:"assistant",content:(null===i||void 0===i?void 0:i.greeting)||"Hello! I'm ".concat(null===i||void 0===i?void 0:i.name,". How can I help you today?"),timestamp:(new Date).toISOString()}]),f(null),S(0),rn.success("Chat cleared")},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(Aa,{className:"w-4 h-4 mr-2"}),"Clear"]})]})]})}),(0,Rr.jsx)("div",{className:"flex-1 flex overflow-hidden",children:(0,Rr.jsxs)("div",{className:"flex-1 flex flex-col",children:[i&&(0,Rr.jsxs)("div",{className:"bg-blue-50 border-b border-blue-200",children:[(0,Rr.jsxs)("button",{onClick:()=>v(!y),className:"w-full px-6 py-3 flex items-center justify-between hover:bg-blue-100 transition-colors",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)(Gr,{className:"w-5 h-5 text-blue-600"}),(0,Rr.jsxs)("span",{className:"font-medium text-blue-900",children:["Agent: ",i.name]}),i.kb_id&&(0,Rr.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-200 text-blue-800",children:[(0,Rr.jsx)(Ea,{className:"w-3 h-3 mr-1"}),"KB Enabled"]})]}),y?(0,Rr.jsx)(Ta,{className:"w-5 h-5 text-blue-600"}):(0,Rr.jsx)(Pa,{className:"w-5 h-5 text-blue-600"})]}),y&&(0,Rr.jsxs)("div",{className:"px-6 pb-4 space-y-3",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Instructions (Persona)"}),(0,Rr.jsx)("div",{className:"text-sm text-blue-800 bg-white rounded p-3 max-h-32 overflow-y-auto whitespace-pre-wrap font-mono text-xs",children:i.instructions})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,Rr.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Rr.jsx)("div",{className:"text-xs text-gray-500",children:"Model"}),(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.model||"gpt-4o-mini"})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Rr.jsx)("div",{className:"text-xs text-gray-500",children:"Temperature"}),(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.temperature||.7})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Rr.jsx)("div",{className:"text-xs text-gray-500",children:"Max Tokens"}),(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.max_tokens||4096})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded p-2",children:[(0,Rr.jsx)("div",{className:"text-xs text-gray-500",children:"Provider"}),(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:i.provider||"openai"})]})]})]})]}),(0,Rr.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:s?(0,Rr.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.map((e,t)=>(0,Rr.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Rr.jsxs)("div",{className:"flex max-w-3xl ".concat("user"===e.role?"flex-row-reverse":"flex-row"," gap-3"),children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.role?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"user"===e.role?(0,Rr.jsx)(ba,{className:"w-5 h-5"}):(0,Rr.jsx)(Gr,{className:"w-5 h-5"})}),(0,Rr.jsxs)("div",{className:"flex-1 ".concat("user"===e.role?"items-end":"items-start"),children:[(0,Rr.jsxs)("div",{className:"rounded-lg px-4 py-3 ".concat("user"===e.role?"bg-primary-600 text-white":e.error?"bg-red-50 border border-red-200":"bg-white border border-gray-200"),children:[(0,Rr.jsx)("div",{className:"prose prose-sm max-w-none",children:e.formatted_html?(0,Rr.jsx)("div",{className:"knowledge-formatted-content",dangerouslySetInnerHTML:{__html:e.formatted_html}}):(0,Rr.jsx)("p",{className:"whitespace-pre-wrap ".concat("user"===e.role?"text-white":"text-gray-900"),children:e.content})}),e.sources&&e.sources.length>0&&(0,Rr.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Rr.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Rr.jsx)(Ea,{className:"w-3 h-3 mr-1"}),"Knowledge Sources (",e.sources.length,")"]}),(0,Rr.jsx)("div",{className:"space-y-1",children:e.sources.slice(0,3).map((e,t)=>(0,Rr.jsx)("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsx)("span",{className:"font-medium truncate",children:e.title}),(0,Rr.jsxs)("span",{className:"text-gray-500 ml-2",children:[(100*e.relevance_score).toFixed(0),"%"]})]})},t))})]}),e.images&&e.images.length>0&&(0,Rr.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Rr.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Rr.jsx)(Ia,{className:"w-3 h-3 mr-1"}),"Images (",e.images.length,")"]}),(0,Rr.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.images.slice(0,4).map((e,t)=>(0,Rr.jsxs)("div",{className:"border border-gray-200 rounded overflow-hidden hover:border-primary-300 transition-colors cursor-pointer group",onClick:()=>window.open(e.url,"_blank"),children:[(0,Rr.jsx)("div",{className:"aspect-square bg-gray-50 overflow-hidden",children:(0,Rr.jsx)("img",{src:e.thumbnail_url||e.url,alt:e.title||"Image",className:"w-full h-full object-cover group-hover:scale-105 transition-transform",loading:"lazy",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22%3E%3Crect fill=%22%23f3f4f6%22 width=%22100%22 height=%22100%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%239ca3af%22 font-size=%2214%22%3EImage%3C/text%3E%3C/svg%3E"}})}),(0,Rr.jsxs)("div",{className:"p-1.5 bg-gray-50",children:[(0,Rr.jsx)("p",{className:"text-xs text-gray-700 truncate",title:e.title||"Image",children:e.title||"Image"}),e.page_number&&(0,Rr.jsxs)("p",{className:"text-xs text-gray-500",children:["Page ",e.page_number]})]})]},e.image_id||t))}),e.images.length>4&&(0,Rr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["+",e.images.length-4," more image",e.images.length-4!==1?"s":""]})]}),e.function_calls&&e.function_calls.length>0&&(0,Rr.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[(0,Rr.jsxs)("div",{className:"flex items-center text-xs font-medium text-gray-700 mb-2",children:[(0,Rr.jsx)(Oa,{className:"w-3 h-3 mr-1"}),"Function Calls (",e.function_calls.length,")"]}),e.function_calls.map((e,t)=>(0,Rr.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 rounded p-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-medium",children:e.function_name}),(0,Rr.jsxs)("span",{className:"text-green-600 ml-2",children:["\u2713 ",e.status]})]},t))]}),void 0!==e.cost&&(0,Rr.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Rr.jsx)("span",{className:"text-gray-500",children:e.context_used&&(0,Rr.jsxs)(Rr.Fragment,{children:[e.context_used.knowledge_base_chunks>0&&(0,Rr.jsxs)("span",{className:"mr-2",children:["\ud83d\udcda ",e.context_used.knowledge_base_chunks," chunks"]}),(0,Rr.jsxs)("span",{className:"mr-2",children:["\ud83d\udcac ",e.context_used.conversation_history_messages," history"]}),(0,Rr.jsxs)("span",{children:["\ud83d\udd24 ",e.context_used.total_context_tokens," tokens"]})]})}),(0,Rr.jsxs)("span",{className:"font-medium text-gray-700",children:[(0,Rr.jsx)(Hr,{className:"w-3 h-3 inline mr-0.5"}),A(e.cost)]})]}),e.cost_breakdown&&e.cost_breakdown.operations&&(0,Rr.jsxs)("div",{className:"mt-1 space-y-1",children:[e.cost_breakdown.operations.map((e,t)=>(0,Rr.jsxs)("div",{className:"text-xs text-gray-600 flex items-center justify-between",children:[(0,Rr.jsxs)("span",{className:"capitalize",children:[e.operation.replace(/_/g," "),e.details&&e.details.model&&(0,Rr.jsxs)("span",{className:"text-gray-400 ml-1",children:["(",e.details.model,")"]})]}),(0,Rr.jsx)("span",{className:"text-gray-500",children:A(e.total_cost)})]},t)),e.cost_breakdown.operations.length>1&&(0,Rr.jsxs)("div",{className:"text-xs font-medium text-gray-700 flex items-center justify-between pt-1 border-t border-gray-100",children:[(0,Rr.jsx)("span",{children:"Total"}),(0,Rr.jsx)("span",{children:A(e.cost_breakdown.final_cost)})]})]})]})]}),(0,Rr.jsxs)("div",{className:"flex items-center mt-1 space-x-2",children:[(0,Rr.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()}),(0,Rr.jsx)("button",{onClick:()=>((e,t)=>{navigator.clipboard.writeText(e),N(t),setTimeout(()=>N(null),2e3),rn.success("Copied to clipboard")})(e.content,t),className:"text-gray-400 hover:text-gray-600",title:"Copy message",children:w===t?(0,Rr.jsx)(Ma,{className:"w-3 h-3 text-green-500"}):(0,Rr.jsx)(Ra,{className:"w-3 h-3"})})]})]})]})},t)),h&&(0,Rr.jsx)("div",{className:"flex justify-start",children:(0,Rr.jsxs)("div",{className:"flex gap-3 max-w-3xl",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Rr.jsx)(Gr,{className:"w-5 h-5 text-gray-600"})}),(0,Rr.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)(Fa,{className:"w-4 h-4 animate-spin text-gray-400"}),(0,Rr.jsx)("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})]})}),(0,Rr.jsx)("div",{ref:e})]}):(0,Rr.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)(Gr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Agent"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Choose an agent from the dropdown to start testing"})]})})}),s&&(0,Rr.jsx)("div",{className:"border-t border-gray-200 bg-white px-6 py-4",children:(0,Rr.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!m.trim()||h||!s)return;const t={role:"user",content:m.trim(),timestamp:(new Date).toISOString()};u(e=>[...e,t]),p(""),x(!0);try{const e=await(e=>Mr.post("/chat/message",e))({session_id:g,agent_id:s,message:m.trim()}),t=e.data.data;!g&&t.session_id&&f(t.session_id);const n={role:"assistant",content:t.response.text,html:t.response.html,markdown:t.response.markdown,formatted_html:t.formatted_html,timestamp:(new Date).toISOString(),sources:t.sources||[],images:t.images||[],function_calls:t.function_calls||[],cost:t.cost,cost_breakdown:t.cost_breakdown,context_used:t.context_used,agent_metadata:t.agent_metadata};u(e=>[...e,n]),S(e=>e+(t.cost||0))}catch(a){var n,r;console.error("Chat error:",a);const e={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:(new Date).toISOString(),error:!0};u(t=>[...t,e]),rn.error((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to send message")}finally{x(!1)}},className:"max-w-4xl mx-auto",children:(0,Rr.jsxs)("div",{className:"flex space-x-3",children:[(0,Rr.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),disabled:h||!s,placeholder:h?"Waiting for response...":"Type your message...",className:"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent disabled:bg-gray-100"}),(0,Rr.jsx)("button",{type:"submit",disabled:h||!m.trim()||!s,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Fa,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending"]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(La,{className:"w-4 h-4 mr-2"}),"Send"]})})]})})})]})})]})},Ua=Wr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),za=Wr("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Ba=Wr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),qa=Wr("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Va=Wr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Wa=Wr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ha=()=>{var e,t,n,s;const{user:r,logout:i}=Lr(),l=$(),[o,c]=a.useState(!1),d=(()=>{const e=[{name:"Dashboard",href:"/",icon:Ua,roles:["super_admin","admin","agent_manager","client"]},{name:"Agents",href:"/agents",icon:Gr,roles:["super_admin","admin","agent_manager","client"]},{name:"Knowledge Base",href:"/knowledge",icon:Ea,roles:["super_admin","admin","agent_manager","client"]},{name:"Shopify",href:"/shopify",icon:za,roles:["super_admin","admin","agent_manager"]},{name:"Live Monitor",href:"/monitor",icon:wa,roles:["super_admin","admin","agent_manager"]},{name:"Credits",href:"/credits",icon:Hr,roles:["super_admin","admin"]},{name:"Calls",href:"/calls",icon:Kr,roles:["super_admin","admin","agent_manager","client"]},{name:"Users",href:"/users",icon:Ba,roles:["super_admin","admin"]},{name:"Test Call",href:"/test",icon:Sa,roles:["super_admin","admin","agent_manager"]},{name:"Test Chat",href:"/agent-test",icon:ea,roles:["super_admin","admin","agent_manager"]},{name:"Help",href:"/help",icon:qa,roles:["super_admin","admin","agent_manager","client"]}];return null!==r&&void 0!==r&&r.role?e.filter(e=>e.roles.includes(r.role)):e})(),u=e=>"/"===e?"/"===l.pathname:l.pathname.startsWith(e);return(0,Rr.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Rr.jsxs)("div",{className:"fixed inset-0 z-40 lg:hidden ".concat(o?"":"hidden"),children:[(0,Rr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),(0,Rr.jsxs)("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[(0,Rr.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"AiVA Manager"}),(0,Rr.jsx)("button",{onClick:()=>c(!1),children:(0,Rr.jsx)(sa,{className:"w-6 h-6"})})]}),(0,Rr.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Rr.jsx)("span",{className:"text-primary-600 font-medium",children:null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.charAt(0).toUpperCase()})}),(0,Rr.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null===r||void 0===r?void 0:r.name}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 truncate capitalize",children:null===r||void 0===r||null===(t=r.role)||void 0===t?void 0:t.replace("_"," ")})]})]})}),(0,Rr.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:d.map(e=>{const t=e.icon;return(0,Rr.jsxs)(Me,{to:e.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md ".concat(u(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50"),onClick:()=>c(!1),children:[(0,Rr.jsx)(t,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})}),(0,Rr.jsx)("div",{className:"p-4 border-t",children:(0,Rr.jsxs)("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50",children:[(0,Rr.jsx)(Va,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})]}),(0,Rr.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,Rr.jsxs)("div",{className:"flex flex-col flex-1 min-h-0 bg-white border-r",children:[(0,Rr.jsx)("div",{className:"flex items-center h-16 px-4 border-b",children:(0,Rr.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"AiVA Manager"})}),(0,Rr.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Rr.jsx)("span",{className:"text-primary-600 font-medium",children:null===r||void 0===r||null===(n=r.name)||void 0===n?void 0:n.charAt(0).toUpperCase()})}),(0,Rr.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null===r||void 0===r?void 0:r.name}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 truncate capitalize",children:null===r||void 0===r||null===(s=r.role)||void 0===s?void 0:s.replace("_"," ")})]})]}),(null===r||void 0===r?void 0:r.tenant_name)&&(0,Rr.jsx)("div",{className:"mt-2 text-xs text-gray-500 truncate",children:r.tenant_name})]}),(0,Rr.jsx)("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:d.map(e=>{const t=e.icon;return(0,Rr.jsxs)(Me,{to:e.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md ".concat(u(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50"),children:[(0,Rr.jsx)(t,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})}),(0,Rr.jsxs)("div",{className:"flex items-center px-4 py-4 border-t",children:[(0,Rr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:null===r||void 0===r?void 0:r.name}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 truncate",children:null===r||void 0===r?void 0:r.email})]}),(0,Rr.jsx)("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600",title:"Logout",children:(0,Rr.jsx)(Va,{className:"w-5 h-5"})})]})]})}),(0,Rr.jsxs)("div",{className:"lg:pl-64",children:[(0,Rr.jsxs)("div",{className:"sticky top-0 z-10 flex h-16 bg-white border-b lg:hidden",children:[(0,Rr.jsx)("button",{onClick:()=>c(!0),className:"px-4 text-gray-500 focus:outline-none",children:(0,Rr.jsx)(Wa,{className:"w-6 h-6"})}),(0,Rr.jsx)("div",{className:"flex items-center flex-1 px-4",children:(0,Rr.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"AiVA Manager"})})]}),(0,Rr.jsx)("main",{className:"py-6",children:(0,Rr.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:(0,Rr.jsx)(ve,{})})})]})]})},Ga=Wr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ka=Wr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Ja=Wr("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Qa=Wr("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ya=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(""),[l,o]=(0,a.useState)("all");(0,a.useEffect)(()=>{c()},[l]);const c=async()=>{try{var e,n;s(!0);const r=(null===(e=(await la({status:"all"!==l?l:void 0})).data)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.knowledge_bases)||[];t(r)}catch(r){rn.error("Failed to load knowledge bases"),console.error(r),t([])}finally{s(!1)}},d=async e=>{if(window.confirm("Are you sure? This will delete all documents and data."))try{await(e=>Mr.delete("/knowledge/".concat(e)))(e),rn.success("Knowledge base deleted"),c()}catch(t){rn.error("Failed to delete knowledge base"),console.error(t)}},u=e.filter(e=>{var t;return e.name.toLowerCase().includes(r.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(r.toLowerCase()))});return n?(0,Rr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Bases"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage documents and knowledge for your AI agents"})]}),(0,Rr.jsxs)(Me,{to:"/knowledge/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"New Knowledge Base"]})]}),(0,Rr.jsxs)("div",{className:"flex gap-4",children:[(0,Rr.jsxs)("div",{className:"flex-1 relative",children:[(0,Rr.jsx)(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Rr.jsx)("input",{type:"text",placeholder:"Search knowledge bases...",value:r,onChange:e=>i(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Rr.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"all",children:"All Status"}),(0,Rr.jsx)("option",{value:"active",children:"Active"}),(0,Rr.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),0===u.length?(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)(Ea,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No knowledge bases"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new knowledge base"}),(0,Rr.jsx)("div",{className:"mt-6",children:(0,Rr.jsxs)(Me,{to:"/knowledge/new",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"New Knowledge Base"]})})]}):(0,Rr.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:u.map(e=>{var t,n,s,r;return(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg hover:shadow-lg transition-shadow",children:(0,Rr.jsxs)("div",{className:"p-6",children:[(0,Rr.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Rr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ka,{className:"h-8 w-8 text-primary-600"})}),(0,Rr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:e.name}),(0,Rr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})]})]})}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500 mb-4 line-clamp-2",children:e.description||"No description"}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsx)("h3",{children:e.name}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-gray-600",children:"Documents"}),(0,Rr.jsx)("p",{className:"text-2xl font-bold",children:(null===(t=e.stats)||void 0===t?void 0:t.document_count)||0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-gray-600",children:"Chunks"}),(0,Rr.jsx)("p",{className:"text-2xl font-bold",children:(null===(n=e.stats)||void 0===n?void 0:n.chunk_count)||0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-gray-600",children:"Images"}),(0,Rr.jsx)("p",{className:"text-2xl font-bold",children:(null===(s=e.stats)||void 0===s?void 0:s.image_count)||0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-gray-600",children:"Products"}),(0,Rr.jsx)("p",{className:"text-2xl font-bold",children:(null===(r=e.stats)||void 0===r?void 0:r.product_count)||0})]})]})]}),(0,Rr.jsxs)("div",{className:"flex items-center text-xs text-gray-400 mb-4",children:[(0,Rr.jsx)(ja,{className:"w-3 h-3 mr-1"}),"Updated ",new Date(e.updated_at).toLocaleDateString()]}),(0,Rr.jsxs)("div",{className:"flex space-x-2",children:[(0,Rr.jsxs)(Me,{to:"/knowledge/".concat(e.id,"/documents"),className:"flex-1 inline-flex justify-center items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(Ja,{className:"w-4 h-4 mr-2"}),"Documents"]}),(0,Rr.jsx)(Me,{to:"/knowledge/".concat(e.id,"/edit"),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:(0,Rr.jsx)(Qa,{className:"w-4 h-4"})}),(0,Rr.jsx)("button",{onClick:()=>d(e.id),className:"inline-flex items-center px-3 py-2 border border-red-300 shadow-sm text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:(0,Rr.jsx)(ta,{className:"w-4 h-4"})})]})]})},e.id)})})]})},Xa=Wr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Za=Wr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$a=()=>{const e=te(),{id:t}=se(),n=!!t,[s,r]=(0,a.useState)(!1),[i,l]=(0,a.useState)({name:"",description:"",type:"general",status:"active",settings:{chunk_size:500,chunk_overlap:50,embedding_model:"text-embedding-3-small"}});(0,a.useEffect)(()=>{n&&o()},[t]);const o=async()=>{try{r(!0);const e=(await oa(t)).data.data;l({name:e.name,description:e.description||"",type:e.type,status:e.status,settings:e.settings||i.settings})}catch(e){rn.error("Failed to load knowledge base"),console.error(e)}finally{r(!1)}};return(0,Rr.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,Rr.jsx)("div",{className:"flex items-center justify-between",children:(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("button",{onClick:()=>e("/knowledge"),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Knowledge Bases"]}),(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Knowledge Base":"New Knowledge Base"})]})}),(0,Rr.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),i.name.trim())try{if(r(!0),!n){const t=await(e=>Mr.post("/knowledge",e))(i);return rn.success("Knowledge base created"),void e("/knowledge/".concat(t.data.data.id,"/documents"))}await((e,t)=>Mr.put("/knowledge/".concat(e),t))(t,i),rn.success("Knowledge base updated"),e("/knowledge")}catch(a){rn.error(n?"Failed to update":"Failed to create"),console.error(a)}finally{r(!1)}else rn.error("Name is required")},className:"bg-white shadow rounded-lg",children:[(0,Rr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Rr.jsx)("input",{type:"text",value:i.name,onChange:e=>l(Ve(Ve({},i),{},{name:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"e.g., Product Documentation",required:!0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,Rr.jsx)("textarea",{value:i.description,onChange:e=>l(Ve(Ve({},i),{},{description:e.target.value})),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"Describe what this knowledge base contains..."})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,Rr.jsxs)("select",{value:i.type,onChange:e=>l(Ve(Ve({},i),{},{type:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"general",children:"General"}),(0,Rr.jsx)("option",{value:"documentation",children:"Documentation"}),(0,Rr.jsx)("option",{value:"faq",children:"FAQ"}),(0,Rr.jsx)("option",{value:"support",children:"Support"}),(0,Rr.jsx)("option",{value:"product_catalog",children:"Product Catalog"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,Rr.jsxs)("select",{value:i.status,onChange:e=>l(Ve(Ve({},i),{},{status:e.target.value})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"active",children:"Active"}),(0,Rr.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Processing Settings"}),(0,Rr.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,Rr.jsxs)("div",{className:"flex",children:[(0,Rr.jsx)(Za,{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0"}),(0,Rr.jsx)("div",{className:"text-sm text-blue-700",children:"These settings control how documents are processed and indexed. Default values work well for most cases."})]})}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chunk Size (tokens)"}),(0,Rr.jsx)("input",{type:"number",value:i.settings.chunk_size,onChange:e=>l(Ve(Ve({},i),{},{settings:Ve(Ve({},i.settings),{},{chunk_size:parseInt(e.target.value)})})),min:100,max:2e3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 500"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chunk Overlap (tokens)"}),(0,Rr.jsx)("input",{type:"number",value:i.settings.chunk_overlap,onChange:e=>l(Ve(Ve({},i),{},{settings:Ve(Ve({},i.settings),{},{chunk_overlap:parseInt(e.target.value)})})),min:0,max:200,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Recommended: 50"})]})]}),(0,Rr.jsxs)("div",{className:"mt-4",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Embedding Model"}),(0,Rr.jsxs)("select",{value:i.settings.embedding_model,onChange:e=>l(Ve(Ve({},i),{},{settings:Ve(Ve({},i.settings),{},{embedding_model:e.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"text-embedding-3-small",children:"text-embedding-3-small (Fast, Affordable)"}),(0,Rr.jsx)("option",{value:"text-embedding-3-large",children:"text-embedding-3-large (High Quality)"}),(0,Rr.jsx)("option",{value:"text-embedding-ada-002",children:"text-embedding-ada-002 (Legacy)"})]})]})]})]}),(0,Rr.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between rounded-b-lg",children:[(0,Rr.jsx)("button",{type:"button",onClick:()=>e("/knowledge"),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,Rr.jsxs)("button",{type:"submit",disabled:s,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Rr.jsx)(ra,{className:"w-4 h-4 mr-2"}),s?"Saving...":n?"Update":"Create"]})]})]})]})},ei=Wr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ti=Wr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),ni=Wr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),si=e=>{let{kbId:t,onComplete:n}=e;const[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),m=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),p=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1);const t=Array.from(e.dataTransfer.files);h(t)},[]),h=e=>{const t=e.filter(e=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain","text/html","text/markdown","application/json"].includes(e.type)||e.name.match(/\.(pdf|docx|pptx|xlsx|txt|html|md|json)$/i)?!(e.size>52428800)||(rn.error("".concat(e.name,": File too large (max 50MB)")),!1):(rn.error("".concat(e.name,": Invalid file type")),!1));r(e=>[...e,...t.map(e=>({file:e,id:Math.random().toString(36).substr(2,9),status:"pending"}))])},x=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-12 text-center ".concat(d?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:p,children:[(0,Rr.jsx)(ei,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsxs)("div",{className:"mt-4",children:[(0,Rr.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer",children:[(0,Rr.jsx)("span",{className:"text-primary-600 hover:text-primary-500 font-medium",children:"Choose files"}),(0,Rr.jsx)("input",{id:"file-upload",type:"file",multiple:!0,className:"sr-only",onChange:e=>{const t=Array.from(e.target.files);h(t)},accept:".pdf,.docx,.pptx,.xlsx,.txt,.html,.md,.json"})]}),(0,Rr.jsx)("span",{className:"text-gray-600",children:" or drag and drop"})]}),(0,Rr.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"PDF, DOCX, PPTX, XLSX, TXT, HTML, MD, JSON up to 50MB"})]}),s.length>0&&(0,Rr.jsxs)("div",{className:"space-y-3",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:["Files (",s.length,")"]}),!i&&(0,Rr.jsx)("button",{onClick:()=>r([]),className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),(0,Rr.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,Rr.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,Rr.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,Rr.jsx)(Ja,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),(0,Rr.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500",children:x(e.file.size)})]})]}),(0,Rr.jsxs)("div",{className:"flex items-center ml-4",children:["pending"===e.status&&!i&&(0,Rr.jsx)("button",{onClick:()=>{return t=e.id,void r(e=>e.filter(e=>e.id!==t));var t},className:"text-gray-400 hover:text-gray-600",children:(0,Rr.jsx)(sa,{className:"w-5 h-5"})}),"uploading"===e.status&&(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Rr.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:"".concat(o[e.id]||0,"%")}})}),(0,Rr.jsxs)("span",{className:"text-xs text-gray-500",children:[o[e.id]||0,"%"]})]}),"completed"===e.status&&(0,Rr.jsx)(ia,{className:"w-5 h-5 text-green-500"}),"failed"===e.status&&(0,Rr.jsx)(Za,{className:"w-5 h-5 text-red-500"})]})]},e.id))})]}),s.length>0&&(0,Rr.jsx)("div",{className:"flex justify-end",children:(0,Rr.jsxs)("button",{onClick:async()=>{if(0===s.length)return void rn.error("Please select files to upload");l(!0);for(const n of s)try{r(e=>e.map(e=>e.id===n.id?Ve(Ve({},e),{},{status:"uploading"}):e));const e=new FormData;e.append("file",n.file),e.append("metadata",JSON.stringify({source:"upload",uploaded_at:(new Date).toISOString()})),await ca(t,e,e=>{const t=Math.round(100*e.loaded/e.total);c(e=>Ve(Ve({},e),{},{[n.id]:t}))}),r(e=>e.map(e=>e.id===n.id?Ve(Ve({},e),{},{status:"completed"}):e)),rn.success("".concat(n.file.name," uploaded successfully"))}catch(a){console.error("Error uploading ".concat(n.file.name,":"),a),r(e=>e.map(e=>e.id===n.id?Ve(Ve({},e),{},{status:"failed"}):e)),rn.error("Failed to upload ".concat(n.file.name))}l(!1);const e=s.every(e=>"completed"===e.status||"failed"===e.status);e&&n&&setTimeout(n,1e3)},disabled:i,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Rr.jsx)(ei,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload ".concat(s.length," file").concat(s.length>1?"s":"")]})})]})},ri=Wr("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),ai=e=>{var t;let{kbId:n,onComplete:s}=e;const[r,i]=(0,a.useState)("url"),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(2),[u,m]=(0,a.useState)(20),[p,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)(!1),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(null);return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex gap-4",children:[(0,Rr.jsx)("button",{onClick:()=>i("url"),className:"flex-1 p-4 border-2 rounded-lg text-left transition-colors ".concat("url"===r?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)(ti,{className:"w-5 h-5 text-primary-600 mr-3"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"font-medium text-gray-900",children:"Single URL"}),(0,Rr.jsx)("div",{className:"text-sm text-gray-500",children:"Scrape a URL and follow links"})]})]})}),(0,Rr.jsx)("button",{onClick:()=>i("sitemap"),className:"flex-1 p-4 border-2 rounded-lg text-left transition-colors ".concat("sitemap"===r?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"),children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)(Ja,{className:"w-5 h-5 text-primary-600 mr-3"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"font-medium text-gray-900",children:"Sitemap"}),(0,Rr.jsx)("div",{className:"text-sm text-gray-500",children:"Import from sitemap.xml"})]})]})})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"url"===r?"Website URL":"Sitemap URL"}),(0,Rr.jsxs)("div",{className:"flex gap-2",children:[(0,Rr.jsxs)("div",{className:"flex-1 relative",children:[(0,Rr.jsx)(ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Rr.jsx)("input",{type:"url",value:l,onChange:e=>o(e.target.value),placeholder:"url"===r?"https://example.com":"https://example.com/sitemap.xml",className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Rr.jsx)("button",{onClick:async()=>{if(l.trim())try{h(!0),y(null);const e=await(e=>Mr.post("/knowledge/test-url",{url:e}))(l);y(e.data.data),e.data.data.accessible?rn.success("URL is accessible!"):rn.error("URL is not accessible")}catch(e){rn.error("Failed to test URL"),console.error(e)}finally{h(!1)}else rn.error("Please enter a URL")},disabled:p||!l.trim(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:p?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Fa,{className:"w-4 h-4 mr-2 animate-spin inline"}),"Testing..."]}):"Test URL"})]}),f&&(0,Rr.jsx)("div",{className:"mt-2 p-3 rounded-md ".concat(f.accessible?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[f.accessible?(0,Rr.jsx)(ia,{className:"w-5 h-5 mr-2"}):(0,Rr.jsx)(Za,{className:"w-5 h-5 mr-2"}),(0,Rr.jsx)("div",{className:"text-sm",children:f.accessible?(0,Rr.jsxs)(Rr.Fragment,{children:["Accessible \u2022 Status: ",f.status_code," \u2022 Type: ",f.content_type]}):(0,Rr.jsxs)(Rr.Fragment,{children:["Not accessible \u2022 ",f.error||"Status: ".concat(f.status_code)]})})]})})]}),"url"===r&&(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Depth"}),(0,Rr.jsx)("input",{type:"number",value:c,onChange:e=>d(parseInt(e.target.value)),min:1,max:5,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"How many levels of links to follow (1-5)"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Pages"}),(0,Rr.jsx)("input",{type:"number",value:u,onChange:e=>m(parseInt(e.target.value)),min:1,max:100,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum pages to scrape (1-100)"})]})]}),"sitemap"===r&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Pages"}),(0,Rr.jsx)("input",{type:"number",value:u,onChange:e=>m(parseInt(e.target.value)),min:1,max:100,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Maximum pages to import from sitemap (1-100)"})]}),(0,Rr.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,Rr.jsxs)("div",{className:"flex",children:[(0,Rr.jsx)(Za,{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0"}),(0,Rr.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,Rr.jsx)("p",{className:"font-medium mb-1",children:"How web scraping works:"}),(0,Rr.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,Rr.jsx)("li",{children:"Content is extracted from HTML pages"}),(0,Rr.jsx)("li",{children:"Text is cleaned and processed automatically"}),(0,Rr.jsx)("li",{children:"Documents are chunked and embedded for search"}),(0,Rr.jsx)("li",{children:"Process may take several minutes depending on size"})]})]})]})}),(0,Rr.jsx)("div",{className:"flex justify-end",children:(0,Rr.jsx)("button",{onClick:async()=>{if(l.trim())try{let e;g(!0),b(null),e="url"===r?await((e,t,n)=>Mr.post("/knowledge/".concat(e,"/scrape-url"),t,{onUploadProgress:n}))(n,{url:l,max_depth:c,max_pages:u,metadata:{source:"web_scrape",scraped_at:(new Date).toISOString()}}):await((e,t,n)=>Mr.post("/knowledge/".concat(e,"/scrape-sitemap"),t,{onUploadProgress:n}))(n,{sitemap_url:l,max_pages:u,metadata:{source:"sitemap_scrape",scraped_at:(new Date).toISOString()}}),b(e.data.data),rn.success("Scraping completed!"),s&&setTimeout(s,2e3)}catch(e){rn.error("Failed to scrape website"),console.error(e)}finally{g(!1)}else rn.error("Please enter a URL")},disabled:x||!l.trim(),className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Fa,{className:"w-4 h-4 mr-2 animate-spin"}),"Scraping..."]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(ti,{className:"w-4 h-4 mr-2"}),"Start Scraping"]})})}),v&&(0,Rr.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)(ia,{className:"w-5 h-5 text-green-600 mr-2 flex-shrink-0 mt-0.5"}),(0,Rr.jsxs)("div",{className:"text-sm text-green-700",children:[(0,Rr.jsx)("p",{className:"font-medium mb-2",children:"Scraping completed successfully!"}),(0,Rr.jsxs)("div",{className:"space-y-1",children:[(0,Rr.jsxs)("p",{children:["\u2022 ","url"===r?"Pages scraped":"URLs found",": ",v.total_pages_scraped||v.total_urls_found]}),(0,Rr.jsxs)("p",{children:["\u2022 Documents processed: ",v.documents_processed||(null===(t=v.documents)||void 0===t?void 0:t.length)]}),(0,Rr.jsxs)("p",{children:["\u2022 Base URL: ",v.base_url||l]})]})]})]})})]})},ii=e=>{let{kbId:t,onComplete:n}=e;const[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(!1),m=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?u(!0):"dragleave"===e.type&&u(!1)},[]),p=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(!1);const t=Array.from(e.dataTransfer.files);h(t)},[]),h=e=>{const t=e.filter(e=>["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type)?!(e.size>10485760)||(rn.error("".concat(e.name,": Image too large (max 10MB)")),!1):(rn.error("".concat(e.name,": Invalid image type")),!1)).map(e=>({file:e,id:Math.random().toString(36).substr(2,9),status:"pending",preview:URL.createObjectURL(e),metadata:{title:"",description:"",tags:"",category:""}}));r(e=>[...e,...t])},x=(e,t,n)=>{r(s=>s.map(s=>s.id===e?Ve(Ve({},s),{},{metadata:Ve(Ve({},s.metadata),{},{[t]:n})}):s))},g=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB"][t]};return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"relative border-2 border-dashed rounded-lg p-12 text-center ".concat(d?"border-primary-500 bg-primary-50":"border-gray-300 hover:border-gray-400"),onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:p,children:[(0,Rr.jsx)(Ia,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsxs)("div",{className:"mt-4",children:[(0,Rr.jsxs)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[(0,Rr.jsx)("span",{className:"text-primary-600 hover:text-primary-500 font-medium",children:"Choose images"}),(0,Rr.jsx)("input",{id:"image-upload",type:"file",multiple:!0,className:"sr-only",onChange:e=>{const t=Array.from(e.target.files);h(t)},accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp"})]}),(0,Rr.jsx)("span",{className:"text-gray-600",children:" or drag and drop"})]}),(0,Rr.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"JPG, PNG, GIF, WEBP up to 10MB"})]}),s.length>0&&(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("h3",{className:"text-sm font-medium text-gray-900",children:["Images (",s.length,")"]}),!i&&(0,Rr.jsx)("button",{onClick:()=>{s.forEach(e=>URL.revokeObjectURL(e.preview)),r([])},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"})]}),(0,Rr.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,Rr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,Rr.jsxs)("div",{className:"flex gap-4",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)("img",{src:e.preview,alt:"Preview",className:"w-24 h-24 object-cover rounded"})}),(0,Rr.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,Rr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Rr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500",children:g(e.file.size)})]}),(0,Rr.jsxs)("div",{className:"flex items-center ml-4",children:["pending"===e.status&&!i&&(0,Rr.jsx)("button",{onClick:()=>{return t=e.id,void r(e=>{const n=e.find(e=>e.id===t);return null!==n&&void 0!==n&&n.preview&&URL.revokeObjectURL(n.preview),e.filter(e=>e.id!==t)});var t},className:"text-gray-400 hover:text-gray-600",children:(0,Rr.jsx)(sa,{className:"w-5 h-5"})}),"uploading"===e.status&&(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Rr.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:"".concat(o[e.id]||0,"%")}})}),(0,Rr.jsxs)("span",{className:"text-xs text-gray-500",children:[o[e.id]||0,"%"]})]}),"completed"===e.status&&(0,Rr.jsx)(ia,{className:"w-5 h-5 text-green-500"}),"failed"===e.status&&(0,Rr.jsx)(Za,{className:"w-5 h-5 text-red-500"})]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Rr.jsx)("input",{type:"text",placeholder:"Title",value:e.metadata.title,onChange:t=>x(e.id,"title",t.target.value),disabled:i,className:"text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Rr.jsx)("input",{type:"text",placeholder:"Category",value:e.metadata.category,onChange:t=>x(e.id,"category",t.target.value),disabled:i,className:"text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"})]}),(0,Rr.jsx)("input",{type:"text",placeholder:"Tags (comma-separated)",value:e.metadata.tags,onChange:t=>x(e.id,"tags",t.target.value),disabled:i,className:"w-full text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Rr.jsx)("textarea",{placeholder:"Description",value:e.metadata.description,onChange:t=>x(e.id,"description",t.target.value),disabled:i,rows:2,className:"w-full text-sm rounded border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"})]})]})},e.id))})]}),s.length>0&&(0,Rr.jsx)("div",{className:"flex justify-end",children:(0,Rr.jsxs)("button",{onClick:async()=>{if(0===s.length)return void rn.error("Please select images to upload");l(!0);for(const n of s)try{r(e=>e.map(e=>e.id===n.id?Ve(Ve({},e),{},{status:"uploading"}):e));const e=new FormData;e.append("file",n.file),n.metadata.description&&e.append("description",n.metadata.description);const s={source:"image_upload",content_type:"image",uploaded_at:(new Date).toISOString(),title:n.metadata.title,category:n.metadata.category,tags:n.metadata.tags?n.metadata.tags.split(",").map(e=>e.trim()):[]};e.append("metadata",JSON.stringify(s)),await ma(t,e,e=>{const t=Math.round(100*e.loaded/e.total);c(e=>Ve(Ve({},e),{},{[n.id]:t}))}),r(e=>e.map(e=>e.id===n.id?Ve(Ve({},e),{},{status:"completed"}):e)),rn.success("".concat(n.file.name," uploaded and embedded with CLIP"))}catch(e){console.error("Error uploading ".concat(n.file.name,":"),e),r(e=>e.map(e=>e.id===n.id?Ve(Ve({},e),{},{status:"failed"}):e)),rn.error("Failed to upload ".concat(n.file.name))}l(!1);s.every(e=>"completed"===e.status||"failed"===e.status)&&n&&setTimeout(n,1e3)},disabled:i,className:"inline-flex items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Rr.jsx)(ei,{className:"w-4 h-4 mr-2"}),i?"Uploading...":"Upload ".concat(s.length," image").concat(s.length>1?"s":"")]})})]})},li=Wr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),oi=Wr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ci=e=>{var t,n;let{kbId:s,refreshTrigger:r}=e;const[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(1),[m,p]=(0,a.useState)(1),[h,x]=(0,a.useState)(""),[g,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{y()},[s,d,r]);const y=async()=>{try{c(!0);const e=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;try{const s=await Mr.get("/knowledge/".concat(e,"/images/list?page=").concat(t,"&limit=").concat(n));return s.data.data||s.data}catch(s){throw console.error("List images error:",s),s}}(s,d,20);l(e.images),p(e.total_pages)}catch(e){console.error("Error loading images:",e),rn.error("Failed to load images")}finally{c(!1)}},v=async e=>{if(confirm("Are you sure you want to delete this image?"))try{await(async(e,t)=>{try{const n=await Mr.delete("/knowledge/".concat(e,"/images/").concat(t,"?kb_id=").concat(e));return n.data.data||n.data}catch(n){throw console.error("Delete image error:",n),n}})(s,e),rn.success("Image deleted successfully"),y()}catch(t){console.error("Error deleting image:",t),rn.error("Failed to delete image")}},b=i.filter(e=>{var t,n,s;return(null===(t=e.filename)||void 0===t?void 0:t.toLowerCase().includes(h.toLowerCase()))||(null===(n=e.metadata)||void 0===n||null===(s=n.description)||void 0===s?void 0:s.toLowerCase().includes(h.toLowerCase()))});return o?(0,Rr.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Rr.jsx)(li,{className:"w-8 h-8 animate-spin text-primary-600"})}):0===i.length?(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)(Ia,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Rr.jsx)("p",{className:"text-gray-600",children:"No images uploaded yet"})]}):(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"relative",children:[(0,Rr.jsx)(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Rr.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Search images...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})]}),(0,Rr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b.map(e=>{var t;return(0,Rr.jsxs)("div",{className:"group relative bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>f(e),children:[(0,Rr.jsxs)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center overflow-hidden",children:[e.url||e.thumbnail_url?(0,Rr.jsx)("img",{src:e.url||e.thumbnail_url,alt:e.filename,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Rr.jsx)("div",{className:"hidden w-full h-full items-center justify-center",children:(0,Rr.jsx)(Ia,{className:"w-12 h-12 text-gray-400"})})]}),(0,Rr.jsxs)("div",{className:"p-3",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.filename}),(0,Rr.jsxs)("p",{className:"text-xs text-gray-500",children:[(e.file_size_bytes/1024).toFixed(1)," KB"]}),(null===(t=e.metadata)||void 0===t?void 0:t.description)&&(0,Rr.jsx)("p",{className:"text-xs text-gray-600 mt-1 truncate",children:e.metadata.description})]}),(0,Rr.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:(0,Rr.jsx)("button",{onClick:t=>{t.stopPropagation(),v(e.id)},className:"p-1.5 bg-red-500 text-white rounded hover:bg-red-600",title:"Delete",children:(0,Rr.jsx)(ta,{className:"w-4 h-4"})})})]},e.id)})}),m>1&&(0,Rr.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,Rr.jsx)("button",{onClick:()=>u(e=>Math.max(1,e-1)),disabled:1===d,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Rr.jsxs)("span",{className:"px-4 py-2",children:["Page ",d," of ",m]}),(0,Rr.jsx)("button",{onClick:()=>u(e=>Math.min(m,e+1)),disabled:d===m,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),g&&(0,Rr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>f(null),children:(0,Rr.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto p-6",onClick:e=>e.stopPropagation(),children:[(0,Rr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Rr.jsx)("h3",{className:"text-lg font-semibold",children:g.filename}),(0,Rr.jsx)("button",{onClick:()=>f(null),className:"text-gray-500 hover:text-gray-700",children:(0,Rr.jsx)(sa,{className:"w-5 h-5"})})]}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"w-full bg-gray-100 rounded flex items-center justify-center overflow-hidden",children:[g.url?(0,Rr.jsx)("img",{src:g.url,alt:g.filename,className:"max-w-full max-h-[60vh] object-contain",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):null,(0,Rr.jsx)("div",{className:"hidden w-full h-64 items-center justify-center",children:(0,Rr.jsx)(Ia,{className:"w-16 h-16 text-gray-400"})})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"File Size:"}),(0,Rr.jsxs)("span",{className:"ml-2 font-medium",children:[(g.file_size_bytes/1024).toFixed(1)," KB"]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,Rr.jsx)("span",{className:"ml-2 font-medium",children:g.content_type})]}),g.width&&g.height&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Dimensions:"}),(0,Rr.jsxs)("span",{className:"ml-2 font-medium",children:[g.width," \xd7 ",g.height]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Uploaded:"}),(0,Rr.jsx)("span",{className:"ml-2 font-medium",children:new Date(g.created_at).toLocaleDateString()})]})]}),(null===(t=g.metadata)||void 0===t?void 0:t.description)&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Description:"}),(0,Rr.jsx)("p",{className:"text-sm mt-1",children:g.metadata.description})]}),(null===(n=g.metadata)||void 0===n?void 0:n.tags)&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Tags:"}),(0,Rr.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:g.metadata.tags.map((e,t)=>(0,Rr.jsx)("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 text-xs rounded",children:e},t))})]}),(0,Rr.jsx)("div",{className:"flex justify-end",children:(0,Rr.jsxs)("a",{href:g.url,download:g.filename,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",onClick:e=>e.stopPropagation(),children:[(0,Rr.jsx)(oi,{className:"w-4 h-4"}),"Download"]})})]})]})})]})},di=e=>{let{kbId:t}=e;const[n,s]=(0,a.useState)(""),[r,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)("text");return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),n.trim())try{var s;o(!0);const e=await(async(e,t)=>{try{const n=await Mr.post("/knowledge/".concat(e,"/images/search"),t);return n.data.data||n.data}catch(n){throw console.error("Search images error:",n),n}})(t,{query:n,search_type:c,top_k:10});i(e.results||[]),0===(null===(s=e.results)||void 0===s?void 0:s.length)?rn("No images found matching your query"):rn.success("Found ".concat(e.results.length," images"))}catch(r){console.error("Search error:",r),rn.error("Failed to search images")}finally{o(!1)}else rn.error("Please enter a search query")},className:"space-y-4",children:(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search for images"}),(0,Rr.jsxs)("div",{className:"flex gap-2",children:[(0,Rr.jsx)("input",{type:"text",value:n,onChange:e=>s(e.target.value),placeholder:"e.g., red shoes, product images, etc.",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500",disabled:l}),(0,Rr.jsx)("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:l?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(li,{className:"w-4 h-4 mr-2 animate-spin"}),"Searching..."]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Ga,{className:"w-4 h-4 mr-2"}),"Search"]})})]})]})}),r.length>0&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Search Results (",r.length,")"]}),(0,Rr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map((e,t)=>{var n;return(0,Rr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[(0,Rr.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Rr.jsx)(Ia,{className:"w-12 h-12 text-gray-400"})}),(0,Rr.jsxs)("div",{className:"p-3",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.filename||"Image"}),(0,Rr.jsxs)("span",{className:"text-xs font-semibold text-primary-600",children:[(100*e.score).toFixed(0),"%"]})]}),(null===(n=e.metadata)||void 0===n?void 0:n.description)&&(0,Rr.jsx)("p",{className:"text-xs text-gray-600 truncate",children:e.metadata.description})]})]},e.result_id||t)})})]})]})},ui=()=>{const{id:e}=se(),t=te(),[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0),[p,h]=(0,a.useState)("documents"),[x,g]=(0,a.useState)(0),[f,y]=(0,a.useState)(""),[v,b]=(0,a.useState)("all");(0,a.useEffect)(()=>{j()},[e]);const j=async()=>{try{m(!0);const[r,a,l]=await Promise.all([oa(e),(t=e,Mr.get("/knowledge/".concat(t,"/documents"),{params:n})),ua(e)]);s(r.data.data),i(a.data.data.items||[]),o(l.data.data),await N()}catch(r){rn.error("Failed to load documents"),console.error(r)}finally{m(!1)}var t,n},w=async t=>{if(window.confirm("Are you sure? This will delete all chunks and embeddings."))try{await((e,t)=>Mr.delete("/knowledge/".concat(e,"/documents/").concat(t)))(e,t),rn.success("Document deleted"),j()}catch(n){rn.error("Failed to delete document"),console.error(n)}},N=async()=>{try{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"/knowledge/cache/stats?kb_id=".concat(e):"/knowledge/cache/stats";return(await Mr.get(t)).data}(e);d(t.data.data)}catch(t){console.error("Failed to load cache stats:",t)}},k=r.filter(e=>{const t=e.original_filename.toLowerCase().includes(f.toLowerCase()),n="all"===v||e.status===v;return t&&n}),S=e=>{switch(e){case"completed":return(0,Rr.jsx)(ia,{className:"w-5 h-5 text-green-500"});case"processing":return(0,Rr.jsx)(ja,{className:"w-5 h-5 text-yellow-500 animate-spin"});case"failed":return(0,Rr.jsx)(Za,{className:"w-5 h-5 text-red-500"});default:return(0,Rr.jsx)(Ja,{className:"w-5 h-5 text-gray-500"})}},C=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*100)/100+" "+["Bytes","KB","MB","GB"][t]};return u?(0,Rr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("button",{onClick:()=>t("/knowledge"),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Knowledge Bases"]}),(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:null===n||void 0===n?void 0:n.name}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.description})]}),(0,Rr.jsxs)(Me,{to:"/knowledge/".concat(e,"/chat"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(ea,{className:"w-4 h-4 mr-2"}),"Test Chat"]})]}),l&&(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ja,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Documents"}),(0,Rr.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:l.total_documents||0})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ka,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Chunks"}),(0,Rr.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:l.total_chunks||0})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ka,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Vectors"}),(0,Rr.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:l.total_vectors||0})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ga,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Embedding Model"}),(0,Rr.jsx)("dd",{className:"text-sm font-semibold text-gray-900",children:l.embedding_model||"N/A"})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ka,{className:"h-6 w-6 text-blue-400"})}),(0,Rr.jsx)("div",{className:"ml-5",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cache"}),(0,Rr.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:[(null===c||void 0===c?void 0:c.total_cached_queries)||0," queries"]}),c&&(0,Rr.jsxs)("dd",{className:"text-xs text-gray-500 mt-1",children:[c.total_cache_hits," hits \u2022 ",c.cache_hit_rate," avg"]})]})})]}),(0,Rr.jsxs)("button",{onClick:async()=>{if(window.confirm("Clear semantic cache for this knowledge base? This will force fresh searches but may increase API costs temporarily."))try{await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?"/knowledge/cache/clear?kb_id=".concat(e):"/knowledge/cache/clear";return(await Mr.delete(t)).data}(e),rn.success("Cache cleared successfully"),await N()}catch(t){rn.error("Failed to clear cache"),console.error(t)}},className:"ml-3 inline-flex items-center px-3 py-1.5 border border-red-300 text-xs font-medium rounded text-red-700 bg-white hover:bg-red-50",title:"Clear semantic cache",children:[(0,Rr.jsx)(ta,{className:"w-3 h-3 mr-1"}),"Clear"]})]})})})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Rr.jsx)("div",{className:"border-b border-gray-200",children:(0,Rr.jsxs)("nav",{className:"-mb-px flex space-x-8 px-6","aria-label":"Tabs",children:[(0,Rr.jsxs)("button",{onClick:()=>h("documents"),className:"".concat("documents"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Rr.jsx)(Ja,{className:"w-5 h-5 mr-2"}),"Documents (",r.length,")"]}),(0,Rr.jsxs)("button",{onClick:()=>h("upload"),className:"".concat("upload"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Rr.jsx)(ei,{className:"w-5 h-5 mr-2"}),"Upload Files"]}),(0,Rr.jsxs)("button",{onClick:()=>h("scrape"),className:"".concat("scrape"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center"),children:[(0,Rr.jsx)(ti,{className:"w-5 h-5 mr-2"}),"Web Scraping"]}),(0,Rr.jsxs)("button",{onClick:()=>h("images"),className:"flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ".concat("images"===p?"bg-primary-100 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:[(0,Rr.jsx)(Ia,{className:"w-4 h-4 mr-2"}),"Images"]})]})}),(0,Rr.jsxs)("div",{className:"p-6",children:["documents"===p&&(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex gap-4",children:[(0,Rr.jsxs)("div",{className:"flex-1 relative",children:[(0,Rr.jsx)(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Rr.jsx)("input",{type:"text",placeholder:"Search documents...",value:f,onChange:e=>y(e.target.value),className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,Rr.jsxs)("select",{value:v,onChange:e=>b(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"all",children:"All Status"}),(0,Rr.jsx)("option",{value:"completed",children:"Completed"}),(0,Rr.jsx)("option",{value:"processing",children:"Processing"}),(0,Rr.jsx)("option",{value:"failed",children:"Failed"})]}),(0,Rr.jsxs)("button",{onClick:j,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(ni,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),0===k.length?(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)(Ja,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No documents"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Upload files or scrape websites to get started"})]}):(0,Rr.jsx)("div",{className:"overflow-x-auto shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:(0,Rr.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,Rr.jsx)("thead",{className:"bg-gray-50",children:(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-2/5",children:"Document"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Type"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-24",children:"Size"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-28",children:"Status"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Stats"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Date"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider w-20",children:"Actions"})]})}),(0,Rr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(e=>{var t,n;return(0,Rr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Rr.jsx)("td",{className:"px-6 py-4",children:(0,Rr.jsxs)("div",{className:"flex items-center min-w-0",children:[S(e.status),(0,Rr.jsxs)("div",{className:"ml-3 min-w-0 flex-1",children:[(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate max-w-md",title:e.original_filename,children:e.original_filename}),(null===(t=e.metadata)||void 0===t?void 0:t.source_url)&&(0,Rr.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-md",title:e.metadata.source_url,children:e.metadata.source_url})]})]})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("span",{className:"text-xs text-gray-900 truncate block max-w-24",title:e.file_type,children:e.file_type.split("/")[1]||e.file_type})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:C(e.file_size_bytes)}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat((n=e.status,{completed:"bg-green-100 text-green-800",processing:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",uploaded:"bg-blue-100 text-blue-800"}[n]||"bg-gray-100 text-gray-800")),children:e.status})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.processing_stats?(0,Rr.jsxs)("div",{className:"flex gap-3",children:[(0,Rr.jsxs)("span",{title:"Chunks",children:["\ud83d\udce6 ",e.processing_stats.total_chunks||0]}),e.processing_stats.total_pages>0&&(0,Rr.jsxs)("span",{title:"Pages",children:["\ud83d\udcc4 ",e.processing_stats.total_pages]})]}):"-"}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Rr.jsx)("button",{onClick:()=>w(e.id),className:"text-red-600 hover:text-red-900",title:"Delete document",children:(0,Rr.jsx)(ta,{className:"w-4 h-4"})})})]},e.id)})})]})})]}),"upload"===p&&(0,Rr.jsx)(si,{kbId:e,onComplete:()=>{rn.success("Upload completed!"),j(),h("documents")}}),"scrape"===p&&(0,Rr.jsx)(ai,{kbId:e,onComplete:()=>{rn.success("Scraping completed!"),j(),h("documents")}}),"images"===p&&(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Upload Images"}),(0,Rr.jsx)(ii,{kbId:e,onComplete:()=>g(e=>e+1)})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Search Images"}),(0,Rr.jsx)(di,{kbId:e})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Image Gallery"}),(0,Rr.jsx)(ci,{kbId:e,refreshTrigger:x})]})]})]})]})]})},mi=()=>{const{id:e}=se(),t=te(),[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(5),[c,d]=(0,a.useState)("text"),[u,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(null),[x,g]=(0,a.useState)([]);(0,a.useEffect)(()=>{f()},[e]);const f=async()=>{try{const t=await oa(e);s(t.data.data)}catch(t){rn.error("Failed to load knowledge base"),console.error(t)}},y=(e,t)=>{if(!t)return e;return e.split(new RegExp("(".concat(t,")"),"gi")).map((e,n)=>e.toLowerCase()===t.toLowerCase()?(0,Rr.jsx)("mark",{className:"bg-yellow-200",children:e},n):e)};return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsx)("div",{className:"flex items-center justify-between",children:(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Documents"]}),(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Search Knowledge Base"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.name})]})}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Rr.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r.trim())try{m(!0);const t=Date.now(),n=await da({kb_id:e,query:r,top_k:l,search_type:c}),s=Date.now()-t,a=Ve(Ve({},n.data.data),{},{query:r,timestamp:(new Date).toISOString(),searchTime:s});h(a),g(e=>[a,...e.slice(0,9)]),rn.success("Found ".concat(a.results.total_found," results"))}catch(n){rn.error("Search failed"),console.error(n)}finally{m(!1)}else rn.error("Please enter a search query")},className:"space-y-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Query"}),(0,Rr.jsxs)("div",{className:"relative",children:[(0,Rr.jsx)(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Rr.jsx)("input",{type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Ask a question or enter search terms...",className:"pl-10 w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Results to Return"}),(0,Rr.jsxs)("select",{value:l,onChange:e=>o(parseInt(e.target.value)),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:3,children:"Top 3"}),(0,Rr.jsx)("option",{value:5,children:"Top 5"}),(0,Rr.jsx)("option",{value:10,children:"Top 10"}),(0,Rr.jsx)("option",{value:20,children:"Top 20"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Type"}),(0,Rr.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"text",children:"Text Only"}),(0,Rr.jsx)("option",{value:"hybrid",children:"Hybrid (Text + Image)"}),(0,Rr.jsx)("option",{value:"image",children:"Image Only"})]})]})]}),(0,Rr.jsx)("button",{type:"submit",disabled:u,className:"w-full inline-flex justify-center items-center px-6 py-3 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:u?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Oa,{className:"w-5 h-5 mr-2 animate-pulse"}),"Searching..."]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Ga,{className:"w-5 h-5 mr-2"}),"Search"]})})]}),(0,Rr.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Rr.jsx)("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Try these examples:"}),(0,Rr.jsx)("div",{className:"flex flex-wrap gap-2",children:["What is AIVA?","How to create an agent?","Pricing information","Supported languages","Integration options"].map((e,t)=>(0,Rr.jsx)("button",{onClick:()=>i(e),className:"px-3 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-full text-gray-700",children:e},t))})]})]}),p&&(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,Rr.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:p.results.total_found}),(0,Rr.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Results Found"})]}),(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsxs)("div",{className:"text-2xl font-bold text-gray-900",children:[p.searchTime,"ms"]}),(0,Rr.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Search Time"})]}),(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:p.metrics.chunks_searched}),(0,Rr.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Chunks Searched"})]}),(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",p.cost.toFixed(6)]}),(0,Rr.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Cost"})]})]})}),p.results.text_results.length>0&&(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Rr.jsx)(Ja,{className:"w-5 h-5 mr-2"}),"Text Results (",p.results.text_results.length,")"]}),(0,Rr.jsx)("div",{className:"space-y-4",children:p.results.text_results.map((e,t)=>(0,Rr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 transition-colors",children:[(0,Rr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Rr.jsxs)("span",{className:"text-sm font-semibold text-primary-600",children:["#",t+1]})}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.source.document_name}),(0,Rr.jsxs)("div",{className:"text-xs text-gray-500",children:["Chunk ",e.source.chunk_index," \u2022 ",e.type]})]})]}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsxs)("div",{className:"text-right",children:[(0,Rr.jsx)("div",{className:"text-xs text-gray-500",children:"Relevance"}),(0,Rr.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:[(100*e.score).toFixed(1),"%"]})]}),(0,Rr.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,Rr.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(100*e.score,"%")}})})]})]}),(0,Rr.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed",children:y(e.content,r)}),e.source.metadata&&Object.keys(e.source.metadata).length>0&&(0,Rr.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,Rr.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(e.source.metadata).map(e=>{let[t,n]=e;return(0,Rr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-100 text-gray-600",children:[t,": ",String(n)]},t)})})})]},e.result_id))})]}),0===p.results.total_found&&(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[(0,Rr.jsx)(Ga,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No results found"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search query or adding more documents"})]})]}),!p&&(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[(0,Rr.jsx)(Ga,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Ready to search"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Enter a query above to search the knowledge base"})]})]}),(0,Rr.jsxs)("div",{className:"space-y-6",children:[x.length>0&&(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Rr.jsx)(ja,{className:"w-4 h-4 mr-2"}),"Recent Searches"]}),(0,Rr.jsx)("div",{className:"space-y-2",children:x.map((e,t)=>(0,Rr.jsxs)("button",{onClick:()=>{return i((t=e).query),void h(t);var t},className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 border border-gray-200 transition-colors",children:[(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.query}),(0,Rr.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Rr.jsxs)("span",{className:"text-xs text-gray-500",children:[e.results.total_found," results"]}),(0,Rr.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.timestamp).toLocaleTimeString()})]})]},t))})]}),(0,Rr.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,Rr.jsx)("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Search Tips"}),(0,Rr.jsxs)("ul",{className:"text-xs text-blue-700 space-y-2",children:[(0,Rr.jsx)("li",{children:"\u2022 Use natural language questions"}),(0,Rr.jsx)("li",{children:"\u2022 Be specific for better results"}),(0,Rr.jsx)("li",{children:"\u2022 Try different phrasings"}),(0,Rr.jsx)("li",{children:"\u2022 Check relevance scores"}),(0,Rr.jsx)("li",{children:"\u2022 Adjust top_k for more results"})]})]}),p&&(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Search Metrics"}),(0,Rr.jsxs)("div",{className:"space-y-3",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Query Tokens"}),(0,Rr.jsx)("span",{className:"font-medium text-gray-900",children:p.metrics.query_tokens||0})]}),(0,Rr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Embedding Model"}),(0,Rr.jsx)("span",{className:"font-medium text-gray-900 text-xs",children:p.metrics.embedding_model})]}),(0,Rr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Processing Time"}),(0,Rr.jsxs)("span",{className:"font-medium text-gray-900",children:[p.metrics.processing_time_ms,"ms"]})]}),(0,Rr.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Search Cost"}),(0,Rr.jsxs)("span",{className:"font-medium text-green-600",children:["$",p.cost.toFixed(6)]})]})]})]})]})]})]})},pi=Wr("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),hi=()=>{const{id:e}=se(),t=te(),[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)(null),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)("7d");(0,a.useEffect)(()=>{p()},[e,u]);const p=async()=>{try{d(!0);const[r,a,l]=await Promise.all([oa(e),ua(e),(t=e,n={limit:50},Mr.get("/knowledge/".concat(t,"/searches"),{params:n}))]);s(r.data.data),i(a.data.data),o(l.data.data||[])}catch(r){rn.error("Failed to load statistics"),console.error(r)}finally{d(!1)}var t,n};if(c)return(0,Rr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});const h=(()=>{const e={};return l.forEach(t=>{const n=new Date(t.created_at).toLocaleDateString();e[n]=(e[n]||0)+1}),e})(),x=(()=>{const e={};return l.forEach(t=>{e[t.query]=(e[t.query]||0)+1}),Object.entries(e).sort((e,t)=>t[1]-e[1]).slice(0,10).map(e=>{let[t,n]=e;return{query:t,count:n}})})();return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"flex items-center text-sm text-gray-600 hover:text-gray-900 mb-2",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Documents"]}),(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Knowledge Base Statistics"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:null===n||void 0===n?void 0:n.name})]}),(0,Rr.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,Rr.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,Rr.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,Rr.jsx)("option",{value:"90d",children:"Last 90 Days"})]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ja,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Documents"}),(0,Rr.jsx)("dd",{className:"flex items-baseline",children:(0,Rr.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:(null===r||void 0===r?void 0:r.total_documents)||0})})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ka,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Chunks"}),(0,Rr.jsx)("dd",{className:"flex items-baseline",children:(0,Rr.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:(null===r||void 0===r?void 0:r.total_chunks)||0})})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ga,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Searches"}),(0,Rr.jsx)("dd",{className:"flex items-baseline",children:(0,Rr.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:l.length})})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Jr,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Avg Relevance"}),(0,Rr.jsx)("dd",{className:"flex items-baseline",children:(0,Rr.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[(()=>{if(!l.length)return 0;return(l.reduce((e,t)=>e+(t.avg_relevance_score||0),0)/l.length).toFixed(2)})(),"%"]})})]})})]})})})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Rr.jsx)(wa,{className:"w-5 h-5 mr-2"}),"Search Activity"]}),Object.keys(h).length>0?(0,Rr.jsx)("div",{className:"space-y-3",children:Object.entries(h).sort((e,t)=>new Date(t[0])-new Date(e[0])).slice(0,7).map(e=>{let[t,n]=e;return(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsx)("span",{className:"text-sm text-gray-600",children:t}),(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:(0,Rr.jsx)("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"".concat(n/Math.max(...Object.values(h))*100,"%")}})}),(0,Rr.jsx)("span",{className:"text-sm font-medium text-gray-900 w-8 text-right",children:n})]})]},t)})}):(0,Rr.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No search activity yet"})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Rr.jsx)(pi,{className:"w-5 h-5 mr-2"}),"Top Queries"]}),x.length>0?(0,Rr.jsx)("div",{className:"space-y-3",children:x.map((e,t)=>(0,Rr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Rr.jsx)("div",{className:"flex-1 min-w-0 mr-4",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-100 rounded-full flex items-center justify-center text-xs font-semibold text-primary-600 mr-2",children:t+1}),(0,Rr.jsx)("span",{className:"text-sm text-gray-900 truncate",children:e.query})]})}),(0,Rr.jsx)("span",{className:"flex-shrink-0 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.count})]},t))}):(0,Rr.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No queries yet"})]})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Rr.jsx)(ja,{className:"w-5 h-5 mr-2"}),"Recent Searches"]}),l.length>0?(0,Rr.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:(0,Rr.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,Rr.jsx)("thead",{className:"bg-gray-50",children:(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Query"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Results"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Score"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,Rr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,20).map(e=>(0,Rr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Rr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-md truncate",children:e.query}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.results_count||0}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.avg_relevance_score?"".concat((100*e.avg_relevance_score).toFixed(1),"%"):"N/A"}),(0,Rr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.processing_time_ms,"ms"]}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]},e.id))})]})}):(0,Rr.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No search history available"})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Embedding Model"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===r||void 0===r?void 0:r.embedding_model)||"N/A"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Vector Dimension"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===r||void 0===r?void 0:r.vector_dimension)||"N/A"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Total Vectors"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(null===r||void 0===r?void 0:r.total_vectors)||0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,Rr.jsx)("dd",{className:"mt-1",children:(0,Rr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:(null===n||void 0===n?void 0:n.status)||"active"})})]})]})]})]})},xi=()=>{const{id:e}=se(),t=te(),n=(0,a.useRef)(null),[s,r]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),[h]=(0,a.useState)("test-".concat(Date.now())),[x,g]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),j=(0,a.useRef)(null);(0,a.useEffect)(()=>{w()},[e]),(0,a.useEffect)(()=>{N()},[o]);const w=async()=>{try{l(!0);const t=await oa(e);r(t.data.data),c([{role:"assistant",content:"Hi! I'm ready to answer questions about **".concat(t.data.data.name,"**. Ask me anything!"),timestamp:(new Date).toISOString()}])}catch(t){rn.error("Failed to load knowledge base"),console.error(t)}finally{l(!1)}},N=()=>{var e;null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},k=()=>{y(null),b(null),j.current&&(j.current.value="")};return i?(0,Rr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"h-screen flex flex-col bg-gray-50",children:[(0,Rr.jsx)("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Rr.jsx)("button",{onClick:()=>t("/knowledge/".concat(e,"/documents")),className:"text-gray-600 hover:text-gray-900",children:(0,Rr.jsx)(Xa,{className:"w-5 h-5"})}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Test Chat"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:null===s||void 0===s?void 0:s.name})]})]}),(0,Rr.jsxs)("button",{onClick:()=>{c([{role:"assistant",content:"Chat cleared! Ask me anything about **".concat(null===s||void 0===s?void 0:s.name,"**."),timestamp:(new Date).toISOString()}])},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(Aa,{className:"w-4 h-4 mr-2"}),"Clear Chat"]})]})}),(0,Rr.jsx)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:(0,Rr.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.map((e,t)=>(0,Rr.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Rr.jsxs)("div",{className:"flex max-w-3xl ".concat("user"===e.role?"flex-row-reverse":"flex-row"," gap-3"),children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ".concat("user"===e.role?"bg-primary-600 text-white":"bg-gray-200 text-gray-600"),children:"user"===e.role?(0,Rr.jsx)(ba,{className:"w-5 h-5"}):(0,Rr.jsx)(Gr,{className:"w-5 h-5"})}),(0,Rr.jsxs)("div",{className:"flex-1 ".concat("user"===e.role?"text-right":"text-left"),children:[(0,Rr.jsx)("div",{className:"inline-block px-4 py-3 rounded-lg ".concat("user"===e.role?"bg-primary-600 text-white":e.error?"bg-red-50 text-red-900 border border-red-200":"bg-white text-gray-900 border border-gray-200"),children:(0,Rr.jsx)("div",{className:"prose prose-sm max-w-none",children:e.content.split("\n").map((e,t)=>{const n=e.split(/(\*\*.*?\*\*)/g);return(0,Rr.jsx)("p",{className:"mb-2 last:mb-0",children:n.map((e,t)=>e.startsWith("**")&&e.endsWith("**")?(0,Rr.jsx)("strong",{children:e.slice(2,-2)},t):(0,Rr.jsx)("span",{children:e},t))},t)})})}),(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500 ".concat("user"===e.role?"justify-end":"justify-start"),children:[(0,Rr.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()}),"assistant"===e.role&&(0,Rr.jsx)("button",{onClick:()=>((e,t)=>{navigator.clipboard.writeText(e),g(t),setTimeout(()=>g(null),2e3),rn.success("Copied to clipboard")})(e.content,t),className:"hover:text-gray-700",children:x===t?(0,Rr.jsx)(Ma,{className:"w-3 h-3"}):(0,Rr.jsx)(Ra,{className:"w-3 h-3"})})]}),e.sources&&e.sources.length>0&&(0,Rr.jsx)("div",{className:"mt-2 text-xs",children:(0,Rr.jsxs)("details",{className:"cursor-pointer",children:[(0,Rr.jsxs)("summary",{className:"text-gray-500 hover:text-gray-700",children:["View sources (",e.sources.length,")"]}),(0,Rr.jsx)("div",{className:"mt-2 space-y-1 text-gray-600",children:e.sources.map((e,t)=>(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsx)("span",{children:e.document}),(0,Rr.jsxs)("span",{className:"text-gray-400",children:[(100*e.score).toFixed(0),"%"]})]},t))})]})})]})]})},t)),m&&(0,Rr.jsx)("div",{className:"flex justify-start",children:(0,Rr.jsxs)("div",{className:"flex gap-3 max-w-3xl",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Rr.jsx)(Gr,{className:"w-5 h-5 text-gray-600"})}),(0,Rr.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3",children:(0,Rr.jsxs)("div",{className:"flex space-x-2",children:[(0,Rr.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,Rr.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,Rr.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})}),(0,Rr.jsx)("div",{ref:n})]})}),(0,Rr.jsx)("div",{className:"bg-white border-t border-gray-200 px-6 py-4",children:(0,Rr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!d.trim()&&!f||m)return;const n={role:"user",content:d.trim()||"[Image Query]",timestamp:(new Date).toISOString(),hasImage:!!f};c(e=>[...e,n]);const s=d.trim(),r=f,a=v;u(""),k(),p(!0);try{const t={kb_id:e,query:s||"Show me similar images",top_k:5,search_type:r?s?"hybrid":"image":"text"};r&&(t.image_base64=a.split(",")[1]);const n=await da(t),i=n.data.data.text_results||[],l=n.data.data.image_results||[];let o="";0===i.length&&0===l.length?o="I couldn't find any relevant information or images in the knowledge base for that query. Could you try rephrasing or asking something else?":(i.length>0&&(o="Based on the knowledge base:\n\n".concat(i[0].content,"\n\n"),i.length>1&&(o+="\n**Additional relevant information:**\n",i.slice(1,3).forEach((e,t)=>{o+="\n".concat(t+2,". ").concat(e.content.substring(0,200),"...")})),o+="\n\n**Text Sources:**\n",i.forEach((e,t)=>{o+="- ".concat(e.source.document_name," (relevance: ").concat((100*e.score).toFixed(0),"%)\n")})),l.length>0&&(i.length>0&&(o+="\n\n"),o+="**Found ".concat(l.length," relevant image").concat(l.length>1?"s":"",":**\n\n"),l.forEach((e,t)=>{var n;o+="".concat(t+1,". ").concat(e.filename||"Image"," (similarity: ").concat((100*e.score).toFixed(0),"%)\n"),null!==(n=e.metadata)&&void 0!==n&&n.description&&(o+="   Description: ".concat(e.metadata.description,"\n"))})));const d={role:"assistant",content:o,timestamp:(new Date).toISOString(),sources:i.map(e=>({document:e.source.document_name,score:e.score,chunk_index:e.source.chunk_index})),imageResults:l};c(e=>[...e,d])}catch(i){console.error("Chat error:",i);const e={role:"assistant",content:"Sorry, I encountered an error while searching the knowledge base. Please try again.",timestamp:(new Date).toISOString(),error:!0};c(t=>[...t,e]),rn.error("Failed to get response")}finally{p(!1)}},className:"max-w-4xl mx-auto",children:[v&&(0,Rr.jsxs)("div",{className:"mb-3 flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Rr.jsx)("img",{src:v,alt:"Selected",className:"w-20 h-20 object-cover rounded"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null===f||void 0===f?void 0:f.name}),(0,Rr.jsxs)("p",{className:"text-xs text-gray-500",children:[f&&(f.size/1024).toFixed(1)," KB"]})]}),(0,Rr.jsx)("button",{type:"button",onClick:k,className:"text-gray-400 hover:text-gray-600",children:(0,Rr.jsx)(sa,{className:"w-5 h-5"})})]}),(0,Rr.jsxs)("div",{className:"flex gap-3",children:[(0,Rr.jsx)("input",{ref:j,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:e=>{const t=e.target.files[0];if(!t)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return void rn.error("Invalid image type. Only JPG, PNG, GIF, and WEBP are supported.");if(t.size>10485760)return void rn.error("Image too large. Maximum size is 10MB.");const n=new FileReader;n.onloadend=()=>{y(t),b(n.result)},n.readAsDataURL(t)},className:"hidden"}),(0,Rr.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=j.current)||void 0===e?void 0:e.click()},disabled:m,className:"inline-flex items-center p-2 border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Add image to search",children:(0,Rr.jsx)(Ia,{className:"w-5 h-5 text-gray-600"})}),(0,Rr.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:f?"Describe what you're looking for (optional)...":"Ask a question about the knowledge base...",disabled:m,className:"flex-1 rounded-lg border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 disabled:opacity-50"}),(0,Rr.jsx)("button",{type:"submit",disabled:m||!d.trim()&&!f,className:"inline-flex items-center px-6 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,Rr.jsx)(Fa,{className:"w-5 h-5 animate-spin"}):(0,Rr.jsx)(La,{className:"w-5 h-5"})})]})]})})]})},gi=Wr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),fi=Wr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),yi=Wr("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),vi=Wr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mr.get("/shopify/stores",{params:e})},ji=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Mr.post("/shopify/sync/".concat(e),t)},wi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mr.get("/shopify/products",{params:e})},Ni=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mr.get("/shopify/stats",{params:e})},ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mr.get("/shopify/products/stats",{params:e})},Si=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(null),[r,i]=(0,a.useState)({}),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(null),u=(0,a.useRef)(null);(0,a.useEffect)(()=>(m(),h(),()=>{x()}),[]),(0,a.useEffect)(()=>{e.length>0&&p()},[e]);const m=async()=>{try{o(!0);const[e,n]=await Promise.all([bi(),Ni()]);t(e.data.data.stores||[]),s(n.data.data)}catch(e){console.error("Load data error:",e),d(e.message)}finally{o(!1)}},p=async()=>{if(e&&0!==e.length)try{const t=e.map(async e=>{try{const n=await(t=e.id,Mr.get("/shopify/stores/".concat(t,"/sync-status")));return{storeId:e.id,data:n.data.data}}catch(c){return console.error("Error loading sync status for store ".concat(e.id,":"),c),{storeId:e.id,data:{is_syncing:!1,last_sync:null,next_sync:{enabled:!1}}}}var t}),n=await Promise.allSettled(t),s={};let r=!1;n.forEach(e=>{"fulfilled"===e.status&&e.value&&(s[e.value.storeId]=e.value.data,e.value.data.is_syncing&&(r=!0))}),i(s),r?(u.current&&clearInterval(u.current),u.current=setInterval(p,3e3)):u.current&&(clearInterval(u.current),u.current=null)}catch(c){console.error("Error loading sync statuses:",c),u.current&&(clearInterval(u.current),u.current=null)}},h=()=>{p()},x=()=>{u.current&&(clearInterval(u.current),u.current=null)},g=e=>{switch(e){case"active":return(0,Rr.jsx)(ia,{className:"w-5 h-5 text-green-500"});case"error":return(0,Rr.jsx)(gi,{className:"w-5 h-5 text-red-500"});default:return(0,Rr.jsx)(Za,{className:"w-5 h-5 text-yellow-500"})}},f=e=>{if(!e)return"Never";const t=Math.floor((new Date-new Date(e))/1e3);return t<60?"".concat(t,"s ago"):t<3600?"".concat(Math.floor(t/60),"m ago"):t<86400?"".concat(Math.floor(t/3600),"h ago"):"".concat(Math.floor(t/86400),"d ago")},y=e=>{var t;const n=r[e.id];if(!n)return(0,Rr.jsx)("div",{className:"text-sm text-gray-500",children:"Loading status..."});if(n.is_syncing){const{progress:e,timing:t}=n;return(0,Rr.jsxs)("div",{className:"space-y-2",children:[(0,Rr.jsxs)("div",{className:"relative",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between text-sm mb-1",children:[(0,Rr.jsxs)("span",{className:"text-blue-600 font-medium flex items-center",children:[(0,Rr.jsx)(Fa,{className:"w-4 h-4 mr-1 animate-spin"}),"Syncing..."]}),(0,Rr.jsxs)("span",{className:"text-gray-600",children:[e.percentage,"%"]})]}),(0,Rr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Rr.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.percentage,"%")}})})]}),(0,Rr.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[(0,Rr.jsxs)("span",{children:[e.products.processed," / ",e.products.total," products"]}),(0,Rr.jsx)("span",{children:t.estimated_remaining_seconds>0?"~".concat((s=t.estimated_remaining_seconds,s<60?"".concat(s,"s"):s<3600?"".concat(Math.floor(s/60),"m ").concat(s%60,"s"):"".concat(Math.floor(s/3600),"h ").concat(Math.floor(s%3600/60),"m"))," remaining"):"Calculating..."})]}),e.images.total>0&&(0,Rr.jsxs)("div",{className:"text-xs text-gray-500",children:[e.images.processed," / ",e.images.total," images processed"]})]})}var s;return(0,Rr.jsxs)("div",{className:"space-y-1",children:[n.last_sync?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Rr.jsx)(ia,{className:"w-4 h-4 mr-1 text-green-500"}),(0,Rr.jsxs)("span",{children:["Last synced: ",f(n.last_sync.completed_at)]})]}),(0,Rr.jsxs)("div",{className:"text-xs text-gray-500",children:[n.last_sync.products_processed," products, ",n.last_sync.images_processed," images"]})]}):(0,Rr.jsx)("div",{className:"text-sm text-gray-500",children:"Never synced"}),(null===(t=n.next_sync)||void 0===t?void 0:t.enabled)&&n.next_sync.next_sync_at&&(0,Rr.jsxs)("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[(0,Rr.jsx)(ja,{className:"w-3 h-3 mr-1"}),(0,Rr.jsxs)("span",{children:["Next sync: ",f(n.next_sync.next_sync_at)]})]})]})};return l?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)(ni,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Shopify Integration"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your Shopify stores and sync products"})]}),(0,Rr.jsxs)(Me,{to:"/shopify/connect",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Connect Store"]})]}),c&&(0,Rr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Rr.jsxs)("div",{className:"flex",children:[(0,Rr.jsx)(gi,{className:"w-5 h-5 text-red-400 mr-3"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-red-700",children:c})]})]})}),n&&(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(za,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Connected Stores"}),(0,Rr.jsxs)("dd",{className:"flex items-baseline",children:[(0,Rr.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:n.stores.active}),(0,Rr.jsxs)("div",{className:"ml-2 text-sm text-gray-500",children:["/ ",n.stores.total]})]})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(fi,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Products"}),(0,Rr.jsxs)("dd",{className:"flex items-baseline",children:[(0,Rr.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:n.products.active}),(0,Rr.jsxs)("div",{className:"ml-2 text-sm text-gray-500",children:["/ ",n.products.total]})]})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ia,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Images"}),(0,Rr.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:n.images.total})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Jr,{className:"h-6 w-6 text-gray-400"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Sync Jobs"}),(0,Rr.jsxs)("dd",{className:"flex items-baseline",children:[(0,Rr.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:n.sync_jobs.completed}),(0,Rr.jsxs)("div",{className:"ml-2 text-sm text-gray-500",children:["/ ",n.sync_jobs.total]})]})]})})]})})})]}),(0,Rr.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,Rr.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Connected Stores"}),0===e.length?(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)(za,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No stores connected"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by connecting your first Shopify store"}),(0,Rr.jsx)("div",{className:"mt-6",children:(0,Rr.jsxs)(Me,{to:"/shopify/connect",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Connect Store"]})})]}):(0,Rr.jsx)("div",{className:"space-y-4",children:e.map(e=>{var t,n;return(0,Rr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-primary-300 transition-colors",children:(0,Rr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-start space-x-3 flex-1",children:[g(e.status),(0,Rr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.shop_domain}),(0,Rr.jsx)("a",{href:"https://".concat(e.shop_domain),target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600",children:(0,Rr.jsx)(yi,{className:"w-4 h-4"})})]}),(0,Rr.jsx)("div",{className:"mt-3",children:y(e)})]})]}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[(0,Rr.jsxs)("button",{onClick:()=>(async e=>{try{const t=await ji(e);alert("Sync started! Job ID: ".concat(t.data.data.job_id)),await p()}catch(s){var t,n;alert("Sync failed: ".concat((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||s.message))}})(e.id),disabled:null===(t=r[e.id])||void 0===t?void 0:t.is_syncing,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Rr.jsx)(ni,{className:"w-3 h-3 mr-1 ".concat(null!==(n=r[e.id])&&void 0!==n&&n.is_syncing?"animate-spin":"")}),"Sync"]}),(0,Rr.jsxs)(Me,{to:"/shopify/stores/".concat(e.id),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(vi,{className:"w-3 h-3 mr-1"}),"Settings"]}),(0,Rr.jsxs)(Me,{to:"/shopify/products?kb_id=".concat(e.kb_id),className:"inline-flex items-center px-3 py-1.5 border border-primary-300 shadow-sm text-xs font-medium rounded text-primary-700 bg-primary-50 hover:bg-primary-100",children:[(0,Rr.jsx)(fi,{className:"w-3 h-3 mr-1"}),"Products"]})]})]})},e.id)})})]})})]})},Ci=Wr("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),_i=()=>{const e=te(),[t,n]=(0,a.useState)([]),[s,r]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)({kb_id:"",shop_domain:"",access_token:"",sync_settings:{auto_sync_enabled:!0,sync_frequency_minutes:1440,sync_status_filter:"active",sync_reviews:!1}});(0,a.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await la();n(e.data.data.knowledge_bases||[])}catch(e){console.error("Load KBs error:",e)}},p=e=>{const{name:t,value:n,type:s,checked:r}=e.target;if(t.startsWith("sync_")){const e=t.replace("sync_","");u(t=>Ve(Ve({},t),{},{sync_settings:Ve(Ve({},t.sync_settings),{},{[e]:"checkbox"===s?r:"number"===s?parseInt(n):n})}))}else u(e=>Ve(Ve({},e),{},{[t]:n}))};return(0,Rr.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Rr.jsxs)("div",{className:"mb-6",children:[(0,Rr.jsxs)("button",{onClick:()=>e("/shopify"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Stores"]}),(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Connect Shopify Store"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Connect your Shopify store to sync products and enable AI-powered search"})]}),(0,Rr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(!0);try{await(e=>Mr.post("/shopify/connect",e))(d),alert("Store connected successfully!"),e("/shopify")}catch(a){var n,s;alert("Connection failed: ".concat((null===(n=a.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.message)||a.message))}finally{r(!1)}},className:"bg-white shadow rounded-lg",children:[(0,Rr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Knowledge Base *"}),(0,Rr.jsxs)("select",{name:"kb_id",value:d.kb_id,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",required:!0,children:[(0,Rr.jsx)("option",{value:"",children:"Select a knowledge base"}),t.map(e=>(0,Rr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Products will be synced to this knowledge base"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Store Domain *"}),(0,Rr.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,Rr.jsxs)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:[(0,Rr.jsx)(za,{className:"w-4 h-4 mr-1"}),"https://"]}),(0,Rr.jsx)("input",{type:"text",name:"shop_domain",value:d.shop_domain,onChange:p,className:"flex-1 rounded-none rounded-r-md border-gray-300 focus:border-primary-500 focus:ring-primary-500",placeholder:"your-store.myshopify.com",required:!0})]}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Your Shopify store domain (e.g., your-store.myshopify.com)"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Access Token *"}),(0,Rr.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,Rr.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:(0,Rr.jsx)(Ci,{className:"w-4 h-4"})}),(0,Rr.jsx)("input",{type:"password",name:"access_token",value:d.access_token,onChange:p,className:"flex-1 rounded-none rounded-r-md border-gray-300 focus:border-primary-500 focus:ring-primary-500",placeholder:"shpat_xxxxxxxxxxxxx",required:!0})]}),(0,Rr.jsxs)("p",{className:"mt-1 text-sm text-gray-500 flex items-start",children:[(0,Rr.jsx)(qa,{className:"w-4 h-4 mr-1 mt-0.5 flex-shrink-0"}),(0,Rr.jsx)("span",{children:"Create a private app in Shopify Admin \u2192 Apps \u2192 Develop apps. Required scopes: read_products, read_inventory"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("button",{type:"button",onClick:async()=>{l(!0),c(null);try{const e=await(e=>Mr.post("/shopify/test-connection",e))({shop_domain:d.shop_domain,access_token:d.access_token});e.data.data.connected?c({success:!0,message:e.data.data.credits||"Connection successful!",shop:e.data.data.shop}):c({success:!1,message:"Connection failed"})}catch(n){var e,t;c({success:!1,message:(null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||n.message||"Connection failed"})}finally{l(!1)}},disabled:!d.shop_domain||!d.access_token||i,className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Testing...":"Test Connection"}),o&&(0,Rr.jsx)("div",{className:"mt-3 p-4 rounded-md ".concat(o.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"),children:(0,Rr.jsxs)("div",{className:"flex",children:[o.success?(0,Rr.jsx)(ia,{className:"w-5 h-5 text-green-400 mr-2"}):(0,Rr.jsx)(gi,{className:"w-5 h-5 text-red-400 mr-2"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium ".concat(o.success?"text-green-800":"text-red-800"),children:o.success?"Connection Successful":"Connection Failed"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm ".concat(o.success?"text-green-700":"text-red-700"),children:o.message}),o.shop&&(0,Rr.jsxs)("div",{className:"mt-2 text-sm text-green-700",children:[(0,Rr.jsxs)("p",{children:["Shop: ",o.shop.name]}),(0,Rr.jsxs)("p",{children:["Email: ",o.shop.email]}),(0,Rr.jsxs)("p",{children:["Currency: ",o.shop.currency]})]})]})]})})]}),(0,Rr.jsx)("hr",{}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"text-base font-medium text-gray-900 mb-4",children:"Sync Settings"}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)("div",{className:"flex items-center h-5",children:(0,Rr.jsx)("input",{type:"checkbox",name:"sync_auto_sync_enabled",checked:d.sync_settings.auto_sync_enabled,onChange:p,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Rr.jsxs)("div",{className:"ml-3",children:[(0,Rr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enable automatic sync"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically sync products on a schedule"})]})]}),d.sync_settings.auto_sync_enabled&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Frequency"}),(0,Rr.jsxs)("select",{name:"sync_sync_frequency_minutes",value:d.sync_settings.sync_frequency_minutes,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"60",children:"Every hour"}),(0,Rr.jsx)("option",{value:"360",children:"Every 6 hours"}),(0,Rr.jsx)("option",{value:"720",children:"Every 12 hours"}),(0,Rr.jsx)("option",{value:"1440",children:"Daily"}),(0,Rr.jsx)("option",{value:"10080",children:"Weekly"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Products"}),(0,Rr.jsxs)("select",{name:"sync_sync_status_filter",value:d.sync_settings.sync_status_filter,onChange:p,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"active",children:"Active products only"}),(0,Rr.jsx)("option",{value:"all",children:"All products"}),(0,Rr.jsx)("option",{value:"draft",children:"Draft products only"})]})]}),(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)("div",{className:"flex items-center h-5",children:(0,Rr.jsx)("input",{type:"checkbox",name:"sync_sync_reviews",checked:d.sync_settings.sync_reviews,onChange:p,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Rr.jsxs)("div",{className:"ml-3",children:[(0,Rr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sync product reviews"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Include product reviews in sync (if available)"})]})]})]})]})]}),(0,Rr.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-end space-x-3",children:[(0,Rr.jsx)("button",{type:"button",onClick:()=>e("/shopify"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Rr.jsx)("button",{type:"submit",disabled:s||!(null!==o&&void 0!==o&&o.success),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Connecting...":"Connect Store"})]})]})]})},Ai=Wr("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),Ei=Wr("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Ti=Wr("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Pi=Wr("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Ii=Wr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Oi=Wr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Mi=e=>{let{filters:t,onChange:n,onReset:s,vendors:r=[],productTypes:i=[]}=e;const[l,o]=a.useState(!1),c=(e,s)=>{n(Ve(Ve({},t),{},{[e]:s}))},d="all"!==t.vendor||"all"!==t.product_type||t.min_price||t.max_price;return(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Rr.jsxs)("button",{onClick:()=>o(!l),className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(Oi,{className:"w-4 h-4 mr-2"}),"Advanced Filters"]}),d&&(0,Rr.jsxs)("button",{onClick:s,className:"inline-flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900",children:[(0,Rr.jsx)(sa,{className:"w-4 h-4 mr-1"}),"Clear Filters"]})]}),l&&(0,Rr.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,Rr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor"}),(0,Rr.jsxs)("select",{value:t.vendor||"all",onChange:e=>c("vendor",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm",children:[(0,Rr.jsx)("option",{value:"all",children:"All Vendors"}),r.map(e=>(0,Rr.jsx)("option",{value:e,children:e},e))]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Type"}),(0,Rr.jsxs)("select",{value:t.product_type||"all",onChange:e=>c("product_type",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm",children:[(0,Rr.jsx)("option",{value:"all",children:"All Types"}),i.map(e=>(0,Rr.jsx)("option",{value:e,children:e},e))]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price (PKR)"}),(0,Rr.jsx)("input",{type:"number",min:"0",step:"100",value:t.min_price||"",onChange:e=>c("min_price",e.target.value),placeholder:"0",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price (PKR)"}),(0,Rr.jsx)("input",{type:"number",min:"0",step:"100",value:t.max_price||"",onChange:e=>c("max_price",e.target.value),placeholder:"No limit",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-sm"})]})]})})]})},Ri=Wr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Fi=Wr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Li=e=>{let{currentPage:t,totalPages:n,onPageChange:s,pageSize:r,onPageSizeChange:a,totalItems:i}=e;const l=[];let o=Math.max(1,t-Math.floor(3.5)),c=Math.min(n,o+7-1);c-o<6&&(o=Math.max(1,c-7+1));for(let d=o;d<=c;d++)l.push(d);return(0,Rr.jsxs)("div",{className:"flex items-center justify-between border-t border-gray-200 bg-white px-4 py-3 sm:px-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("span",{className:"text-sm text-gray-700 mr-2",children:"Show"}),(0,Rr.jsxs)("select",{value:r,onChange:e=>a(parseInt(e.target.value)),className:"rounded-md border-gray-300 text-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"10",children:"10"}),(0,Rr.jsx)("option",{value:"20",children:"20"}),(0,Rr.jsx)("option",{value:"50",children:"50"}),(0,Rr.jsx)("option",{value:"100",children:"100"})]}),(0,Rr.jsx)("span",{className:"text-sm text-gray-700 ml-2",children:"per page"})]}),(0,Rr.jsx)("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-center",children:(0,Rr.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing"," ",(0,Rr.jsx)("span",{className:"font-medium",children:(t-1)*r+1})," ","-"," ",(0,Rr.jsx)("span",{className:"font-medium",children:Math.min(t*r,i)})," ","of"," ",(0,Rr.jsx)("span",{className:"font-medium",children:i})," ","results"]})}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)("button",{onClick:()=>s(t-1),disabled:1===t,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Rr.jsx)(Ri,{className:"h-4 w-4"})}),o>1&&(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)("button",{onClick:()=>s(1),className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:"1"}),o>2&&(0,Rr.jsx)("span",{className:"text-gray-500",children:"..."})]}),l.map(e=>(0,Rr.jsx)("button",{onClick:()=>s(e),className:"relative inline-flex items-center rounded-md px-3 py-2 text-sm font-medium ".concat(e===t?"bg-primary-600 text-white border border-primary-600":"border border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),children:e},e)),c<n&&(0,Rr.jsxs)(Rr.Fragment,{children:[c<n-1&&(0,Rr.jsx)("span",{className:"text-gray-500",children:"..."}),(0,Rr.jsx)("button",{onClick:()=>s(n),className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50",children:n})]}),(0,Rr.jsx)("button",{onClick:()=>s(t+1),disabled:t===n,className:"relative inline-flex items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Rr.jsx)(Fi,{className:"h-4 w-4"})})]})]})},Di=()=>{const[e,t]=Le(),n=e.get("kb_id"),[s,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)({vendors:[],product_types:[]}),[d,u]=(0,a.useState)({page:1,limit:20,total:0,total_pages:0,has_next:!1,has_prev:!1}),[m,p]=(0,a.useState)(!0),[h,x]=(0,a.useState)({search:"",status:"all",vendor:"all",product_type:"all",min_price:"",max_price:"",sort_by:"created_at",sort_order:"DESC"});(0,a.useEffect)(()=>{n&&g()},[n,d.page,d.limit,h]),(0,a.useEffect)(()=>{n&&f()},[n]);const g=async()=>{try{var e,t,s,a,i,o;p(!0);const c=Ve({kb_id:n,page:d.page,limit:d.limit},h);Object.keys(c).forEach(e=>{""!==c[e]&&"all"!==c[e]||delete c[e]});const[m,x]=await Promise.all([wi(c),ki({kb_id:n})]);r(m.data.data.products||[]),u({page:(null===(e=m.data.data.pagination)||void 0===e?void 0:e.page)||1,limit:(null===(t=m.data.data.pagination)||void 0===t?void 0:t.limit)||20,total:(null===(s=m.data.data.pagination)||void 0===s?void 0:s.total)||0,total_pages:(null===(a=m.data.data.pagination)||void 0===a?void 0:a.total_pages)||0,has_next:(null===(i=m.data.data.pagination)||void 0===i?void 0:i.has_next)||!1,has_prev:(null===(o=m.data.data.pagination)||void 0===o?void 0:o.has_prev)||!1}),l(x.data.data)}catch(c){console.error("Load data error:",c)}finally{p(!1)}},f=async()=>{try{const e=await(e=>Mr.get("/shopify/products/filters/".concat(e)))(n);c(e.data.data)}catch(e){console.error("Load filter options error:",e)}},y=e=>{x(e),u(e=>Ve(Ve({},e),{},{page:1}))},v=e=>{x(t=>Ve(Ve({},t),{},{sort_by:e,sort_order:t.sort_by===e&&"DESC"===t.sort_order?"ASC":"DESC"})),u(e=>Ve(Ve({},e),{},{page:1}))},b=e=>{const t={active:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",archived:"bg-gray-100 text-gray-800"};return t[e]||t.active},j=e=>h.sort_by!==e?(0,Rr.jsx)(Ai,{className:"w-4 h-4 text-gray-400"}):"DESC"===h.sort_order?(0,Rr.jsx)(Ai,{className:"w-4 h-4 text-primary-600"}):(0,Rr.jsx)(Ai,{className:"w-4 h-4 text-primary-600 transform rotate-180"});return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Browse and manage synced products"})]}),(0,Rr.jsx)(Me,{to:"/shopify",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Back to Stores"})]}),i&&(0,Rr.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(fi,{className:"h-6 w-6 text-blue-600"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Products"}),(0,Rr.jsxs)("dd",{className:"flex items-baseline",children:[(0,Rr.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_products}),(0,Rr.jsx)("div",{className:"ml-2 flex items-baseline text-sm text-gray-600",children:(0,Rr.jsxs)("span",{className:"text-green-600",children:[i.by_status.active," active"]})})]})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ei,{className:"h-6 w-6 text-purple-600"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Vendors"}),(0,Rr.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_vendors})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ti,{className:"h-6 w-6 text-orange-600"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Product Types"}),(0,Rr.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_product_types})]})})]})})}),(0,Rr.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,Rr.jsx)("div",{className:"p-5",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Pi,{className:"h-6 w-6 text-green-600"})}),(0,Rr.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Rr.jsxs)("dl",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Inventory"}),(0,Rr.jsx)("dd",{className:"text-2xl font-semibold text-gray-900",children:i.summary.total_inventory.toLocaleString()})]})})]})})})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Rr.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,Rr.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,Rr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Rr.jsx)("form",{onSubmit:e=>{e.preventDefault(),u(e=>Ve(Ve({},e),{},{page:1}))},className:"flex-1",children:(0,Rr.jsxs)("div",{className:"relative",children:[(0,Rr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Rr.jsx)(Ga,{className:"h-5 w-5 text-gray-400"})}),(0,Rr.jsx)("input",{type:"text",value:h.search,onChange:e=>x(t=>Ve(Ve({},t),{},{search:e.target.value})),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search products, vendors, types..."})]})}),(0,Rr.jsxs)("select",{value:h.status,onChange:e=>y(Ve(Ve({},h),{},{status:e.target.value})),className:"block rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"all",children:"All Status"}),(0,Rr.jsx)("option",{value:"active",children:"Active"}),(0,Rr.jsx)("option",{value:"draft",children:"Draft"}),(0,Rr.jsx)("option",{value:"archived",children:"Archived"})]}),(0,Rr.jsxs)("button",{onClick:g,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(ni,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(0,Rr.jsx)(Mi,{filters:h,onChange:y,onReset:()=>{x({search:"",status:"all",vendor:"all",product_type:"all",min_price:"",max_price:"",sort_by:"created_at",sort_order:"DESC"}),u(e=>Ve(Ve({},e),{},{page:1}))},vendors:o.vendors,productTypes:o.product_types})]})}),m?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)(ni,{className:"w-8 h-8 animate-spin text-primary-600"})}):0===s.length?(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)(fi,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products found"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filters"})]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)("div",{className:"overflow-x-auto",children:(0,Rr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Rr.jsx)("thead",{className:"bg-gray-50",children:(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Rr.jsxs)("button",{onClick:()=>v("title"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Rr.jsx)("span",{children:"Product"}),j("title")]})}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Rr.jsxs)("button",{onClick:()=>v("vendor"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Rr.jsx)("span",{children:"Vendor"}),j("vendor")]})}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Rr.jsxs)("button",{onClick:()=>v("price"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Rr.jsx)("span",{children:"Price"}),j("price")]})}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Rr.jsxs)("button",{onClick:()=>v("total_inventory"),className:"flex items-center space-x-1 hover:text-gray-700",children:[(0,Rr.jsx)("span",{children:"Stock"}),j("total_inventory")]})}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Rr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>{var t,n;return(0,Rr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Rr.jsx)("td",{className:"px-6 py-4",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 h-12 w-12",children:e.image_url?(0,Rr.jsx)("img",{src:e.image_url,alt:e.title,className:"h-12 w-12 rounded object-cover"}):(0,Rr.jsx)("div",{className:"h-12 w-12 rounded bg-gray-200 flex items-center justify-center",children:(0,Rr.jsx)(fi,{className:"h-6 w-6 text-gray-400"})})}),(0,Rr.jsxs)("div",{className:"ml-4",children:[(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title}),e.product_type&&(0,Rr.jsx)("div",{className:"text-sm text-gray-500",children:e.product_type})]})]})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("div",{className:"text-sm text-gray-900",children:e.vendor||"-"})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("div",{className:"text-sm text-gray-900",children:(n=e.price,"PKR ".concat(parseFloat(n).toLocaleString()))})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("div",{className:"text-sm text-gray-900",children:e.total_inventory||0})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Rr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(b(e.status)),children:e.status})}),(0,Rr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Rr.jsx)(Me,{to:"/shopify/products/".concat(e.id),className:"text-primary-600 hover:text-primary-900 mr-3",children:(0,Rr.jsx)(Ii,{className:"w-4 h-4 inline"})}),(null===(t=e.shopify_metadata)||void 0===t?void 0:t.handle)&&(0,Rr.jsx)("a",{href:"https://".concat(e.shop_domain,"/products/").concat(e.shopify_metadata.handle),target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-600",children:(0,Rr.jsx)(yi,{className:"w-4 h-4 inline"})})]})]},e.id)})})]})}),(0,Rr.jsx)(Li,{currentPage:d.page,totalPages:d.total_pages,onPageChange:e=>{u(t=>Ve(Ve({},t),{},{page:e})),window.scrollTo({top:0,behavior:"smooth"})},pageSize:d.limit,onPageSizeChange:e=>{u(t=>Ve(Ve({},t),{},{limit:e,page:1}))},totalItems:d.total})]})]})]})},Ui=()=>{const{storeId:e}=se(),t=te(),[n,s]=(0,a.useState)(!0),[r,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)({auto_sync_enabled:!0,sync_frequency_minutes:1440,sync_status_filter:"active",sync_reviews:!1});(0,a.useEffect)(()=>{p()},[e]);const p=async()=>{try{s(!0);const t=await(e=>Mr.get("/shopify/stores/".concat(e)))(e);d(t.data),t.data.sync_settings&&m(t.data.sync_settings)}catch(t){console.error("Load store error:",t),rn.error("Failed to load store settings")}finally{s(!1)}},h=e=>{const{name:t,value:n,type:s,checked:r}=e.target;m(e=>Ve(Ve({},e),{},{[t]:"checkbox"===s?r:"number"===s?parseInt(n):n}))};return n?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)(ni,{className:"w-8 h-8 animate-spin text-primary-600"})}):c?(0,Rr.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Rr.jsxs)("div",{className:"mb-6",children:[(0,Rr.jsxs)("button",{onClick:()=>t("/shopify"),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Stores"]}),(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)(za,{className:"w-8 h-8 text-gray-400 mr-3"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:c.shop_domain}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Store Settings"})]})]}),(0,Rr.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat("active"===c.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:c.status})]})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Store Information"}),(0,Rr.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Shop Domain"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.shop_domain})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.status})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Products Synced"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.total_products_synced||0})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Sync"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:c.last_sync_at?new Date(c.last_sync_at).toLocaleString():"Never"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Sync Status"}),(0,Rr.jsx)("dd",{className:"mt-1",children:c.last_sync_status?(0,Rr.jsxs)("span",{className:"inline-flex items-center text-sm ".concat("success"===c.last_sync_status?"text-green-600":"text-red-600"),children:["success"===c.last_sync_status?(0,Rr.jsx)(ia,{className:"w-4 h-4 mr-1"}):(0,Rr.jsx)(Za,{className:"w-4 h-4 mr-1"}),c.last_sync_status]}):(0,Rr.jsx)("span",{className:"text-sm text-gray-500",children:"N/A"})})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(c.created_at).toLocaleDateString()})]})]})]}),(0,Rr.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),i(!0);try{await((e,t)=>Mr.put("/shopify/stores/".concat(e,"/settings"),t))(e,{sync_settings:u}),rn.success("Settings saved successfully!"),t("/shopify")}catch(a){var s,r;console.error("Save error:",a),rn.error((null===(s=a.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message)||"Failed to save settings")}finally{i(!1)}},className:"bg-white shadow rounded-lg",children:[(0,Rr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Sync Settings"}),(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)("div",{className:"flex items-center h-5",children:(0,Rr.jsx)("input",{type:"checkbox",name:"auto_sync_enabled",checked:u.auto_sync_enabled,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Rr.jsxs)("div",{className:"ml-3",children:[(0,Rr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enable automatic sync"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Automatically sync products on a schedule"})]})]}),u.auto_sync_enabled&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Frequency"}),(0,Rr.jsxs)("select",{name:"sync_frequency_minutes",value:u.sync_frequency_minutes,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"60",children:"Every hour"}),(0,Rr.jsx)("option",{value:"360",children:"Every 6 hours"}),(0,Rr.jsx)("option",{value:"720",children:"Every 12 hours"}),(0,Rr.jsx)("option",{value:"1440",children:"Daily"}),(0,Rr.jsx)("option",{value:"10080",children:"Weekly"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sync Products"}),(0,Rr.jsxs)("select",{name:"sync_status_filter",value:u.sync_status_filter,onChange:h,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"active",children:"Active products only"}),(0,Rr.jsx)("option",{value:"all",children:"All products"}),(0,Rr.jsx)("option",{value:"draft",children:"Draft products only"})]})]}),(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)("div",{className:"flex items-center h-5",children:(0,Rr.jsx)("input",{type:"checkbox",name:"sync_reviews",checked:u.sync_reviews,onChange:h,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})}),(0,Rr.jsxs)("div",{className:"ml-3",children:[(0,Rr.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Sync product reviews"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Include product reviews in sync (if available)"})]})]})]}),(0,Rr.jsxs)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,Rr.jsxs)("button",{type:"button",onClick:async()=>{try{const t=await ji(e,{job_type:"full_sync"});rn.success("Sync started! Job ID: ".concat(t.data.job_id))}catch(t){rn.error("Failed to start sync")}},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(ni,{className:"w-4 h-4 mr-2"}),"Test Sync Now"]}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Rr.jsx)("button",{type:"button",onClick:()=>t("/shopify"),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Rr.jsxs)("button",{type:"submit",disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:[(0,Rr.jsx)(ra,{className:"w-4 h-4 mr-2"}),r?"Saving...":"Save Settings"]})]})]})]}),(0,Rr.jsx)("div",{className:"mt-6 bg-white shadow rounded-lg border-2 border-red-200",children:(0,Rr.jsxs)("div",{className:"p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-red-900",children:"Danger Zone"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Once you disconnect this store, you won't be able to sync new products. Existing synced data will remain in your knowledge base."}),(0,Rr.jsx)("div",{className:"mt-4",children:(0,Rr.jsxs)("button",{type:"button",onClick:async()=>{if(window.confirm("Are you sure you want to disconnect this store? All synced data will remain but new syncs will stop.")){o(!0);try{await(e=>Mr.delete("/shopify/stores/".concat(e)))(e),rn.success("Store disconnected successfully"),t("/shopify")}catch(n){console.error("Delete error:",n),rn.error("Failed to disconnect store")}finally{o(!1)}}},disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50",children:[(0,Rr.jsx)(ta,{className:"w-4 h-4 mr-2"}),l?"Disconnecting...":"Disconnect Store"]})})]})})]}):(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)(Za,{className:"mx-auto h-12 w-12 text-red-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Store not found"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"The store you're looking for doesn't exist or has been removed."}),(0,Rr.jsx)("div",{className:"mt-6",children:(0,Rr.jsxs)("button",{onClick:()=>t("/shopify"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-2"}),"Back to Stores"]})})]})},zi=Wr("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Bi=()=>{var e,t;const{id:n}=se(),s=te(),[r,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(0);(0,a.useEffect)(()=>{p()},[n]);const p=async()=>{try{o(!0);const e=await(async e=>{try{const t=await Mr.get("/shopify/products/".concat(e));return t.data.data||t.data}catch(t){throw console.error("Get product error:",t),t}})(n);i(e),m(0)}catch(e){console.error("Error loading product:",e),rn.error("Failed to load product details")}finally{o(!1)}};if(l)return(0,Rr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Rr.jsx)(li,{className:"w-8 h-8 animate-spin text-primary-600"})});if(!r)return(0,Rr.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,Rr.jsx)(Za,{className:"w-16 h-16 text-gray-400 mb-4"}),(0,Rr.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Product Not Found"}),(0,Rr.jsx)("p",{className:"text-gray-600 mb-4",children:"The product you're looking for doesn't exist."}),(0,Rr.jsxs)("button",{onClick:()=>s(-1),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-2"}),"Go Back"]})]});const h=r.images||[],x=r.variants||[],g=r.tags?r.tags.map(e=>e.trim()).filter(Boolean):[];return(0,Rr.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Rr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Rr.jsxs)("div",{className:"mb-6",children:[(0,Rr.jsxs)("button",{onClick:()=>s(-1),className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Products"]}),(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:r.title}),(0,Rr.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Product ID: ",r.shopify_product_id]})]}),(0,Rr.jsxs)("div",{className:"flex gap-2",children:[(0,Rr.jsxs)("button",{onClick:async()=>{try{d(!0),await(async e=>{try{const t=await Mr.post("/shopify/products/".concat(e,"/refresh"));return t.data.data||t.data}catch(t){throw console.error("Refresh product error:",t),t}})(n),rn.success("Product refreshed successfully"),p()}catch(e){console.error("Error refreshing product:",e),rn.error("Failed to refresh product")}finally{d(!1)}},disabled:c,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:[(0,Rr.jsx)(ni,{className:"w-4 h-4 mr-2 ".concat(c?"animate-spin":"")}),"Refresh"]}),(0,Rr.jsxs)("button",{onClick:()=>{var e;null!==r&&void 0!==r&&null!==(e=r.shopify_metadata)&&void 0!==e&&e.admin_url?window.open(r.shopify_metadata.admin_url,"_blank"):null!==r&&void 0!==r&&r.shop_domain&&null!==r&&void 0!==r&&r.shopify_product_id&&window.open("https://".concat(r.shop_domain,"/admin/products/").concat(r.shopify_product_id),"_blank")},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(yi,{className:"w-4 h-4 mr-2"}),"Edit in Shopify"]}),(0,Rr.jsxs)("button",{onClick:async()=>{if(confirm("Are you sure you want to delete this product from the knowledge base? This will not affect your Shopify store."))try{await(async e=>{try{const t=await Mr.delete("/shopify/products/".concat(e));return t.data.data||t.data}catch(t){throw console.error("Delete product error:",t),t}})(n),rn.success("Product deleted successfully"),s(-1)}catch(e){console.error("Error deleting product:",e),rn.error("Failed to delete product")}},className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50",children:[(0,Rr.jsx)(ta,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:h.length>0?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Rr.jsx)("img",{src:null===(e=h[u])||void 0===e?void 0:e.url,alt:r.title,className:"w-full h-full object-contain",onError:e=>{e.target.src="/placeholder-image.png"}})}),h.length>1&&(0,Rr.jsx)("div",{className:"p-4 grid grid-cols-4 gap-2",children:h.map((e,t)=>(0,Rr.jsx)("button",{onClick:()=>m(t),className:"aspect-square rounded-lg overflow-hidden border-2 ".concat(u===t?"border-primary-500":"border-gray-200 hover:border-gray-300"),children:(0,Rr.jsx)("img",{src:e.url,alt:"".concat(r.title," ").concat(t+1),className:"w-full h-full object-cover"})},t))})]}):(0,Rr.jsx)("div",{className:"aspect-square bg-gray-100 flex items-center justify-center",children:(0,Rr.jsx)(Ia,{className:"w-24 h-24 text-gray-400"})})}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,Rr.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Image Information"}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Total Images:"}),(0,Rr.jsx)("span",{className:"ml-2 font-medium",children:h.length})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Primary Image:"}),(0,Rr.jsx)("span",{className:"ml-2 font-medium",children:r.primary_image_id?"Set":"Not set"})]})]})]})]}),(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Price"}),(0,Rr.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["$",parseFloat(r.price||0).toFixed(2)]})]}),(0,Rr.jsxs)("div",{className:"text-right",children:[(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Status"}),(0,Rr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("active"===r.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:r.status||"Unknown"})]})]}),r.compare_at_price&&parseFloat(r.compare_at_price)>parseFloat(r.price)&&(0,Rr.jsx)("div",{className:"mt-2",children:(0,Rr.jsxs)("p",{className:"text-sm text-gray-600",children:["Compare at:"," ",(0,Rr.jsxs)("span",{className:"line-through",children:["$",parseFloat(r.compare_at_price).toFixed(2)]}),(0,Rr.jsxs)("span",{className:"ml-2 text-red-600 font-medium",children:["Save $",(parseFloat(r.compare_at_price)-parseFloat(r.price)).toFixed(2)]})]})})]}),r.description&&(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,Rr.jsx)(aa,{className:"w-5 h-5 mr-2"}),"Description"]}),(0,Rr.jsx)("div",{className:"text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:r.description}})]}),x.length>0&&(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,Rr.jsx)(fi,{className:"w-5 h-5 mr-2"}),"Variants (",x.length,")"]}),(0,Rr.jsx)("div",{className:"space-y-3",children:x.map((e,t)=>(0,Rr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("p",{className:"font-medium text-gray-900",children:e.title}),e.sku&&(0,Rr.jsxs)("p",{className:"text-sm text-gray-600",children:["SKU: ",e.sku]})]}),(0,Rr.jsxs)("div",{className:"text-right",children:[(0,Rr.jsxs)("p",{className:"font-semibold text-gray-900",children:["$",parseFloat(e.price||0).toFixed(2)]}),e.compare_at_price&&(0,Rr.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:["$",parseFloat(e.compare_at_price).toFixed(2)]})]})]}),(0,Rr.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Inventory:"}),(0,Rr.jsxs)("span",{className:"ml-2 font-medium ".concat(e.inventory_quantity>0?"text-green-600":"text-red-600"),children:[e.inventory_quantity||0," units"]})]}),e.weight&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Weight:"}),(0,Rr.jsxs)("span",{className:"ml-2 font-medium",children:[e.weight," ",e.weight_unit]})]})]}),e.barcode&&(0,Rr.jsxs)("div",{className:"mt-2 text-sm",children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Barcode:"}),(0,Rr.jsx)("span",{className:"ml-2 font-mono text-gray-900",children:e.barcode})]})]},t))})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Information"}),(0,Rr.jsxs)("dl",{className:"grid grid-cols-1 gap-4",children:[r.vendor&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Vendor"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.vendor})]}),r.product_type&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Product Type"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:r.product_type})]}),g.length>0&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-600 mb-2",children:"Tags"}),(0,Rr.jsx)("dd",{className:"flex flex-wrap gap-2",children:g.map((e,t)=>(0,Rr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[(0,Rr.jsx)(Ti,{className:"w-3 h-3 mr-1"}),e]},t))})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Created"}),(0,Rr.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[(0,Rr.jsx)(zi,{className:"w-4 h-4 mr-1"}),new Date(r.created_at).toLocaleString()]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),(0,Rr.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[(0,Rr.jsx)(zi,{className:"w-4 h-4 mr-1"}),new Date(r.updated_at).toLocaleString()]})]}),(null===(t=r.shopify_metadata)||void 0===t?void 0:t.handle)&&(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("dt",{className:"text-sm font-medium text-gray-600",children:"Product Handle"}),(0,Rr.jsx)("dd",{className:"mt-1 text-sm text-gray-900 font-mono",children:r.shopify_metadata.handle})]})]})]}),r.shopify_metadata&&Object.keys(r.shopify_metadata).length>0&&(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shopify Metadata"}),(0,Rr.jsxs)("div",{className:"space-y-2 text-sm",children:[r.shopify_metadata.published_at&&(0,Rr.jsxs)("div",{className:"flex justify-between",children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Published:"}),(0,Rr.jsx)("span",{className:"text-gray-900",children:new Date(r.shopify_metadata.published_at).toLocaleDateString()})]}),r.shopify_metadata.template_suffix&&(0,Rr.jsxs)("div",{className:"flex justify-between",children:[(0,Rr.jsx)("span",{className:"text-gray-600",children:"Template:"}),(0,Rr.jsx)("span",{className:"text-gray-900",children:r.shopify_metadata.template_suffix})]})]})]})]})]})]})})},qi=Wr("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]),Vi=Wr("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),Wi=Wr("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 11v5a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v2H6v-2a2 2 0 0 0-4 0Z",key:"u5qfb7"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]),Hi=Wr("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]),Gi=()=>{var e;const{id:t}=se(),n=te(),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]);(0,a.useEffect)(()=>{m()},[t]);const m=async()=>{try{r(!0);const[n,s]=await Promise.all([(e=t,Mr.get("/conversation-strategy/".concat(e))),pa()]);c(n.data.data),u(s.data.data)}catch(n){console.error("Error loading conversation strategy:",n),rn.error("Failed to load conversation strategy")}finally{r(!1)}var e},p=async e=>{try{l(!0);const n=await((e,t)=>Mr.post("/conversation-strategy/apply-preset/".concat(e),{preset_id:t}))(t,e);c(n.data.data),rn.success("Preset applied successfully")}catch(n){console.error("Error applying preset:",n),rn.error("Failed to apply preset")}finally{l(!1)}},h=e=>{c(Ve(Ve({},o),{},{preference_collection:Ve(Ve({},o.preference_collection),{},{strategy:e})}))};if(s)return(0,Rr.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Rr.jsx)(Fa,{className:"animate-spin",size:32})});if(!o)return(0,Rr.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)(Za,{size:48,className:"mx-auto mb-4 text-red-500"}),(0,Rr.jsx)("p",{className:"text-gray-600",children:"Failed to load conversation strategy"})]})});const x=(null===(e=o.preference_collection)||void 0===e?void 0:e.strategy)||"immediate_search";return(0,Rr.jsxs)("div",{className:"p-6 max-w-5xl mx-auto",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Rr.jsx)("button",{onClick:()=>n("/agents/".concat(t)),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,Rr.jsx)(Xa,{size:20})}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-2xl font-bold",children:"Conversation Strategy"}),(0,Rr.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Configure how your agent collects preferences and searches"})]})]}),(0,Rr.jsx)("button",{onClick:async()=>{try{l(!0),await((e,t)=>Mr.put("/conversation-strategy/".concat(e),t))(t,o),rn.success("Conversation strategy saved successfully")}catch(e){console.error("Error saving strategy:",e),rn.error("Failed to save conversation strategy")}finally{l(!1)}},disabled:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Fa,{size:18,className:"animate-spin"}),"Saving..."]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(ra,{size:18}),"Save Changes"]})})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Rr.jsx)(aa,{size:20,className:"text-blue-500"}),(0,Rr.jsx)("h2",{className:"text-lg font-semibold",children:"Quick Presets"})]}),(0,Rr.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Apply a preset configuration based on your business type"}),(0,Rr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(e=>{const t={shirt:qi,laptop:Vi,couch:Wi,utensils:Hi}[e.icon]||aa;return(0,Rr.jsxs)("button",{onClick:()=>p(e.id),disabled:i,className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors text-left disabled:opacity-50",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Rr.jsx)(t,{size:24,className:"text-blue-600"}),(0,Rr.jsx)("h3",{className:"font-semibold",children:e.name})]}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Rr.jsx)("div",{className:"flex items-center gap-2",children:(0,Rr.jsx)("span",{className:"text-xs px-2 py-1 bg-gray-100 rounded",children:0===e.strategy.preference_collection.max_questions?"No questions":"".concat(e.strategy.preference_collection.max_questions," questions")})})]},e.id)})})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,Rr.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"\ud83d\udecd\ufe0f Product Search Strategy"}),(0,Rr.jsx)("p",{className:"text-gray-600 text-sm mb-6",children:"Configure how your agent searches for products"}),(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"strategy",value:"immediate_search",checked:"immediate_search"===x,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-semibold",children:"Immediate Search"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded",children:"Fast"})]}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Search as soon as user requests products. No questions asked."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Furniture, Food, Low-ticket items"})]})]}),(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"strategy",value:"ask_questions",checked:"ask_questions"===x,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-semibold",children:"Ask Questions First"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:"Personalized"})]}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Collect user preferences before searching for products."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Clothing, Fashion, High-value items"}),"ask_questions"===x&&(0,Rr.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded text-sm text-blue-700",children:[(0,Rr.jsx)(aa,{size:16,className:"inline mr-1"}),"Advanced configuration coming in Phase 2"]})]})]}),(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"strategy",value:"minimal_questions",checked:"minimal_questions"===x,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-semibold",children:"Minimal Questions (1-2)"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded",children:"Balanced"})]}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"Ask only 1-2 critical questions before searching."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Electronics, Mid-range items"})]})]}),(0,Rr.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[(0,Rr.jsx)("input",{type:"radio",name:"strategy",value:"adaptive",checked:"adaptive"===x,onChange:e=>h(e.target.value),className:"mt-1"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Rr.jsx)("span",{className:"font-semibold",children:"Adaptive (Smart)"}),(0,Rr.jsx)("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 rounded",children:"Intelligent"})]}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:"AI decides based on product type, value, and context."}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Best for: Multi-category stores"})]})]})]})]}),(0,Rr.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Rr.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Rr.jsx)(ia,{size:20,className:"text-green-600 mt-0.5"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"font-semibold text-green-900 mb-1",children:"Current Configuration"}),(0,Rr.jsxs)("p",{className:"text-sm text-green-700",children:["Your agent is using ",(0,Rr.jsx)("strong",{children:x.replace("_"," ")})," strategy.","immediate_search"===x&&" Products will be shown immediately.","ask_questions"===x&&" Agent will collect preferences before searching.","minimal_questions"===x&&" Agent will ask 1-2 quick questions.","adaptive"===x&&" AI will decide the best approach."]})]})]})})]})},Ki=e=>{let{user:t,onSave:n,onClose:s}=e;const{user:r}=Lr(),[i,l]=(0,a.useState)({name:"",email:"",password:"",role:"client",is_active:!0}),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null);(0,a.useEffect)(()=>{t&&l({name:t.name,email:t.email,password:"",role:t.role,is_active:t.is_active})},[t]);const m=(e,t)=>{l(n=>Ve(Ve({},n),{},{[e]:t}))};return(0,Rr.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t?"Edit User":"Create User"}),(0,Rr.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,Rr.jsx)(sa,{className:"w-5 h-5"})})]}),(0,Rr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(null),c(!0);try{if(!i.name||!i.email)throw new Error("Name and email are required");if(!t&&!i.password)throw new Error("Password is required for new users");if(i.password&&i.password.length<6)throw new Error("Password must be at least 6 characters");const e={name:i.name,email:i.email,role:i.role,is_active:i.is_active};i.password&&(e.password=i.password),await n(e)}catch(s){u(s.message),c(!1)}},className:"p-6 space-y-4",children:[d&&(0,Rr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,Rr.jsx)("p",{className:"text-sm text-red-800",children:d})}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),(0,Rr.jsx)("input",{type:"text",required:!0,value:i.name,onChange:e=>m("name",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"John Doe"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,Rr.jsx)("input",{type:"email",required:!0,value:i.email,onChange:e=>m("email",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:"john@example.com"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",!t&&"*"]}),(0,Rr.jsx)("input",{type:"password",required:!t,value:i.password,onChange:e=>m("password",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",placeholder:t?"Leave blank to keep current":"Min 6 characters",minLength:6}),t&&(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank to keep current password"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),(0,Rr.jsx)("select",{required:!0,value:i.role,onChange:e=>m("role",e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:("super_admin"===(null===r||void 0===r?void 0:r.role)?[{value:"super_admin",label:"Super Admin"},{value:"admin",label:"Admin"},{value:"agent_manager",label:"Agent Manager"},{value:"client",label:"Client"}]:"admin"===(null===r||void 0===r?void 0:r.role)?[{value:"admin",label:"Admin"},{value:"agent_manager",label:"Agent Manager"},{value:"client",label:"Client"}]:[{value:"agent_manager",label:"Agent Manager"},{value:"client",label:"Client"}]).map(e=>(0,Rr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Rr.jsxs)("div",{className:"bg-gray-50 rounded-md p-3 text-xs text-gray-600",children:[(0,Rr.jsx)("p",{className:"font-medium mb-1",children:"Role Permissions:"}),(0,Rr.jsxs)("ul",{className:"space-y-1",children:[(0,Rr.jsxs)("li",{children:[(0,Rr.jsx)("strong",{children:"Super Admin:"})," Full system access"]}),(0,Rr.jsxs)("li",{children:[(0,Rr.jsx)("strong",{children:"Admin:"})," Manage users, credits, agents"]}),(0,Rr.jsxs)("li",{children:[(0,Rr.jsx)("strong",{children:"Agent Manager:"})," Create and manage agents"]}),(0,Rr.jsxs)("li",{children:[(0,Rr.jsx)("strong",{children:"Client:"})," View-only access"]})]})]}),t&&(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:e=>m("is_active",e.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,Rr.jsx)("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700",children:"Account is active"})]}),(0,Rr.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Rr.jsx)("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,Rr.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:o?"Saving...":t?"Update User":"Create User"})]})]})]})})},Ji=Wr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Qi=e=>{let{title:t,message:n,confirmText:s="Confirm",cancelText:r="Cancel",confirmStyle:a="primary",onConfirm:i,onCancel:l}=e;const o="danger"===a?"bg-red-600 hover:bg-red-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white";return(0,Rr.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,Rr.jsxs)("div",{className:"flex items-start p-6",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(Ji,{className:"h-6 w-6 ".concat("danger"===a?"text-red-600":"text-yellow-600")})}),(0,Rr.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t}),(0,Rr.jsx)("div",{className:"mt-2",children:(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:n})})]}),(0,Rr.jsx)("button",{onClick:l,className:"text-gray-400 hover:text-gray-500",children:(0,Rr.jsx)(sa,{className:"w-5 h-5"})})]}),(0,Rr.jsxs)("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-end space-x-3",children:[(0,Rr.jsx)("button",{onClick:l,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:r}),(0,Rr.jsx)("button",{onClick:i,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium ".concat(o),children:s})]})]})})},Yi=()=>{const{user:e}=Lr(),[t,n]=(0,a.useState)([]),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(""),[o,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[h,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{g()},[o]);const g=async()=>{try{r(!0);const e={};"all"!==o&&(e.role=o);const t=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Mr.get("/users",{params:e})}(e);n(t.data.data.users||[])}catch(e){console.error("Load users error:",e),rn.error("Failed to load users")}finally{r(!1)}},f=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.email.toLowerCase().includes(i.toLowerCase())),y=["admin","super_admin"].includes(null===e||void 0===e?void 0:e.role);return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage users and their permissions"})]}),y&&(0,Rr.jsxs)("button",{onClick:()=>{p(null),u(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[(0,Rr.jsx)(Yr,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),(0,Rr.jsx)("div",{className:"bg-white shadow rounded-lg p-4",children:(0,Rr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Rr.jsx)("div",{className:"flex-1",children:(0,Rr.jsxs)("div",{className:"relative",children:[(0,Rr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,Rr.jsx)(Ga,{className:"h-5 w-5 text-gray-400"})}),(0,Rr.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",placeholder:"Search users..."})]})}),(0,Rr.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"block rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"all",children:"All Roles"}),(0,Rr.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,Rr.jsx)("option",{value:"admin",children:"Admin"}),(0,Rr.jsx)("option",{value:"agent_manager",children:"Agent Manager"}),(0,Rr.jsx)("option",{value:"client",children:"Client"})]}),(0,Rr.jsxs)("button",{onClick:g,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[(0,Rr.jsx)(ni,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),(0,Rr.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)(ni,{className:"w-8 h-8 animate-spin text-primary-600"})}):0===f.length?(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)(Ba,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Rr.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No users found"}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:i?"Try adjusting your search":"Get started by adding a user"})]}):(0,Rr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Rr.jsx)("thead",{className:"bg-gray-50",children:(0,Rr.jsxs)("tr",{children:[(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Rr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),y&&(0,Rr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Rr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(t=>{return(0,Rr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Rr.jsx)("td",{className:"px-6 py-4",children:(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,Rr.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,Rr.jsx)("span",{className:"text-primary-600 font-medium text-sm",children:t.name.charAt(0).toUpperCase()})})}),(0,Rr.jsxs)("div",{className:"ml-4",children:[(0,Rr.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[t.name,t.id===(null===e||void 0===e?void 0:e.id)&&(0,Rr.jsx)("span",{className:"ml-2 text-xs text-gray-500",children:"(You)"})]}),(0,Rr.jsx)("div",{className:"text-sm text-gray-500",children:t.email})]})]})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(s=t.role,(0,Rr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat({super_admin:"bg-purple-100 text-purple-800",admin:"bg-blue-100 text-blue-800",agent_manager:"bg-green-100 text-green-800",client:"bg-gray-100 text-gray-800"}[s]),children:{super_admin:"Super Admin",admin:"Admin",agent_manager:"Agent Manager",client:"Client"}[s]}))}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:t.is_active?(0,Rr.jsxs)("span",{className:"inline-flex items-center text-sm text-green-600",children:[(0,Rr.jsx)(ia,{className:"w-4 h-4 mr-1"}),"Active"]}):(0,Rr.jsxs)("span",{className:"inline-flex items-center text-sm text-red-600",children:[(0,Rr.jsx)(gi,{className:"w-4 h-4 mr-1"}),"Inactive"]})}),(0,Rr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(n=t.last_login_at,n?new Date(n).toLocaleString():"Never")}),y&&(0,Rr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,Rr.jsx)("button",{onClick:()=>(e=>{p(e),u(!0)})(t),className:"text-primary-600 hover:text-primary-900 mr-3",children:(0,Rr.jsx)(Qa,{className:"w-4 h-4 inline"})}),t.id!==(null===e||void 0===e?void 0:e.id)&&(0,Rr.jsx)("button",{onClick:()=>(e=>{x(e)})(t),className:"text-red-600 hover:text-red-900",children:(0,Rr.jsx)(ta,{className:"w-4 h-4 inline"})})]})]},t.id);var n,s})})]})}),d&&(0,Rr.jsx)(Ki,{user:m,onSave:async e=>{try{m?(await((e,t)=>Mr.put("/users/".concat(e),t))(m.id,e),rn.success("User updated successfully")):(await(e=>Mr.post("/users",e))(e),rn.success("User created successfully")),u(!1),g()}catch(s){var t,n;throw console.error("Save user error:",s),new Error((null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to save user")}},onClose:()=>u(!1)}),h&&(0,Rr.jsx)(Qi,{title:"Delete User",message:"Are you sure you want to delete ".concat(h.name,"? This action cannot be undone."),confirmText:"Delete",confirmStyle:"danger",onConfirm:async()=>{try{await(n=h.id,Mr.delete("/users/".concat(n))),rn.success("User deleted successfully"),x(null),g()}catch(s){var e,t;console.error("Delete user error:",s),rn.error((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to delete user")}var n},onCancel:()=>x(null)})]})},Xi=()=>{const{id:e}=se(),[t,n]=(0,a.useState)(null),[s,r]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)({enable_chat_integration:!1,chat_page_enabled:!1,chat_page_slug:"",widget_config:{primary_color:"#6366f1",position:"bottom-right",button_text:"Chat with us",greeting_message:"Hello! How can I help you today?"}});(0,a.useEffect)(()=>{m()},[e]);const m=async()=>{try{r(!0);const t=(await Pr(e)).data.agent;n(t),u({enable_chat_integration:t.enable_chat_integration||!1,chat_page_enabled:t.chat_page_enabled||!1,chat_page_slug:t.chat_page_slug||"",widget_config:t.widget_config||d.widget_config})}catch(t){console.error("Load agent error:",t),rn.error("Failed to load agent")}finally{r(!1)}},p=e=>{navigator.clipboard.writeText(e),l(!0),rn.success("Copied to clipboard!"),setTimeout(()=>l(!1),2e3)},h="\x3c!-- AIVA Chat Widget --\x3e\n<script>\n  (function(w,d,s,o,f,js,fjs){\n    w['AIVAWidget']=o;w[o] = w[o] || function () { (w[o].q = w[o].q || []).push(arguments) };\n    js = d.createElement(s), fjs = d.getElementsByTagName(s)[0];\n    js.id = o; js.src = f; js.async = 1; fjs.parentNode.insertBefore(js, fjs);\n  }(window, document, 'script', 'aiva', '".concat(window.location.origin,"/aiva/widget.js'));\n  aiva('init', {\n    agentId: '").concat(e,"',\n    // API URL will auto-detect from widget source\n    // Or explicitly set: apiUrl: 'https://your-domain.com/aiva/api/public/chat',\n    primaryColor: '").concat(d.widget_config.primary_color,"',\n    position: '").concat(d.widget_config.position,"'\n  });\n<\/script>"),x=d.chat_page_slug?"".concat(window.location.origin,"/aiva/chat/").concat(d.chat_page_slug):"".concat(window.location.origin,"/aiva/chat/").concat(e);return s?(0,Rr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsx)("div",{className:"flex items-center justify-between",children:(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)(Me,{to:"/agents/".concat(e),className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-2",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-1"}),"Back to Agent"]}),(0,Rr.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Chat Integration - ",null===t||void 0===t?void 0:t.name]}),(0,Rr.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Embed your AI agent on websites or share a standalone chat page"})]})}),(0,Rr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,Rr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(ea,{className:"h-8 w-8 text-primary-600"})}),(0,Rr.jsxs)("div",{className:"ml-4",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Chat Widget"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Embeddable chat bubble for your website"})]})]}),(0,Rr.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Rr.jsx)("input",{type:"checkbox",checked:d.enable_chat_integration,onChange:e=>u(t=>Ve(Ve({},t),{},{enable_chat_integration:e.target.checked})),className:"sr-only peer"}),(0,Rr.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})}),d.enable_chat_integration&&(0,Rr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Rr.jsxs)("div",{className:"space-y-4",children:[(0,Rr.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Widget Appearance"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Color"}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)("input",{type:"color",value:d.widget_config.primary_color,onChange:e=>u(t=>Ve(Ve({},t),{},{widget_config:Ve(Ve({},t.widget_config),{},{primary_color:e.target.value})})),className:"h-10 w-20 rounded border border-gray-300"}),(0,Rr.jsx)("input",{type:"text",value:d.widget_config.primary_color,onChange:e=>u(t=>Ve(Ve({},t),{},{widget_config:Ve(Ve({},t.widget_config),{},{primary_color:e.target.value})})),className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),(0,Rr.jsxs)("select",{value:d.widget_config.position,onChange:e=>u(t=>Ve(Ve({},t),{},{widget_config:Ve(Ve({},t.widget_config),{},{position:e.target.value})})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,Rr.jsx)("option",{value:"bottom-right",children:"Bottom Right"}),(0,Rr.jsx)("option",{value:"bottom-left",children:"Bottom Left"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Button Text"}),(0,Rr.jsx)("input",{type:"text",value:d.widget_config.button_text,onChange:e=>u(t=>Ve(Ve({},t),{},{widget_config:Ve(Ve({},t.widget_config),{},{button_text:e.target.value})})),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Embed Code"}),(0,Rr.jsx)("button",{onClick:()=>p(h),className:"inline-flex items-center text-sm text-primary-600 hover:text-primary-700",children:i?(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Ma,{className:"w-4 h-4 mr-1"}),"Copied!"]}):(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)(Ra,{className:"w-4 h-4 mr-1"}),"Copy"]})})]}),(0,Rr.jsx)("div",{className:"relative",children:(0,Rr.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-xs",children:(0,Rr.jsx)("code",{children:h})})}),(0,Rr.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"Paste this code before the closing </body> tag of your website"})]})]})]}),(0,Rr.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,Rr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0",children:(0,Rr.jsx)(ti,{className:"h-8 w-8 text-primary-600"})}),(0,Rr.jsxs)("div",{className:"ml-4",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Standalone Chat Page"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Full-page OpenAI-style chat interface"})]})]}),(0,Rr.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Rr.jsx)("input",{type:"checkbox",checked:d.chat_page_enabled,onChange:e=>u(t=>Ve(Ve({},t),{},{chat_page_enabled:e.target.checked})),className:"sr-only peer"}),(0,Rr.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})}),d.chat_page_enabled&&(0,Rr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom URL Slug (optional)"}),(0,Rr.jsxs)("div",{className:"flex rounded-md shadow-sm",children:[(0,Rr.jsxs)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:[window.location.origin,"/aiva/chat/"]}),(0,Rr.jsx)("input",{type:"text",value:d.chat_page_slug,onChange:e=>u(t=>Ve(Ve({},t),{},{chat_page_slug:e.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")})),placeholder:e,className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border-gray-300 focus:border-primary-500 focus:ring-primary-500"})]}),(0,Rr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Leave empty to use agent ID"})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Chat Page URL"}),(0,Rr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Rr.jsx)("div",{className:"flex-1 bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-sm text-gray-700 font-mono",children:x}),(0,Rr.jsx)("button",{onClick:()=>p(x),className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:(0,Rr.jsx)(Ra,{className:"w-4 h-4"})}),(0,Rr.jsx)("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:(0,Rr.jsx)(yi,{className:"w-4 h-4"})})]})]}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),(0,Rr.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:(0,Rr.jsx)("iframe",{src:x,className:"w-full h-96",title:"Chat Preview"})})]})]})]})]}),(0,Rr.jsx)("div",{className:"flex justify-end",children:(0,Rr.jsx)("button",{onClick:async()=>{try{c(!0),await((e,t)=>Er.put("/agents/".concat(e,"/chat-integration"),t))(e,d),rn.success("Integration settings saved"),m()}catch(t){console.error("Save error:",t),rn.error("Failed to save settings")}finally{c(!1)}},disabled:o,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:o?"Saving...":"Save Settings"})})]})},Zi=e=>{var t,n,s,r,i,l,o,c,d,u,m,p,h,x,g;let{source:f,index:y}=e;const[v,b]=(0,a.useState)(!1);return(0,Rr.jsx)("div",{className:"bg-gray-50 rounded-lg overflow-hidden text-xs",children:(0,Rr.jsxs)("div",{className:"p-3",children:[(0,Rr.jsxs)("div",{className:"font-semibold text-gray-900 mb-2 flex items-start gap-2",children:[(0,Rr.jsx)("span",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center text-[10px] font-bold",children:y+1}),(0,Rr.jsx)("span",{className:"flex-1",children:(null===(t=f.source)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.title)||(null===(s=f.metadata)||void 0===s?void 0:s.title)||"Document"})]}),console.log(f),(0,Rr.jsx)("div",{className:"text-gray-600 mb-2",style:{display:v?"block":"-webkit-box",WebkitLineClamp:v?"unset":2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:f.content}),(f.page||f.relevance_score)&&(0,Rr.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 mb-2",children:[f.page&&(0,Rr.jsxs)("span",{children:["\ud83d\udcc4 Page ",(null===(r=f.source)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.page)||(null===(l=f.metadata)||void 0===l?void 0:l.page)||""]}),(null===(o=f.source)||void 0===o||null===(c=o.metadata)||void 0===c?void 0:c.relevance_score)||f.relevance_score&&(0,Rr.jsxs)("span",{children:["\ud83c\udfaf ",(100*((null===(d=f.source)||void 0===d?void 0:d.relevance_score)||f.relevance_score||f.score)).toFixed(0),"% match"]})]}),f.content&&f.content.length>150&&(0,Rr.jsx)("button",{onClick:()=>b(!v),className:"text-primary-600 hover:text-primary-700 font-medium inline-flex items-center gap-1",children:v?(0,Rr.jsxs)(Rr.Fragment,{children:["Show less",(0,Rr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Rr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]}):(0,Rr.jsxs)(Rr.Fragment,{children:["Show more",(0,Rr.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Rr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),(f.url||(null===(u=f.source)||void 0===u||null===(m=u.metadata)||void 0===m?void 0:m.source_url)||(null===f||void 0===f||null===(p=f.metadata)||void 0===p?void 0:p.source_url))&&(0,Rr.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200",children:(0,Rr.jsxs)("a",{href:f.url||(null===(h=f.source)||void 0===h||null===(x=h.metadata)||void 0===x?void 0:x.source_url)||(null===(g=f.metadata)||void 0===g?void 0:g.source_url),target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 inline-flex items-center gap-1 font-medium",children:[(0,Rr.jsx)(yi,{className:"w-3 h-3"}),"View source"]})})]})})},$i=()=>{const{agentId:e}=se(),[t,n]=(0,a.useState)(null),[s,r]=(0,a.useState)(null),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1),h=(0,a.useRef)(null),x=window.location.origin+"/aiva/api/public/chat";(0,a.useEffect)(()=>{g()},[e]),(0,a.useEffect)(()=>{v()},[i]);const g=async()=>{try{u(!0);const t=localStorage.getItem("aiva_chat_".concat(e));t&&(n(t),await f(t));const s=await Ar.get("".concat(x,"/agent/").concat(e,"/config"));if(s.data.success&&r(s.data.data),!t){const t=await Ar.post("".concat(x,"/init"),{agent_id:e,visitor_info:{url:window.location.href,referrer:document.referrer}});if(t.data.success){const s=t.data.data.session_id;n(s),localStorage.setItem("aiva_chat_".concat(e),s),t.data.data.agent.greeting&&l([{id:"greeting",role:"assistant",content:t.data.data.agent.greeting,created_at:(new Date).toISOString()}])}}}catch(t){console.error("Init error:",t)}finally{u(!1)}},f=async e=>{try{const t=await Ar.get("".concat(x,"/history/").concat(e));if(t.data.success){const e=t.data.data.messages.map(e=>({id:e.id,role:e.role,content:e.content,html:e.content_html,formatted_html:e.formatted_html,sources:e.sources||[],images:e.images||[],products:e.products||[],agent_transfer:e.agent_transfer_requested,created_at:e.created_at}));l(e)}}catch(t){console.error("Load history error:",t)}},y=async s=>{if(s.preventDefault(),!o.trim()||m)return;const r=o.trim();c(""),p(!0);const a={id:Date.now().toString(),role:"user",content:r,created_at:(new Date).toISOString()};l(e=>[...e,a]);try{const s=await Ar.post("".concat(x,"/message"),{session_id:t,agent_id:e,message:r});if(!s.data.success)throw new Error("Failed to send message");{const t=s.data.data;if(t.new_session_created){const s=t.session_id;n(s),localStorage.setItem("aiva_chat_".concat(e),s)}const r={id:t.message_id,role:"assistant",content:t.response.text||t.response,html:t.response.html,formatted_html:t.formatted_html,sources:t.sources||[],images:t.images||[],products:t.products||[],agent_transfer:t.agent_transfer,created_at:t.created_at};l(e=>[...e,r]),t.agent_transfer&&setTimeout(()=>{l(e=>[...e,{id:"transfer-"+Date.now(),role:"system",content:"\ud83e\udd1d Connecting you to a human agent...",created_at:(new Date).toISOString()}])},1e3)}}catch(i){console.error("Send message error:",i);const e={id:Date.now().toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again.",created_at:(new Date).toISOString()};l(t=>[...t,e])}finally{p(!1)}},v=()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},b=e=>(0,Rr.jsxs)(Rr.Fragment,{children:[(0,Rr.jsx)("div",{className:"text-sm whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:e.formatted_html||e.html||e.content}}),e.sources&&e.sources.length>0&&(0,Rr.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Rr.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-2",children:["\ud83d\udcda Sources (",e.sources.length,")"]}),(0,Rr.jsx)("div",{className:"space-y-2",children:e.sources.map((e,t)=>(0,Rr.jsx)(Zi,{source:e,index:t},t))})]}),e.products&&e.products.length>0&&(0,Rr.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Rr.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-3 flex items-center gap-1",children:[(0,Rr.jsx)(Ei,{className:"w-4 h-4"}),"Products (",e.products.length,")"]}),(0,Rr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:e.products.map((e,t)=>(0,Rr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 text-center hover:shadow-md transition-shadow",children:[e.image&&(0,Rr.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-32 object-cover rounded-md mb-2"}),(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900 mb-1 line-clamp-2",children:e.name}),(0,Rr.jsx)("div",{className:"text-sm font-semibold text-primary-600 mb-2",children:e.price}),e.purchase_url&&(0,Rr.jsx)("a",{href:e.purchase_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-primary-600 text-white text-xs px-3 py-1 rounded-md hover:bg-primary-700 transition-colors",children:"View Product"})]},t))})]}),e.images&&e.images.length>0&&(0,Rr.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,Rr.jsxs)("div",{className:"text-xs font-semibold text-gray-600 mb-3 flex items-center gap-1",children:[(0,Rr.jsx)(Ia,{className:"w-4 h-4"}),"Related Images (",e.images.length,")"]}),(0,Rr.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:e.images.map((e,t)=>(0,Rr.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md hover:border-primary-300 transition-all cursor-pointer group",onClick:()=>window.open(e.url,"_blank"),children:[(0,Rr.jsx)("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:(0,Rr.jsx)("img",{src:e.thumbnail_url||e.url,alt:e.title||"Image",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200",loading:"lazy",onError:e=>{e.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22%3E%3Crect fill=%22%23f3f4f6%22 width=%22200%22 height=%22200%22/%3E%3Ctext x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%239ca3af%22 font-size=%2220%22%3EImage%3C/text%3E%3C/svg%3E"}})}),(0,Rr.jsxs)("div",{className:"p-2 bg-white",children:[(0,Rr.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",title:e.title||"Image",children:e.title||"Image"}),e.page_number&&(0,Rr.jsxs)("p",{className:"text-xs text-gray-500 mt-0.5",children:["Page ",e.page_number]}),e.similarity_score&&(0,Rr.jsxs)("p",{className:"text-xs text-green-600 font-medium mt-0.5",children:[Math.round(100*e.similarity_score),"% match"]})]})]},e.image_id||t))})]})]});return d?(0,Rr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Rr.jsx)(Fa,{className:"w-8 h-8 animate-spin text-primary-600"})}):(0,Rr.jsxs)("div",{className:"flex flex-col h-screen bg-gray-50",children:[(0,Rr.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-4 shadow-sm",children:(0,Rr.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Rr.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:(null===s||void 0===s?void 0:s.name)||"AI Assistant"}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500",children:"Powered by Intellicon AiVA"})]})}),(0,Rr.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,Rr.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[0===i.length?(0,Rr.jsxs)("div",{className:"text-center py-12",children:[(0,Rr.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc4b"}),(0,Rr.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Hello! How can I help you today?"}),(0,Rr.jsx)("p",{className:"text-gray-500",children:"Ask me anything and I'll do my best to assist you."})]}):i.map(e=>(0,Rr.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"system"===e.role?"justify-center":"justify-start"),children:(0,Rr.jsx)("div",{className:"rounded-2xl px-4 py-3 ".concat("user"===e.role?"max-w-3xl bg-primary-600 text-white":"system"===e.role?"bg-yellow-50 text-yellow-800 border border-yellow-200 px-6":"max-w-3xl bg-white text-gray-900 shadow-sm border border-gray-200"),children:"system"===e.role?(0,Rr.jsx)("p",{className:"text-sm text-center",children:e.content}):b(e)})},e.id)),m&&(0,Rr.jsx)("div",{className:"flex justify-start",children:(0,Rr.jsx)("div",{className:"bg-white rounded-2xl px-4 py-3 shadow-sm border border-gray-200",children:(0,Rr.jsxs)("div",{className:"flex space-x-2",children:[(0,Rr.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,Rr.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,Rr.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),(0,Rr.jsx)("div",{ref:h})]})}),(0,Rr.jsx)("div",{className:"bg-white border-t border-gray-200 px-4 py-4",children:(0,Rr.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Rr.jsxs)("form",{onSubmit:y,className:"flex items-end space-x-3",children:[(0,Rr.jsx)("div",{className:"flex-1",children:(0,Rr.jsx)("textarea",{value:o,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),y(e))},placeholder:"Type your message...",rows:"1",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none",style:{minHeight:"52px",maxHeight:"200px"}})}),(0,Rr.jsx)("button",{type:"submit",disabled:!o.trim()||m,className:"flex-shrink-0 bg-primary-600 text-white rounded-xl px-4 py-3 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Rr.jsx)(La,{className:"w-5 h-5"})})]}),(0,Rr.jsx)("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})})]})},el=Wr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),tl=Wr("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),nl=()=>{var e;const{user:t}=Lr(),[n,s]=(0,a.useState)(""),[r,i]=(0,a.useState)("all"),l=[{id:"all",name:"All Topics",icon:Ea,color:"primary"},{id:"getting-started",name:"Getting Started",icon:el,color:"green"},{id:"agents",name:"AI Agents",icon:Gr,color:"purple"},{id:"knowledge",name:"Knowledge Base",icon:Ka,color:"blue"},{id:"shopify",name:"Shopify",icon:za,color:"yellow"},{id:"chat",name:"Chat Integration",icon:ea,color:"pink"},{id:"voice",name:"Voice Calls",icon:Kr,color:"indigo"},{id:"users",name:"User Management",icon:Ba,color:"cyan"},{id:"settings",name:"Settings",icon:vi,color:"gray"}],o=[{id:"intro",category:"getting-started",title:"Introduction to AIVA",description:"Learn about AIVA platform capabilities and features",content:"intro",icon:Ea,quickStart:!0},{id:"first-agent",category:"getting-started",title:"Create Your First AI Agent (5 min)",description:"Step-by-step guide to creating your first voice or chat agent",content:"first-agent",icon:Oa,quickStart:!0},{id:"dashboard-overview",category:"getting-started",title:"Dashboard Overview",description:"Understanding the dashboard and navigation",content:"dashboard",icon:el},{id:"user-roles",category:"getting-started",title:"User Roles & Permissions",description:"Understanding different user roles and their capabilities",content:"roles",icon:Ba},{id:"agent-basics",category:"agents",title:"Understanding AI Agents",description:"What are AI agents and how do they work?",content:"agent-basics",icon:Gr},{id:"create-agent",category:"agents",title:"Creating & Configuring Agents",description:"Complete guide to agent creation and settings",content:"create-agent",icon:Gr,video:!0},{id:"agent-voice",category:"agents",title:"Voice Settings & Configuration",description:"Configure voice, speed, and tone for voice agents",content:"agent-voice",icon:Kr},{id:"agent-testing",category:"agents",title:"Testing Your Agents",description:"How to test voice and chat agents",content:"agent-testing",icon:tl},{id:"conversation-strategy",category:"agents",title:"Conversation Strategy",description:"Turn detection, interruptions, and conversation flow",content:"conversation-strategy",icon:ea},{id:"kb-overview",category:"knowledge",title:"Knowledge Base Overview",description:"What is a knowledge base and how to use it",content:"kb-overview",icon:Ka},{id:"upload-documents",category:"knowledge",title:"Uploading Documents",description:"Upload PDFs, Word docs, presentations, and more",content:"upload-documents",icon:Ja,quickStart:!0},{id:"web-scraping",category:"knowledge",title:"Web Scraping Guide",description:"Scrape websites and import content",content:"web-scraping",icon:Ka},{id:"image-management",category:"knowledge",title:"Image Upload & Search",description:"Managing images and visual search",content:"image-management",icon:Ka},{id:"kb-search",category:"knowledge",title:"Testing Knowledge Search",description:"How to test and optimize search results",content:"kb-search",icon:Ga},{id:"semantic-cache",category:"knowledge",title:"Semantic Cache Management",description:"Understanding and managing semantic cache",content:"semantic-cache",icon:Oa},{id:"shopify-overview",category:"shopify",title:"Shopify Integration Overview",description:"Connect your Shopify store to AIVA",content:"shopify-overview",icon:za},{id:"connect-shopify",category:"shopify",title:"Connecting Your Shopify Store",description:"Step-by-step guide to connect Shopify",content:"connect-shopify",icon:za,quickStart:!0,video:!0},{id:"product-sync",category:"shopify",title:"Product Synchronization",description:"Auto-sync and manual sync explained",content:"product-sync",icon:za},{id:"product-recommendations",category:"shopify",title:"AI Product Recommendations",description:"How AI recommends products to customers",content:"product-recommendations",icon:za},{id:"chat-overview",category:"chat",title:"Chat Integration Overview",description:"Widget vs standalone chat page",content:"chat-overview",icon:ea},{id:"chat-widget",category:"chat",title:"Installing Chat Widget",description:"Add chat widget to your website",content:"chat-widget",icon:ea,quickStart:!0,video:!0},{id:"chat-page",category:"chat",title:"Standalone Chat Page",description:"Create a public chat page",content:"chat-page",icon:ea},{id:"chat-customization",category:"chat",title:"Customizing Chat Interface",description:"Colors, branding, and styling",content:"chat-customization",icon:vi},{id:"voice-overview",category:"voice",title:"Voice Calls Overview",description:"How voice integration works",content:"voice-overview",icon:Kr},{id:"test-call",category:"voice",title:"Making Test Calls",description:"Test your voice agents",content:"test-call",icon:Kr},{id:"call-monitoring",category:"voice",title:"Call Monitoring & Logs",description:"Monitor active calls and view history",content:"call-monitoring",icon:Kr},{id:"create-users",category:"users",title:"Creating & Managing Users",description:"Add team members and assign roles",content:"create-users",icon:Ba,roles:["super_admin","admin"]},{id:"user-permissions",category:"users",title:"User Permissions",description:"Understanding permission levels",content:"user-permissions",icon:Ba,roles:["super_admin","admin"]},{id:"account-settings",category:"settings",title:"Account Settings",description:"Manage your profile and preferences",content:"account-settings",icon:vi},{id:"api-keys",category:"settings",title:"API Keys Management",description:"Generate and manage API keys",content:"api-keys",icon:vi,roles:["super_admin","admin"]},{id:"credits-billing",category:"settings",title:"Credits & Billing",description:"Manage credits and track usage",content:"credits-billing",icon:vi,roles:["super_admin","admin"]}],c=(0,a.useMemo)(()=>{let e=o;if(t&&(e=e.filter(e=>!e.roles||e.roles.includes(t.role))),"all"!==r&&(e=e.filter(e=>e.category===r)),n){const t=n.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t))}return e},[o,r,n,t]),d=o.filter(e=>e.quickStart);return(0,Rr.jsxs)("div",{className:"space-y-6",children:[(0,Rr.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg shadow-lg p-8 text-white",children:[(0,Rr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Help Center"}),(0,Rr.jsx)("p",{className:"text-primary-100",children:"Everything you need to know about AIVA"})]}),(0,Rr.jsx)(Ea,{className:"w-16 h-16 text-primary-200"})]}),(0,Rr.jsx)("div",{className:"mt-6",children:(0,Rr.jsxs)("div",{className:"relative",children:[(0,Rr.jsx)(Ga,{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400"}),(0,Rr.jsx)("input",{type:"text",value:n,onChange:e=>s(e.target.value),placeholder:"Search for help articles...",className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white"})]})})]}),!n&&"all"===r&&(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Rr.jsx)(Oa,{className:"w-6 h-6 text-yellow-500 mr-2"}),(0,Rr.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Quick Start Guides"})]}),(0,Rr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:d.map(e=>(0,Rr.jsx)(Me,{to:"/help/".concat(e.id),className:"p-4 border-2 border-primary-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",children:(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)(e.icon,{className:"w-6 h-6 text-primary-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.video&&(0,Rr.jsxs)("span",{className:"inline-flex items-center mt-2 text-xs text-primary-600",children:[(0,Rr.jsx)(tl,{className:"w-3 h-3 mr-1"}),"Video available"]})]})]})},e.id))})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Rr.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Browse by Category"}),(0,Rr.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:l.map(e=>(0,Rr.jsxs)("button",{onClick:()=>i(e.id),className:"p-4 rounded-lg border-2 transition-all ".concat(r===e.id?"border-".concat(e.color,"-500 bg-").concat(e.color,"-50"):"border-gray-200 hover:border-gray-300"),children:[(0,Rr.jsx)(e.icon,{className:"w-6 h-6 mx-auto mb-2 ".concat(r===e.id?"text-".concat(e.color,"-600"):"text-gray-400")}),(0,Rr.jsx)("div",{className:"text-sm font-medium text-gray-900 text-center",children:e.name})]},e.id))})]}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Rr.jsx)("div",{className:"p-6 border-b",children:(0,Rr.jsxs)("h2",{className:"text-lg font-semibold text-gray-900",children:["all"===r?"All Articles":null===(e=l.find(e=>e.id===r))||void 0===e?void 0:e.name,(0,Rr.jsxs)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:["(",c.length," articles)"]})]})}),0===c.length?(0,Rr.jsxs)("div",{className:"p-12 text-center",children:[(0,Rr.jsx)(qa,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No articles found"}),(0,Rr.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search or browse different categories"})]}):(0,Rr.jsx)("div",{className:"divide-y divide-gray-200",children:c.map(e=>(0,Rr.jsx)(Me,{to:"/help/".concat(e.id),className:"block p-6 hover:bg-gray-50 transition-colors",children:(0,Rr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Rr.jsxs)("div",{className:"flex items-start flex-1",children:[(0,Rr.jsx)(e.icon,{className:"w-6 h-6 text-primary-600 mr-4 flex-shrink-0 mt-0.5"}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:e.title}),(0,Rr.jsx)("p",{className:"text-gray-600",children:e.description}),(0,Rr.jsxs)("div",{className:"flex items-center mt-2 space-x-3",children:[e.quickStart&&(0,Rr.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[(0,Rr.jsx)(Oa,{className:"w-3 h-3 mr-1"}),"Quick Start"]}),e.video&&(0,Rr.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:[(0,Rr.jsx)(tl,{className:"w-3 h-3 mr-1"}),"Video"]})]})]})]}),(0,Rr.jsx)(Fi,{className:"w-5 h-5 text-gray-400 flex-shrink-0 ml-4"})]})},e.id))})]}),(0,Rr.jsx)("div",{className:"bg-gray-50 rounded-lg p-6",children:(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)(qa,{className:"w-6 h-6 text-primary-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"Still need help?"}),(0,Rr.jsx)("p",{className:"text-gray-600 mb-3",children:"Can't find what you're looking for? Our support team is here to help."}),(0,Rr.jsx)("a",{href:"mailto:support@contegris.com",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Contact Support"})]})]})})]})},sl={intro:{title:"Introduction to AIVA",description:"Learn about AIVA platform capabilities and features",category:"Getting Started",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"What is AIVA?",content:"\n          <p>AIVA (AI Voice & Chat Agent) is a comprehensive AI platform that enables businesses to create intelligent voice and chat agents powered by OpenAI's advanced language models.</p>\n          <p>With AIVA, you can:</p>\n          <ul>\n            <li><strong>Create AI voice agents</strong> that can handle phone calls naturally and efficiently</li>\n            <li><strong>Deploy chat widgets</strong> on your website for instant customer support</li>\n            <li><strong>Build knowledge bases</strong> from your documents, websites, and content</li>\n            <li><strong>Integrate with Shopify</strong> for intelligent product recommendations</li>\n            <li><strong>Monitor and analyze</strong> all interactions in real-time</li>\n          </ul>\n        "},{title:"Key Features",content:"\n          <h4>\ud83c\udf99\ufe0f Voice AI Agents</h4>\n          <p>Create intelligent voice agents that can answer calls, provide information, and interact naturally with customers using OpenAI's Realtime API. Agents can:</p>\n          <ul>\n            <li>Handle incoming phone calls automatically</li>\n            <li>Search your knowledge base for answers</li>\n            <li>Recommend products from your Shopify store</li>\n            <li>Transfer calls to human agents when needed</li>\n          </ul>\n          \n          <h4>\ud83d\udcac Chat Integration</h4>\n          <p>Add AI-powered chat to your website with:</p>\n          <ul>\n            <li>Embeddable chat widgets that match your brand</li>\n            <li>Standalone chat pages for dedicated support</li>\n            <li>Rich content display (images, products, sources)</li>\n            <li>Session persistence and conversation history</li>\n          </ul>\n          \n          <h4>\ud83d\udcda Knowledge Management</h4>\n          <p>Upload documents, scrape websites, and build a searchable knowledge base:</p>\n          <ul>\n            <li>Support for PDFs, Word, PowerPoint, Excel, and more</li>\n            <li>Automatic image extraction from documents</li>\n            <li>Web scraping for entire websites</li>\n            <li>Semantic search with caching for cost optimization</li>\n          </ul>\n          \n          <h4>\ud83d\udecd\ufe0f Shopify Integration</h4>\n          <p>Connect your Shopify store and let AI:</p>\n          <ul>\n            <li>Automatically sync products and images</li>\n            <li>Recommend products based on customer needs</li>\n            <li>Answer questions about pricing and availability</li>\n            <li>Include product reviews in recommendations</li>\n          </ul>\n        "},{title:"Who is AIVA For?",content:"\n          <h4>\ud83d\uded2 E-commerce Businesses</h4>\n          <p>Provide instant product recommendations, answer customer questions 24/7, and increase conversions with AI-powered shopping assistants.</p>\n          \n          <h4>\ud83c\udfe2 Service Companies</h4>\n          <p>Answer common questions, schedule appointments, provide quotes, and handle customer inquiries without human intervention.</p>\n          \n          <h4>\ud83d\udcac Support Teams</h4>\n          <p>Scale customer support with AI agents that can handle routine queries, search documentation, and escalate complex issues to humans.</p>\n          \n          <h4>\ud83d\udcc8 Sales Teams</h4>\n          <p>Qualify leads automatically, provide instant information, schedule demos, and capture customer requirements before human follow-up.</p>\n          \n          <h4>\ud83d\udcde Call Centers</h4>\n          <p>Reduce call volume by handling routine inquiries, provide after-hours support, and improve response times for customers.</p>\n        "},{title:"Platform Architecture",content:"\n          <p>AIVA consists of several integrated components:</p>\n          <ul>\n            <li><strong>Dashboard:</strong> Web-based management interface for configuration</li>\n            <li><strong>Voice Bridge:</strong> Connects Asterisk PBX to OpenAI Realtime API</li>\n            <li><strong>Knowledge Engine:</strong> Processes documents and enables semantic search</li>\n            <li><strong>Chat System:</strong> Handles web-based chat interactions</li>\n            <li><strong>Integration Layer:</strong> Connects to Shopify and other platforms</li>\n          </ul>\n        "}],nextSteps:[{text:"Create Your First Agent",link:"/help/first-agent"},{text:"Upload Documents to Knowledge Base",link:"/help/upload-documents"},{text:"Understand User Roles",link:"/help/user-roles"}],relatedArticles:["first-agent","dashboard-overview","user-roles"]},"first-agent":{title:"Create Your First AI Agent (5 minutes)",description:"Step-by-step guide to creating your first voice or chat agent",category:"Getting Started",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Getting Started",content:"\n          <p>Creating your first AI agent is quick and easy. Follow these steps to have your agent up and running in just 5 minutes!</p>\n        ",steps:[{title:"Navigate to Agents Page",description:'Click on "Agents" in the sidebar menu, then click the "Create Agent" button in the top right.'},{title:"Enter Basic Information",description:'Give your agent a name (e.g., "Customer Support Bot"), select the type (Voice or Chat), and add a greeting message that users will see or hear first.'},{title:"Configure Agent Settings",description:"Choose a voice for voice agents (Alloy, Echo, Shimmer, etc.), select the AI model (GPT-4 recommended), and write clear instructions for your agent's behavior and personality."},{title:"Enable Tools (Optional)",description:'Toggle on "Knowledge Base Search" if you want your agent to access uploaded documents. Enable "Product Search" if you have a connected Shopify store.'},{title:"Save and Test",description:'Click "Save Agent" and then use the "Test Call" button (for voice agents) or "Test Chat" button (for chat agents) to try out your new agent!'}],tips:'Start with simple instructions like "You are a helpful customer service agent. Be friendly and concise." You can always add more complexity later as you learn how the agent responds.'},{title:"Agent Configuration Explained",content:'\n          <h4>Name</h4>\n          <p>Choose a descriptive name that indicates the agent\'s purpose:</p>\n          <ul>\n            <li>"Customer Support Bot" - For general support</li>\n            <li>"Product Advisor" - For product recommendations</li>\n            <li>"Appointment Scheduler" - For booking appointments</li>\n            <li>"Lead Qualifier" - For sales inquiries</li>\n          </ul>\n          \n          <h4>Type</h4>\n          <p><strong>Voice:</strong> Handles phone calls using speech-to-text and text-to-speech. Perfect for call centers and phone-based support.</p>\n          <p><strong>Chat:</strong> Text-based conversations for website chat widgets. Ideal for web-based customer support.</p>\n          \n          <h4>Greeting Message</h4>\n          <p>The first message users will see or hear. Make it welcoming and set expectations:</p>\n          <ul>\n            <li>"Hello! I\'m here to help you find the perfect product. What are you looking for today?"</li>\n            <li>"Hi! I\'m your virtual assistant. I can answer questions about our services, pricing, and features."</li>\n            <li>"Welcome! I can help you schedule an appointment or answer questions about our hours and services."</li>\n          </ul>\n          \n          <h4>Instructions (System Prompt)</h4>\n          <p>This is the most important part - it tells the AI how to behave. Be specific about:</p>\n          <ul>\n            <li><strong>Role:</strong> "You are a friendly customer support agent for [Company Name]"</li>\n            <li><strong>Capabilities:</strong> What the agent can and cannot do</li>\n            <li><strong>Tone:</strong> Professional, friendly, casual, formal, etc.</li>\n            <li><strong>Boundaries:</strong> What topics to avoid or escalate</li>\n            <li><strong>Response Style:</strong> Concise vs detailed, use of examples, etc.</li>\n          </ul>\n        ',code:"You are a friendly customer support agent for Acme Corporation.\n\nYour role is to:\n- Answer questions about our products and services\n- Help customers find what they're looking for\n- Provide accurate information from the knowledge base\n- Transfer to a human agent for complex billing or technical issues\n\nGuidelines:\n- Keep responses concise (2-3 sentences when possible)\n- Always be helpful, patient, and professional\n- If you don't know something, say so and offer to connect them with someone who can help\n- Never make up information or pricing\n- Use the knowledge base to find accurate answers\n\nTopics to avoid:\n- Making promises about delivery dates\n- Providing medical or legal advice\n- Discussing competitors\n- Sharing confidential company information"}],nextSteps:[{text:"Test Your Agent",link:"/help/agent-testing"},{text:"Add Knowledge Base",link:"/help/kb-overview"},{text:"Configure Voice Settings",link:"/help/agent-voice"}],relatedArticles:["agent-basics","agent-testing","create-agent"]},"dashboard-overview":{title:"Dashboard Overview",description:"Understanding the dashboard and navigation",category:"Getting Started",readTime:"4 min read",difficulty:"Beginner",sections:[{title:"Main Dashboard",content:"\n          <p>The dashboard is your command center in AIVA. It provides a quick overview of your platform usage and activity.</p>\n          <h4>Key Metrics Displayed:</h4>\n          <ul>\n            <li><strong>Total Agents:</strong> Number of active agents in your account</li>\n            <li><strong>Total Calls:</strong> Number of voice calls handled</li>\n            <li><strong>Knowledge Bases:</strong> Number of knowledge bases created</li>\n            <li><strong>Credit Balance:</strong> Remaining API credits</li>\n          </ul>\n          <h4>Quick Actions:</h4>\n          <ul>\n            <li><strong>Create New Agent:</strong> Jump directly to agent creation</li>\n            <li><strong>Manage Credits:</strong> Add or view credit usage</li>\n            <li><strong>View Call Logs:</strong> See recent call activity</li>\n          </ul>\n        "},{title:"Navigation Menu",content:"\n          <p>The sidebar menu provides access to all AIVA features:</p>\n          <ul>\n            <li><strong>Dashboard:</strong> Overview and statistics</li>\n            <li><strong>Agents:</strong> Create and manage AI agents</li>\n            <li><strong>Knowledge Base:</strong> Upload documents and manage content</li>\n            <li><strong>Shopify:</strong> Connect stores and manage products</li>\n            <li><strong>Live Monitor:</strong> Watch active calls in real-time</li>\n            <li><strong>Credits:</strong> Manage API credits and billing (Admin only)</li>\n            <li><strong>Calls:</strong> View call logs and history</li>\n            <li><strong>Users:</strong> Manage team members (Admin only)</li>\n            <li><strong>Test Call:</strong> Test voice agents</li>\n            <li><strong>Test Chat:</strong> Test chat agents</li>\n            <li><strong>Help:</strong> Access this help center</li>\n          </ul>\n        "},{title:"User Profile",content:"\n          <p>Your profile information is displayed in the sidebar showing:</p>\n          <ul>\n            <li>Your name and email</li>\n            <li>Your role (Super Admin, Admin, Agent Manager, or Client)</li>\n            <li>Organization/Tenant name</li>\n          </ul>\n          <p>Click the logout button to sign out of your account.</p>\n        "}],nextSteps:[{text:"Understand User Roles",link:"/help/user-roles"},{text:"Create Your First Agent",link:"/help/first-agent"}],relatedArticles:["user-roles","intro"]},"user-roles":{title:"User Roles & Permissions",description:"Understanding different user roles and their capabilities",category:"Getting Started",readTime:"6 min read",difficulty:"Beginner",sections:[{title:"Overview",content:"\n          <p>AIVA uses a role-based access control system to manage what users can see and do. Each user is assigned one of four roles, each with different permissions.</p>\n        "},{title:"Super Admin",content:"\n          <h4>Highest Level Access</h4>\n          <p>Super Admins have complete control over the entire AIVA platform.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 Manage all tenants and organizations</li>\n            <li>\u2705 Create and delete organizations</li>\n            <li>\u2705 View all data across all tenants</li>\n            <li>\u2705 Manage system-wide settings</li>\n            <li>\u2705 All Admin, Agent Manager, and Client capabilities</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Platform administrators and owners</p>\n        "},{title:"Admin",content:"\n          <h4>Organization-Level Access</h4>\n          <p>Admins have full control within their organization/tenant.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 Create, edit, and delete agents</li>\n            <li>\u2705 Manage knowledge bases and documents</li>\n            <li>\u2705 Connect and manage Shopify stores</li>\n            <li>\u2705 Create and manage users in their organization</li>\n            <li>\u2705 Manage credits and billing</li>\n            <li>\u2705 View all call logs and analytics</li>\n            <li>\u2705 Configure chat integration</li>\n            <li>\u2705 Generate and manage API keys</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Business owners, managers, team leads</p>\n        "},{title:"Agent Manager",content:"\n          <h4>Agent & Content Management</h4>\n          <p>Agent Managers can create and configure agents and manage knowledge.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 Create, edit, and delete agents</li>\n            <li>\u2705 Upload documents to knowledge bases</li>\n            <li>\u2705 Test agents (voice and chat)</li>\n            <li>\u2705 View call logs for their agents</li>\n            <li>\u2705 Configure agent settings</li>\n            <li>\u2705 Monitor live calls</li>\n            <li>\u274c Cannot manage users</li>\n            <li>\u274c Cannot manage credits/billing</li>\n            <li>\u274c Cannot connect Shopify stores</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Content managers, support team leads, agent trainers</p>\n        "},{title:"Client",content:"\n          <h4>Read-Only Access</h4>\n          <p>Clients have limited access to view information only.</p>\n          <h4>Capabilities:</h4>\n          <ul>\n            <li>\u2705 View agents (cannot edit)</li>\n            <li>\u2705 View knowledge bases (cannot upload)</li>\n            <li>\u2705 View call logs</li>\n            <li>\u2705 Access help documentation</li>\n            <li>\u274c Cannot create or edit anything</li>\n            <li>\u274c Cannot manage users</li>\n            <li>\u274c Cannot access billing</li>\n            <li>\u274c Cannot test agents</li>\n          </ul>\n          <h4>Use Case:</h4>\n          <p>Stakeholders, viewers, auditors, read-only access needs</p>\n        "},{title:"Permission Matrix",content:'\n          <table style="width:100%; border-collapse: collapse;">\n            <thead>\n              <tr style="background:#f3f4f6;">\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Feature</th>\n                <th style="border:1px solid #ddd; padding:8px;">Super Admin</th>\n                <th style="border:1px solid #ddd; padding:8px;">Admin</th>\n                <th style="border:1px solid #ddd; padding:8px;">Agent Manager</th>\n                <th style="border:1px solid #ddd; padding:8px;">Client</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Manage Agents</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\ud83d\udc41\ufe0f View Only</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Knowledge Base</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\ud83d\udc41\ufe0f View Only</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Shopify Integration</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">User Management</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Credits & Billing</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Test Agents</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u274c</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">View Call Logs</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n                <td style="border:1px solid #ddd; padding:8px; text-align:center;">\u2705</td>\n              </tr>\n            </tbody>\n          </table>\n        '}],nextSteps:[{text:"Create Users (Admin)",link:"/help/create-users"},{text:"Understand Permissions",link:"/help/user-permissions"}],relatedArticles:["create-users","user-permissions"]},"agent-basics":{title:"Understanding AI Agents",description:"What are AI agents and how do they work in AIVA?",category:"AI Agents",readTime:"7 min read",difficulty:"Beginner",sections:[{title:"What is an AI Agent?",content:"\n          <p>An AI Agent in AIVA is an intelligent virtual assistant powered by OpenAI's advanced language models (like GPT-4). It can understand natural language, access information from knowledge bases, and respond to users in a helpful, context-aware manner.</p>\n          <h4>Think of an AI Agent as:</h4>\n          <ul>\n            <li>A knowledgeable employee who can answer questions instantly</li>\n            <li>A personal assistant that never sleeps</li>\n            <li>A search engine that understands conversational language</li>\n            <li>A customer service representative with perfect memory</li>\n          </ul>\n        "},{title:"Types of Agents",content:"\n          <h4>Voice Agents</h4>\n          <p><strong>Purpose:</strong> Handle phone calls using natural speech</p>\n          <p><strong>Technology:</strong> Speech-to-Text \u2192 AI Processing \u2192 Text-to-Speech</p>\n          <p><strong>Use Cases:</strong></p>\n          <ul>\n            <li>Customer support hotlines</li>\n            <li>Appointment scheduling</li>\n            <li>Order status inquiries</li>\n            <li>Product information requests</li>\n            <li>Lead qualification</li>\n          </ul>\n          \n          <h4>Chat Agents</h4>\n          <p><strong>Purpose:</strong> Handle text-based conversations on websites</p>\n          <p><strong>Technology:</strong> Direct text processing and response generation</p>\n          <p><strong>Use Cases:</strong></p>\n          <ul>\n            <li>Website live chat</li>\n            <li>Customer support widget</li>\n            <li>Product recommendations</li>\n            <li>FAQ answering</li>\n            <li>Shopping assistance</li>\n          </ul>\n        "},{title:"How Agents Work",content:"\n          <p>When a user interacts with an agent, here's what happens:</p>\n          <ol>\n            <li><strong>Input Reception:</strong> Agent receives user's question (text or voice)</li>\n            <li><strong>Context Building:</strong> Agent considers:\n              <ul>\n                <li>Conversation history</li>\n                <li>System instructions (your configuration)</li>\n                <li>Available tools (knowledge base, product search)</li>\n              </ul>\n            </li>\n            <li><strong>Tool Usage (if needed):</strong>\n              <ul>\n                <li>Search knowledge base for relevant information</li>\n                <li>Look up products in Shopify</li>\n                <li>Execute custom functions</li>\n              </ul>\n            </li>\n            <li><strong>Response Generation:</strong> AI formulates natural, helpful response</li>\n            <li><strong>Output Delivery:</strong> Response sent to user (text or speech)</li>\n          </ol>\n        "},{title:"Agent Capabilities",content:"\n          <h4>What Agents CAN Do:</h4>\n          <ul>\n            <li>\u2705 Answer questions based on knowledge bases</li>\n            <li>\u2705 Recommend products from Shopify</li>\n            <li>\u2705 Maintain context throughout conversation</li>\n            <li>\u2705 Handle multiple topics in one conversation</li>\n            <li>\u2705 Adapt tone and style based on instructions</li>\n            <li>\u2705 Recognize when to escalate to humans</li>\n            <li>\u2705 Provide structured information (lists, comparisons)</li>\n            <li>\u2705 Remember user preferences within a session</li>\n          </ul>\n          \n          <h4>What Agents CANNOT Do:</h4>\n          <ul>\n            <li>\u274c Access real-time external data (unless via functions)</li>\n            <li>\u274c Remember conversations across sessions (without custom setup)</li>\n            <li>\u274c Make actual purchases or transactions</li>\n            <li>\u274c Access private customer data automatically</li>\n            <li>\u274c Send emails or notifications directly</li>\n          </ul>\n        "},{title:"Best Practices",content:"\n          <h4>For Effective Agents:</h4>\n          <ul>\n            <li><strong>Clear Instructions:</strong> Be specific about the agent's role and boundaries</li>\n            <li><strong>Good Knowledge Base:</strong> Upload comprehensive, well-organized documents</li>\n            <li><strong>Test Thoroughly:</strong> Try various scenarios before deploying</li>\n            <li><strong>Monitor Performance:</strong> Review call logs and chat transcripts</li>\n            <li><strong>Iterate:</strong> Continuously improve based on real usage</li>\n            <li><strong>Set Expectations:</strong> Let users know they're talking to AI</li>\n            <li><strong>Provide Escalation:</strong> Always offer a way to reach humans</li>\n          </ul>\n        "}],nextSteps:[{text:"Create Your First Agent",link:"/help/first-agent"},{text:"Configure Agent Settings",link:"/help/create-agent"},{text:"Test Your Agent",link:"/help/agent-testing"}],relatedArticles:["first-agent","create-agent","agent-testing"]},"create-agent":{title:"Creating & Configuring Agents",description:"Complete guide to agent creation and advanced settings",category:"AI Agents",readTime:"12 min read",difficulty:"Intermediate",sections:[{title:"Basic Configuration",content:"\n          <p>Start by configuring the essential settings for your agent.</p>\n        ",steps:[{title:"Agent Name",description:'Choose a descriptive name (e.g., "Customer Support Agent", "Sales Bot", "Appointment Scheduler"). This is for your internal reference only.'},{title:"Agent Type",description:'Select "Voice" for phone calls or "Chat" for text-based conversations. This cannot be changed later.'},{title:"Greeting Message",description:"Write the first message users will hear or see. Keep it friendly and set clear expectations about what the agent can help with."},{title:"System Instructions",description:"Write detailed instructions about the agent's role, personality, capabilities, and limitations. This is the most important configuration!"}]},{title:"Writing Effective Instructions",content:'\n          <p>System instructions (also called the "system prompt") tell the AI how to behave. Follow this template:</p>\n        ',code:'# Role Definition\nYou are [role description] for [company name].\n\n# Primary Responsibilities\nYour main tasks are to:\n- [Responsibility 1]\n- [Responsibility 2]\n- [Responsibility 3]\n\n# Communication Style\n- [Style guideline 1 - e.g., "Be friendly and conversational"]\n- [Style guideline 2 - e.g., "Keep responses under 3 sentences"]\n- [Style guideline 3 - e.g., "Use simple, jargon-free language"]\n\n# Knowledge Sources\nYou have access to:\n- [Source 1 - e.g., "Product catalog"]\n- [Source 2 - e.g., "Company knowledge base"]\n- [Source 3 - e.g., "FAQ documents"]\n\n# Boundaries\nYou should NOT:\n- [Boundary 1 - e.g., "Make promises about delivery dates"]\n- [Boundary 2 - e.g., "Provide medical advice"]\n- [Boundary 3 - e.g., "Discuss competitors"]\n\n# Escalation\nTransfer to a human agent when:\n- [Scenario 1 - e.g., "Customer is frustrated"]\n- [Scenario 2 - e.g., "Question requires manager approval"]\n- [Scenario 3 - e.g., "Technical issue beyond your knowledge"]\n\n# Special Instructions\n- [Any specific rules for your use case]',tips:"Be as specific as possible. The more detailed your instructions, the more consistently your agent will behave the way you want."},{title:"Model Selection",content:"\n          <h4>Available Models:</h4>\n          <p><strong>GPT-4 (Recommended):</strong></p>\n          <ul>\n            <li>Most capable and intelligent</li>\n            <li>Best understanding of complex instructions</li>\n            <li>Most accurate responses</li>\n            <li>Higher cost per interaction</li>\n            <li><strong>Use for:</strong> Customer-facing agents, complex scenarios</li>\n          </ul>\n          \n          <p><strong>GPT-3.5 Turbo:</strong></p>\n          <ul>\n            <li>Fast and efficient</li>\n            <li>Good for straightforward tasks</li>\n            <li>Lower cost per interaction</li>\n            <li>May struggle with complex instructions</li>\n            <li><strong>Use for:</strong> Simple FAQ bots, internal tools, high-volume use cases</li>\n          </ul>\n        "},{title:"Temperature & Max Tokens",content:"\n          <h4>Temperature (0.0 - 1.0)</h4>\n          <p>Controls randomness and creativity in responses:</p>\n          <ul>\n            <li><strong>0.0-0.3:</strong> Very consistent, focused responses. Best for factual Q&A.</li>\n            <li><strong>0.4-0.7:</strong> Balanced (recommended for most use cases)</li>\n            <li><strong>0.8-1.0:</strong> Creative, varied responses. Use for conversational agents.</li>\n          </ul>\n          <p><strong>Recommended:</strong> Start with 0.7 and adjust based on results.</p>\n          \n          <h4>Max Tokens</h4>\n          <p>Limits response length:</p>\n          <ul>\n            <li><strong>256-512:</strong> Very brief responses (1-2 sentences)</li>\n            <li><strong>1024:</strong> Short responses (3-5 sentences) - Good for chat</li>\n            <li><strong>2048-4096:</strong> Detailed responses - Good for complex questions</li>\n          </ul>\n          <p><strong>Recommended:</strong> 1024 for chat, 2048 for voice</p>\n        "},{title:"Enabling Knowledge Base",content:'\n          <p>Knowledge Base Search allows your agent to search through uploaded documents to find answers.</p>\n          <h4>To Enable:</h4>\n          <ol>\n            <li>Toggle "Enable Knowledge Base Search"</li>\n            <li>Select which knowledge base to use</li>\n            <li>Choose search settings:\n              <ul>\n                <li><strong>Top K Results:</strong> How many relevant chunks to retrieve (5-10 recommended)</li>\n                <li><strong>Search Type:</strong> Text, Image, or Hybrid</li>\n              </ul>\n            </li>\n          </ol>\n        ',tips:"Always test your agent with knowledge search enabled to ensure it finds and uses the information correctly. The quality of your knowledge base directly affects response quality."},{title:"Enabling Product Search",content:'\n          <p>Product Search allows your agent to recommend products from your connected Shopify store.</p>\n          <h4>Prerequisites:</h4>\n          <ul>\n            <li>Shopify store must be connected</li>\n            <li>Products must be synced to a knowledge base</li>\n            <li>Agent must have access to that knowledge base</li>\n          </ul>\n          <h4>To Enable:</h4>\n          <ol>\n            <li>Toggle "Enable Product Search"</li>\n            <li>Select the Shopify store to use</li>\n            <li>Configure search parameters</li>\n          </ol>\n          <h4>Agent Instructions:</h4>\n          <p>Add to your system prompt:</p>\n        ',code:"When users ask about products:\n1. Ask clarifying questions to understand their needs\n2. Use product search to find relevant items\n3. Present 2-3 best options with:\n   - Product name\n   - Price\n   - Key features\n   - Why it matches their needs\n4. Offer to provide more details or alternatives"},{title:"Function Calling (Advanced)",content:"\n          <p>Functions allow your agent to perform actions or retrieve dynamic data.</p>\n          <h4>Common Use Cases:</h4>\n          <ul>\n            <li>Check order status in external system</li>\n            <li>Book appointments in calendar</li>\n            <li>Look up real-time inventory</li>\n            <li>Send notifications or alerts</li>\n            <li>Update CRM records</li>\n          </ul>\n          <h4>Function Types:</h4>\n          <p><strong>API Functions:</strong> Call external APIs</p>\n          <ul>\n            <li>Provide endpoint URL</li>\n            <li>Set authentication headers</li>\n            <li>Define parameters</li>\n          </ul>\n        ",warning:"Functions require technical knowledge to set up correctly. Test thoroughly in a safe environment before using in production."}],nextSteps:[{text:"Configure Voice Settings",link:"/help/agent-voice"},{text:"Test Your Agent",link:"/help/agent-testing"},{text:"Set Conversation Strategy",link:"/help/conversation-strategy"}],relatedArticles:["agent-basics","agent-voice","conversation-strategy"]},"agent-voice":{title:"Voice Settings & Configuration",description:"Configure voice, speed, and tone for voice agents",category:"AI Agents",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Voice Selection",content:"\n          <p>AIVA offers multiple voice options powered by OpenAI's text-to-speech models. Each voice has a distinct personality and tone.</p>\n        "},{title:"Available Voices",content:"\n          <h4>Alloy</h4>\n          <ul>\n            <li><strong>Gender:</strong> Neutral</li>\n            <li><strong>Tone:</strong> Balanced, professional, clear</li>\n            <li><strong>Best for:</strong> Customer service, general support</li>\n            <li><strong>Characteristics:</strong> Versatile, easy to understand, professional without being robotic</li>\n          </ul>\n          \n          <h4>Echo</h4>\n          <ul>\n            <li><strong>Gender:</strong> Male</li>\n            <li><strong>Tone:</strong> Warm, friendly, approachable</li>\n            <li><strong>Best for:</strong> Sales, friendly conversations, hospitality</li>\n            <li><strong>Characteristics:</strong> Conversational, puts people at ease</li>\n          </ul>\n          \n          <h4>Fable</h4>\n          <ul>\n            <li><strong>Gender:</strong> Male</li>\n            <li><strong>Tone:</strong> Authoritative, confident</li>\n            <li><strong>Best for:</strong> Professional services, expert advice</li>\n            <li><strong>Characteristics:</strong> Clear enunciation, commanding presence</li>\n          </ul>\n          \n          <h4>Onyx</h4>\n          <ul>\n            <li><strong>Gender:</strong> Male</li>\n            <li><strong>Tone:</strong> Deep, calm, reassuring</li>\n            <li><strong>Best for:</strong> Financial services, serious topics</li>\n            <li><strong>Characteristics:</strong> Professional, trustworthy sound</li>\n          </ul>\n          \n          <h4>Nova</h4>\n          <ul>\n            <li><strong>Gender:</strong> Female</li>\n            <li><strong>Tone:</strong> Energetic, upbeat, friendly</li>\n            <li><strong>Best for:</strong> Retail, entertainment, youth-focused brands</li>\n            <li><strong>Characteristics:</strong> Enthusiastic, engaging</li>\n          </ul>\n          \n          <h4>Shimmer</h4>\n          <ul>\n            <li><strong>Gender:</strong> Female</li>\n            <li><strong>Tone:</strong> Professional, clear, polished</li>\n            <li><strong>Best for:</strong> Corporate, healthcare, education</li>\n            <li><strong>Characteristics:</strong> Articulate, professional, trustworthy</li>\n          </ul>\n        ",tips:"Test each voice with your actual agent content. The best voice depends on your brand, audience, and use case. Consider recording sample calls with different voices to compare."},{title:"Speed Control",content:"\n          <p>Adjust speaking speed to match your audience and use case:</p>\n          <ul>\n            <li><strong>0.75x - 0.9x (Slower):</strong>\n              <ul>\n                <li>Better for complex information</li>\n                <li>Elderly audience</li>\n                <li>Technical or medical content</li>\n                <li>Non-native speakers</li>\n              </ul>\n            </li>\n            <li><strong>1.0x (Normal - Recommended):</strong>\n              <ul>\n                <li>Natural conversation pace</li>\n                <li>Most use cases</li>\n                <li>Easy to understand</li>\n              </ul>\n            </li>\n            <li><strong>1.1x - 1.25x (Faster):</strong>\n              <ul>\n                <li>Quick interactions</li>\n                <li>Simple information</li>\n                <li>Time-sensitive calls</li>\n                <li>May reduce clarity</li>\n              </ul>\n            </li>\n          </ul>\n        ",warning:"Speeds above 1.25x can become difficult to understand. Test thoroughly before using faster speeds in production."},{title:"Advanced Audio Settings",content:"\n          <h4>Audio Format</h4>\n          <p>The system handles audio format automatically based on your phone system setup. Most installations use:</p>\n          <ul>\n            <li><strong>Sample Rate:</strong> 8000 Hz or 16000 Hz (standard for telephony)</li>\n            <li><strong>Encoding:</strong> \u03bc-law or linear PCM</li>\n            <li><strong>Channels:</strong> Mono (single channel)</li>\n          </ul>\n          \n          <h4>Silence Detection</h4>\n          <p>Configure when the agent stops speaking:</p>\n          <ul>\n            <li><strong>Threshold:</strong> Silence duration before ending response (500-1000ms recommended)</li>\n            <li><strong>Prefix Padding:</strong> Start speaking slightly before detected (reduces delay)</li>\n          </ul>\n        "},{title:"Testing Voice Settings",content:'\n          <p>Always test voice settings before deploying:</p>\n          <ol>\n            <li>Use the "Test Call" feature in AIVA</li>\n            <li>Try different scenarios:\n              <ul>\n                <li>Long responses</li>\n                <li>Short responses</li>\n                <li>Technical terms</li>\n                <li>Numbers and dates</li>\n              </ul>\n            </li>\n            <li>Test in a quiet and noisy environment</li>\n            <li>Get feedback from others on clarity and pace</li>\n            <li>Adjust settings based on results</li>\n          </ol>\n        ',tips:"Record test calls and listen to them multiple times. Sometimes issues only become apparent after multiple listens. Share recordings with team members for feedback."}],nextSteps:[{text:"Test Your Voice Agent",link:"/help/test-call"},{text:"Configure Conversation Strategy",link:"/help/conversation-strategy"},{text:"Monitor Live Calls",link:"/help/call-monitoring"}],relatedArticles:["create-agent","conversation-strategy","test-call"]},"agent-testing":{title:"Testing Your Agents",description:"How to thoroughly test voice and chat agents before deployment",category:"AI Agents",readTime:"10 min read",difficulty:"Intermediate",sections:[{title:"Why Testing is Critical",content:"\n          <p>Thorough testing ensures your agent:</p>\n          <ul>\n            <li>\u2705 Understands user questions correctly</li>\n            <li>\u2705 Provides accurate, helpful responses</li>\n            <li>\u2705 Handles edge cases gracefully</li>\n            <li>\u2705 Maintains appropriate tone and style</li>\n            <li>\u2705 Escalates properly when needed</li>\n            <li>\u2705 Uses knowledge base effectively</li>\n          </ul>\n          <p><strong>Never deploy an agent without testing!</strong> Real users will quickly find issues you didn't anticipate.</p>\n        "},{title:"Testing Voice Agents",content:"\n          <h4>Using Test Call Feature:</h4>\n        ",steps:[{title:"Navigate to Test Call",description:'Click "Test Call" in the sidebar menu, then select your agent from the dropdown.'},{title:"Start the Call",description:'Click "Start Test Call" button. The system will initiate a call simulation.'},{title:"Interact with Agent",description:"Speak naturally as if you're a real customer. Try different questions and scenarios."},{title:"Review the Conversation",description:"After ending the call, review the transcript and check for accuracy and appropriateness."},{title:"Iterate",description:"Make adjustments to agent configuration based on what you learned, then test again."}],tips:"Test in both quiet and noisy environments. Background noise can significantly affect speech recognition quality."},{title:"Testing Chat Agents",content:"\n          <h4>Using Test Chat Feature:</h4>\n        ",steps:[{title:"Navigate to Test Chat",description:'Click "Test Chat" in the sidebar, then select your agent.'},{title:"Start a Conversation",description:"Type messages as if you're a customer. The chat interface looks like the real widget."},{title:"Try Multiple Sessions",description:"Test multiple conversations to ensure consistency. Each test creates a new session."},{title:"Check Rich Content",description:"Verify that images, products, and sources display correctly when the agent references them."}]},{title:"Test Scenarios",content:'\n          <p>Test your agent with these common scenarios:</p>\n          \n          <h4>Happy Path (Easy Questions)</h4>\n          <ul>\n            <li>"What are your business hours?"</li>\n            <li>"Do you ship internationally?"</li>\n            <li>"Tell me about [product name]"</li>\n            <li>"How do I return an item?"</li>\n          </ul>\n          \n          <h4>Knowledge Base Testing</h4>\n          <ul>\n            <li>Ask questions answered in your documents</li>\n            <li>Ask questions NOT in your documents (should say "I don\'t know")</li>\n            <li>Ask vague questions that need clarification</li>\n            <li>Ask about specific details (dates, numbers, policies)</li>\n          </ul>\n          \n          <h4>Product Search (if enabled)</h4>\n          <ul>\n            <li>"I\'m looking for a red dress under $100"</li>\n            <li>"Show me your best-selling products"</li>\n            <li>"What\'s in stock in size medium?"</li>\n            <li>"Compare [product A] and [product B]"</li>\n          </ul>\n          \n          <h4>Edge Cases</h4>\n          <ul>\n            <li>Nonsensical questions</li>\n            <li>Questions in different languages</li>\n            <li>Very long, rambling questions</li>\n            <li>Rude or frustrated language</li>\n            <li>Questions outside the agent\'s scope</li>\n          </ul>\n          \n          <h4>Conversation Flow</h4>\n          <ul>\n            <li>Multi-turn conversations</li>\n            <li>Topic changes mid-conversation</li>\n            <li>Follow-up questions</li>\n            <li>Referring back to earlier messages</li>\n          </ul>\n        '},{title:"What to Look For",content:"\n          <h4>Accuracy</h4>\n          <ul>\n            <li>\u2705 Facts are correct</li>\n            <li>\u2705 Prices and availability are accurate</li>\n            <li>\u2705 Policy information matches documentation</li>\n            <li>\u274c No hallucinations (making up information)</li>\n          </ul>\n          \n          <h4>Tone & Style</h4>\n          <ul>\n            <li>\u2705 Matches your brand voice</li>\n            <li>\u2705 Appropriate formality level</li>\n            <li>\u2705 Friendly but professional</li>\n            <li>\u274c Not too robotic or overly casual</li>\n          </ul>\n          \n          <h4>Helpfulness</h4>\n          <ul>\n            <li>\u2705 Actually answers the question</li>\n            <li>\u2705 Provides useful details</li>\n            <li>\u2705 Offers next steps</li>\n            <li>\u274c Doesn't give vague or evasive responses</li>\n          </ul>\n          \n          <h4>Error Handling</h4>\n          <ul>\n            <li>\u2705 Asks for clarification when needed</li>\n            <li>\u2705 Admits when it doesn't know something</li>\n            <li>\u2705 Suggests contacting human support appropriately</li>\n            <li>\u274c Doesn't make up answers</li>\n          </ul>\n        "},{title:"Common Issues & Fixes",content:'\n          <table style="width:100%; border-collapse: collapse;">\n            <thead>\n              <tr style="background:#f3f4f6;">\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Issue</th>\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Likely Cause</th>\n                <th style="border:1px solid #ddd; padding:8px; text-align:left;">Solution</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Agent gives vague answers</td>\n                <td style="border:1px solid #ddd; padding:8px;">Instructions too general</td>\n                <td style="border:1px solid #ddd; padding:8px;">Add specific examples and requirements</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Can\'t find info in knowledge base</td>\n                <td style="border:1px solid #ddd; padding:8px;">Poor document organization</td>\n                <td style="border:1px solid #ddd; padding:8px;">Reorganize documents with clear headings</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Responses too long</td>\n                <td style="border:1px solid #ddd; padding:8px;">Max tokens too high</td>\n                <td style="border:1px solid #ddd; padding:8px;">Lower max tokens, add "be concise" to instructions</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Agent sounds robotic</td>\n                <td style="border:1px solid #ddd; padding:8px;">Instructions too rigid</td>\n                <td style="border:1px solid #ddd; padding:8px;">Add personality, use conversational examples</td>\n              </tr>\n              <tr>\n                <td style="border:1px solid #ddd; padding:8px;">Makes up information</td>\n                <td style="border:1px solid #ddd; padding:8px;">No explicit instruction to admit unknowns</td>\n                <td style="border:1px solid #ddd; padding:8px;">Add: "If you don\'t know, say so"</td>\n              </tr>\n            </tbody>\n          </table>\n        '},{title:"Testing Checklist",content:"\n          <p>Before deploying to production, ensure you've tested:</p>\n          <ul>\n            <li>\u2610 At least 20 different questions</li>\n            <li>\u2610 Questions that should AND shouldn't be in knowledge base</li>\n            <li>\u2610 Multi-turn conversations (at least 5)</li>\n            <li>\u2610 Edge cases and error scenarios</li>\n            <li>\u2610 Voice quality and clarity (for voice agents)</li>\n            <li>\u2610 Response times are acceptable</li>\n            <li>\u2610 Escalation to human works (if configured)</li>\n            <li>\u2610 Product search returns relevant results (if enabled)</li>\n            <li>\u2610 Tone and style match brand guidelines</li>\n            <li>\u2610 All team members reviewed and approved</li>\n          </ul>\n        "}],nextSteps:[{text:"Deploy to Production",link:"/help/chat-widget"},{text:"Monitor Call Logs",link:"/help/call-monitoring"},{text:"Optimize Performance",link:"/help/conversation-strategy"}],relatedArticles:["test-call","call-monitoring","create-agent"]},"conversation-strategy":{title:"Conversation Strategy",description:"Configure turn detection, interruptions, and conversation flow",category:"AI Agents",readTime:"9 min read",difficulty:"Advanced",sections:[{title:"Overview",content:"\n          <p>Conversation Strategy settings control how your voice agent manages the natural flow of conversation, including when to listen, when to speak, and how to handle interruptions.</p>\n          <p><strong>Note:</strong> These settings only apply to Voice agents, not Chat agents.</p>\n        "},{title:"Turn Detection Mode",content:"\n          <p>Turn detection determines how the agent knows when the user has finished speaking.</p>\n          \n          <h4>Server VAD (Voice Activity Detection) - Recommended</h4>\n          <p><strong>How it works:</strong> The server analyzes audio to detect when the user stops speaking.</p>\n          <p><strong>Pros:</strong></p>\n          <ul>\n            <li>More reliable than client-side detection</li>\n            <li>Works well in noisy environments</li>\n            <li>Consistent across all calls</li>\n          </ul>\n          <p><strong>Cons:</strong></p>\n          <ul>\n            <li>Slight delay in processing</li>\n          </ul>\n          <p><strong>Best for:</strong> Production deployments, customer-facing agents</p>\n          \n          <h4>Client VAD</h4>\n          <p><strong>How it works:</strong> Detection happens on the user's device/phone before sending to server.</p>\n          <p><strong>Pros:</strong></p>\n          <ul>\n            <li>Lower latency (faster response)</li>\n            <li>Reduced bandwidth usage</li>\n          </ul>\n          <p><strong>Cons:</strong></p>\n          <ul>\n            <li>Less reliable in noisy environments</li>\n            <li>Depends on client implementation</li>\n          </ul>\n          <p><strong>Best for:</strong> Low-latency requirements, controlled environments</p>\n          \n          <h4>Manual</h4>\n          <p><strong>How it works:</strong> User must press a button or give a signal to indicate they're done speaking.</p>\n          <p><strong>Best for:</strong> Special applications, testing scenarios</p>\n        ",tips:"Start with Server VAD. It provides the best balance of reliability and performance for most use cases."},{title:"Silence Detection Settings",content:"\n          <h4>Silence Threshold</h4>\n          <p>How long to wait for user to start speaking before considering it silence:</p>\n          <ul>\n            <li><strong>300-500ms:</strong> Aggressive (quick response, may cut off user)</li>\n            <li><strong>700-900ms:</strong> Balanced (recommended)</li>\n            <li><strong>1000-1500ms:</strong> Patient (good for elderly or deliberate speakers)</li>\n          </ul>\n          \n          <h4>Speech Threshold</h4>\n          <p>Minimum duration of speech to consider it an intentional input:</p>\n          <ul>\n            <li><strong>100-200ms:</strong> Sensitive (picks up short sounds)</li>\n            <li><strong>300-400ms:</strong> Balanced (recommended)</li>\n            <li><strong>500ms+:</strong> Requires clear speech (reduces false triggers)</li>\n          </ul>\n        ",warning:"Too aggressive settings can make the agent interrupt users. Too patient settings can feel sluggish. Test with real users to find the right balance."},{title:"Interruption Handling",content:"\n          <p>How the agent responds when the user interrupts while it's speaking.</p>\n          \n          <h4>Allow Interruptions (Recommended)</h4>\n          <p>Agent stops talking immediately when user starts speaking.</p>\n          <p><strong>Pros:</strong></p>\n          <ul>\n            <li>Feels more natural and conversational</li>\n            <li>User can skip long responses</li>\n            <li>Better user experience</li>\n          </ul>\n          <p><strong>Configure:</strong></p>\n          <ul>\n            <li><strong>Interrupt Sensitivity:</strong> How quickly to detect interruption\n              <ul>\n                <li>Low: User must speak louder/longer</li>\n                <li>Medium: Balanced (recommended)</li>\n                <li>High: Very responsive, may trigger on background noise</li>\n              </ul>\n            </li>\n          </ul>\n          \n          <h4>Disable Interruptions</h4>\n          <p>Agent continues speaking even if user tries to interrupt.</p>\n          <p><strong>Use when:</strong></p>\n          <ul>\n            <li>Delivering critical information (disclaimers, legal)</li>\n            <li>Reading lengthy content that shouldn't be skipped</li>\n            <li>Testing in very noisy environments</li>\n          </ul>\n          <p><strong>Warning:</strong> Can frustrate users who want to jump in quickly.</p>\n        "},{title:"Response Pacing",content:"\n          <h4>First Response Delay</h4>\n          <p>Brief pause before agent starts responding:</p>\n          <ul>\n            <li><strong>0-100ms:</strong> Instant (can feel too aggressive)</li>\n            <li><strong>200-400ms:</strong> Natural (recommended)</li>\n            <li><strong>500ms+:</strong> Thoughtful (good for complex questions)</li>\n          </ul>\n          \n          <h4>Between Sentences</h4>\n          <p>Pause between sentences in agent's response:</p>\n          <ul>\n            <li><strong>100-200ms:</strong> Fast-paced</li>\n            <li><strong>300-500ms:</strong> Natural (recommended)</li>\n            <li><strong>600ms+:</strong> Emphasizes each sentence</li>\n          </ul>\n        ",tips:"Natural pauses make the agent sound more human. Too short feels rushed, too long feels slow. Test with actual content to find the right rhythm."},{title:"Advanced Settings",content:"\n          <h4>Prefix Padding</h4>\n          <p>Start playing agent's response slightly before it's fully generated:</p>\n          <ul>\n            <li>Reduces perceived latency</li>\n            <li>Makes conversation feel snappier</li>\n            <li>Risk: May start with wrong intonation if generation changes</li>\n          </ul>\n          <p><strong>Recommended:</strong> 0.3-0.5 seconds</p>\n          \n          <h4>Audio Buffering</h4>\n          <p>How much audio to buffer before starting playback:</p>\n          <ul>\n            <li><strong>Low Buffer:</strong> Faster start, risk of stuttering</li>\n            <li><strong>Medium Buffer:</strong> Balanced (recommended)</li>\n            <li><strong>High Buffer:</strong> Smooth playback, slower start</li>\n          </ul>\n        "},{title:"Testing Conversation Flow",content:"\n          <p>Test these scenarios to ensure natural conversation:</p>\n          <ol>\n            <li><strong>Natural Pauses:</strong> Does agent wait appropriately for user to finish thinking?</li>\n            <li><strong>Quick Back-and-Forth:</strong> Can users ask follow-up questions smoothly?</li>\n            <li><strong>Interruptions:</strong> Does agent stop gracefully when interrupted?</li>\n            <li><strong>Long Responses:</strong> Can users interrupt when agent is giving long answers?</li>\n            <li><strong>Silence:</strong> What happens if user doesn't respond? Does agent prompt?</li>\n            <li><strong>Background Noise:</strong> Does agent incorrectly detect speech from noise?</li>\n          </ol>\n        "},{title:"Best Practices",content:"\n          <ul>\n            <li>\u2705 <strong>Test with real users:</strong> What feels natural varies by audience</li>\n            <li>\u2705 <strong>Start conservative:</strong> Longer timeouts are better than interrupting users</li>\n            <li>\u2705 <strong>Monitor call logs:</strong> Look for patterns of interruption or delay issues</li>\n            <li>\u2705 <strong>Adjust gradually:</strong> Make small changes and test impact</li>\n            <li>\u2705 <strong>Consider use case:</strong> Customer service needs differ from sales</li>\n            <li>\u274c <strong>Don't set too aggressive:</strong> Users need time to think</li>\n            <li>\u274c <strong>Don't disable interruptions:</strong> Unless absolutely necessary</li>\n          </ul>\n        "}],nextSteps:[{text:"Test Your Voice Agent",link:"/help/test-call"},{text:"Monitor Live Calls",link:"/help/call-monitoring"},{text:"Configure Voice Settings",link:"/help/agent-voice"}],relatedArticles:["agent-voice","test-call","call-monitoring"]},"kb-overview":{title:"Knowledge Base Overview",description:"What is a knowledge base and how to use it effectively",category:"Knowledge Base",readTime:"8 min read",difficulty:"Beginner",sections:[{title:"What is a Knowledge Base?",content:"\n          <p>A Knowledge Base in AIVA is a collection of documents, web content, and information that your AI agents can search through to answer questions.</p>\n          <p>Think of it as your agent's brain - the more comprehensive and well-organized your knowledge base, the better your agent can help users.</p>\n        "},{title:"How It Works",content:"\n          <p>When you upload content to a knowledge base:</p>\n          <ol>\n            <li><strong>Content Extraction:</strong> Text, images, and tables are extracted from documents</li>\n            <li><strong>Chunking:</strong> Content is split into searchable pieces (500-1000 characters each)</li>\n            <li><strong>Embedding:</strong> Each chunk is converted to a vector representation</li>\n            <li><strong>Indexing:</strong> Vectors are stored in a searchable database</li>\n            <li><strong>Search:</strong> When agent searches, it finds most relevant chunks using semantic similarity</li>\n          </ol>\n        "},{title:"What to Include",content:"\n          <h4>Essential Content:</h4>\n          <ul>\n            <li>Product documentation and specifications</li>\n            <li>Frequently asked questions (FAQs)</li>\n            <li>Company policies (returns, shipping, privacy)</li>\n            <li>How-to guides and tutorials</li>\n            <li>Pricing information</li>\n            <li>Contact information and hours</li>\n          </ul>\n          \n          <h4>Optional Content:</h4>\n          <ul>\n            <li>Blog posts and articles</li>\n            <li>Product comparisons</li>\n            <li>Case studies and testimonials</li>\n            <li>Technical specifications</li>\n            <li>Training materials</li>\n          </ul>\n        "},{title:"Organization Tips",content:"\n          <ul>\n            <li><strong>One topic per document:</strong> Don't mix unrelated content</li>\n            <li><strong>Clear headings:</strong> Use descriptive section titles</li>\n            <li><strong>Consistent formatting:</strong> Maintain structure across documents</li>\n            <li><strong>Keep it current:</strong> Update outdated information regularly</li>\n            <li><strong>Remove duplicates:</strong> Don't upload the same info multiple times</li>\n          </ul>\n        "},{title:"Multiple Knowledge Bases",content:"\n          <p>You can create multiple knowledge bases for:</p>\n          <ul>\n            <li><strong>Different products or services</strong></li>\n            <li><strong>Different departments</strong> (Sales, Support, Technical)</li>\n            <li><strong>Different languages</strong></li>\n            <li><strong>Internal vs external</strong> information</li>\n          </ul>\n          <p>Each agent can be configured to use one or more knowledge bases.</p>\n        "}],nextSteps:[{text:"Upload Documents",link:"/help/upload-documents"},{text:"Scrape Websites",link:"/help/web-scraping"},{text:"Test Knowledge Search",link:"/help/kb-search"}],relatedArticles:["upload-documents","web-scraping","kb-search"]},"upload-documents":{title:"Uploading Documents",description:"Upload PDFs, Word docs, presentations, and more to your knowledge base",category:"Knowledge Base",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Supported File Types",content:"\n          <p>AIVA supports a wide variety of document formats:</p>\n          <ul>\n            <li><strong>PDF</strong> (.pdf) - Including scanned documents with OCR</li>\n            <li><strong>Microsoft Word</strong> (.docx) - Text, tables, images</li>\n            <li><strong>PowerPoint</strong> (.pptx) - Slides with text and images</li>\n            <li><strong>Excel</strong> (.xlsx) - Spreadsheets and data tables</li>\n            <li><strong>Text Files</strong> (.txt) - Plain text documents</li>\n            <li><strong>HTML</strong> (.html) - Web pages with formatting</li>\n            <li><strong>Markdown</strong> (.md) - Formatted text files</li>\n            <li><strong>JSON</strong> (.json) - Structured data</li>\n          </ul>\n          <p><strong>Maximum File Size:</strong> 50MB per file</p>\n        "},{title:"Upload Process",steps:[{title:"Navigate to Knowledge Base",description:'Go to "Knowledge Base" in the sidebar and select the knowledge base you want to add documents to.'},{title:"Click Documents Tab",description:'Select the "Documents" tab to see your document management interface.'},{title:"Choose Upload Tab",description:'Click the "Upload" tab to access the file upload interface.'},{title:"Select Files",description:'Drag and drop files onto the upload area, or click "Choose files" to browse your computer. You can upload multiple files at once.'},{title:"Wait for Processing",description:'Files will automatically begin processing. Status will show "Processing" and then "Completed". This typically takes 30 seconds to 2 minutes per document.'}]},{title:"What Happens During Processing",content:"\n          <p>When you upload a document, AIVA performs several operations:</p>\n          <ol>\n            <li><strong>Content Extraction:</strong>\n              <ul>\n                <li>Text is extracted from all pages</li>\n                <li>Images are extracted and processed separately</li>\n                <li>Tables are identified and preserved</li>\n                <li>Document structure is analyzed</li>\n              </ul>\n            </li>\n            <li><strong>Text Processing:</strong>\n              <ul>\n                <li>Content is split into searchable chunks</li>\n                <li>Each chunk is 500-1000 characters for optimal search</li>\n                <li>Overlap between chunks ensures context isn't lost</li>\n              </ul>\n            </li>\n            <li><strong>Embedding Generation:</strong>\n              <ul>\n                <li>OpenAI generates vector embeddings for each chunk</li>\n                <li>Embeddings enable semantic search (meaning-based, not keyword-based)</li>\n              </ul>\n            </li>\n            <li><strong>Storage:</strong>\n              <ul>\n                <li>Chunks and embeddings are stored in the database</li>\n                <li>Images are stored separately with their own embeddings</li>\n              </ul>\n            </li>\n          </ol>\n        "},{title:"Processing Statistics",content:"\n          <p>After processing completes, you'll see these statistics:</p>\n          <ul>\n            <li><strong>Total Pages:</strong> Number of pages in the document</li>\n            <li><strong>Total Chunks:</strong> Number of searchable text pieces created</li>\n            <li><strong>Extracted Images:</strong> Number of images found and extracted (PDFs only)</li>\n            <li><strong>Detected Tables:</strong> Number of data tables identified</li>\n            <li><strong>File Size:</strong> Size of the uploaded file</li>\n            <li><strong>Processing Time:</strong> How long it took to process</li>\n          </ul>\n        "},{title:"Best Practices",content:"\n          <h4>Document Preparation:</h4>\n          <ul>\n            <li>\u2705 Use clear, descriptive filenames</li>\n            <li>\u2705 Ensure text is selectable (not scanned images)</li>\n            <li>\u2705 Include proper headings and structure</li>\n            <li>\u2705 Remove unnecessary pages (covers, blank pages)</li>\n            <li>\u2705 Check for outdated information before uploading</li>\n          </ul>\n          \n          <h4>Organization:</h4>\n          <ul>\n            <li>\u2705 Group related documents in the same knowledge base</li>\n            <li>\u2705 Use consistent formatting across documents</li>\n            <li>\u2705 Break very long documents into logical sections</li>\n            <li>\u2705 Update documents when information changes</li>\n          </ul>\n          \n          <h4>What to Avoid:</h4>\n          <ul>\n            <li>\u274c Uploading duplicate documents</li>\n            <li>\u274c Including sensitive personal information</li>\n            <li>\u274c Using password-protected files</li>\n            <li>\u274c Uploading corrupted or damaged files</li>\n          </ul>\n        "},{title:"Troubleshooting Upload Issues",content:"\n          <h4>File Won't Upload:</h4>\n          <ul>\n            <li>Check file size (must be under 50MB)</li>\n            <li>Verify file format is supported</li>\n            <li>Ensure file isn't corrupted</li>\n            <li>Try a different browser</li>\n          </ul>\n          \n          <h4>Processing Stuck:</h4>\n          <ul>\n            <li>Wait 5-10 minutes (large files take time)</li>\n            <li>Refresh the page to check updated status</li>\n            <li>If still stuck after 15 minutes, contact support</li>\n          </ul>\n          \n          <h4>Processing Failed:</h4>\n          <ul>\n            <li>Check that the file isn't corrupted</li>\n            <li>Ensure it's not password-protected</li>\n            <li>Try re-uploading the file</li>\n            <li>Check error message for specific issue</li>\n          </ul>\n        "}],nextSteps:[{text:"Test Knowledge Search",link:"/help/kb-search"},{text:"Upload Images",link:"/help/image-management"},{text:"Scrape Websites",link:"/help/web-scraping"}],relatedArticles:["kb-overview","web-scraping","kb-search"]},"web-scraping":{title:"Web Scraping Guide",description:"Scrape websites and automatically import content to your knowledge base",category:"Knowledge Base",readTime:"10 min read",difficulty:"Intermediate",sections:[{title:"What is Web Scraping?",content:"<p>Web scraping allows you to automatically import content from websites into your knowledge base without manually downloading and uploading files.</p>"},{title:"Single URL Scraping",content:"<p>Import content from a single web page...</p>"},{title:"Website Crawling",content:"<p>Crawl an entire website up to a specified depth...</p>"},{title:"Sitemap Import",content:"<p>Import all pages listed in a sitemap.xml file...</p>"},{title:"Configuration Options",content:"<p>Max depth, max pages, URL filters...</p>"},{title:"Best Practices",content:"<p>Tips for effective web scraping...</p>"}],relatedArticles:["upload-documents","kb-overview"]},"image-management":{title:"Image Upload & Search",description:"Managing images and using visual search capabilities",category:"Knowledge Base",readTime:"7 min read",difficulty:"Intermediate",sections:[{title:"Image Capabilities",content:"<p>AIVA can process images using CLIP embeddings for visual search...</p>"},{title:"Uploading Images",content:"<p>How to upload standalone images to your knowledge base...</p>"},{title:"Image Metadata",content:"<p>Adding titles, descriptions, tags, and categories...</p>"},{title:"Visual Search",content:"<p>Search by image similarity or text description...</p>"},{title:"Extracted Images",content:"<p>Images automatically extracted from PDFs...</p>"}],relatedArticles:["upload-documents","kb-search"]},"kb-search":{title:"Testing Knowledge Search",description:"Test and optimize knowledge base search functionality",category:"Knowledge Base",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Using the Search Test Page",content:"<p>Access the knowledge base search testing interface...</p>"},{title:"Understanding Search Results",content:"<p>How to interpret relevance scores and sources...</p>"},{title:"Search Types",content:"<p>Text search, image search, and hybrid search explained...</p>"},{title:"Improving Search Quality",content:"<p>Tips for better search results...</p>"}],relatedArticles:["kb-overview","upload-documents","semantic-cache"]},"semantic-cache":{title:"Semantic Cache Management",description:"Understanding and managing semantic cache to reduce costs",category:"Knowledge Base",readTime:"6 min read",difficulty:"Advanced",sections:[{title:"What is Semantic Cache?",content:"<p>Semantic cache stores search results for similar queries to reduce API costs...</p>"},{title:"How It Works",content:"<p>When a user asks a similar question, cached results are returned...</p>"},{title:"Cache Statistics",content:"<p>Viewing hit rate, cost savings, and cache size...</p>"},{title:"Managing Cache",content:"<p>When and how to clear the cache...</p>"},{title:"Cost Optimization",content:"<p>Balancing cache usage with freshness...</p>"}],relatedArticles:["kb-search","kb-overview"]},"shopify-overview":{title:"Shopify Integration Overview",description:"Learn how AIVA connects with your Shopify store",category:"Shopify",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"What Can AIVA Do with Shopify?",content:"<p>AI-powered product recommendations, inventory awareness, and customer support...</p>"},{title:"How It Works",content:"<p>Products are synced to a knowledge base for AI search...</p>"},{title:"Use Cases",content:"<p>Shopping assistants, product finders, inventory inquiries...</p>"}],relatedArticles:["connect-shopify","product-sync","product-recommendations"]},"connect-shopify":{title:"Connecting Your Shopify Store",description:"Step-by-step guide to connect Shopify to AIVA",category:"Shopify",readTime:"12 min read",difficulty:"Intermediate",sections:[{title:"Prerequisites",content:"<p>What you need before connecting...</p>"},{title:"Getting API Credentials",content:"<p>Creating a custom app in Shopify admin...</p>"},{title:"Connecting in AIVA",content:"<p>Enter credentials and test connection...</p>"},{title:"Sync Configuration",content:"<p>Auto-sync settings and frequency...</p>"}],relatedArticles:["shopify-overview","product-sync"]},"product-sync":{title:"Product Synchronization",description:"Understanding product sync jobs and monitoring",category:"Shopify",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Sync Types",content:"<p>Manual sync vs automatic sync...</p>"},{title:"What Gets Synced",content:"<p>Products, variants, images, prices, inventory...</p>"},{title:"Monitoring Sync Jobs",content:"<p>Viewing sync status and statistics...</p>"},{title:"Troubleshooting",content:"<p>Common sync issues and solutions...</p>"}],relatedArticles:["connect-shopify","product-recommendations"]},"product-recommendations":{title:"AI Product Recommendations",description:"How agents recommend products from your Shopify store",category:"Shopify",readTime:"7 min read",difficulty:"Intermediate",sections:[{title:"How AI Recommends Products",content:"<p>Semantic search matches customer needs to products...</p>"},{title:"Configuring Product Search",content:"<p>Enable and configure in agent settings...</p>"},{title:"Agent Instructions for Products",content:"<p>How to prompt agents to recommend effectively...</p>"},{title:"Testing Recommendations",content:"<p>Ensure AI recommends appropriate products...</p>"}],relatedArticles:["connect-shopify","product-sync"]},"chat-overview":{title:"Chat Integration Overview",description:"Understanding chat widgets and standalone chat pages",category:"Chat Integration",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Chat Options",content:"<p>Widget vs standalone page comparison...</p>"},{title:"Features",content:"<p>Rich content, image display, product cards, sources...</p>"},{title:"Use Cases",content:"<p>Customer support, sales, shopping assistance...</p>"}],relatedArticles:["chat-widget","chat-page"]},"chat-widget":{title:"Installing Chat Widget",description:"Add AIVA chat widget to your website",category:"Chat Integration",readTime:"10 min read",difficulty:"Intermediate",sections:[{title:"Enable Chat Integration",content:"<p>Toggle on and configure colors/position...</p>"},{title:"Get Embed Code",content:"<p>Copy the JavaScript code snippet...</p>"},{title:"Installation Methods",content:"<p>Direct HTML, WordPress, Shopify, Google Tag Manager...</p>"},{title:"Testing Your Widget",content:"<p>Verify widget loads and functions correctly...</p>"}],relatedArticles:["chat-overview","chat-customization"]},"chat-page":{title:"Standalone Chat Page",description:"Create a public chat page with custom URL",category:"Chat Integration",readTime:"6 min read",difficulty:"Beginner",sections:[{title:"Enabling Public Chat Page",content:"<p>Toggle on and configure slug...</p>"},{title:"Custom URL Slug",content:"<p>Choose a memorable URL for your chat page...</p>"},{title:"Sharing Your Chat Page",content:"<p>Public link, QR codes, embedding...</p>"},{title:"Chat Page Features",content:"<p>Full-screen interface, rich content support...</p>"}],relatedArticles:["chat-overview","chat-widget"]},"chat-customization":{title:"Customizing Chat Interface",description:"Customize colors, branding, and appearance",category:"Chat Integration",readTime:"7 min read",difficulty:"Intermediate",sections:[{title:"Color Customization",content:"<p>Primary color, button colors, header...</p>"},{title:"Position Options",content:"<p>Bottom-right, bottom-left placement...</p>"},{title:"Button Text",content:"<p>Customize the chat button label...</p>"},{title:"Greeting Message",content:"<p>First message users see...</p>"}],relatedArticles:["chat-widget","chat-page"]},"voice-overview":{title:"Voice Calls Overview",description:"Understanding voice agent capabilities",category:"Voice Calls",readTime:"6 min read",difficulty:"Beginner",sections:[{title:"How Voice Works",content:"<p>Asterisk PBX + OpenAI Realtime API...</p>"},{title:"Voice Agent Capabilities",content:"<p>Natural conversation, knowledge access, product search...</p>"},{title:"Use Cases",content:"<p>Customer support lines, appointment booking, FAQs...</p>"}],relatedArticles:["test-call","call-monitoring"]},"test-call":{title:"Making Test Calls",description:"Use the test call feature to verify voice agents",category:"Voice Calls",readTime:"5 min read",difficulty:"Beginner",sections:[{title:"Accessing Test Call",content:"<p>Navigate to test call page and select agent...</p>"},{title:"Starting a Test Call",content:"<p>Click start and speak naturally...</p>"},{title:"Reviewing Results",content:"<p>Check transcript and agent responses...</p>"},{title:"Common Test Scenarios",content:"<p>What to test before going live...</p>"}],relatedArticles:["agent-testing","voice-overview"]},"call-monitoring":{title:"Call Monitoring & Logs",description:"Monitor live calls and review call history",category:"Voice Calls",readTime:"8 min read",difficulty:"Intermediate",sections:[{title:"Live Monitor",content:"<p>Watch active calls in real-time...</p>"},{title:"Call Logs",content:"<p>Review past call transcripts and details...</p>"},{title:"Call Analytics",content:"<p>Duration, cost, success rate metrics...</p>"},{title:"Filtering and Search",content:"<p>Find specific calls by date, agent, duration...</p>"}],relatedArticles:["test-call","voice-overview"]},"create-users":{title:"Creating & Managing Users",description:"Add team members and manage their access",category:"User Management",readTime:"7 min read",difficulty:"Beginner",sections:[{title:"Creating New Users",content:"<p>Navigate to Users page and click Create User...</p>"},{title:"Required Information",content:"<p>Name, email, password, role assignment...</p>"},{title:"Editing Users",content:"<p>Update user details and permissions...</p>"},{title:"Deactivating Users",content:"<p>Disable access without deleting...</p>"}],relatedArticles:["user-roles","user-permissions"]},"user-permissions":{title:"User Permissions",description:"Understanding permission levels and capabilities",category:"User Management",readTime:"6 min read",difficulty:"Intermediate",sections:[{title:"Permission System",content:"<p>How role-based access control works...</p>"},{title:"Role Capabilities",content:"<p>Detailed breakdown of what each role can do...</p>"},{title:"Best Practices",content:"<p>Assigning appropriate roles to team members...</p>"}],relatedArticles:["user-roles","create-users"]},"account-settings":{title:"Account Settings",description:"Manage your profile and preferences",category:"Settings",readTime:"4 min read",difficulty:"Beginner",sections:[{title:"Profile Management",content:"<p>Update name, email, password...</p>"},{title:"Notification Preferences",content:"<p>Email alerts and notifications...</p>"},{title:"Security",content:"<p>Password requirements and two-factor authentication...</p>"}],relatedArticles:["user-roles"]},"api-keys":{title:"API Keys Management",description:"Generate and manage API keys for integrations",category:"Settings",readTime:"8 min read",difficulty:"Advanced",sections:[{title:"What are API Keys?",content:"<p>Authentication for programmatic access...</p>"},{title:"Generating API Keys",content:"<p>Create new keys for applications...</p>"},{title:"Key Security",content:"<p>Best practices for storing and rotating keys...</p>"},{title:"Using API Keys",content:"<p>Authentication header format and examples...</p>"}],relatedArticles:["account-settings"]},"credits-billing":{title:"Credits & Billing",description:"Manage credits, track usage, and understand costs",category:"Settings",readTime:"10 min read",difficulty:"Beginner",sections:[{title:"Understanding Credits",content:"<p>How credits work and what they cover...</p>"},{title:"Viewing Credit Balance",content:"<p>Check remaining credits...</p>"},{title:"Adding Credits",content:"<p>Purchase additional credits...</p>"},{title:"Usage Tracking",content:"<p>Monitor costs by agent, knowledge base, operation...</p>"},{title:"Cost Breakdown",content:"<p>Understanding charges for different operations...</p>"}],relatedArticles:["account-settings"]}},rl=()=>{var e;const{articleId:t}=se(),n=(te(),sl[t]);return(0,a.useEffect)(()=>{window.scrollTo(0,0)},[t]),n?(0,Rr.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Rr.jsx)("nav",{className:"mb-6",children:(0,Rr.jsxs)(Me,{to:"/help",className:"inline-flex items-center text-primary-600 hover:text-primary-700",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-2"}),"Back to Help Center"]})}),(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-6",children:[(0,Rr.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-8 text-white",children:(0,Rr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Rr.jsxs)("div",{className:"flex-1",children:[n.category&&(0,Rr.jsx)("div",{className:"mb-3",children:(0,Rr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-white bg-opacity-20 text-white",children:n.category})}),(0,Rr.jsx)("h1",{className:"text-3xl font-bold mb-3",children:n.title}),(0,Rr.jsx)("p",{className:"text-primary-100 text-lg",children:n.description}),(0,Rr.jsxs)("div",{className:"flex items-center mt-4 space-x-4 text-sm text-primary-100",children:[n.readTime&&(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)(ja,{className:"w-4 h-4 mr-1"}),n.readTime]}),n.difficulty&&(0,Rr.jsxs)("div",{className:"flex items-center",children:[(0,Rr.jsx)(Ti,{className:"w-4 h-4 mr-1"}),n.difficulty]})]})]}),(0,Rr.jsx)(Ea,{className:"w-12 h-12 text-primary-200 flex-shrink-0 ml-6"})]})}),n.videoUrl&&(0,Rr.jsxs)("div",{className:"p-6 bg-gray-50 border-b",children:[(0,Rr.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Rr.jsx)(tl,{className:"w-5 h-5 text-primary-600 mr-2"}),(0,Rr.jsx)("h3",{className:"font-semibold text-gray-900",children:"Video Tutorial"})]}),(0,Rr.jsx)("div",{className:"aspect-video bg-gray-900 rounded-lg overflow-hidden",children:(0,Rr.jsx)("iframe",{src:n.videoUrl,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]}),n.sections&&n.sections.length>0&&(0,Rr.jsxs)("div",{className:"p-6 bg-blue-50 border-b",children:[(0,Rr.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"In This Article"}),(0,Rr.jsx)("nav",{className:"space-y-2",children:n.sections.map((e,t)=>(0,Rr.jsxs)("a",{href:"#section-".concat(t),className:"block text-primary-600 hover:text-primary-700 text-sm",children:[t+1,". ",e.title]},t))})]}),(0,Rr.jsx)("div",{className:"p-8",children:(0,Rr.jsxs)("div",{className:"prose prose-primary max-w-none",children:[null===(e=n.sections)||void 0===e?void 0:e.map((e,t)=>(0,Rr.jsxs)("div",{id:"section-".concat(t),className:"mb-8",children:[(0,Rr.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:e.title}),(0,Rr.jsx)("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:e.content}}),e.steps&&(0,Rr.jsx)("div",{className:"mt-6 space-y-4",children:e.steps.map((e,t)=>(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-primary-600 text-white rounded-full flex items-center justify-center font-semibold mr-4",children:t+1}),(0,Rr.jsxs)("div",{className:"flex-1",children:[(0,Rr.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.title}),(0,Rr.jsx)("p",{className:"text-gray-600",children:e.description}),e.image&&(0,Rr.jsx)("img",{src:e.image,alt:e.title,className:"mt-3 rounded-lg border shadow-sm"})]})]},t))}),e.code&&(0,Rr.jsx)("div",{className:"mt-4",children:(0,Rr.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto",children:(0,Rr.jsx)("code",{children:e.code})})}),e.tips&&(0,Rr.jsx)("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r-lg",children:(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)(aa,{className:"w-5 h-5 text-blue-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h5",{className:"font-medium text-blue-900 mb-2",children:"\ud83d\udca1 Tip"}),(0,Rr.jsx)("p",{className:"text-blue-800",children:e.tips})]})]})}),e.warning&&(0,Rr.jsx)("div",{className:"mt-6 bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded-r-lg",children:(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)(Za,{className:"w-5 h-5 text-yellow-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h5",{className:"font-medium text-yellow-900 mb-2",children:"\u26a0\ufe0f Warning"}),(0,Rr.jsx)("p",{className:"text-yellow-800",children:e.warning})]})]})})]},t)),n.nextSteps&&(0,Rr.jsx)("div",{className:"mt-8 p-6 bg-green-50 rounded-lg border border-green-200",children:(0,Rr.jsxs)("div",{className:"flex items-start",children:[(0,Rr.jsx)(ia,{className:"w-6 h-6 text-green-600 mr-3 flex-shrink-0 mt-0.5"}),(0,Rr.jsxs)("div",{children:[(0,Rr.jsx)("h3",{className:"text-lg font-semibold text-green-900 mb-3",children:"\ud83c\udf89 Next Steps"}),(0,Rr.jsx)("ul",{className:"space-y-2",children:n.nextSteps.map((e,t)=>(0,Rr.jsxs)("li",{className:"flex items-start",children:[(0,Rr.jsx)("span",{className:"text-green-600 mr-2",children:"\u2192"}),e.link?(0,Rr.jsx)(Me,{to:e.link,className:"text-green-700 hover:text-green-800 font-medium",children:e.text}):(0,Rr.jsx)("span",{className:"text-green-800",children:e.text})]},t))})]})]})})]})}),n.relatedArticles&&n.relatedArticles.length>0&&(0,Rr.jsxs)("div",{className:"p-6 bg-gray-50 border-t",children:[(0,Rr.jsx)("h3",{className:"font-semibold text-gray-900 mb-4",children:"Related Articles"}),(0,Rr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.relatedArticles.map(e=>{const t=sl[e];return t?(0,Rr.jsxs)(Me,{to:"/help/".concat(e),className:"p-4 bg-white rounded-lg border hover:border-primary-500 hover:shadow transition-all",children:[(0,Rr.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:t.title}),(0,Rr.jsx)("p",{className:"text-sm text-gray-600",children:t.description})]},e):null})})]}),(0,Rr.jsx)("div",{className:"p-6 bg-gray-100 border-t",children:(0,Rr.jsxs)("div",{className:"text-center",children:[(0,Rr.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Was this article helpful?"}),(0,Rr.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Rr.jsx)("button",{className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"\ud83d\udc4d Yes"}),(0,Rr.jsx)("button",{className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"\ud83d\udc4e No"})]}),(0,Rr.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"Your feedback helps us improve our documentation"})]})})]})]}):(0,Rr.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Rr.jsxs)("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[(0,Rr.jsx)(Za,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Rr.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Article Not Found"}),(0,Rr.jsx)("p",{className:"text-gray-600 mb-6",children:"The help article you're looking for doesn't exist."}),(0,Rr.jsxs)(Me,{to:"/help",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[(0,Rr.jsx)(Xa,{className:"w-4 h-4 mr-2"}),"Back to Help Center"]})]})})},al=e=>{let{children:t}=e;const{user:n,loading:s}=Lr(),r=$();return s?(0,Rr.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Rr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):n?t:(0,Rr.jsx)(ye,{to:"/login",replace:!0,state:{from:r}})};const il=function(){return(0,Rr.jsx)(Dr,{children:(0,Rr.jsxs)(Pe,{basename:"/aiva",children:[(0,Rr.jsxs)(we,{children:[(0,Rr.jsx)(be,{path:"/login",element:(0,Rr.jsx)(zr,{})}),(0,Rr.jsx)(be,{path:"/chat/:agentId",element:(0,Rr.jsx)($i,{})}),(0,Rr.jsxs)(be,{path:"/",element:(0,Rr.jsx)(al,{children:(0,Rr.jsx)(Ha,{})}),children:[(0,Rr.jsx)(be,{index:!0,element:(0,Rr.jsx)(Qr,{})}),(0,Rr.jsx)(be,{path:"monitor",element:(0,Rr.jsx)(Na,{})}),(0,Rr.jsx)(be,{path:"agents",element:(0,Rr.jsx)(na,{})}),(0,Rr.jsx)(be,{path:"agents/test",element:(0,Rr.jsx)(_a,{})}),(0,Rr.jsx)(be,{path:"agents/new",element:(0,Rr.jsx)(xa,{})}),(0,Rr.jsx)(be,{path:"agents/:id",element:(0,Rr.jsx)(xa,{})}),(0,Rr.jsx)(be,{path:"agents/:id/chat-integration",element:(0,Rr.jsx)(Xi,{})}),(0,Rr.jsx)(be,{path:"/agents/:id/conversation-strategy",element:(0,Rr.jsx)(Gi,{})}),(0,Rr.jsx)(be,{path:"credits",element:(0,Rr.jsx)(fa,{})}),(0,Rr.jsx)(be,{path:"calls",element:(0,Rr.jsx)(ya,{})}),(0,Rr.jsx)(be,{path:"/test",element:(0,Rr.jsx)(_a,{})}),(0,Rr.jsx)(be,{path:"agent-test",element:(0,Rr.jsx)(Da,{})}),(0,Rr.jsx)(be,{path:"knowledge",element:(0,Rr.jsx)(Ya,{})}),(0,Rr.jsx)(be,{path:"knowledge/new",element:(0,Rr.jsx)($a,{})}),(0,Rr.jsx)(be,{path:"knowledge/:id/edit",element:(0,Rr.jsx)($a,{})}),(0,Rr.jsx)(be,{path:"knowledge/:id/documents",element:(0,Rr.jsx)(ui,{})}),(0,Rr.jsx)(be,{path:"knowledge/:id/search",element:(0,Rr.jsx)(mi,{})}),(0,Rr.jsx)(be,{path:"knowledge/:id/stats",element:(0,Rr.jsx)(hi,{})}),(0,Rr.jsx)(be,{path:"knowledge/:id/chat",element:(0,Rr.jsx)(xi,{})}),(0,Rr.jsx)(be,{path:"help",element:(0,Rr.jsx)(nl,{})}),(0,Rr.jsx)(be,{path:"help/:articleId",element:(0,Rr.jsx)(rl,{})}),(0,Rr.jsx)(be,{path:"shopify",element:(0,Rr.jsx)(Si,{})}),(0,Rr.jsx)(be,{path:"shopify/connect",element:(0,Rr.jsx)(_i,{})}),(0,Rr.jsx)(be,{path:"shopify/stores/:storeId",element:(0,Rr.jsx)(Ui,{})}),(0,Rr.jsx)(be,{path:"shopify/products",element:(0,Rr.jsx)(Di,{})}),(0,Rr.jsx)(be,{path:"/shopify/products/:id",element:(0,Rr.jsx)(Bi,{})}),(0,Rr.jsx)(be,{path:"users",element:(0,Rr.jsx)(Yi,{})})]})]}),(0,Rr.jsx)(sn,{position:"top-right"})]})})};l.createRoot(document.getElementById("root")).render((0,Rr.jsx)(a.StrictMode,{children:(0,Rr.jsx)(il,{})}))})();
//# sourceMappingURL=main.aa97b2ca.js.map